;/*FB_PKG_DELIM*/

__d("EARInitType",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["EB_INIT","LS_INIT","MAW_INIT","MAW_RP_INIT"]);c=a;f["default"]=c}),66);
__d("EBSMGating",["MAWWaitForBackendSetup","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(){return c("gkx")("24151")}function a(){return d("MAWWaitForBackendSetup").isBackendSetupSuccessful()||h()}g.isPersistedEBTableEnabled=h;g.isBackendSetupSuccessfulForEBSM=a}),98);
__d("EBSMProperties",[],(function(a,b,c,d,e,f){"use strict";a=["encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state","occamadillo_most_recent_message_per_thread","auto_restore_opt_out"];b=new Set(["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"]);c={dbVersion:5,mandatoryTables:b,persistedTables:new Set(a),persistedTablesArray:a};d=c;f["default"]=d}),66);
__d("IndexedDbPolyfills",[],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(){this.$1=new Map()}var b=a.prototype;b.emit=function(a){var b=this.$1.get(a);for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];if(b!==void 0)for(var f=b,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}var j=i;j.apply(void 0,d)}var k=this["on"+a];k!=null&&k.apply(void 0,d)};b.addEventListener=function(a,b,c){var d=this;c===void 0&&(c={});c=c;c=c.signal;var e=this.$1.get(a);e===void 0&&(e=new Set(),this.$1.set(a,e));e.add(b);c!=null&&(c.onabort=function(){d.removeEventListener(a,b)})};b.removeEventListener=function(a,b){a=this.$1.get(a);if(a===void 0)return;a["delete"](b)};return a}();a=function(){return function(a,b){a=this.openCursor((a=a)!=null?a:null);var c=[],d=new g();a.onsuccess=function(a){a=a.target.result;if(a!=null&&(b===void 0||c.length<b))c.push(a.value),a["continue"]();else{d.result=c;d.onsuccess==null?void 0:d.onsuccess({target:{readyState:"done",result:c}});return}};a.onerror=function(a){d.onerror==null?void 0:d.onerror(a)};return d}};b=typeof window!=="undefined"?window:self;typeof b.IDBObjectStore!=="undefined"&&b.IDBObjectStore.prototype.getAll===void 0&&(b.IDBObjectStore.prototype.getAll=a());f.IDBRequest=g;f.getAll=a}),66);
__d("IntervalList",["FBLogger","ReQLBounds","ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){if(a==null)throw c("FBLogger")("messenger_web_product").mustfixThrow("must not be null");return a}function a(a,b){var c=new Map(),e=new Map(),f=new Map();function g(b,c){return c==null?!0:(c.gt!==void 0?a(b,c.gt)>0:c.gte!==void 0?a(b,c.gte)>=0:!0)&&(c.lt!==void 0?a(b,c.lt)<0:c.lte!==void 0?a(b,c.lte)<=0:!0)}function* k(a){var f=0;while(f<a.length&&e.size){f++;var i=a.slice(0,f);f<b&&i.push((h||(h=d("ReStoreKeyComparer"))).MAX_KEY);i=e.get(JSON.stringify(i));if(i!=null)for(i of i)yield i}for(i of c.entries()){f=i[0];var j=i[1];c.has(f)&&g(a,j)&&(yield f)}}function l(a){var b=f.get(a);if(b!=null){f["delete"](a);var d=j(e.get(b));d["delete"](a);d.size===0&&e["delete"](b)}else c["delete"](a)}function m(a,g){var h;if(a&&a.gte!=null&&a.lte!=null&&(h=JSON.stringify((i||(i=d("ReQLBounds"))).nextKey(a.gte,b)))===JSON.stringify(a.lte)){var j=e.get(h);j==null&&(j=new Set(),e.set(h,j));j.add(g);f.set(g,h)}else c.set(g,a)}return{"delete":l,findIntersecting:k,set:m}}g["default"]=a}),98);
__d("LSPlatformErrorChannel",["FBLogger","ODS","XPlatReactEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";var h,i="onLSError",j=new(c("XPlatReactEventEmitter"))(),k=0,l=null;function a(a){l===null&&((h||(h=d("ODS"))).bumpEntityKey(3185,"lsplatform_error","first_error_emitted_to_"+k+"listeners"),k===0&&c("FBLogger")("messenger_web_product").mustfix("No listeners when emitting LS error %s",a.name)),l=a,j.emit(i,a)}function b(a){var b=j.addListener(i,a);k++;return function(){return b.remove()}}function e(){return l}function f(){j.removeAllListeners(i),l=null}f={TEST_ONLY_clear:f,emit:a,lastError:e,subscribe:b};g["default"]=f}),98);
__d("LSTransactionLogger",["cr:8879"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:8879")}),98);
__d("LSReStoreQplLogger",["LSTransactionLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{startTracking:function(b,d){var e=c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").startTracking(b,a,d);return{addAnnotations:function(b){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").addAnnotations(a,e,b)},end:function(){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").end(a,e)},fail:function(b){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").fail(a,e,b)},mark:function(b){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").mark(a,e,b)},recordLogicalWrite:function(){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").recordLogicalWrite(e)}}}}}g.createQplLogger=a}),98);
__d("ReStoreCustomMigration",["ReStoreMigrateUtil","ReStorePersistedMetadata","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c,e=b.storeTx;b=b.transaction;if(a==null)return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED;var f=new(d("ReStorePersistedMetadata").ReStorePersistedCustomMigrationVersion)();c=(c=(yield f.read(e)))==null?void 0:c.customMigrationVersion;if(a.targetVersion===c)return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED;yield a.migration((c=c)!=null?c:0,b);f.write(e,{customMigrationVersion:a.targetVersion});return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE});return h.apply(this,arguments)}g.runCustomMigration=a}),98);
__d("ReStoreHooks",["PromiseOrValue"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return{afterAdd:a.reduce(function(a,b){var c=b.onAfterAdd;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a}),afterEntriesNext:a.reduce(function(a,b){var c=b.onAfterEntriesNext;return c?function(b){return c({tableName:b.tableName,value:a(b)})}:a},function(a){a=a.value;return a}),afterGet:a.reduce(function(a,b){var c=b.onAfterGet;return c?function(b){return c({tableName:b.tableName,value:a(b)})}:a},function(a){a=a.value;return a}),afterPut:a.reduce(function(a,b){var c=b.onAfterPut;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a}),beforeAdd:a.reduce(function(a,b){var c=b.onBeforeAdd;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a}),beforeDelete:a.reduce(function(a,b){var c=b.onBeforeDelete;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.key;return a}),beforeNotify:a.reduce(function(a,b){var c=b.onBeforeNotify;return c?function(b){var d=a(b),e=d.newValue;d=d.prevValue;return c({newValue:e,prevValue:d,tableName:b.tableName})}:a},function(a){var b=a.newValue;a=a.prevValue;return{newValue:b,prevValue:a}}),beforePut:a.reduce(function(a,b){var c=b.onBeforePut;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a}),beforeUpsert:a.reduce(function(a,b){var c=b.onBeforeUpsert;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a})}}g.createHookManager=a}),98);
__d("ReStoreIndexeddbPersistenceInitFailure",[],(function(a,b,c,d,e,f){"use strict";var g="ReStoreIndexeddbPersistenceInitFailure";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.message=b;c.name=g;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_NAME=g;f.ReStoreIndexeddbPersistenceInitFailure=a}),66);
__d("ReStorePersistence",["FBLogger","ReStoreKeyComparer","ReStorePersistenceIds","ReStoreUtils","gkx","isPromise","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={},k={gt:[!1,0],gte:[!0,0],lt:[!0,1],lte:[!1,1]},l=new Set(["encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state","occamadillo_most_recent_message_per_thread"]),m=16,n=64,o=64,p=Math.floor(m/2),q=Math.floor(n/2),r=Math.floor(o/2);function s(b){if(b==null)return b;var c=Object.getOwnPropertyNames(b),a={},d,e;for(d=0;d<c.length;d++)e=b[c[d]],a[c[d]]=e;return a}function t(a,b){b===void 0&&(b=j);return a===b}function u(a,b,c){var e=0,f=a.length-1;while(e<=f){var g=e+f>>1;(c[0]?(i||(i=d("ReStoreKeyComparer"))).compareKey(a[g],b)<0:(i||(i=d("ReStoreKeyComparer"))).compareKey(a[g],b)<=0)?e=g+1:f=g-1}g=[e,f][c[1]];return g===a.length?-1:g}var v=function(){function a(a,b,c,d,e,f){this.$2=b,this.$3=c,this.$1=a,this.$4=d,this.$5=e,this.$6=f}var b=a.prototype;b.$7=function(a){return a==null?"root":"index("+a+")"};b.$8=function(a,b){return d("ReStoreUtils").getOrCreate(this.$1,b,function(){return{children:[].concat(a.children),isLeaf:!0,keys:[].concat(a.keys),nextId:a.nextId,prevId:a.prevId}})};b.$9=function(a,b){return d("ReStoreUtils").getOrCreate(this.$1,b,function(){return{children:[].concat(a.children),isLeaf:!1,keys:[].concat(a.keys)}})};b.$10=function(a,b){return d("ReStoreUtils").getOrCreate(this.$1,b,function(){return{headId:a.headId,rootId:a.rootId,tailId:a.tailId}})};b.$11=function(a,b){if(!a.length)return[0,0];var c=u(a,b,k.gte);if(c===-1)return[a.length,0];else if((i||(i=d("ReStoreKeyComparer"))).compareKey(a[c],b)===0)return[c,1];return[c,0]};b.$12=function*(a,b,c,d){var e=(yield* this.$13(a,b));e=e;b=b;var f=-1;while(!e.isLeaf)d==null?void 0:d.push([e,b,f]),f=u(e.keys,c,k.gt),f===-1&&(f=e.keys.length),b=e.children[f],e=(yield* this.$13(a,b));return[e,b,f]};b.$14=function*(a,b){this.$3();var d=this.$1.get(b);if(t(d))return void 0;if(d!==void 0)return d;d=this.$4.get(a,this.$2,b,this.$5);return(h||(h=c("isPromise")))(d)?yield d:d};b.$13=function*(a,b){a=(yield* this.$14(a,b));if(a===void 0){var d=this.$1.get(b);this.$4.logError==null?void 0:this.$4.logError(this.$2,this.$5,"dbCorruption",{deletedInThisTxn:t(d)?"true":"false",id:JSON.stringify(b)||""});throw c("unrecoverableViolation")("value not found","messenger_web_product")}return a};b.$15=function*(a,b){a=(a=(yield* this.$14(a,d("ReStorePersistenceIds").idForNextId)))!=null?a:0;this.$1.set("nextId",a+1);this.$1.set(a,b);return a};b.$16=function(a,b){this.$3(),this.$1.set(a,b)};b.incrementSeed=function*(a,b){a=(a=(yield* this.$14(a,"seed")))!=null?a:0;if(b===void 0){this.$1.set("seed",a+1);return a}b>=a&&this.$1.set("seed",b+1);return b};b.readData=function*(a,b){return yield* this.$14(a,b)};b.$17=function*(a,b,c){b=(yield* this.$14(a,this.$7(b)));if(b==null)return;a=(yield* this.$12(a,b.rootId,c));b=a[0];a=u(b.keys,c,k.gte);if(a===-1||(i||(i=d("ReStoreKeyComparer"))).compareKey(b.keys[a],c)!==0)return;return b.children[a]};b.tableGet=function*(a,b){b=(yield* this.$17(a,void 0,b));if(b===void 0)return;return yield* this.$18(a,b)};b.$18=function*(a,b){return Array.isArray(b)?b[0]:yield* this.$13(a,b)};b.$19=function*(a,b,d,e){if(Array.isArray(b)){var f=(yield* this.$17(a,void 0,b));if(f==null){c("gkx")("3570")&&this.$6(d,e,this.$2);throw c("FBLogger")("messenger_web_product").mustfixThrow("Encountered value in index %s but not found in table %s",d,this.$2)}return yield* this.$18(a,f)}return yield* this.$13(a,b)};b.indexGet=function*(a,b,c){var d=(yield* this.$17(a,b,c));if(d==null)return;return yield* this.$19(a,d,b,c)};b.getId=function*(a,b){a=(yield* this.$17(a,void 0,b));return Array.isArray(a)?b:a};b.tableSet=function*(a,b,c){var d,e=this.$4.shouldInline(this.$2,c),f=this.$7(),g=(yield* this.$14(a,f));if(g==null){var h;e||(d=(yield* this.$15(a,c)));h={children:[(h=d)!=null?h:[c]],isLeaf:!0,keys:[b]};h=(yield* this.$15(a,h));this.$16(f,{headId:h,rootId:h,tailId:h});return[(h=d)!=null?h:b,!1]}h=[];var i=(yield* this.$12(a,g.rootId,b,h)),k=i[0];i=i[1];var l=this.$11(k.keys,b),m=l[0];l=l[1];var n=!1;if(l===1){var o=k.children[m];if(!Array.isArray(o)){n=!0;if(!e){this.$16(o,c);return[o,!1]}else this.$1.set(o,j)}}o=this.$8(k,i);e||(d=(yield* this.$15(a,c)));l===0&&o.keys.splice(m,0,b);o.children.splice(m,l,(k=d)!=null?k:[c]);yield* this.$20(a,o,i,h,g,f,!0);return[(m=d)!=null?m:b,l===1&&!(e&&!n)]};b.indexSet=function*(a,b,c,d){b=this.$7(b);var e=(yield* this.$14(a,b));if(e==null){var f={children:[d],isLeaf:!0,keys:[c]};f=(yield* this.$15(a,f));this.$16(b,{headId:f,rootId:f,tailId:f});return}f=[];var g=(yield* this.$12(a,e.rootId,c,f)),h=g[0];g=g[1];var i=this.$11(h.keys,c),j=i[0];i=i[1];if(i===1&&h.children[j]===d)return;h=this.$8(h,g);h.keys.splice(j,i,c);h.children.splice(j,i,d);yield* this.$20(a,h,g,f,e,b,!1)};b.$20=function*(a,b,c,d,e,f,g){b=b;var h;c=c;for(;b.keys.length>=(b.isLeaf?g?m:n:o);b=h,c=i){var i;i=(i=d.pop())!=null?i:[];h=i[0];i=i[1];i!=null?h=this.$9(h,i):(h={children:[c],isLeaf:!1,keys:[]},this.$10(e,f).rootId=(yield* this.$15(a,h)));var j=Math.floor(b.keys.length/2),k=void 0;if(b.isLeaf){var l={children:b.children.slice(j),isLeaf:!0,keys:b.keys.slice(j),nextId:b.nextId,prevId:c},p=k=b.nextId=(yield* this.$15(a,l));l=l.nextId;l?this.$8(yield* this.$13(a,l),l).prevId=p:this.$10(e,f).tailId=k}else k=(yield* this.$15(a,{children:b.children.slice(j+1),isLeaf:!1,keys:b.keys.slice(j+1)}));l=this.$11(h.keys,b.keys[j]);p=l[0];l=l[1];h.keys.splice(p,l,b.keys[j]);h.children.splice(p+1,0,k);b.keys.length=j;b.children.length=j+(b.isLeaf?0:1)}};b.tableDelete=function*(a,b){a=(yield* this.$21(a,void 0,b));if(a==null)return!1;Array.isArray(a)||(this.$3(),this.$1.set(a,j));return!0};b.indexDelete=function*(a,b,c){return(yield* this.$21(a,b,c))!=null};b.$21=function*(a,b,e){var f=this.$7(b),g=(yield* this.$14(a,f));if(g==null)return;var h=[],m=(yield* this.$12(a,g.rootId,e,h)),n=m[0],o=m[1];m=m[2];var s=this.$8(n,o),t=u(n.keys,e,k.gte);if(t===-1||(i||(i=d("ReStoreKeyComparer"))).compareKey(n.keys[t],e)!==0)return;n=s.children[t];s.keys.splice(t,1);s.children.splice(t,1);e=s;t=o;s=m;var v;for(;e.keys.length<(e.isLeaf?b==null?p:q:r)&&h.length;x=[m,v,o],e=x[0],t=x[1],s=x[2],x){o=h.pop();m=o[0];v=o[1];o=o[2];m=this.$9(m,v);var w=[[{nodeId:m.children[s-1]},{node:e,nodeId:t},s-1],[{node:e,nodeId:t},{nodeId:m.children[s+1]},s]].filter(function(b){var a=b[0];b=b[1];return a.nodeId!==void 0&&b.nodeId!==void 0});for(var x of w){var y=x[0],z=x[1],A=x[2],B=y.node=y.node||(yield* this.$13(a,y.nodeId)),C=z.node=z.node||(yield* this.$13(a,z.nodeId)),D=e.isLeaf?b==null?p:q:r;if(B.keys.length+z.node.keys.length>=D*2){if(e.isLeaf){var E=this.$8(B,y.nodeId),F=this.$8(C,z.nodeId),G=[].concat(E.children,F.children),H=[].concat(B.keys,C.keys);E.children=(F.children=G).splice(0,D);E.keys=(F.keys=H).splice(0,D);m.keys[A]=H[0]}else{G=this.$9(B,y.nodeId);E=this.$9(C,z.nodeId);F=[].concat(G.children,E.children);H=[].concat(G.keys,[m.keys[A]],E.keys);G.children=(E.children=F).splice(0,D+1);m.keys[A]=H.splice(D,1)[0];G.keys=(E.keys=H).splice(0,D)}return n}}for(B of w){y=B[0];C=B[1];z=B[2];if(e.isLeaf){F=this.$8(y.node,y.nodeId);A=this.$8(C.node,C.nodeId);F.children=[].concat(F.children,A.children);F.keys=[].concat(F.keys,A.keys);A.keys.length=0;G=A.nextId;if(G){E=this.$8(yield* this.$13(a,G),G);E.prevId=y.nodeId}else this.$10(g,f).tailId=y.nodeId;F.nextId=A.nextId}else{H=this.$9(y.node,y.nodeId);D=this.$9(C.node,C.nodeId);H.children=[].concat(H.children,D.children);H.keys=[].concat(H.keys,[m.keys[z]],D.keys)}m.keys.splice(z,1);m.children.splice(z+1,1);this.$1.set(C.nodeId,j);break}}w=(yield* this.$13(a,g.rootId));if(!w.keys.length&&w.children.length){if(w.isLeaf){l.has(this.$2)&&(this.$4.logError==null?void 0:this.$4.logError(this.$2,this.$5,"dbCorruption",{}));throw c("unrecoverableViolation")("cannot be leaf","messenger_web_product")}this.$1.set(g.rootId,j);this.$10(g,f).rootId=w.children[0]}return n};b.btreeIterator=function(a,b,e){e=e===void 0?{}:e;var f=e.dir,g=f===void 0?"asc":f,h=babelHelpers.objectWithoutPropertiesLoose(e,["dir"]);function j(){if(g==="asc"){if(Object.prototype.hasOwnProperty.call(h,"gt"))return h.gt;else if(Object.prototype.hasOwnProperty.call(h,"gte"))return h.gte}else if(Object.prototype.hasOwnProperty.call(h,"lt"))return h.lt;else if(Object.prototype.hasOwnProperty.call(h,"lte"))return h.lte}function l(a){if(g==="asc")return Object.prototype.hasOwnProperty.call(h,"gt")?u(a.keys,h.gt,k.gt):Object.prototype.hasOwnProperty.call(h,"gte")?u(a.keys,h.gte,k.gte):0;else return Object.prototype.hasOwnProperty.call(h,"lt")?u(a.keys,h.lt,k.lt):Object.prototype.hasOwnProperty.call(h,"lte")?u(a.keys,h.lte,k.lte):a.keys.length-1}if(Object.prototype.hasOwnProperty.call(h,"gt")&&Object.prototype.hasOwnProperty.call(h,"gte"))throw c("unrecoverableViolation")("cannot specify both greater than and greater than or equal","maw_db");if(Object.prototype.hasOwnProperty.call(h,"lt")&&Object.prototype.hasOwnProperty.call(h,"lte"))throw c("unrecoverableViolation")("cannot specify both less than and less than or equal","maw_db");var m,n=this;return{next:function*(e){var f,o;if(m==null){var p=(yield* n.$14(a,n.$7(b)));if(p==null)return{done:!0};var q=j();if(q!==void 0){q=(yield* n.$12(a,p.rootId,q));f=q[0];q=q[1]}else if(g==="asc"){var r=[yield* n.$13(a,p.headId),p.headId];f=r[0];q=r[1]}else{r=[yield* n.$13(a,p.tailId),p.tailId];f=r[0];q=r[1]}p=l(f)}else{r=m;p=r.i;o=r.key;q=r.nodeId;f=(yield* n.$14(a,q));if(e!=null){if((i||(i=d("ReStoreKeyComparer"))).compareKey(e,o)===(g==="asc"?-1:1))throw c("unrecoverableViolation")("key must be ahead of current key","maw_db");if(f==null||(i||(i=d("ReStoreKeyComparer"))).compareKey(e,f.keys[0])<0||(i||(i=d("ReStoreKeyComparer"))).compareKey(e,f.keys[f.keys.length-1])>0){r=(yield* n.$14(a,n.$7(b)));if(r==null)return{done:!0};r=(yield* n.$12(a,r.rootId,e));f=r[0];q=r[1]}p=u(f.keys,e,k[g==="asc"?"gte":"lte"])}else{if(f==null||p<0||p>=f.keys.length||(i||(i=d("ReStoreKeyComparer"))).compareKey(f.keys[p],o)!==0){if(f==null||!f.keys.length||(i||(i=d("ReStoreKeyComparer"))).compareKey(o,f.keys[0])<0||(i||(i=d("ReStoreKeyComparer"))).compareKey(o,f.keys[f.keys.length-1])>0){r=(yield* n.$14(a,n.$7(b)));if(r==null)return{done:!0};e=(yield* n.$12(a,r.rootId,o));f=e[0];q=e[1]}p=u(f.keys,o,k[g==="asc"?"lte":"gte"])}p+=g==="asc"?1:-1}}if(p<0||p>=f.keys.length)if(g==="asc"){if(f.nextId===void 0)return{done:!0};q=f.nextId;f=(yield* n.$13(a,q));p=0}else{if(f.prevId===void 0)return{done:!0};q=f.prevId;f=(yield* n.$13(a,q));p=f.keys.length-1}o=f.keys[p];m={i:p,key:o,node:f,nodeId:q};if(p<0||p>=f.keys.length)return{done:!0};r=g==="asc"?Object.prototype.hasOwnProperty.call(h,"lt")&&(i||(i=d("ReStoreKeyComparer"))).compareKey(o,h.lt)>=0||Object.prototype.hasOwnProperty.call(h,"lte")&&(i||(i=d("ReStoreKeyComparer"))).compareKey(o,h.lte)>0:Object.prototype.hasOwnProperty.call(h,"gt")&&(i||(i=d("ReStoreKeyComparer"))).compareKey(o,h.gt)<=0||Object.prototype.hasOwnProperty.call(h,"gte")&&(i||(i=d("ReStoreKeyComparer"))).compareKey(o,h.gte)<0;return r?{done:!0}:{done:!1,value:[f.keys[p],f.children[p]]}}}};b.tableEntries=function(a,b){b===void 0&&(b={});var c=this.btreeIterator(a,void 0,b),d=this;return{next:function*(b){b=(yield* c.next(b));if(b.done)return b;b=b.value;var e=b[0];b=b[1];b=(yield* d.$18(a,b));return{done:!1,value:[e,b]}}}};b.indexEntries=function(a,b,c){c===void 0&&(c={});var d=this.btreeIterator(a,b,c),e=this;return{next:function*(c){c=(yield* d.next(c));if(c.done)return c;c=c.value;var f=c[0];c=c[1];c=(yield* e.$19(a,c,b,f));return{done:!1,value:[f,c]}}}};b.keys=function(a,b,c){c===void 0&&(c={});var d=this.btreeIterator(a,b,c);return{next:function*(a){a=(yield* d.next(a));if(a.done)return a;a=a.value;a=a[0];return{done:!1,value:a}}}};b.clearIds=function*(a,b){this.$3();b=this.$7(b);var c=(yield* this.$14(a,b));this.$3();if(c==null)return;var d=(yield* this.$13(a,c.rootId));c=[{id:c.rootId,node:d}];while(c.length>0){d=c.shift();var e=d.id;d=d.node;if(!d.isLeaf)for(d of d.children){var f=(yield* this.$14(a,d));f!=null&&c.push({id:d,node:f})}this.$1.set(e,j)}this.$1.set(b,j)};b.readSeed=function*(a){return(a=(yield* this.$14(a,d("ReStorePersistenceIds").idForSeed)))!=null?a:0};b.remove=function(a,b){this.$3(),this.$1.set(b,j)};b.writeData=function(a,b,c){this.$16(b,s(c))};b.writeNewData=function*(a,b){return yield* this.$15(a,s(b))};return a}(),w=function(){function a(a,b,e,f,g){var h=this;this.$2=new Map();this.$6=!1;this.$3=function(){if(h.$6){f==null?void 0:f.mark("transaction_closed");throw c("FBLogger")("messenger_web_product").mustfixThrow("Transaction has closed")}e()};this.$4=b;this.$1=a;this.$5={get:function(a,c,e){var f=d("ReStoreUtils").getOrCreate(h.$1,c,function(){return new Map()});f=f.get(e);if(t(f))return void 0;return f!==void 0?f:b.get(a,c,e,"readwrite")},logError:b.logError,shouldInline:b.shouldInline};this.$7=g}var b=a.prototype;b.flush=function(){for(var a of this.$2){var b=a[0],c=a[1];b=d("ReStoreUtils").getOrCreate(this.$1,b,function(){return new Map()});for(c of c){var e=c[0],f=c[1];b.set(e,f)}}this.$6=!0};b.table=function(a){return new v(d("ReStoreUtils").getOrCreate(this.$2,a,function(){return new Map()}),a,this.$3,this.$5,"readwrite",this.$7)};return a}(),x=function(){function a(a,b,d,e){var f=this;this.$1=new Map();this.$2=!1;this.$7=function(){if(f.$2)throw c("FBLogger")("messenger_web_product").mustfixThrow("Transaction has closed: %s",f.$5)};this.$3=a;this.$4=b;this.types=a.types;this.$5=d;this.$6=e}var b=a.prototype;b.close=function(){this.$2=!0};b.flush=async function(a){a===void 0&&(a={upgrade:!1}),await this.$3.flush(this.$1,a),this.$2=!0};b.table=function(a){return new v(d("ReStoreUtils").getOrCreate(this.$1,a,function(){return new Map()}),a,this.$7,this.$3,this.$4,this.$6)};b.createNested=function(a){return new w(this.$1,this.$3,this.$7,a,this.$6)};return a}();function a(a){function b(b,e,f){c("promiseDone")(async function(){await a.runExclusively(function(){return Promise.resolve([async function(){var c=new x(a,"readwrite",void 0,function(){});await d("ReStoreUtils").gen(c.table(f).indexDelete(new WeakMap(),b,e));await c.flush()},"readwrite"])},"fixBrokenIndex")}())}return{clearCache:a.clearCache,close:a.close,createTransaction:function(c,d){return new x(a,c,d,b)},isClosed:a.isClosed||function(){return!1},isPersistenceSupported:a.isPersistenceSupported,logError:a.logError,runExclusively:a.runExclusively}}g.sentinelDeleted=j;g.isDeletedValue=t;g.ReStoreDbStoreTransaction=x;g.createDbStore=a}),98);
__d("ReStoreTransactionDelay",["setTimeout"],(function(a,b,c,d,e,f,g){"use strict";async function a(a){a=a==="background"?new Promise(function(a){return c("setTimeout")(a,0)}):Promise.resolve();await a}g.default=a}),98);
__d("createReStoreSubscriptionManager",["ExecutionEnvironment","FBLogger","IntervalList","Promise","PromiseOrValue","ReStoreKeyComparer","ReStoreUtils","asyncToGeneratorRuntime","isPromise","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;function a(a,e,f){var g=new Map(),m=new Map();function n(a,b){return(l||(l=d("ReStoreKeyComparer"))).compareValue(a,b)===0}function o(a,b,c,d){a=(a=z.get(a))!=null?a:[];var e=[];for(var f=0;f<b.length;f++){var g=b[f];for(var h=0;h<32&&g!==0;h++){if(g&1){var i=a[(f<<5)+h];if(!n(c[i],d[i])){e[f]=((i=e[f])!=null?i:0)|1<<h%32}}g=g>>>1}}return e}function p(a,b){for(var c=0;c<Math.max(a.length,b.length);c++)if((a[c]&b[c])!==0)return!0;return!1}function q(a,b,d,e){try{a=a(b,d,e);if((j||(j=c("isPromise")))(a))return a["catch"](function(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("error in ReStore subscription async handler")});else return a}catch(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("error in ReStore subscription handlers")}}function r(a,c,e,f,g){var i=Array.from(c(f));if(g.operation==="put"&&g.prevValue!=null){c=function(){var b=g.prevValue,c=[];for(var h of i){h[0];var j=h[1];j!=null&&j.forEach(function(a,b){c[b]=((b=c[b])!=null?b:0)|a})}var l=o(a,c,b,g.value);return{v:(k||(k=d("PromiseOrValue"))).all(i.map(function(a){var b=a[0];a=a[1];if(a==null||p(l,a))return q(b,f,g,e)}))}}();if(typeof c==="object")return c.v}return(h||(h=b("Promise"))).all(i.map(function(a){var b=a[0];a[1];return q(b,f,g,e)}))}function s(b){return c("nullthrows")((g.has(b)?g:g.set(b,[c("IntervalList")((l||(l=d("ReStoreKeyComparer"))).compareKey,a.tableNames[b].primaryKeyIds.length),new Map()])).get(b))}function t(b,e){var f=s(b);f[0];f=f[1];return c("nullthrows")((f.has(e)?f:f.set(e,c("IntervalList")((l||(l=d("ReStoreKeyComparer"))).compareKey,a.tableNames[b].indexes[e].length))).get(e))}function u(b,e,f,g,h,i){var j=function(a,c){return r(e,b.findIntersecting,i,a,c)},m=f==null?void 0:d("ReStoreUtils").searchKey(a.tableNames[e],f,h),n=g==null?void 0:d("ReStoreUtils").searchKey(a.tableNames[e],g,h);if(n==null&&m!=null)return j(m,{operation:"delete",prevValue:c("nullthrows")(f)});if(m==null&&n!=null)return j(n,{operation:"add",value:c("nullthrows")(g)});if(m!=null&&n!=null)return(l||(l=d("ReStoreKeyComparer"))).compareKey(m,n)===0?j(m,{operation:"put",prevValue:c("nullthrows")(f),value:c("nullthrows")(g)}):(k||(k=d("PromiseOrValue"))).map(j(m,{operation:"delete",prevValue:c("nullthrows")(f)}),function(){return j(n,{operation:"add",value:c("nullthrows")(g)})})}function v(a,b,c,e){var f=s(a),g=f[0],h=f[1];return(k||(k=d("PromiseOrValue"))).map(u(g,a,b,c,null,e),function(){return(k||(k=d("PromiseOrValue"))).all(Array.from(h.entries()).map(function(d){var f=d[0];d=d[1];return u(d,a,b,c,f,e)}).filter(function(a){return a!=null}))})}function w(){m.forEach(function(a){return a()})}function x(a,b){function d(){var d=new Map();try{for(var f of a){var g=f[0],h=f[1];e(b,g)&&d.set(g,h)}}catch(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("Couldnot format changes to broadcast")}return Array.from(d)}if((i||(i=c("ExecutionEnvironment"))).isInBrowser&&f!=null){d=d();if(d.length===0)return;f.postMessage(b,d)}}(i||(i=c("ExecutionEnvironment"))).isInBrowser&&(f!=null&&f.onEventReceive("notifyTableV2",function(a){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=new WeakMap(),c=a.values();yield (k||(k=d("PromiseOrValue"))).loop(function(a){if(a.done)return{action:"break",value:void 0};a=a.value;var e=a[0];a=a[1];var f=a.values();return(k||(k=d("PromiseOrValue"))).map(k.loop(function(a){if(a.done)return{action:"break",value:void 0};a=a.value;var c=a[0];a=a[1];return(k||(k=d("PromiseOrValue"))).map(v(e,c,a,b),function(){return{action:"continue",value:f.next()}})},f.next()),function(){return{action:"continue",value:c.next()}})},c.next());w()})())}));var y=new Map(),z=new Map();function A(a,b){if(b==null)return null;var c=y.get(a);c==null&&(c=new Map(),y.set(a,c));var d=[];for(b of b){var e=c.get(b);if(e==null){e=c.size;c.set(b,e);var f=z.get(a);f==null&&(f=[],z.set(a,f));f.push(b)}f=e>>5;e=e&31;d[f]=((f=d[f])!=null?f:0)|1<<e}return d}return{dispose:function(){g.clear(),m.clear()},notifyCommit:w,notifyTableAndIndexSubscribers:v,notifyTableV2:x,subscribeIndex:function(a,c,d,e,f){var g=t(a,c),i=!1;c=function(a,c,e){return i?(h||(h=b("Promise"))).resolve():q(d,a,c,e)};var j=[c,A(a,f)];g.set(e,j);return function(){i=!0,g["delete"](j)}},subscribeTable:function(a,c,d,e){var f=s(a),g=f[0],i=!1;f=function(a,d,e){return i?(h||(h=b("Promise"))).resolve():q(c,a,d,e)};var j=[f,A(a,e)];g.set(d,j);return function(){i=!0,g["delete"](j)}},subscribeToCommit:function(a){m.set(a,a);return function(){m["delete"](a)}}}}g["default"]=a}),98);
__d("ReStore",["ExecutionEnvironment","FBLogger","PromiseOrValue","ReStoreCustomMigration","ReStoreHooks","ReStoreIndexeddbPersistenceInitFailure","ReStoreMigrateUtil","ReStoreOperationLock","ReStorePersistedMetadata","ReStorePersistence","ReStoreTable","ReStoreTransactionDelay","ReStoreUtils","clearTimeout","cr:1088","cr:6665","createReStoreSubscriptionManager","promiseDone","setImmediate","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,"ReStore transaction timed out")||this}return a}(babelHelpers.wrapNativeSuper(Error)),k={enableRejectingTransaction:!1,enableTransactionTimeout:!1,fbLoggerProject:"maw_db"},l=12e4;function a(a){var e=a.persistence,f=a.hooks;f=f===void 0?[]:f;var g=a.customMigration,m=a.loggers,n=m===void 0?{logHistory:void 0,transactionQplLogger:void 0,userFlow:void 0}:m;m=a.config;var o=m===void 0?k:m,p=a.schema,q=n.logHistory,r=n.transactionQplLogger,s=n.userFlow,t=d("ReStorePersistence").createDbStore(e);m=e.tabTablesNotifier==null?void 0:e.tabTablesNotifier();var u=p.defaults,v=c("createReStoreSubscriptionManager")(p,e.shouldSync,m),w=d("ReStoreHooks").createHookManager(f),x=t.createTransaction("readonly"),y=e.types.includes("indexeddb"),z={background:{first:null,last:null},sync_script:{first:null,last:null},ui:{first:null,last:null}},A;s==null?void 0:s.addPoint("migration_start");q==null?void 0:q.debug("restore migration start");var B=new(d("ReStoreOperationLock").WaitForPromiseLock)(e.types.includes("devtool")?Promise.resolve():t.runExclusively(function(){return Promise.resolve([async function(){s==null?void 0:s.addPoint("migration_execute_start");var a=new Map(),b=t.createTransaction("readwrite"),c=E(b,a);q==null?void 0:q.debug("migration transaction created");c={changedKeys:a,clearCache:D,hooksManager:w,loggers:n,storeTx:b,transaction:c};try{var e=await p.migrate(c);s==null?void 0:s.addPoint("migration_custom_start");c=await d("ReStoreCustomMigration").runCustomMigration(g,c);q==null?void 0:q.debug("migration custom end");s==null?void 0:s.addPoint("migration_custom_end");if(c===d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED&&e===d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED){b.close();q==null?void 0:q.debug("restore migration skipped");s==null?void 0:s.addPoint("migration_skipped");return}c=e!==d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA&&a.size!==0;await b.flush({upgrade:c});s==null?void 0:s.addPoint("migration_execute_end");q==null?void 0:q.debug("restore migration complete")}catch(a){b.close();throw a}s==null?void 0:s.addPoint("migration_end");q==null?void 0:q.debug("restore migration end")},"readwrite"])},"migration").catch(function(a){s==null?void 0:s.addAnnotations({string:{migration_error:a.message}});a instanceof d("ReStoreIndexeddbPersistenceInitFailure").ReStoreIndexeddbPersistenceInitFailure||(s==null?void 0:s.endFail("migration_error"));q==null?void 0:q.debug("restore migration error");c("FBLogger")("restore_init").catching(a).mustfix("migration failed");throw a}));async function C(a,b){var c=new WeakMap();await t.runExclusively(function(){return Promise.resolve([async function(){var e=new Map(),f=t.createTransaction("readwrite"),g=E(f,e),h=b.values();await (i||(i=d("PromiseOrValue"))).loop(function(b){if(b.done)return{action:"break",value:void 0};b=b.value;var e=b[0],f=b[1];return(i||(i=d("PromiseOrValue"))).map(i.map(f==null?g.table(a).delete(d("ReStoreUtils").searchKey(p.tableNames[a],e)):g.table(a).put(f),function(){return v.notifyTableAndIndexSubscribers(a,e,f,c)}),function(){return{action:"continue",value:h.next()}})},h.next());try{await f.flush({upgrade:!0})}catch(a){f.close();throw a}},"readwrite"])},"applyChangesToTable")}function D(){t.clearCache==null?void 0:t.clearCache()}function E(a,b,c){return d("ReStoreUtils").createReStoreTransaction(p,u,w,v,a,b,c)}var F;function G(a,b,c,d){return new Promise(function(e,f){o.enableRejectingTransaction&&(F=f);var g=function(){A=d;return a().then(e,f).finally(function(){return A=void 0})};z[b].last==null?z[b].first=z[b].last={value:{code:g,writemode:c}}:z[b].last=z[b].last.next={value:{code:g,writemode:c}}})}function H(a){return t.runExclusively(function(){var a=z.ui.first!=null?z.ui:z.sync_script.first!=null?z.sync_script:z.background;if(a.first==null){c("FBLogger")(o.fbLoggerProject).mustfix("Expected work is missing");return Promise.resolve([function(){return Promise.resolve({})},"readonly"])}var b=a.first;a.first===a.last&&(a.last=null);a.first=a.first.next;return Promise.resolve([b.value.code,b.value.writemode])},a)}async function I(a,b,d,e){d===void 0&&(d="background");e===void 0&&(e={source:"unknown",type:"user_initiated"});var f,g=arguments[4];try{f=await J(a,b,d,e,g)}catch(a){if(a instanceof j)throw c("FBLogger")(o.fbLoggerProject).blameToPreviousFrame().mustfixThrow("ReStore transaction took too long to execute: %s",g);throw a}return f}async function J(a,e,f,g,h){f===void 0&&(f="background");var j,k,m,n,p,q=r==null?void 0:r.startTracking(y,f);b("cr:1088")&&(j=Date.now());q==null?void 0:q.addAnnotations({string:{moduleAndLineNo:h}});async function s(){q==null?void 0:q.mark("execute_start");b("cr:1088")&&(k=Date.now());var e={ref:void 0},f=new Map(),l=t.createTransaction("readwrite",h),r;b("cr:1088")==null?void 0:b("cr:1088").trackingStoredProceduresForNewTransaction(g);b("cr:1088")==null?void 0:b("cr:1088").recordModuleName(h);try{var s=E(l,f,{qplFlow:q});r=await Promise.race([a(s),L(e,q,h)]);e.ref!=null&&c("clearTimeout")(e.ref);q==null?void 0:q.mark("execute_end");q==null?void 0:q.mark("flush_start");await l.flush({qplFlow:q});q==null?void 0:q.mark("flush_end");b("cr:1088")&&(m=Date.now())}catch(a){e.ref!=null&&c("clearTimeout")(e.ref);l.close();q==null?void 0:q.fail(a);c("FBLogger")(o.fbLoggerProject).catching(a).mustfix("Transaction failed: %s",h);b("cr:1088")==null?void 0:b("cr:1088").recordRestoreTransaction({broadcast:n,complete:m,flush:p,queue:j,start:k},{changedKeys:f});throw a}finally{b("cr:1088")==null?void 0:b("cr:1088").stopTrackingStoredProcedures()}b("cr:1088")&&(p=Date.now());q==null?void 0:q.mark("broadcast_start");var u=new WeakMap();s=new Map();for(e of f){l=e[0];var x=e[1];l=JSON.parse(l);var y=l[0];l[1];l=s.get(y);l==null&&(l=[],s.set(y,l));var z=x[0];x=x[1];x=w.beforeNotify({newValue:x,prevValue:z,tableName:y});z=x.newValue;y=x.prevValue;l.push([y,z])}var A=s.entries();await (i||(i=d("PromiseOrValue"))).loop(function(b){if(b.done)return{action:"break",value:void 0};b=b.value;var a=b[0];b=b[1];var c=b.values();return(i||(i=d("PromiseOrValue"))).map(i.loop(function(b){if(b.done)return{action:"break",value:void 0};b=b.value;var e=b[0];b=b[1];return(i||(i=d("PromiseOrValue"))).map(v.notifyTableAndIndexSubscribers(a,e,b,u),function(){return{action:"continue",value:c.next()}})},c.next()),function(){return{action:"continue",value:A.next()}})},A.next());v.notifyTableV2(s,"notifyTableV2");v.notifyTableV2(s,"notifyInMemoryTable");v.notifyCommit();if(b("cr:1088")){n=Date.now();x={broadcast:n,complete:m,flush:p,queue:j,start:k};b("cr:1088").recordRestoreTransaction(x,{changedKeys:f})}q==null?void 0:q.mark("broadcast_end");q==null?void 0:q.mark("post_commit_start");c("setImmediate")(function(){q==null?void 0:q.mark("post_commit_end"),q==null?void 0:q.end()});return r}await c("ReStoreTransactionDelay")(f);s=G(s,f,e,h);q==null?void 0:q.mark("enqueued");c("promiseDone")(H(h),function(){},function(a){F==null?void 0:F(a)});var u=c("setTimeout")(function(){var a;c("FBLogger")("messenger_e2ee_web").mustfix("Transaction not resolved after %s ms. Source: %s; currently processing: %s. Native ops: %s. Executed SP: %s",l,h,A,(a=JSON.stringify(b("cr:6665")==null?void 0:b("cr:6665").getCurrentlyExecutingNativeOps()))!=null?a:"<devtools not running>",b("cr:1088")==null?void 0:(a=b("cr:1088").getStoredProcedureCallLog())==null?void 0:a.sp.map(function(a){return a.spName}).join(","))},l);return s.finally(function(){return c("clearTimeout")(u)})}(h||(h=c("ExecutionEnvironment"))).isInBrowser&&(m!=null&&m.onEventReceive("notifyInMemoryTable",function(a){c("promiseDone")(async function(){for(var b of a){var c=b[0],d=b[1];e.shouldApplySync("notifyInMemoryTable",c)&&await C(c,d)}v.notifyCommit()}())}));var K=Object.keys(p.tableNames).reduce(function(a,b){return babelHelpers.extends({},a,(a={},a[b]=new(d("ReStoreTable").ReStoreTable)(p.tableNames[b],w,B,x,v),a))},{});return{clearCacheIfSupported:D,closeDb:function(){var a=t;a instanceof Object&&a.close!==void 0&&a.close()},getCustomMigrationVersion:async function(){var a=await new(d("ReStorePersistedMetadata").ReStorePersistedCustomMigrationVersion)().read(t.createTransaction("readonly"));return a==null?void 0:a.customMigrationVersion},getTableData:function(){return p},isClosed:function(){return t.isClosed()},isPersistenceSupported:function(){var a=t;return a instanceof Object&&a.isPersistenceSupported!==void 0&&a.isPersistenceSupported instanceof Function?a.isPersistenceSupported():Promise.resolve(!0)},persistence:e,persistenceTypes:e.types,runInTransaction:I,subscribeToCommit:function(a){return v.subscribeToCommit(a)},subscriptionManager:v,table:function(a){return K[a]},tables:K,uniqueId:e.uniqueId};function L(a,d,e){return!o.enableTransactionTimeout?new Promise(function(){var d=1e4;a.ref=c("setTimeout")(function(){var a;c("FBLogger")(o.fbLoggerProject).mustfix("ReStore transaction took too long to execute, check it: %s. Executed SP: %s.",e,b("cr:1088")==null?void 0:(a=b("cr:1088").getStoredProcedureCallLog())==null?void 0:a.sp.map(function(a){return a.spName}).join(","))},d)}):new Promise(function(b,e){b=5e3;a.ref=c("setTimeout")(function(){d==null?void 0:d.mark("slow_transaction"),e(new j())},b)})}}g.default=a}),98);
__d("ReStoreInstrumentation",[],(function(a,b,c,d,e,f){"use strict";var g=new Map();function a(a){g.set(a.uniqueId,{instance:a,persistence:a.persistence,tableNames:a.getTableData().tableNames});return a}function b(){return Array.from(g.entries()).map(function(a){var b=a[0];a=a[1];return{key:b,value:JSON.parse(JSON.stringify(a.tableNames))}})}f.instrument=a;f.getReStoreTables=b;f.reStoreInstancesMap=g}),66);
__d("LSReStoreWrapper",["LSReStoreQplLogger","MessengerLogHistory","ReStore","ReStoreInstrumentation","gkx","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g){e===void 0&&(e=[]);f=d("ReStoreInstrumentation").instrument(c("ReStore")({config:{enableRejectingTransaction:c("gkx")("2138"),enableTransactionTimeout:c("gkx")("2947"),fbLoggerProject:"maw_db"},customMigration:f,hooks:e,loggers:{logHistory:d("MessengerLogHistory").getInstance("db_init"),transactionQplLogger:d("LSReStoreQplLogger").createQplLogger(c("qpl")._(25306500,"1488")),userFlow:g},persistence:a,schema:b}));return f}g.createLSReStore=a}),98);
__d("LocalStorageWrapper",["CurrentMessengerUser","WAResultOrError","isQuotaExceededError","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("PersistedQueue").__setRef("LocalStorageWrapper");function i(a){var b=null;try{b=window.localStorage;if(b!=null&&typeof b.setItem==="function"&&typeof b.removeItem==="function"){var c="__test__"+Date.now();b.setItem(c,"");b.removeItem(c)}else return null}catch(c){if(d("isQuotaExceededError").isStorageQuotaExceededError(b,c)===!1){a("Failed to get localstorage");return null}}return b}function a(a){try{a=i(a);return a!=null}catch(a){return!1}}function j(a){try{var b=0,c={};for(var d in a){if(!Object.prototype.hasOwnProperty.call(a,d))continue;var e=(a[d].length+d.length)*2;b+=e;e/1024>1e3&&(c[d.substr(0,50)]=(e/1024).toFixed(2))}c.total=(b/1024).toFixed(2);return JSON.stringify(c)}catch(a){return"Can't calculate localStorage"}}function b(a,b,c,e,f){if(a==null)return d("WAResultOrError").makeError("null-storage");try{f!==void 0?k(a,b,c,f):a.setItem(b,c)}catch(f){if(d("CurrentMessengerUser").isEmployee()){var g=j(a);h.onReady(function(a){a=a.isQueueActivateExperiment().toString();e(f+" - Storage quota exceeded while setting "+b+":"+c+", queueActivateExp:"+a+" "+g)})}else e(f+" - Storage quota exceeded while setting "+b+":"+c);return d("WAResultOrError").makeError("quota-exceeded")}return d("WAResultOrError").makeResult()}function k(a,b,c,d){try{a.setItem(b,c)}catch(e){d(e),a.setItem(b,c)}}function e(a,b,c){a==null?c("not storage found"):a.removeItem(b)}function f(a,b,c){if(a==null){c("not storage found");return null}else return a.getItem(b)}g.getStorage=i;g.isLocalStorageAvailable=a;g.setItemGuarded=b;g.removeItemGuarded=e;g.getItemGuarded=f}),98);
__d("MAWAppVersion",["SiteData"],(function(a,b,c,d,e,f,g){"use strict";function a(){return"302.0."+c("SiteData").client_revision}function b(){return{primary:302,secondary:0,tertiary:c("SiteData").client_revision}}g.getVersionNumber=a;g.getAppVersionParts=b}),98);
__d("MAWWorkerEvent",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set();function a(a,b){if(h.has(b))return;h.add(b);c("QPLUserFlow").start(c("qpl")._(1056842055,"807"),{annotations:{string:{event:a}},instanceKey:b})}function b(a){if(!h.has(a))return;h["delete"](a);c("QPLUserFlow").endSuccess(c("qpl")._(1056842055,"807"),{instanceKey:a})}function d(a,b){if(!h.has(a))return;h["delete"](a);c("QPLUserFlow").endFailure(c("qpl")._(1056842055,"807"),"fail",{annotations:{string:{error:b}},instanceKey:a})}function e(a){if(!h.has(a))return;h["delete"](a);c("QPLUserFlow").addPoint(c("qpl")._(1056842055,"807"),"timeout_logged");c("QPLUserFlow").endFailure(c("qpl")._(1056842055,"807"),"timeout",{instanceKey:a})}g.logStart=a;g.logSuccess=b;g.logFailure=d;g.logTimeout=e}),98);
__d("MAWBridgeLoggingUtils",["MAWWorkerEvent","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h,i=3185,j="armadillo_worker_runtime",k="getWorkerHeartbeat",l=10,m=new Array(l);function n(a,b,c){(h||(h=d("ODS"))).bumpEntityKey(i,j,a+"_"+b+"_"+c)}function a(a,b,c){n(a,b,"start");if(b===k)return;(h||(h=d("ODS"))).bumpEntityKey(i,j,"route_start");d("MAWWorkerEvent").logStart(b,c);m.length===l&&m.shift();m.push(a+"_"+b)}function o(a){m.filter(Boolean).forEach(function(b){(h||(h=d("ODS"))).bumpEntityKey(i,j,b+a)})}function b(a,b,c){n(a,b,"success");if(b===k)return;(h||(h=d("ODS"))).bumpEntityKey(i,j,"route_success");d("MAWWorkerEvent").logSuccess(c)}function c(a,b,c,e){n(a,b,"fail");if(b===k)return;(h||(h=d("ODS"))).bumpEntityKey(i,j,"route_fail");d("MAWWorkerEvent").logFailure(e,c)}function e(a,b,c){n(a,b,"timeout");if(b===k)return;(h||(h=d("ODS"))).bumpEntityKey(i,j,"route_timeout");d("MAWWorkerEvent").logTimeout(c)}function f(){o("_before_unresponsive"),m.fill(null)}g.CAT_ID=i;g.ENT=j;g.HEARTBEAT_ROUTE=k;g.RECENT_ROUTES_NUM=l;g.routeStart=a;g.logRecentRoutes=o;g.routeSuccess=b;g.routeFail=c;g.routeTimeout=e;g.logRecentBridgeEvents=f}),98);
__d("MAWODSProxy",["CurrentMessengerUser","ODS","WABridge","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!((b=c("gkx")("23949"))!=null?b:!1);function a(a,b){var c=a.amount,e=a.entity;a=a.key;b===void 0&&(b=!0);i?(h||(h=d("ODS"))).bumpEntityKey(3185,e,a+"."+(d("CurrentMessengerUser").getAppID()||"unknown"),c):d("WABridge").getBridge().fireAndForget("event","odsBumpEntityKey",{amount:c,entity:e,key:a},b)}g.odsBumpEntityKey=a}),98);
__d("WAOdsEnums",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({WA_CONNECTIVITY:"wa_connectivity",GET_DEVICES:"armadillo_get_devices",DECRYPTION:"armadillo_msg_decryption",DEVICE_REREG_CHECK:"armadillo_device_rereg_check",DEVICE_REGISTRATION:"armadillo_device_registration",DEVICE_REGISTRATION_NON_EMPLOYEE:"armadillo_device_registration_non_employee",PHASH_MISMATCH:"phash_mismatch",WEB_PLACEHOLDER:"armadillo_web_placeholder",PREKEY_UPLOAD:"armadillo_prekey_upload",PREKEY_DIGEST:"armadillo_prekey_digest",C2C_META_SYNC:"armadillo_c2c_meta_sync",ADMIN_MESSAGE:"armadillo_admin_message",PREVIEW_SNIPPET:"armadillo_snippet",TOTAL_INCOMING_MESSAGE:"armadillo_total_incoming_message",COMPARE_IDENTITY:"armadillo_compare_identity",GET_PREKEY:"armadillo_get_prekey",SECURITY_ALERT_FOR_CONTACT:"armadillo_security_alert_for_contact",SECURITY_ALERT_FOR_SELF:"armadillo_security_alert_for_self",MSG_SEND:"armadillo_message_send",RETRY_MISSING_MSG:"armadillo_retry_missing_msg",REGISTRATION_TYPE:"aramdillo_registration_type",CLOCK_SKEW_UPDATE:"clock_skew_update",STREAM_ERROR:"wajs_stream_error",ICDC:"wajs_icdc",LOAD_MORE_NO_ORIGINAL_MSG_IN_MAW:"load_more_no_original_msg_in_maw",POISON_QUEUE_ENTTITY:"armadillo_poison_queue_entity",PQ_MIGRATION:"wajs_pq_migration",WORM:"wajs_worm",CAT_ROTATION:"cat_rotation",EB_RESTORE:"eb_restore",WA_DISCONNECT:"armadillo_disconnect",GROUP_CREATE:"armadillo_group_create",GROUP_DELETE:"armadillo_group_delete",GROUP_ADD_PARTICIPANT:"armadillo_group_add_participant",GROUP_PROMOTE_PARTICIPANT:"armadillo_group_promote_participant",GROUP_DEMOTE_PARTICIPANT:"armadillo_group_demote_participant",GROUP_REMOVE_PARTICIPANT:"armadillo_group_remove_participant",GROUP_LEAVE_PARTICIPANT:"armadillo_group_leave_participant",GROUP_SKS_INVALID:"armadillo_group_sks_invalid",SEND_READ_RECEIPTS:"armadillo_send_read_receipts",MESSAGE_MISSING_THREAD_JID:"MESSAGE_MISSING_THREAD_JID",MESSAGE_MISSING:"MESSAGE_MISSING",MAW_NON_TIMEOUT:"maw_non_timeout",MAW_TIMEOUT:"maw_timeout",WA_FAIL_STANZA_QUEUE_ITEM:"wa_fail_stanza_queue_item",WA_QUERY_GROUP:"wa_query_group",MAW_MISMATCH_PARTICIPANT:"maw_mismatch_participant",MAW_ONE_TO_ONE_THREAD_PARTICIPANT_CLEANUP:"maw_one_to_one_thread_participant_cleanup",MAW_THREADID_DEPRECATION:"maw_threadid_deprecation",MAW_THREADID_DEPRECATION_DETAILS:"maw_threadid_deprecation_details",MAW_DELETE_DANGLING_PARTICIPANTS:"maw_delete_dangling_participants",S2S_QPL_MISSING_INSTANCE_KEY:"s2s_qpl_missing_instance_key",MAW_DEPRECATED_REDIRECT:"maw_deprecated_redirect",MAW_MUTATION_VALIDATOR:"maw_mutation_validator",MAW_THREAD_UPDATE_MIDDLEWARE:"maw_thread_update_middleware",MAW_MY_USER_JID_GETTER:"maw_my_user_jid_getter",WA_NO_SIGNED_PRE_KEY:"wa_no_signed_pre_key",WA_LONG_SESSION_DROP:"wa_long_session_drop",MAW_SEND_REACTION:"maw_send_reaction",MAW_XMA_PROTOCOL_PARSING:"maw_xma_protocol_parsing",IGDW_INSTAMADILLO_MESSAGE_ON_OLD_WORKER:"igdw_new_msg_old_worker",WORKER_SCHEDULER_STUCK:"worker_scheduler_stuck"});f.Entity=a}),66);
__d("WACustomError",[],(function(a,b,c,d,e,f){"use strict";var g=Object.create(Error.prototype,{constructor:{value:void 0,writable:!0,configurable:!0}});function a(a,b,c){b===void 0&&(b=!0);function d(c){var d=Error.call(this,c);this.message=c;d.name=a;this.name=a;b&&(this.stack=d.stack)}d.prototype=Object.create(c?c.prototype:g);d.prototype.constructor=d;return d}function h(a){if(a.length===0)return"No errors";return a.length===1?a[0].message:a.map(function(a){return"- "+a.message}).join("\n")}e=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){c=c!=null&&c.length>0?c:h(b);c=a.call(this,c)||this;c.errors=b;return c}return b}(a("AggregateError",!0));var i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(a("TimeoutError",!1)),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.code=c;return a}return a}(a("HttpError",!1)),k=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(a("UnimplementedMethod")),l=!1;function b(a){if(a==null||a.name!=="QuotaExceededError")throw a;l=!0}function c(){return l}function d(a){return JSON.stringify(a,Object.getOwnPropertyNames(a))}var m=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.inner=c;return a}return a}(babelHelpers.wrapNativeSuper(Error));f.customError=a;f.AggregateError=e;f.TimeoutError=i;f.HttpError=j;f.UnimplementedMethod=k;f.supressQuotaExceededError=b;f.hasSupressedQuotaExceededError=c;f.obtainErrorSummary=d;f.WrappedError=m}),66);
__d("WAAbortError",["WACustomError"],(function(a,b,c,d,e,f,g){"use strict";b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(d("WACustomError").customError("AbortError"));var h="AbortError";function a(a){return function(b){if(b.name===h)return a(b);else throw b}}g.AbortError=b;g.ABORT_ERROR=h;g.catchAbort=a}),98);
__d("WAPromiseDelays",["Promise","WAAbortError"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){return new(h||(h=b("Promise")))(function(b,e){if(c==null?void 0:c.aborted)throw new(d("WAAbortError").AbortError)();var f=setTimeout(g,a);c==null?void 0:c.addEventListener("abort",h);function g(){c==null?void 0:c.removeEventListener("abort",h),b()}function h(){c==null?void 0:c.removeEventListener("abort",h),clearTimeout(f),e(new(d("WAAbortError").AbortError)())}})}function c(a,c,d){return new(h||(h=b("Promise")))(function(b,e){var f=setTimeout(function(){try{b(d())}catch(a){e(a)}},c);a.then(function(a){clearTimeout(f),b(a)},function(a){clearTimeout(f),e(a)})})}g.delayMs=a;g.withTimeout=c}),98);
__d("MAWMaybeWithTimeout",["MAWODSProxy","WAOdsEnums","WAPromiseDelays"],(function(a,b,c,d,e,f,g){"use strict";function h(){return!0}function a(a,b,c,e){return h()?d("WAPromiseDelays").withTimeout(a.then(function(a){var b;d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_NON_TIMEOUT,key:(b=e)!=null?b:"unknown"});return a}),b,function(){var a;d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_TIMEOUT,key:(a=e)!=null?a:"unknown"});return c()}):a}g.maybeWithTimeout=a}),98);
__d("MAWTimedBridge",["FBLogger","MAWBridgeLoggingUtils","MAWMaybeWithTimeout","MAWWaitForBackendSetup"],(function(a,b,c,d,e,f,g){"use strict";var h=6e4;function a(a,b,e,f,g){g===void 0&&(g=h);return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(e).then(function(){return a()}),g,function(){d("MAWBridgeLoggingUtils").routeTimeout(b,e,f);throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Failed to complete bridge route %s in time",e)},e)}g.bridgeTimeout=a}),98);
__d("MAWBridgeSendAndReceive",["MAWBridge","MAWBridgeLoggingUtils","MAWTimedBridge"],(function(a,b,c,d,e,f,g){"use strict";var h=0;function a(a,b,c,e){var f=d("MAWTimedBridge").bridgeTimeout(function(){var f=(e==null?void 0:e.isLoggingDisabled)!==!0;f&&d("MAWBridgeLoggingUtils").routeStart(a,b,h);return d("MAWBridge").getBridge().sendAndReceive(a,b,c,e==null?void 0:e.isLoggingDisabled).then(function(c){f&&d("MAWBridgeLoggingUtils").routeSuccess(a,b,h);return c})["catch"](function(c){f&&d("MAWBridgeLoggingUtils").routeFail(a,b,c.message,h);throw c})},a,b,h,e==null?void 0:e.timeoutMs);h++;return f}g.sendAndReceive=a}),98);
__d("MAWConsoleLogger",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("2656");function a(a,b,c){if(h){var d=c.map(function(a){return"["+a+"]"}).join("");for(var e=arguments.length,f=new Array(e>3?e-3:0),g=3;g<e;g++)f[g-3]=arguments[g];if(d){var i;(i=console)[a].apply(i,[d,b].concat(f))}else{var j;(j=console)[a].apply(j,[b].concat(f))}}}g.logToConsole=a}),98);
__d("MAWErrorObject",["err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a instanceof Error)return a;else if(typeof a==="string")return c("err")(a);else return null}g.getErrorObject=a}),98);
__d("MAWTransactionMode",[],(function(a,b,c,d,e,f){"use strict";a="r";b="rw";f.READONLY=a;f.READWRITE=b}),66);
__d("MAWLogIndexedDb",["MAWCurrentUser","MAWErrorObject","MAWIndexedDbMetadata","MAWQplProxy","MAWTransactionMode","Promise","WAExceededStorageQuota","err","justknobx","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=null;function k(){return c("justknobx")._("1399")}function l(){if(i==null)throw c("err")("LogDB IndexDB should've been initialized");return i}function m(){return j==null?o().then(function(){return l()}):j.then(function(){return l()})}function a(){return i!=null}var n=[function(a){a=a.target.transaction;d("WAExceededStorageQuota").listenToQuotaExceededError(a);a=a.db.createObjectStore("logs",{autoIncrement:!0,keyPath:"id"});a.createIndex("date","date",{unique:!1})}];function o(a){if(j!=null)return j;if(i!=null)return(h||(h=b("Promise"))).resolve();var c=d("MAWCurrentUser").getID(),e=d("MAWIndexedDbMetadata").logDbName(c),f=(a=(c=a)!=null?c:k())!=null?a:n.length;j=new(h||(h=b("Promise")))(function(a,b){var c=indexedDB.open(e,f);c.onupgradeneeded=function(a){for(var b=0;b<n.length;b++){var c=n[b];p(a,b+1)&&c(a)}};c.onsuccess=function(b){var c=b.target.result;c.onversionchange=function(){c.close()};i=c;a()};c.onerror=function(){b(c.error)}});return j}function p(a,b){var c=a.newVersion;a=a.oldVersion;return a<b&&c>=b}function q(a){return a===d("MAWTransactionMode").READWRITE?"readwrite":"readonly"}function e(a,b,e){var f=q(b);return function(b){return function(){for(var g=arguments.length,h=new Array(g),i=0;i<g;i++)h[i]=arguments[i];var j=e!=null?d("MAWQplProxy").startQplUserFlow(e):null;return m().then(function(c){var e=function(b){b=c.transaction(a,b!=null?q(b):f,{durability:"relaxed"});d("WAExceededStorageQuota").listenToQuotaExceededError(b);return b.objectStore(a)};return b.apply(void 0,[e].concat(h))}).then(function(a){j==null?void 0:j.endSuccess();return a})["catch"](function(a){j==null?void 0:j.endFail("transaction_fail");a=d("MAWErrorObject").getErrorObject(a);throw c("unrecoverableViolation")("LOG - Error performing transaction in log transactor","maw_db",a?{error:a}:{})})}}}g.getLogDbVersion=k;g.getLogDB=l;g.isLogDBInitted=a;g.dbMigrations=n;g.makeLogMsgrTransactor=e}),98);
__d("MAWSaveLogToDisk",["Deferred","MAWLogIndexedDb","MAWTransactionMode","Promise","asyncToGeneratorRuntime","justknobx","pageID","promiseDone","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("justknobx")._("1403");f=c("justknobx")._("1404");var j=c("justknobx")._("1401");function k(a){if(Number.isInteger(a))return a;if(typeof a==="string")return(a||"").replace(/\n/g,"");try{return JSON.stringify(a)}catch(a){return"Data could not be serialized"}}function l(a,b){b===void 0&&(b="");return a.length>0?"["+a.join("|")+"]":b}function m(a){switch(a){case"logRestricted":return"warn";case"debug":case"log":case"warn":case"error":return a}}function a(a){return{args:a.logString,date:a.date,event:l(a.tags,"[]"),level:m(a.logLevel)}}function e(a,b,c,d,e,f){return{args:a+"; ERROR="+c.message+";",data:{entriesToReport:e,error:c,framesToPop:d,stack:f},date:Date.now(),event:l(b,"[]"),level:"error"}}var n=[],o=[],p=5,q=0,r=!1,s=function(){n.length=0},t=function(a){a=y(a);o.length<p?o.push(a):o[q%p]=a;q=(q+1)%p},u=function(a){var c=[],d=0;while(d<a){var e=((q-d-1)%p+p)%p;e=o[e];c.push(e);d++}return(h||(h=b("Promise"))).resolve(c)},v=function(a,b){n.push({context:a,logEntry:b}),t({context:a,logEntry:b}),n.length>i?c("promiseDone")(w()):x()},w=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){r=!0;try{var a=[].concat(n);s();yield z(a)}catch(a){}r=!1});return function(){return a.apply(this,arguments)}}(),x=c("throttle")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(r)return;r=!0;try{var a=[].concat(n);s();yield z(a)}catch(a){}r=!1}),f),y=function(a){var b=a.context;a=a.logEntry;return Object.entries(a).reduce(function(a,b){var c=b[0];b=b[1];a[c]=k(b);return a},babelHelpers["extends"]({},a,{category:b+"-"+c("pageID")}))},z=d("MAWLogIndexedDb").makeLogMsgrTransactor("logs",d("MAWTransactionMode").READWRITE)(function(a,b){var d=new(c("Deferred"))(),e=a();b.forEach(function(a){e.add(y(a))});e.transaction.oncomplete=function(){return d.resolve()};e.transaction.onerror=function(a){return d.reject(a)};return d.getPromise()});f=d("MAWLogIndexedDb").makeLogMsgrTransactor("logs",d("MAWTransactionMode").READONLY)(function(a){var b=new(c("Deferred"))();a=a();a=a.getAll();a.onsuccess=function(a){a=a.target.result;a=a.slice(Math.max(0,a.length-j));b.resolve(a)};a.onerror=function(a){return b.reject(a)};return b.getPromise()});var A=function(a){if(a<=o.length)return u(a);else return B(a)},B=d("MAWLogIndexedDb").makeLogMsgrTransactor("logs",d("MAWTransactionMode").READONLY)(function(a,b){var d=new(c("Deferred"))();a=a();a=a.index("date");a=a.openCursor(null,"prev");var e=[];a.onsuccess=function(a){a=a.target.result;if(a==null){d.resolve(e);return}e.push(a.value);if(e.length>=b){d.resolve(e);return}a["continue"]()};a.onerror=function(a){return d.reject(a)};return d.getPromise()});g.joinTags=l;g.formatLog=a;g.formatErrorForLogging=e;g.clearLogEntryCache=s;g.saveLogEntry=v;g.forceCachedLogEntryPersist=w;g.getEntries=f;g.getLastNEntries=A}),98);
__d("MAWDeleteOldLogsFromDisk",["Deferred","MAWLogIndexedDb","MAWSaveLogToDisk","MAWTransactionMode","WALogger","asyncToGeneratorRuntime","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to delete old logs: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to delete old logs: ",""]);j=function(){return a};return a}var k=c("justknobx")._("1400"),l=c("justknobx")._("1401"),m=c("justknobx")._("1402"),n=(f=d("MAWLogIndexedDb")).makeLogMsgrTransactor("logs",(h=d("MAWTransactionMode")).READONLY)(function(a){var b=new(c("Deferred"))();a=a();a=a.count();a.onsuccess=function(a){a=a.target.result;b.resolve(a)};a.onerror=function(a){b.reject(a)};return b.getPromise()}),o=f.makeLogMsgrTransactor("logs",h.READONLY)(function(a,b){var d=new(c("Deferred"))();a=a();var e=[];a=a.index("date");a=a.openCursor();a.onsuccess=function(a){a=a.target.result;if(a==null||!b(a.value,e)){d.resolve(e);return}e.push(a.value.id);a["continue"]()};a.onerror=function(a){d.reject(a)};return d.getPromise()}),p=f.makeLogMsgrTransactor("logs",h.READWRITE)(function(a){var b=new(c("Deferred"))();a=a();a=a.clear();a.onsuccess=function(){return b.resolve()};a.onerror=function(a){return b.reject(a)};d("MAWSaveLogToDisk").clearLogEntryCache();return b.getPromise()}),q=f.makeLogMsgrTransactor("logs",h.READWRITE)(function(a,b){var d=new(c("Deferred"))(),e=a();b.forEach(function(a){return e["delete"](a)});e.transaction.oncomplete=function(){return d.resolve()};e.transaction.onerror=function(a){return d.reject(a)};return d.getPromise()});function r(a,b){b=Date.now()-m;return a!=null&&a.date<=b}function s(a){return function(b,c){return c.length<a}}function a(){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield n());if(a===0)return;a=a-l;if(a>0){a=(yield o(s(a)));yield q(a);return}a=(yield o(r));a.length>0&&(yield q(a))}catch(a){d("WALogger").ERROR(j(),a)}});return t.apply(this,arguments)}function e(){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield n());if(a===0)return;if(a>=k){yield p();return}}catch(a){d("WALogger").ERROR(i(),a)}});return u.apply(this,arguments)}g.clearLogs=p;g.deleteOldLogs=a;g.deleteOldLogsOnStartup=e}),98);
__d("WATimeUtils",["Promise","WAHex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=60,j=5*i,k=60*i,l=24*k,m=7*l,n=365*l,o=60*1e3,p=k*1e3,q=24*p,r=7*q,s=1<<31,t=~s,u=s+1,v={time:0,day:-4},w=0;function a(){return w}function c(a){w=a}function e(a){return W(a).toUTCString()}function x(a){a=a|0;return Math.max(u,Math.min(a,t))}function y(a){return x(a/1e3)}function f(a){if(typeof a!=="number")if(d("WAHex").hexLongIsNegative(a))return u;else return t;else return x(a)}function z(a){if(typeof a!=="number")if(d("WAHex").hexLongIsNegative(a))return u;else return t;else return C(a)}function A(a){return a==null?a:a>t?y(a):x(a)}function B(){return C(Z()-w*1e3)}function C(a){return a}function D(a){return a}function E(a){return C(a*1e3)}function F(a,b){var c=K();a=Math.max(a+b-c,0);return Math.min(1e3*a,~(1<<31))}function G(a,b){b=b!=null?b:K();return x(Math.ceil(b+Math.max(a,0)))}function H(a,b){b=b!=null?b:K();return x(Math.ceil(b-Math.max(a,0)))}function I(a){a=Math.max(a-K(),0);return Math.min(1e3*a,~(1<<31))}function J(a){var c=I(a);return new(h||(h=b("Promise")))(function(a){return void setTimeout(a,c)})}function K(){return x(Date.now()/1e3-w)}function L(){return x(Date.now()/1e3)}function M(){return x(new Date().setHours(0,0,0,0)/1e3-w)}function N(){return Date.now()-w*1e3}function O(a){return Math.max(a-K(),0)}function P(a){return O(a)>0}function Q(){return performance.now()}function R(a){return Math.floor(performance.now()-a)}function S(a,b){return a<b?a:b}var T=function(){function a(){var a=Q();this.$1=a;this.$2=a}var b=a.prototype;b.reset=function(){this.$2=Q()};b.elapsed=function(){return R(this.$2)};b.cumulative=function(){return R(this.$1)};return a}();function U(a,b,c){return Math.abs(a-b)<=c}function V(a,b){return U(K(),a,b)}function W(a){return new Date(a*1e3)}function X(a,b){if(Math.abs(a-b)>l)return!1;a=v.time===a?v.day:W(a+w).getDay();var c=v.time===b?v.day:W(b+w).getDay();v.time=b;v.day=c;return a===c}function Y(a){a=Number.parseInt(a,16);return Number.isFinite(a)?new Date(x(a)*1e3):null}function Z(){return Date.now()}function $(a){a=new Date(a);return isNaN(a)?null:y(a.getTime())}function aa(a,b){a=Math.abs(a-b);return Math.ceil(a/q)}g.MINUTE_SECONDS=i;g.FIVE_MINUTES=j;g.HOUR_SECONDS=k;g.DAY_SECONDS=l;g.WEEK_SECONDS=m;g.YEAR_SECONDS=n;g.MINUTE_MILLISECONDS=o;g.HOUR_MILLISECONDS=p;g.DAY_MILLISECONDS=q;g.WEEK_MILLISECONDS=r;g.DEFAULT_UNIXTIME=s;g.MAX_INT=t;g.getClockSkew=a;g.setClockSkew=c;g.toHttpHeaderDate=e;g.castToUnixTime=x;g.castMilliSecondsToUnixTime=y;g.castLongIntToUnixTime=f;g.castLongIntToMillisTime=z;g.castMillisTimeToUnixTime=A;g.millisTime=B;g.castToMillisTime=C;g.fromMillisTime=D;g.castUnixTimeToMillisTime=E;g.timeoutFor=F;g.futureUnixTime=G;g.pastUnixTime=H;g.cappedMillisecondsUntil=I;g.delayUntil=J;g.unixTime=K;g.unixTimeWithoutClockSkewCorrection=L;g.midnight=M;g.unixTimeMs=N;g.secondsUntil=O;g.isInFuture=P;g.monotonicTime=Q;g.monotonicTimeSince=R;g.oldest=S;g.MonotonicTimer=T;g.happenedWithinAt=U;g.happenedWithin=V;g.toDate=W;g.sameDay=X;g.convertHexToDate=Y;g.performanceAbsoluteNow=Z;g.convertISO8601DateFormatToUnixTime=$;g.daysDiff=aa}),98);
__d("MAWEARGenNewKeychainCryptoKey",["FBLogger","MAWCryptoConsts","MAWKeychainCrypto","MAWWebInitDataHelpers","MessengerWebInitData","WATimeUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a,b=d("MAWWebInitDataHelpers").getLastAccountKeyFormatVersion(),e=(yield (a=d("MAWKeychainCrypto")).getAccountKey(b)),f=a.genBrowserEncryptionKeyString(),g=a.genDatabaseEncryptionSeed();e=(yield a.encryptDataToStringBuffer(e,g));g=d("WATimeUtils").castToUnixTime(d("WATimeUtils").unixTime()+d("MAWCryptoConsts").ENC_KEY_TTL);return{accountKeyString:yield a.generateHashString(d("MAWWebInitDataHelpers").getAccountKeyString(b)),appIdOrigin:c("MessengerWebInitData").appId,expiration:g,formatVersion:b,key:f,seed:e,userKeyBaseString:yield a.generateHashString(c("MessengerWebInitData").userKeyBase)}}catch(a){throw c("FBLogger")("messenger_e2ee_web").catching(a).mustfixThrow("Failed to generateNewKey")}});return h.apply(this,arguments)}g["default"]=a}),98);
__d("MAWEARKeychainDecryptionError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.name="MAWEARKeychainDecryptionError";c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f["default"]=a}),66);
__d("MAWIndexedDBDeletion",["CurrentMessengerUser","FBLogger","MAWIndexedDbMetadata","Promise","asyncToGeneratorRuntime","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,d){return indexedDB==null||a==null?(h||(h=b("Promise"))).resolve():new(h||(h=b("Promise")))(function(b,e){var f=indexedDB.deleteDatabase(a);f.onsuccess=function(){c("FBLogger")("maw_db").warn("%s db was deleted",d),b()};f.onblocked=function(){c("recoverableViolation")("Cannot delete "+d+" db: blocked","maw_db"),b()};f.onerror=function(){c("recoverableViolation")("Cannot delete "+d+" db","maw_db"),e(f.error)}})}function a(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("CurrentMessengerUser").getID();yield (h||(h=b("Promise"))).all([i(d("MAWIndexedDbMetadata").dbName(a),"maw_v1"),i(d("MAWIndexedDbMetadata").restoreDbName2(a),"maw_v3"),i(d("MAWIndexedDbMetadata").jobsDbName(a),"signal"),i(d("MAWIndexedDbMetadata").logDbName(a),"logDb")])});return j.apply(this,arguments)}g.deleteDB=i;g.deleteMAWPersistence=a}),98);
__d("MAWEncryptedBackupsPersistedDB",["EBSMGating","EBSMProperties","FBLogger","LSMetadata","MAWCurrentUser","MAWIndexedDBDeletion","MAWIndexedDbMetadata","MWEBODSCategory","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","ODS","Promise","QPLUserFlow","WALoggerDeferred","err","justknobx","qex","qpl","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] EB state DB upgrade needed"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] EBSM upgrade failed: ",". Falling back to ephemeral LSDB"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] EB state DB onVersionChange: closing the db"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] EB state DB initialization successsful"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] EB state DB initialization: db blocked"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] EB state DB initialization failed"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Initializing EB state DB"]);p=function(){return a};return a}var q=null,r=c("justknobx")._("2243");function a(){if(q==null)throw c("err")("EB state IndexedDB should've been initialized");return q}var s=(i||(i=b("Promise"))).resolve();function e(){return s}function f(a){a===void 0&&(a=!1);return!a&&!d("EBSMGating").isPersistedEBTableEnabled()?(i||(i=b("Promise"))).resolve():(i||(i=b("Promise"))).resolve().then(function(){if(q==null){c("QPLUserFlow").start(c("qpl")._(521471732,"1454"));(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_IDB,c("MWEBODSEntityKey.enum").START);void d("WALoggerDeferred").LOG(p());var a=indexedDB.open(d("MAWIndexedDbMetadata").ebLSDBName(d("MAWCurrentUser").getID()),c("EBSMProperties").dbVersion);return new(i||(i=b("Promise")))(function(e,f){a.onerror=function(a){c("QPLUserFlow").endFailure(c("qpl")._(521471732,"1454"),"EB state idb initialization failed"),void d("WALoggerDeferred").ERROR(o()),c("QPLUserFlow").endFailure(c("qpl")._(521477507,"1406"),"Initialisation failed. Reached onerror."),c("FBLogger")("labyrinth_web").catching(a).mustfix("[labyrinth_web] EBSM idb init failed: %s",a),(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_IDB,c("MWEBODSEntityKey.enum").FAIL),f(a)},a.onblocked=function(){void d("WALoggerDeferred").LOG(n()),(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_IDB,"blocked")},a.onsuccess=function(a){var b=a.target.result;void d("WALoggerDeferred").LOG(m());b.onversionchange=function(){void d("WALoggerDeferred").LOG(l()),b.close()};q=b;return s.then(function(){c("QPLUserFlow").endSuccess(c("qpl")._(521471732,"1454")),(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_IDB,c("MWEBODSEntityKey.enum").SUCCESS),e(b)})["catch"](function(a){void d("WALoggerDeferred").ERROR(k(),a.message),c("QPLUserFlow").endFailure(c("qpl")._(521471732,"1454"),"EB state idb upgrade failed"),(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_IDB,"upgrade.fail"),h.bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_IDB,c("MWEBODSEntityKey.enum").FAIL),e(null)})},a.onupgradeneeded=function(a){var e=a.target.result;a=new(i||(i=b("Promise")))(function(a,b){setTimeout(function(){b(c("err")("EBSM upgrade timeout"))},r)});var f=new i(function(a){c("QPLUserFlow").addPoint(c("qpl")._(521471732,"1454"),"eb_state_idb_upgrade_start",{data:{bool:{eb_state_upgrade:!0}}});void d("WALoggerDeferred").LOG(j());var b=Object.keys(d("LSMetadata").schema.tableNames);for(var f=0;f<b.length;f++){var g=b[f];c("EBSMProperties").persistedTables.has(g)&&!e.objectStoreNames.contains(g)&&e.createObjectStore(g,{autoIncrement:!0})}c("QPLUserFlow").addPoint(c("qpl")._(521471732,"1454"),"eb_state_idb_upgrade_end",{data:{bool:{eb_state_upgrade:!0}}});a()});s=i.race([f,a])}})}else return q})}function t(a){a=a.hasUserGivenAutoRestoreConsent;var b=a?["secure_encrypted_backups_epochs","secure_encrypted_backups_client_state"]:[];c("qex")._("926")&&b.push("occamadillo_most_recent_message_per_thread");c("qex")._("1375")&&b.push("auto_restore_opt_out");a=Array.from(c("EBSMProperties").persistedTables).filter(function(a){return!b.includes(a)});try{if(q!=null){var d=q.transaction(a,"readwrite");a.forEach(function(a){a=d.objectStore(a);a.clear()});d.oncomplete=function(){d.db.close()}}}catch(a){c("recoverableViolation")(a,"labyrinth_web")}}function u(){var a=d("MAWIndexedDbMetadata").ebLSDBName(d("MAWCurrentUser").getID());return d("MAWIndexedDBDeletion").deleteDB(a,"ebsm")}function v(a){if(q!=null){var c=q.transaction([a],"readwrite");a=c.objectStore(a);a.clear();c.oncomplete=function(){c.db.close()}}return(i||(i=b("Promise"))).resolve()}g.getEBLSDB=a;g.isDBBeingUpgraded=e;g.makeEBIDB=f;g.clearEBIDBNonPersistedRows=t;g.deleteEBIDB=u;g.clearEBSMTable=v}),98);
__d("WAWorkerGlobalScope",[],(function(a,b,c,d,e,f){"use strict";a=function(){if(typeof window!=="undefined")return window;return typeof globalThis!=="undefined"?globalThis:self}();f.workerGlobalScope=a}),66);
__d("MAWEncyptionIndexedDbV2",["BrowserLockManager","EARInitType","ExecutionEnvironment","FBLogger","IndexedDbPolyfills","MAWCurrentUser","MAWErrorObject","MAWIndexedDBDeletion","MAWIndexedDbMetadata","MAWQplProxy","MAWTransactionMode","Promise","QPLUserFlow","WAExceededStorageQuota","WALogger","WAWorkerGlobalScope","err","gkx","qpl","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Armadillo Web Remote Presence] MAW RP Initialising EAR"]);j=function(){return a};return a}b("IndexedDbPolyfills");var k="browserEncryptionMetaV2",l="version",m=1,n=null,o=null,p=null;function q(){return n}function a(){return n!=null}function r(a,e){e===void 0&&(e=0);var f=d("MAWCurrentUser").getID(),g=t(a);if(e>m){u(g,"ear_idb_retry_failed_max_reached");throw c("err")("Failed to create encryption DB after max retries")}if(n!=null){u(g,"ear_db_exists");return(i||(i=b("Promise"))).resolve()}if(indexedDB==null){u(g,"ear_idb_unavailable");throw c("err")("IndexedDB API not available")}u(g,"ear_db_open_start",{bool:{browserLockEnabled:c("BrowserLockManager")!=null}});return new(i||(i=b("Promise")))(function(b,i){try{p=d("MAWIndexedDbMetadata").encryptionDbName(f);var j=indexedDB.open(p),m=d("WAWorkerGlobalScope").workerGlobalScope.setTimeout(function(){i(c("err")("IndexedDB initialisation timeout in %s flow. openRequest: %s",String(a),(h||(h=c("ExecutionEnvironment"))).isInWorker?"true":"false",j.readyState))},1e4);j.onupgradeneeded=function(a){d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m);u(g,"ear_db_upgrade_start");a=a.target.result;if(!a.objectStoreNames.contains(k)){a=a.createObjectStore(k,{autoIncrement:!0,keyPath:"id"});a.createIndex(l,l,{unique:!0})}u(g,"ear_db_upgrade_end")};j.onblocked=function(){u(g,"ear_db_open_blocked"),d("WAWorkerGlobalScope").workerGlobalScope.setTimeout(function(){i(c("err")("EAR Open timed out while blocked"))},2e3)};j.onsuccess=function(f){var h=c("gkx")("4052");d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m);var j=f.target.result;if(h&&!j.objectStoreNames.contains(k)){d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m);j.close();if(p==null){u(g,"ear_idb_retry_failed_missing_db");return i(c("err")("Attempting to delete encryption DB but _dbName is null"))}var l=indexedDB.deleteDatabase(p);l.onerror=function(){u(g,"ear_idb_retry_failed_delete_failed");return i(c("err")("Failed to delete malformed encryption DB: "+l.error.message))};l.onsuccess=function(){r(a,e+1).then(b)["catch"](i)};return}j.onversionchange=function(){j.close(),c("FBLogger")("messenger_e2ee_web").info("EAR onversionchange triggered"),d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m),o==null?void 0:o()};u(g,"ear_db_open_end");n=j;b()};j.onerror=function(){u(g,"ear_db_open_error"),d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m),i(j.error)}}catch(a){u(g,"ear_db_error"),i(a)}})}function e(a){o=o==null?a:o}function f(a){var b=d("MAWTransactionMode").READWRITE===a?"readwrite":"readonly";a=function(a){return function(){var e=q();if(e==null)throw c("err")("Making EAR transactor without encryption db init");var f=e.transaction(k,b);d("WAExceededStorageQuota").listenToQuotaExceededError(f);var g=f.objectStore(k);for(var h=arguments.length,i=new Array(h),j=0;j<h;j++)i[j]=arguments[j];return a.apply(void 0,[g].concat(i))["catch"](function(a){a=d("MAWErrorObject").getErrorObject(a);throw c("unrecoverableViolation")("Error performing transaction in encryption transactor v2","maw_db",a?{error:a}:{})})}};return a}function s(){n!=null&&n.close();return d("MAWIndexedDBDeletion").deleteDB(p,"ear")}function t(a){switch(a){case c("EARInitType").EB_INIT:return c("qpl")._(521477507,"1406");case c("EARInitType").MAW_INIT:return c("qpl")._(25310776,"6155");case c("EARInitType").MAW_RP_INIT:d("WALogger").DEV(j());return c("qpl")._(25310776,"6155");case c("EARInitType").LS_INIT:return c("qpl")._(25305590,"1127")}}function u(a,b,e){(h||(h=c("ExecutionEnvironment"))).isInWorker?d("MAWQplProxy").sendQplPointThroughBridge(a,"worker_"+b,{annotations:e}):(c("QPLUserFlow").addPoint(a,b),e!=null&&c("QPLUserFlow").addAnnotations(a,e))}g.storeName=k;g.ENCRYPTION_MAW_STORES_INDEX=l;g.getEncryptionDB=q;g.isEncryptionDBInited=a;g.makeEncryptionDB=r;g.maybeSetEncryptionDbOnVersionChange=e;g.makeEncryptionMsgrTransactor=f;g.deleteEncryptionDB=s}),98);
__d("MAWWorkerSetupArgs",[],(function(a,b,c,d,e,f){"use strict";var g=null;function a(a){g=a}function b(){return g}f.setWorkerSetupArgs=a;f.getWorkerSetupArgs=b}),66);
__d("MAWGenKeychainCryptoKeyWithVersion",["ExecutionEnvironment","FBLogger","MAWCurrentUser","MAWEARKeychainDecryptionError","MAWKeychainCrypto","MAWWebInitDataHelpers","MAWWorkerSetupArgs","MessengerWebInitData","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,c,d,e,f,g){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,j,k,l){g===void 0&&(g=1);try{var m=(yield d("MAWKeychainCrypto").getAccountKey(g));a=(yield (i||(i=b("Promise"))).all([d("MAWKeychainCrypto").importBrowserEncryptionKey(a),new i(function(a,f){return d("MAWKeychainCrypto").decryptDataToArrayBuffer(m,e).then(a)["catch"](function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("MAWWebInitDataHelpers").getAccountKeyString(g);b=b!=null&&j!==(yield d("MAWKeychainCrypto").generateHashString(b));if(b)return f(new(c("MAWEARKeychainDecryptionError"))("Fail to decrypt seed with account key"));f(a)});return function(b){return a.apply(this,arguments)}}())})]));var n=a[0];a=a[1];n=(yield d("MAWKeychainCrypto").genDatabaseEncryptionKey(n,a));return{key:n,version:f}}catch(b){a=null;n=null;f=d("MAWWorkerSetupArgs").getWorkerSetupArgs();(h||(h=c("ExecutionEnvironment"))).isInWorker&&f!=null&&(a=f.userKeyBase===c("MessengerWebInitData").userKeyBase,n=f.fbId===d("MAWCurrentUser").getID());c("FBLogger")("maw_ear").catching(b).mustfix("Failed to genKeyWithVersion: accountKeyBackfilled = %s; accountKeyExists = %s; acccountKeyMatches = %s; userKeyBaseBackilled = %s; userKeyBaseExists = %s; userKeyBaseMatches = %s; appIdOrigin = %s; appIdInitData = %s; userIdMatches = %s; isInWorker = %s; userKeyBase_match_between_threads = %s; userId_match_between_threads = %s; formatVersion = %s;",j!=null,d("MAWWebInitDataHelpers").getAccountKeyString(g)!=null,j===(yield d("MAWKeychainCrypto").generateHashString(d("MAWWebInitDataHelpers").getAccountKeyString(g))),k!=null,c("MessengerWebInitData").userKeyBase!=null,k===(yield d("MAWKeychainCrypto").generateHashString(c("MessengerWebInitData").userKeyBase)),l,c("MessengerWebInitData").appId,d("MAWCurrentUser").getID()===String(c("MessengerWebInitData").userId),(h||(h=c("ExecutionEnvironment"))).isInWorker,a,n,g);throw b}});return j.apply(this,arguments)}g["default"]=a}),98);
__d("MWEARKeychainV3Errors",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.name="EARKeychainNotFoundError";c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.EARKeychainNotFoundError=a}),66);
__d("MWBroadcastChannelPolyfill",["FBLogger","LocalStorageWrapper","MessengerLogHistory","Random","recoverableViolation","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MessengerLogHistory").getInstance("client_init");function a(a){h.debug("[MWBroadcastChannelPolyfill] "+a)}function i(a){c("FBLogger")("messenger_browser_clients").mustfix(a)}var j={},k=d("LocalStorageWrapper").getStorage(a);function b(a){var b="$BroadcastChannel$"+a+"$",e=!1,f=function(a){if(a.storageArea!==k)return;var c=a.newValue;if(c==null||c==="")return;if(((a=a.key)==null?void 0:a.substring(0,b.length))!==b)return;var d=JSON.parse(c);(a=j[b])==null?void 0:a.forEach(function(a){a({data:d})})};window.addEventListener("storage",f);return{addEventListener:function(a,c){j[b]=j[b]||new Set(),j[b].add(c)},close:function(){if(e)return;e=!0;j={};window.removeEventListener("storage",f)},postMessage:function(a){if(e){c("recoverableViolation")("Broadcast channel is closed","ls_web_init");return}a=JSON.stringify(a);var f=b+String(Date.now())+"$"+String(c("Random").uint32());d("LocalStorageWrapper").setItemGuarded(k,f,a,i);c("setTimeout")(function(){d("LocalStorageWrapper").removeItemGuarded(k,f,i)},500)},removeEventListener:function(a,c){(a=j[b])==null?void 0:a["delete"](c)}}}g["default"]=b}),98);
__d("MWBroadcastChannel",["MWBroadcastChannelPolyfill"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return self.BroadcastChannel!=null?new self.BroadcastChannel(a):c("MWBroadcastChannelPolyfill")(a)}g.MWBroadcastChannel=a}),98);
__d("ReStoreTabNotifier",["CurrentMessengerUser","FBLogger","MWBroadcastChannel","MWLSIndexedDBName"],(function(a,b,c,d,e,f,g){"use strict";var h=d("CurrentMessengerUser").getIDorEIMU();function a(a){var b=d("MWBroadcastChannel").MWBroadcastChannel(a==="restore-table-"+h+"-"+d("MWLSIndexedDBName").dbName()?"mwChat-"+h:a);function e(a,d){try{b.postMessage([a,d])}catch(a){c("FBLogger")("messenger_browser_clients").catching(a).warn("Failed to broadcast changes")}}function f(a,c){b.addEventListener("message",function(b){b=b.data;var d=b[0];d===a&&c(b[1])})}return{onEventReceive:f,postMessage:e}}g["default"]=a}),98);
__d("MWEARKeychainV3",["ExecutionEnvironment","FBLogger","LSPlatformLsInitLog","MAWCryptoConsts","MAWCurrentUser","MAWEARGenNewKeychainCryptoKey","MAWEncyptionIndexedDbV2","MAWGenKeychainCryptoKeyWithVersion","MAWKeychainCrypto","MAWWebInitDataHelpers","MWEARKeychainV3Errors","MessengerWebInitData","Promise","ReStoreTabNotifier","WAResultOrError","WATimeUtils","asyncToGeneratorRuntime","err","getErrorSafe","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={accountKey:null,databaseEncryptionKeys:new Map(),latestVersion:d("MAWCryptoConsts").VERSION},k=babelHelpers["extends"]({},j),l="none";function a(){k=babelHelpers["extends"]({},j,{databaseEncryptionKeys:new Map()}),l="none"}var m="browserEncryptionMetaV2";function e(){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(l==="success"&&k.databaseEncryptionKeys.size!==0)return d("WAResultOrError").makeResult(o());var a=d("MAWCurrentUser").getID(),e=c("ReStoreTabNotifier")("channel-ear-keychain-v3-"+a);e==null?void 0:e.onEventReceive("notifyEarKeychain",w);d("LSPlatformLsInitLog").addPoint("ear_init_start");var f=[];try{d("LSPlatformLsInitLog").addPoint("ear_gen_key_start");var g=(yield c("MAWEARGenNewKeychainCryptoKey")());f=(yield new(i||(i=b("Promise")))(function(a,b){var h=t("readwrite"),i=h.objectStore(m).getAll();i.onerror=function(){return b(i.error)};i.onsuccess=function(){var j;f=s(i.result);if(!q(f))return a(f);var k=f.map(function(a){return a.version});j=(j=k[k.length-1])!=null?j:0;k.includes(j+1)&&c("FBLogger")("messenger_e2ee_web").mustfix("EAR version corruption: versions: %s",k.toString());var l=babelHelpers["extends"]({},g,{version:j+1});h.oncomplete=function(){f.push(babelHelpers["extends"]({},l,{id:l.version})),e.postMessage("notifyEarKeychain",l.version),d("LSPlatformLsInitLog").addPoint("ear_gen_key_end"),a(f)};var n=h.objectStore(m).put(l);n.onerror=function(){return b(c("FBLogger")("messenger_e2ee_web").catching(n.error).mustfixThrow("Failed to rotate EAR key"))}}}));d("LSPlatformLsInitLog").addPoint("ear_import_start");a=(yield i.all(f.map(function(a){return p(a).then(function(b){(a.accountKeyString==null||a.userKeyBaseString==null||a.appIdOrigin==null||a.formatVersion==null)&&(d("LSPlatformLsInitLog").addPoint("ear_import_entry_backfill"),c("promiseDone")(x(a)));return b})})));d("LSPlatformLsInitLog").addPoint("ear_import_end");for(a of a)k.databaseEncryptionKeys.set(a.version,a.key);v();d("LSPlatformLsInitLog").addPoint("ear_init_end");l="success";return d("WAResultOrError").makeResult(o())}catch(a){l="failure";d("LSPlatformLsInitLog").addPoint("ear_init_error");c("FBLogger")("messenger_e2ee_web").catching(c("getErrorSafe")(a)).mustfix("Failed to setup EAR Keychain V3");return d("WAResultOrError").makeError("keychain-setup-failure",a)}});return n.apply(this,arguments)}function o(){return k.latestVersion}function f(a){a===void 0&&(a=o());var b=k.databaseEncryptionKeys.get(a);if(b==null){c("promiseDone")(r(t("readonly")).then(function(b){var d=b.map(function(a){return a.version}).includes(a);c("FBLogger")("messenger_e2ee_web").info("EAR Keychain DB match found: %s. Version = %s. NumberVersions = %s",d,a,b.length)}));var e=o(),f=Array.from(k.databaseEncryptionKeys.keys());c("FBLogger")("messenger_e2ee_web").mustfix("EAR Key v%s was null. Latest version: %s has key: %s, keychain length: %s, currentLatestVersion: %s, init status %s, in worker %s",a,e,k.databaseEncryptionKeys.get(e)==null,k.databaseEncryptionKeys.size,Math.max.apply(Math,f),l,(h||(h=c("ExecutionEnvironment"))).isInWorker);throw new(d("MWEARKeychainV3Errors").EARKeychainNotFoundError)("EAR Key "+a+" was null.")}return{key:b,version:a}}function p(a){return c("MAWGenKeychainCryptoKeyWithVersion")(a.key,a.seed,a.version,a.formatVersion,a.accountKeyString,a.userKeyBaseString,a.appIdOrigin)}function q(a){return a.length===0||!d("WATimeUtils").isInFuture(a[a.length-1].expiration)}function r(a){return u(a.objectStore(m).getAll()).then(s)}function s(a){var b=a.find(function(a){return a.version===null});b!=null&&c("FBLogger")("messenger_e2ee_web").mustfix("EAR Keychain Rotation null version: fields nonnull: %s %s %s %s %s %s",b.id==null,b.key==null,b.seed==null,b.formatVersion==null,b.accountKeyString==null,b.userKeyBaseString==null);b=a.filter(function(a){return a.version!==null});return b.sort(function(a,b){return a.version-b.version})}function t(a){var b=d("MAWEncyptionIndexedDbV2").getEncryptionDB();if(b==null)throw c("err")("Encryption IndexDB should've been initialized");return b.transaction(m,a,{durability:"relaxed"})}function u(a){return new(i||(i=b("Promise")))(function(b,c){a.onsuccess=function(){return b(a.result)},a.onerror=function(){return c(a.error)}})}var v=function(){var a=Array.from(k.databaseEncryptionKeys.keys());a.length>0?k.latestVersion=Math.max.apply(Math,a):c("FBLogger")("messenger_e2ee_web").mustfix("EAR latest version does not exist")},w=function(a){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var b=(yield r(t("readonly"))).find(function(b){return b.version===a});if(b==null)throw c("err")("Notified new Ear Key but missing in DB");b=(yield p(b));k.databaseEncryptionKeys.set(b.version,b.key);v()}catch(a){return c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("Failed to handleNewVersion. In worker %s.",(h||(h=c("ExecutionEnvironment"))).isInWorker)}})())},x=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;b=(b=a.formatVersion)!=null?b:1;var e=(yield d("MAWKeychainCrypto").generateHashString(d("MAWWebInitDataHelpers").getAccountKeyString(b))),f=(yield d("MAWKeychainCrypto").generateHashString(c("MessengerWebInitData").userKeyBase)),g=t("readwrite");g.objectStore(m).put(babelHelpers["extends"]({},a,{accountKeyString:e,appIdOrigin:c("MessengerWebInitData").appId,formatVersion:b,userKeyBaseString:f}))});return function(b){return a.apply(this,arguments)}}();function y(){if(l==="success"){k.databaseEncryptionKeys.size===0&&c("FBLogger")("messenger_e2ee_web").mustfix("Keychain initialised but no keys present");return!0}return!1}g.resetKeychain__TEST_ONLY_DO_NOT_USE=a;g.init=e;g.getLatestVersion=o;g.getDbEncryptionKey=f;g.isKeychainInitialised=y}),98);
__d("MAWKeychain",["MWEARKeychainV3"],(function(a,b,c,d,e,f,g){"use strict";a={getDbEncryptionKey:d("MWEARKeychainV3").getDbEncryptionKey,getLatestVersion:d("MWEARKeychainV3").getLatestVersion,init:d("MWEARKeychainV3").init};g["default"]=a}),98);
__d("MAWLeakDetection",[],(function(a,b,c,d,e,f){"use strict";var g="[Vault] Vaulted string detected";function h(a){var b=/\d{10}##\d{10}/gm;return b.test(a)}function a(a){return h(a)?g:a}f.VAULTED_STRING_DETECTED=g;f.detectVaultedString=h;f.maybeReplaceVaultedString=a}),66);
__d("MAWLoggingSwitches",["gkx"],(function(a,b,c,d,e,f,g){"use strict";a=c("gkx")("503");g.removeLoggingFromBridge=a}),98);
__d("MAWUnrecoverableDbErrors",[],(function(a,b,c,d,e,f){"use strict";var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(babelHelpers.wrapNativeSuper(Error));e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="indexed_db_access_error",b)||babelHelpers.assertThisInitialized(c)}return b}(g);var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.name="ear_init_error",a)||babelHelpers.assertThisInitialized(c)}return a}(g),i=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.name="ebsm_hydration_error",a)||babelHelpers.assertThisInitialized(c)}return a}(g),j=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.name="wa_exceeded_storage_quota_error",a)||babelHelpers.assertThisInitialized(c)}return a}(g),k=null,l=new Set();function a(){return k}function b(a){k=a,l.forEach(function(b){return b(a)})}function c(a){return a==null?!1:a instanceof g}function d(a){l.add(a);return function(){return l["delete"](a)}}f.UnrecoverableDbError=g;f.IndexedDbAccessError=e;f.EarInitError=h;f.EbsmHydrationError=i;f.WAExceededStorageQuotaError=j;f.getError=a;f.setError=b;f.isUnrecoverableDbError=c;f.subscribe=d}),66);
__d("MNetRankType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNDEFINED_RANKING_TYPE:-1,INBOX_ACTIVE_NOW:0,MESSENGER_USER_SEARCH:1,MONTAGE_USER:2,BROADCAST_FLOW_TOP_CONTACTS:3,BROADCAST_FLOW_NEEDY_CONTACTS:4,MESSENGER_GROUP_SEARCH:5,RTC_TOP_CONTACTS:6,PSTN_TOP_CONTACTS:7,MESSENGER_NON_CONTACT_SEARCH:8,MESSENGER_SEARCH_BOOTSTRAP:9,ACTIVE_BEEPER:10,MONTAGE_AND_ACTIVE_NOW:11,MESSENGER_PAGE_SEARCH:12,MESSENGER_GAME_SEARCH:13,WWW_NULLSTATE:14,RTC_GROWTH:15,MESSENGER_OMNIPICKER_NULLSTATE:16,RTC_SEQUENTIAL_TOP_CONTACTS:17,MESSENGER_USER_SEARCH_NULLSTATE:18,MLITE_DIODE_PROMOTION:19,MESSENGER_PENDING_REQUEST:20,MESSENGER_CLOSE_CONNECTION:21,MESSENGER_MONTAGE_SEEN_SHEET:22,MESSENGER_OMNIPICKER_KEYPRESS:23,MESSENGER_NOTIF_QP_TARGETING_UPSELL_TYPE:24,CONTACT_TAB_ACTIVE_NOW:26,MESSENGER_UNIV_NULLSTATE_BLEND:27,MESSENGER_INBOX_THREADS:28,INBOX_ACTIVE_NOW_NO_BOOSTING:29,BROADCAST_FLOW_TOP_CONTACTS_FB_SHARE:30,BROADCAST_FLOW_TOP_CONTACTS_MESSENGER_SHARE:31,BROADCAST_FLOW_TOP_CONTACTS_EXTERNAL_SHARE:32,MESSENGER_TRENDING_STICKERS:33,MESSENGER_BROADCAST_FLOW_TOP_THREADS:34,MESSENGER_SENDS_28D:35,MESSENGER_ROOM_INVITE:36,MESSENGER_ROOM_INVITE_SEARCH:37,INBOX_ACTIVE_NOW_PREFETCH:38,MESSENGER_BLENDED_KEYPRESS:39,MESSENGER_BLENDED_NULLSTATE:40,MESSENGER_CARRIER_MESSAGING:41,MESSENGER_ROOM_INVITE_GROUP:42,MESSENGER_INBOX_BIRTHDAY_ITEM:43,INSTAGRAM_DIRECT_SEARCH_NULLSTATE:44,BROADCAST_FLOW_TOP_CONTACTS_AND_TOP_THREAD_FB_SHARE:45,BROADCAST_FLOW_TOP_THREADS_FB_SHARE:46,FB_H_SCROLL_RANKING:47,FB_MESSAGING_USER_SEARCH:48,FB_MESSAGING_USER_SEARCH_NULLSTATE:49,MESSENGER_ACTIVE_NOW_TRAY_ACTIVE_CC:50,MESSENGER_SHARE_SHEET:51,MESSENGER_COMMUNITY_TAB_UNJOINED_COMMUNITIES:52,MESSENGER_BCF_FREQUENTS:53,FB_ORIGINAL_PRIVATE_SHARING:54});f["default"]=a}),66);
__d("MWEBUseLocalStorage",["WALogger","WebStorage","getMWEncryptedBackupsIsLocalStorageSupported"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Encrypted Backups key "," written to local storage"]);i=function(){return a};return a}function a(a,b){a=a;b=(b=b)!=null?b:"true";if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var e;d("WALogger").LOG(i(),a);(e=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:e.setItem(a,b)}}function b(a){a=a;if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var b;(b=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:b.removeItem(a)}}function e(a){if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var b;a=a;return(b=(h||(h=c("WebStorage"))).getLocalStorageForRead())==null?void 0:b.getItem(a)}return null}function f(a){if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var b;a=a;return((b=(h||(h=c("WebStorage"))).getLocalStorageForRead())==null?void 0:b.getItem(a))!=null}return!0}g.mwEBCreateLocalStorageEntry=a;g.mwEBDeleteLocalStorageEntry=b;g.mwEBGetLocalStorageEntryValue=e;g.mwEBGetIsLocalStorageEntryValuePresent=f}),98);
__d("MWLocalStorageErrorHandler",["cr:3449"],(function(a,b,c,d,e,f,g){"use strict";function a(){b("cr:3449")&&b("cr:3449").clearLocalStorageBigValues()}g.onQuotaExceeded=a}),98);
__d("MWSetupDBEncryption",["BrowserLockManager","ExecutionEnvironment","FBLogger","MAWEncyptionIndexedDbV2","MAWKeychain","MWEARKeychainV3","Promise","WAResultOrError","asyncToGeneratorRuntime","getErrorSafe","gkx","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(a,b){return b()};function a(a){j=a}var k="mw_ear_db";function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{yield d("MAWEncyptionIndexedDbV2").makeEncryptionDB(a);return yield j("init_setup_keychain",function(){return c("MAWKeychain").init()})}catch(e){var b=e instanceof Error?e:c("getErrorSafe")(e);c("FBLogger")("messenger_e2ee_web").catching(b).mustfix("[%s] EAR setup error",String(a));return d("WAResultOrError").makeError("keychain-setup-failure",b)}});return m.apply(this,arguments)}function n(a){if(d("MAWEncyptionIndexedDbV2").getEncryptionDB()!=null&&d("MWEARKeychainV3").isKeychainInitialised())return(i||(i=b("Promise"))).resolve(d("WAResultOrError").makeResult(d("MWEARKeychainV3").getLatestVersion()));var e=c("gkx")("5522")?k.concat((h||(h=c("ExecutionEnvironment"))).isInWorker?"_worker":"_main"):k;if(c("BrowserLockManager")!=null)return new(i||(i=b("Promise")))(function(d,f){c("promiseDone")(c("BrowserLockManager").request(e,b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var b=(yield l(a));d(b)}catch(a){f(a)}})),function(a){},function(a){f(a)})});else return l(a)}function e(a,c){c===void 0&&(c=function(a){return!0});var d=null;return function(e){d==null&&(d=a(e).then(function(a){d=c(a)?(i||(i=b("Promise"))).resolve(a):null;return a})["catch"](function(a){d=null;throw a}));return d}}f=e(function(a){return n(a)},function(a){return(a==null?void 0:a.success)===!0});e=c("justknobx")._("2804")?f:n;g.setPerformanceMeasurementTool=a;g.init=e}),98);
__d("ReStoreDecryptionFailure",[],(function(a,b,c,d,e,f){"use strict";var g="ReStoreDecryptionFailure";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;b=b+" - Encrypted Restore was unable to decrypt an entity for table "+c;d=a.call(this,b)||this;d.message=b;d.name=g;d.tableName=c;return d}var c=b.prototype;c.getTableName=function(){return this.tableName};return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_NAME=g;f.ReStoreDecryptionFailure=a}),66);
__d("ReStoreEARSetupFailure",[],(function(a,b,c,d,e,f){"use strict";var g="Encryption keychain could not be setup",h="ReStoreEARSetupFailure";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;b=g+": "+b;c=a.call(this,b)||this;c.message=b;c.name=h;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_MESSAGE=g;f.ERROR_NAME=h;f.ReStoreEARSetupFailure=a}),66);
__d("ReStoreEvent",[],(function(a,b,c,d,e,f){"use strict";a=function(){};f["default"]=a}),66);
__d("ReStoreIndexedDbClosedEvent",["ReStoreEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.idb=b;d.error=c;return d}var c=b.prototype;c.getError=function(){return this.error};return b}(c("ReStoreEvent"));g["default"]=a}),98);
__d("ReStoreIndexedDbFailToOpenEvent",["ReStoreEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("ReStoreEvent"));g["default"]=a}),98);
__d("ReStoreIndexedDbUpgradedEvent",["ReStoreEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("ReStoreEvent"));g["default"]=a}),98);
__d("ReStoreLocalStorageQuotaExceed",["FBLogger","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h="Failed to execute 'setItem' on 'Storage'",i="ReStoreLocalStorageQuotaExceed";function j(){try{var a=window.localStorage,b=[],d=[];if(a!=null&&a.length!==0)for(var e in a){b.length===0&&d.length===0&&(e.includes("falco_queue_log")&&d.push(e));if(!Object.prototype.hasOwnProperty.call(a,e))continue;var f=((a[e]||"").length+e.length)*2;f/1024>2e3&&b.push(e)}c("FBLogger")("maw_db").mustfix(h+": QuotaExceeded - trying to clean up %s or %s",b.join(","),d.join(","));return b.length!==0?b:d}catch(a){c("FBLogger")("maw_db").mustfix("Error getting local storage big values for cleanup.");return[]}}function a(){try{var a=window.localStorage,b=j();b.forEach(function(b){a.removeItem(b)})}catch(a){c("recoverableViolation")("Couldn't remove vals from localStorage","maw_db",a)}}b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;b=h+": "+b+"; Keys to delete: "+j().join(",");c=a.call(this,b)||this;c.message=b;c.name=i;return c}return b}(babelHelpers.wrapNativeSuper(Error));g.ERROR_NAME=i;g.getLocalStorageValuesToRemoveOnExceed=j;g.clearLocalStorageBigValues=a;g.ReStoreLocalStorageQuotaExceed=b}),98);
__d("ReStoreUnexpectedlyClosed",[],(function(a,b,c,d,e,f){"use strict";a="ReStoreUnexpectedlyClosed";b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_NAME=a;f.ReStoreUnexpectedlyClosed=b}),66);
__d("WADevToolsBridge",["WADynamicRouterAsync"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("WADynamicRouterAsync").DynamicRouter)();function a(){return h}g.getDevToolBridge=a}),98);
__d("isSearchQualityEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("3283")}g["default"]=a}),98);
__d("promiseFromRequest",[],(function(a,b,c,d,e,f){"use strict";function a(a){return new self.Promise(function(b,c){a.onsuccess=function(a){b(a.target.result)},a.onerror=function(a){c(a)}})}f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("CacheStorage",["ErrorGuard","ExecutionEnvironment","WebStorage","cr:6943","cr:8958","emptyFunction","err","killswitch"],(function(a,b,c,d,e,f,g){var h,i,j,k="_@_",l="3b",m="CacheStorageVersion",n={length:0,getItem:a=c("emptyFunction"),setItem:a,clear:a,removeItem:a,key:a};d=function(){function a(a){this._store=a}var b=a.prototype;b.getStore=function(){return this._store};b.keys=function(){var a=[];for(var b=0;b<this._store.length;b++){var c=this._store.key(b);c!=null&&a.push(c)}return a};b.get=function(a){return this._store.getItem(a)};b.set=function(a,b){this._store.setItem(a,b)};b.remove=function(a){this._store.removeItem(a)};b.clear=function(){this._store.clear()};b.clearWithPrefix=function(a){a=a||"";var b=this.keys();for(var c=0;c<b.length;c++){var d=b[c];d!=null&&d.startsWith(a)&&this.remove(d)}};return a}();e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;return a.call(this,(b=(h||(h=c("WebStorage"))).getLocalStorage())!=null?b:n)||this}b.available=function(){return!!(h||(h=c("WebStorage"))).getLocalStorage()};return b}(d);g=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;return a.call(this,(b=(h||(h=c("WebStorage"))).getSessionStorage())!=null?b:n)||this}b.available=function(){return!!(h||(h=c("WebStorage"))).getSessionStorage()};return b}(d);var o=function(){function a(){this._store={}}var b=a.prototype;b.getStore=function(){return this._store};b.keys=function(){return Object.keys(this._store)};b.get=function(a){return this._store[a]===void 0?null:this._store[a]};b.set=function(a,b){this._store[a]=b};b.remove=function(a){a in this._store&&delete this._store[a]};b.clear=function(){this._store={}};b.clearWithPrefix=function(a){a=a||"";var b=this.keys();for(var c=0;c<b.length;c++){var d=b[c];d.startsWith(a)&&this.remove(d)}};a.available=function(){return!0};return a}(),p={memory:o,localstorage:e,sessionstorage:g};a=function(){function a(a,d){this._changeCallbacks=[];this._key_prefix="_cs_";this._exception=null;d&&(this._key_prefix=d);a==="AUTO"||!a?d="memory":d=a;d&&(!p[d]||!p[d].available()?((i||(i=c("ExecutionEnvironment"))).canUseDOM,this._backend=new o()):this._backend=new p[d]());a=this.useBrowserStorage();a&&b("cr:6943").listen(window,"storage",this._onBrowserValueChanged.bind(this));d=a?this._backend.getStore().getItem(m):this._backend.getStore()[m];d!==l&&(c("killswitch")("CACHE_STORAGE_MODULE_CLEAR_OWN_KEYS")?this.clear():this.clearOwnKeys())}var d=a.prototype;d.useBrowserStorage=function(){return this._backend.getStore()===(h||(h=c("WebStorage"))).getLocalStorage()||this._backend.getStore()===(h||(h=c("WebStorage"))).getSessionStorage()};d.addValueChangeCallback=function(a){var b=this;this._changeCallbacks.push(a);return{remove:function(){b._changeCallbacks.slice(b._changeCallbacks.indexOf(a),1)}}};d._onBrowserValueChanged=function(a){this._changeCallbacks&&String(a.key).startsWith(this._key_prefix)&&this._changeCallbacks.forEach(function(b){b(a.key,a.oldValue,a.newValue)})};d.keys=function(){var a=this,b=[];(j||(j=c("ErrorGuard"))).guard(function(){if(a._backend){var c=a._backend.keys(),d=a._key_prefix.length;for(var e=0;e<c.length;e++)c[e].substr(0,d)==a._key_prefix&&b.push(c[e].substr(d))}},{name:"CacheStorage"})();return b};d.set=function(d,e,f){if(this._backend){if(this.useBrowserStorage()&&a._persistentWritesDisabled){this._exception=c("err")("writes disabled");return!1}var g;typeof e==="string"?g=k+e:!f?(g={__t:Date.now(),__v:e},g=b("cr:8958").stringify(g)):g=b("cr:8958").stringify(e);f=this._backend;e=this._key_prefix+d;d=!0;var h=null;while(d)try{h=null,f.set(e,g),d=!1}catch(a){h=a;var i=f.keys().length;this._evictCacheEntries();d=f.keys().length<i}if(h!==null){this._exception=h;return!1}else{this._exception=null;return!0}}this._exception=c("err")("no back end");return!1};d.getLastSetExceptionMessage=function(){return this._exception?this._exception.message:null};d.getLastSetException=function(){return this._exception};d.getStorageKeyCount=function(){var a=this._backend;return a?a.keys().length:0};d._evictCacheEntries=function(){var c=[],d=this._backend;d.keys().forEach(function(e){if(e===m)return;var g=d.get(e);if(g===void 0){d.remove(e);return}if(a._hasMagicPrefix(g))return;try{g=b("cr:8958").parse(g,f.id)}catch(a){d.remove(e);return}g&&g.__t!==void 0&&g.__v!==void 0&&c.push([e,g.__t])});c.sort(function(a,b){return a[1]-b[1]});for(var e=0;e<Math.ceil(c.length/2);e++)d.remove(c[e][0])};d.get=function(d,e){var g;if(this._backend){(j||(j=c("ErrorGuard"))).applyWithGuard(function(){g=this._backend.get(this._key_prefix+d)},this,[],{onError:function(){g=null},name:"CacheStorage:get"});if(g!=null)if(a._hasMagicPrefix(g))g=g.substr(k.length);else try{g=b("cr:8958").parse(g,f.id),g&&g.__t!==void 0&&g.__v!==void 0&&(g=g.__v)}catch(a){g=void 0}else g=void 0}g===void 0&&e!==void 0&&(g=e,this.set(d,g));return g};d.remove=function(a){this._backend&&(j||(j=c("ErrorGuard"))).applyWithGuard(this._backend.remove,this._backend,[this._key_prefix+a],{name:"CacheStorage:remove"})};d._setVersion=function(){var a=this;(j||(j=c("ErrorGuard"))).applyWithGuard(function(){a.useBrowserStorage()?a._backend.getStore().setItem(m,l):a._backend.getStore()[m]=l},this,[],{name:"CacheStorage:setVersion"})};d.clear=function(){this._backend&&((j||(j=c("ErrorGuard"))).applyWithGuard(this._backend.clear,this._backend,[],{name:"CacheStorage:clear"}),this._setVersion())};d.clearOwnKeys=function(){this._backend&&((j||(j=c("ErrorGuard"))).applyWithGuard(this._backend.clearWithPrefix,this._backend,[this._key_prefix],{name:"CacheStorage:clearOwnKeys"}),this._setVersion())};a.getAllStorageTypes=function(){return Object.keys(p)};a._hasMagicPrefix=function(a){return a.substr(0,k.length)===k};a.disablePersistentWrites=function(){a._persistentWritesDisabled=!0};return a}();a._persistentWritesDisabled=!1;f.exports=a}),34);
__d("CometFeedStoriesStrategyErrorsTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:CometFeedStoriesStrategyErrorsLoggerConfig")}),null);
__d("CometFeedUnitLoadingIndicatorMask.react",["CometProgressIndicator.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(){var a=i(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx("div",{className:"x6s0dn4 x1h0vfkc x1ey2m1c x78zum5 xdt5ytf xds687c x17qophe xl56j7k x10l6tqk x13vifvy x1vjfegm",children:j.jsx(c("CometProgressIndicator.react"),{})}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("CrossWindowEventEmitter",["CacheStorage","EventEmitter","cr:8958"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(d,a);function d(d){var e;e=a.call(this)||this;e.$CrossWindowEventEmitter2=d;e.$CrossWindowEventEmitter1=new(c("CacheStorage"))("localstorage",d+":");e.$CrossWindowEventEmitter1.addValueChangeCallback(function(c,d,f){d=c.split(":")[1];try{c=b("cr:8958").parse(f)}catch(a){c=void 0}if(c&&c.__v){(f=a.prototype.emit).call.apply(f,[babelHelpers.assertThisInitialized(e),d].concat(c.__v))}});return e}var e=d.prototype;e.emit=function(b){var c;for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];this.emitRemote.apply(this,[b].concat(e));(c=a.prototype.emit).call.apply(c,[this,b].concat(e))};e.emitRemote=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$CrossWindowEventEmitter1.set(a,c)};return d}(c("EventEmitter"));g["default"]=a}),98);
__d("EventListenerImplForCacheStorage",["CometEventListener"],(function(a,b,c,d,e,f){"use strict";f["default"]=b("CometEventListener")}),66);
__d("IrisSubscribeCheckerUtils",[],(function(a,b,c,d,e,f){"use strict";function a(){if(typeof window!=="undefined"){var a;a=(a=window.location)==null?void 0:a.hostname;if(a==="m.facebook.com"||a==="mobile.facebook.com"||a==="mtouch.facebook.com")return!1}return!0}f.getIrisSubscribeCheckerInitialRunningState=a}),66);
__d("MqttEnvWebSocket",[],(function(a,b,c,d,e,f){"use strict";function a(a){return new WebSocket(a)}f.createWebSocket=a}),66);
__d("MqttEnv",["MqttEnvWebSocket","clearTimeout","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";b=Object.freeze({mqtt_waterfall_log_client_sampling:1,mqtt_ws_polling_enabled:3,mqtt_lp_use_fetch:9,mqtt_fast_lp:11,mqtt_lp_no_delay:12,mqtt_enable_publish_over_polling:13,mqttweb_global_connection_counter:15});e=function(){var a=b.prototype;a.random=function(){return this.$1!=null?this.$1():Math.random()};a.isUserLoggedInNow=function(){return this.$2!=null?this.$2():!0};a.setIsUserLoggedInNow=function(a){this.$2=a};a.clearTimeout=function(a){if(this.$3!=null){this.$3(a);return}c("clearTimeout")(a)};a.setTimeout=function(a,b){for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];return this.$4!=null?this.$4.apply(null,arguments):c("setTimeout").apply(null,arguments)};a.getLoggerInstance=function(){return this.$5!=null?this.$5():h.getInstance()};a.genGk=function(a){return this.$6!=null?this.$6(a):!1};a.createSocket=function(a,b){return this.$7!=null?this.$7(a,b):d("MqttEnvWebSocket").createWebSocket(a)};a.scheduleCallback=function(a){return this.$8!=null?this.$8(a):a()};a.scheduleLoggingCallback=function(a){return this.$9!=null?this.$9(a):a()};a.configRead=function(a,b){return this.$10!=null?this.$10(a,b):b};a.configWrite=function(a,b){this.$11!=null&&this.$11(a,b)};function b(){this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,this.$6=null,this.$7=null,this.$8=null,this.$9=null,this.$10=null,this.$11=null}a.initialize=function(a,b,c,d,e,f,g,h,i,j,k){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e,this.$6=f,this.$7=g,this.$8=h,this.$9=i,this.$10=j,this.$11=k};return b}();var h=function(){function a(){}a.getInstance=function(){return new a()};var b=a.prototype;b.setAppId=function(a){};b.eventLogConnect=function(a){};b.eventLogPull=function(a){};b.eventLogPullFinish=function(a){};b.eventLogDisconnect=function(a){};b.eventLogOutgoingPublish=function(a){};b.eventLogIncomingPublish=function(a){};b.eventLogPublishTimeout=function(a){};b.eventLogMiscellaneousError=function(a){};b.logIfLoggedOut=function(){};b.logError=function(a){};b.logErrorWarn=function(a){};b.logWarn=function(a){};b.debugTrace=function(a){};b.bumpCounter=function(a){};b.getBrowserConnectivity=function(){return!0};return a}(),i=new e();function a(a){i.setIsUserLoggedInNow(a)}g.MqttGkNames=b;g.Env=i;g.setIsUserLoggedInNow=a}),98);
__d("IrisSubscribeChecker",["IrisSubscribeCheckerUtils","MqttEnv"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=d("MqttEnv").Env.getLoggerInstance(),this.$2=null,this.$3=!1,this.$4=!1,this.$5=!1,this.$6=d("IrisSubscribeCheckerUtils").getIrisSubscribeCheckerInitialRunningState(),this.$7=0,this.$8=a}var b=a.prototype;b.start=function(){this.$6=!0};b.stop=function(){this.$6=!1,this.$9()};b.onConnectAttempt=function(){};b.onConnectFailure=function(){this.$9()};b.onConnected=function(){var a=this;this.$7++;this.$9();this.$3=!1;this.$4=!1;this.$5=!1;this.$6&&(this.$2=d("MqttEnv").Env.setTimeout(function(){a.$10()},8e3))};b.onConnectSuccess=function(){};b.onConnectionLost=function(){this.$9()};b.onConnectionDisconnect=function(){};b.onSubscribe=function(a){a==="/t_ms"&&(this.$3=!0)};b.onUnsubscribe=function(a){};b.onPublish=function(a){(a==="/messenger_sync_get_diffs"||a==="/messenger_sync_create_queue")&&(this.$4=!0,this.$3&&(this.$5=!0,this.$9()))};b.onMessage=function(a){};b.onWSFatal=function(){};b.$9=function(){this.$2&&(d("MqttEnv").Env.clearTimeout(this.$2),this.$2=null)};b.$10=function(){if(this.$4===!1){var a=this.$7==1?"no_iris_session_initialConnect":"no_iris_session";this.$1.bumpCounter(a);this.$8()?this.$1.bumpCounter(a+".withProvider"):this.$1.bumpCounter(a+".withoutProvider");this.$3===!0?this.$1.bumpCounter(a+".withTopicSubscribe"):this.$1.bumpCounter(a+".withoutTopicSubscribe")}this.$3===!1&&this.$1.bumpCounter("no_iris_topic_subscribe");this.$3===!0&&this.$4===!0&&this.$5===!1&&this.$1.bumpCounter("session_before_topic_subscribe")};return a}();g["default"]=a}),98);
__d("MqttGlobalStreamCounter",["CrossWindowEventEmitter","MqttEnv","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){var a=this;this.isTabClosed=!1;this.otherTabs=new Map();this.thisTab={totalConnectionStreams:0};this.broadcastChannel=new(c("CrossWindowEventEmitter"))("MqttGlobalStreamCounter");this.broadcastChannel.addListener("count-updated",function(b){b=JSON.parse(String(b));var c=!1;a.otherTabs.has(b.key)||(c=!0);b.event==="DELETE"?a.otherTabs["delete"](b.key):b.event==="UPDATE"&&b.value!=null&&(a.otherTabs.set(b.key,b.value),c&&a.$1())});this.tabID=c("uuidv4")()}var b=a.prototype;b.streamRequested=function(){this.thisTab.totalConnectionStreams++,this.$1()};b.streamClosed=function(){this.thisTab.totalConnectionStreams>0&&(this.thisTab.totalConnectionStreams--,this.$1())};b.tabClosed=function(){if(this.isTabClosed)return;this.isTabClosed=!0;var a={key:this.tabID,event:"DELETE"};this.broadcastChannel.emitRemote("count-updated",JSON.stringify(a))};b.getGlobalState=function(){var a={totalConnectionStreams:this.thisTab.totalConnectionStreams};this.otherTabs.forEach(function(b){a.totalConnectionStreams+=b.totalConnectionStreams});return a};b.$1=function(){var a={key:this.tabID,event:"UPDATE",value:this.thisTab};this.broadcastChannel.emitRemote("count-updated",JSON.stringify(a))};b.isEnabled=function(){return!0};return a}();var h=d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqttweb_global_connection_counter)?new a():{streamRequested:function(){},streamClosed:function(){},tabClosed:function(){},getGlobalState:function(){return{totalConnectionStreams:-1}},isEnabled:function(){return!1}};b=function(){return h};g.getInstance=b}),98);
__d("MqttAnalyticsHook",["MqttEnv","MqttGlobalStreamCounter"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=d("MqttEnv").Env.getLoggerInstance(),this.$2=d("MqttGlobalStreamCounter").getInstance(),this.$3=0,this.$4=0,this.$5=0,this.$6=0,this.$1.bumpCounter("session_start"),d("MqttEnv").Env.isUserLoggedInNow()||this.$1.bumpCounter("session_start.logout")}var b=a.prototype;b.onConnectAttempt=function(){this.$1.bumpCounter("ws_connect_attempt"),this.$2.streamRequested()};b.onConnectFailure=function(){this.$4++,this.$1.bumpCounter("ws_connect_failure"),this.$1.debugTrace("connect","Connect failed existing streams count "+this.$2.getGlobalState().totalConnectionStreams),this.$2.streamClosed()};b.onConnected=function(){this.$1.bumpCounter("ws_connect_connected")};b.onConnectSuccess=function(){this.$3===0&&this.$1.bumpCounter("ws_connect_first_success"),this.$3++,this.$1.bumpCounter("ws_connect_success")};b.onConnectionLost=function(){this.$1.bumpCounter("ws_disconnect")};b.onConnectionDisconnect=function(){this.$2.streamClosed()};b.onSubscribe=function(a){};b.onUnsubscribe=function(a){};b.onPublish=function(a){this.$1.bumpCounter("ws_publish."+a)};b.onMessage=function(a){this.$1.bumpCounter("message_arrived."+a)};b.onWSFatal=function(){this.$1.bumpCounter("ws_fatal")};b.onPollRequestSent=function(){this.$1.bumpCounter("polling_request_send"),this.$2.streamRequested()};b.onPollRequestSuccess=function(){this.$1.bumpCounter("polling_request_succeed"),this.$5===0&&this.$1.bumpCounter("polling_first_success"),this.$5++};b.onPollResponse=function(a){this.$1.bumpCounter("lp.message_arrived."+a)};b.onPollFinish=function(){this.$1.bumpCounter("polling_request_finish"),this.$2.streamRequested()};b.onPollRequestFailed=function(a){this.$1.bumpCounter("polling_request_failed"),this.$1.bumpCounter("polling_request_failed_"+a),this.$6++,this.$1.debugTrace("PollRequest","Request failed existing streams count "+this.$2.getGlobalState().totalConnectionStreams),this.$2.streamClosed()};b.onPollShutdownAbort=function(){this.$2.streamClosed()};b.onTabClose=function(){this.$2.tabClosed()};return a}();g["default"]=a}),98);
__d("MqttConnectionHookCollection",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.addHook=function(a){this.$1.add(a)};b.removeHook=function(a){this.$1["delete"](a)};b.onConnectAttempt=function(){this.$1.forEach(function(a){a.onConnectAttempt()})};b.onConnectFailure=function(){this.$1.forEach(function(a){a.onConnectFailure()})};b.onConnected=function(){this.$1.forEach(function(a){a.onConnected()})};b.onConnectSuccess=function(){this.$1.forEach(function(a){a.onConnectSuccess()})};b.onConnectionLost=function(){this.$1.forEach(function(a){a.onConnectionLost()})};b.onConnectionDisconnect=function(){this.$1.forEach(function(a){a.onConnectionDisconnect()})};b.onSubscribe=function(a){this.$1.forEach(function(b){b.onSubscribe(a)})};b.onUnsubscribe=function(a){this.$1.forEach(function(b){b.onUnsubscribe(a)})};b.onPublish=function(a){this.$1.forEach(function(b){b.onPublish(a)})};b.onMessage=function(a){this.$1.forEach(function(b){b.onMessage(a)})};b.onWSFatal=function(){this.$1.forEach(function(a){a.onWSFatal()})};return a}();f["default"]=a}),66);
__d("MqttProtocolUtils",["MqttEnv"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a==null)return b;var c=new Uint8Array(a.length+b.length);c.set(a);c.set(b,a.length);return c}function b(a,b){b=b;var c=0,d=1,e;do{if(b===a.length)return null;e=a[b++];c+=(e&127)*d;d*=128}while((e&128)!==0);return{offset:b,value:c}}function c(a){a=a;var b=new Array(1);for(var c=0;c<4;c++){var d=a%128;a>>=7;if(a>0)b[c]=d|128;else{b[c]=d;break}}return b}function h(a,b,c){c=c;b[c++]=a>>8;b[c++]=a%256;return c}function e(a,b){return 256*a[b]+a[b+1]}function f(a){var b=0;for(var c=0,d=a.length;c<d;c++){var e=a.charCodeAt(c);e<128?b+=1:e<2048?b+=2:e>=55296&&e<=56319?(b+=4,c++):b+=3}return b}function i(a,b,c,d){d=h(b,c,d);j(a,c,d);return d+b}function j(a,b,c){c=c;for(var d=0,e=a.length;d<e;d++){var f=a.charCodeAt(d);f<128?b[c++]=f:f<2048?(b[c++]=192|f>>6,b[c++]=128|f&63):f<55296||f>=57344?(b[c++]=224|f>>12,b[c++]=128|f>>6&63,b[c++]=128|f&63):(f=65536+((f&1023)<<10|a.charCodeAt(++d)&1023),b[c++]=240|f>>18,b[c++]=128|f>>12&63,b[c++]=128|f>>6&63,b[c++]=128|f&63)}}function k(a,b,c){var d=[],e=b,f=0;while(e<b+c){var g=a[e++];if(g<128)d[f++]=String.fromCharCode(g);else if(g>191&&g<224){var h=a[e++];d[f++]=String.fromCharCode((g&31)<<6|h&63)}else if(g>239&&g<365){h=a[e++];var i=a[e++],j=a[e++];h=((g&7)<<18|(h&63)<<12|(i&63)<<6|j&63)-65536;d[f++]=String.fromCharCode(55296+(h>>10));d[f++]=String.fromCharCode(56320+(h&1023))}else{i=a[e++];j=a[e++];d[f++]=String.fromCharCode((g&15)<<12|(i&63)<<6|j&63)}}return d.join("")}var l=function(){function a(a,b,c,d){this.$1=a,this.$2=b,this.$5=c,this.$6=d,this.$4=!1}var b=a.prototype;b.$7=function(){var a=this;this.$4?(this.$4=!1,this.$5(),this.$3=d("MqttEnv").Env.setTimeout(function(){a.$7()},this.$2()*1e3)):this.$6()};b.reset=function(){var a=this;this.$4=!0;this.$3&&(d("MqttEnv").Env.clearTimeout(this.$3),this.$3=null);var b=this.$1()*1e3;b>0&&(this.$3=d("MqttEnv").Env.setTimeout(function(){a.$7()},b))};b.cancel=function(){this.$3&&(d("MqttEnv").Env.clearTimeout(this.$3),this.$3=null)};return a}();g.UTF8Length=f;g.convertStringToUTF8=j;g.concatBuffers=a;g.decodeMultiByteInt=b;g.convertUTF8ToString=k;g.encodeMultiByteInt=c;g.writeUInt16BE=h;g.readUInt16BE=e;g.writeString=i;g.Pinger=l}),98);
__d("MqttUtils",["MqttEnv"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h(a,"sid",b.toString())}function b(a,b){var c=a;b.forEach(function(a,b){c=h(c,b,a)});return c}function h(a,b,c){if(a.indexOf("?")>0)return a+"&"+b+"="+c;else return a+"?"+b+"="+c}function c(){return Math.floor(d("MqttEnv").Env.random()*Number.MAX_SAFE_INTEGER)}function i(a,b,c){var e=arguments.length>1?a.then(b,c):a;e.then(null,function(a){d("MqttEnv").Env.setTimeout(function(){if(a instanceof Error)throw a;else throw new Error("promiseDone")},0)})}function e(a,b,c,e){var f=!1;d("MqttEnv").Env.setTimeout(function(){f||(f=!0,c(new Error("promise timeout")))},e);i(a,function(a){f||(f=!0,b(a))},function(a){f||(f=!0,c(a))})}function f(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];var e=0;return a.replace(/%s/g,function(){return String(c[e++])})}g.endpointWithSessionId=a;g.endpointWithExtraParameters=b;g.endpointWithExtraParameter=h;g.generateSessionId=c;g.promiseDone=i;g.promiseDoneWithTimeout=e;g.sprintf=f}),98);
__d("MqttProtocolCodec",["MqttProtocolUtils","MqttUtils","err"],(function(a,b,c,d,e,f,g){"use strict";var h=Object.freeze({CONNECT:1,CONNACK:2,PUBLISH:3,PUBACK:4,SUBSCRIBE:8,SUBACK:9,UNSUBSCRIBE:10,UNSUBACK:11,PINGREQ:12,PINGRESP:13,DISCONNECT:14}),i=[0,6,77,81,73,115,100,112,3];function j(a,b){b=b;var e=b,f=a[b],g=f>>4;b+=1;var i=d("MqttProtocolUtils").decodeMultiByteInt(a,b);if(i==null)return{position:e,wireMessage:null};b=i.offset;i=b+i.value;if(i>a.length)return{position:e,wireMessage:null};var j;switch(g){case h.CONNACK:e=a[b++];e=!!(e&1);var o=a[b++];j=new m(e,o);break;case h.PUBLISH:e=f&15;o=e>>1&3;f=d("MqttProtocolUtils").readUInt16BE(a,b);b+=2;var r=d("MqttProtocolUtils").convertUTF8ToString(a,b,f);b+=f;f=null;o===1&&(f=d("MqttProtocolUtils").readUInt16BE(a,b),b+=2);var s=p.createWithBytes(a.subarray(b,i)),t=(e&1)===1;e=(e&8)===8;j=new q(r,s,o,f,t,e);break;case h.PINGREQ:j=new k("PINGREQ");break;case h.PINGRESP:j=new k("PINGRESP");break;case h.PUBACK:case h.UNSUBACK:r=d("MqttProtocolUtils").readUInt16BE(a,b);j=new n(g===h.PUBACK?"PUBACK":"UNSUBACK",r);break;case h.SUBACK:s=d("MqttProtocolUtils").readUInt16BE(a,b);b+=2;o=a.subarray(b,i);j=new l(s,o);break;default:throw c("err")(d("MqttUtils").sprintf("Invalid MQTT message type %s.",g))}return{position:i,wireMessage:j}}function a(a){var b=[],c=0;while(c<a.length){var d=j(a,c),e=d.wireMessage;c=d.position;if(e)b.push(e);else break}d=null;c<a.length&&(d=a.subarray(c));return{messages:b,remaining:d}}b=function(){function a(a){this.messageType=h[a]}var b=a.prototype;b.encode=function(){throw new TypeError("Cannot abstract class WireMessage")};return a}();var k=function(b){babelHelpers.inheritsLoose(a,b);function a(a){return b.call(this,a)||this}var c=a.prototype;c.encode=function(){var a=new ArrayBuffer(2),b=new Uint8Array(a);b[0]=(this.messageType&15)<<4;return a};return a}(b);e=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,"DISCONNECT")||this}var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=new ArrayBuffer(2),c=new Uint8Array(b);c[0]=a;c.set(d("MqttProtocolUtils").encodeMultiByteInt(0),1);return b};return b}(b);var l=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,"SUBACK")||this;d.messageIdentifier=a;d.returnCode=c;return d}return a}(b),m=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,"CONNACK")||this;d.sessionPresent=a;d.returnCode=c;return d}return a}(b),n=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.messageIdentifier=c;return a}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=2,c=d("MqttProtocolUtils").encodeMultiByteInt(b),e=c.length+1;b=new ArrayBuffer(b+e);var f=new Uint8Array(b);f[0]=a;f.set(c,1);e=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,f,e);return b};return a}(b);f=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this,"CONNECT")||this;d.clientId=b;d.connectOptions=c;return d}var c=b.prototype;c.encode=function(){var a,b=(this.messageType&15)<<4,c=i.length+3;c+=(a=d("MqttProtocolUtils")).UTF8Length(this.clientId)+2;c+=a.UTF8Length(this.connectOptions.userName)+2;var e=a.encodeMultiByteInt(c);c=new ArrayBuffer(1+e.length+c);var f=new Uint8Array(c);f[0]=b;b=1;f.set(e,1);b+=e.length;f.set(i,b);b+=i.length;e=2|128;f[b++]=e;b=a.writeUInt16BE(this.connectOptions.getKeepAliveIntervalSeconds(),f,b);b=a.writeString(this.clientId,a.UTF8Length(this.clientId),f,b);b=a.writeString(this.connectOptions.userName,a.UTF8Length(this.connectOptions.userName),f,b);return c};return b}(b);var o=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,e,f){var g;g=b.call(this,a)||this;g.topic=c;if(e<0&&e>1||e===1&&f==null)throw new TypeError(d("MqttUtils").sprintf("Argument Invalid. qos: %s messageType: %s.",e,a));g.qos=e;g.messageIdentifier=f;return g}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4;a|=2;var b=d("MqttProtocolUtils").UTF8Length(this.topic),c=2+b+2;this.messageType===h.SUBSCRIBE&&(c+=1);var e=d("MqttProtocolUtils").encodeMultiByteInt(c);c=new ArrayBuffer(1+e.length+c);var f=new Uint8Array(c);f[0]=a;a=1;f.set(e,1);a+=e.length;this.messageIdentifier!=null&&(a=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,f,a));a=d("MqttProtocolUtils").writeString(this.topic,b,f,a);this.messageType===h.SUBSCRIBE&&this.qos!=null&&(f[a++]=this.qos);return c};return a}(b),p=function(){function a(a,b){this.payloadString=a,this.payloadBytes=b}a.createWithString=function(b){var c=new Uint8Array(new ArrayBuffer(d("MqttProtocolUtils").UTF8Length(b)));d("MqttProtocolUtils").convertStringToUTF8(b,c,0);return new a(b,c)};a.createWithBytes=function(b){var c=d("MqttProtocolUtils").convertUTF8ToString(b,0,b.length);return new a(c,b)};var b=a.prototype;b.string=function(){return this.payloadString};b.bytes=function(){return this.payloadBytes};return a}(),q=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,d,e,f,g){var h;h=b.call(this,"PUBLISH")||this;h.topic=a;h.payloadMessage=c;h.qos=d;h.messageIdentifier=e;h.retained=f!=null?f:!1;h.duplicate=g!=null?g:!1;if(h.qos===1&&h.messageIdentifier==null)throw new TypeError("Argument Invalid. messageIdentifier: null and qos: 1");return h}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4;this.duplicate&&(a|=8);a=a|=this.qos<<1;this.retained&&a!=1;var b=d("MqttProtocolUtils").UTF8Length(this.topic),c=b+2,e=this.qos===0?0:2;c+=e;e=this.payloadMessage.bytes();c+=e.byteLength;var f=d("MqttProtocolUtils").encodeMultiByteInt(c);c=new ArrayBuffer(1+f.length+c);var g=new Uint8Array(c);g[0]=a;g.set(f,1);a=1+f.length;a=d("MqttProtocolUtils").writeString(this.topic,b,g,a);this.qos!==0&&this.messageIdentifier!=null&&(a=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,g,a));g.set(e,a);return c};return a}(b),r=p.createWithString,s=p.createWithBytes;b={Base:b,ConnAck:m,Connect:f,Disconnect:e,Ping:k,PubAckUnsubAck:n,Publish:q,Subscription:o};g.MESSAGE_TYPE=h;g.decodeMessage=j;g.decodeByteMessages=a;g.Message=p;g.createMessageWithString=r;g.createMessageWithBytes=s;g.WireMessage=b}),98);
__d("MqttTypes",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b,c){this.errorCode=a,this.errorName=b,this.errorMessage=c};b=Object.freeze({APP_DISCONNECT:new a(7,"APP_DISCONNECT","Disconnect initiated by app"),BROWSER_CLOSE:new a(11,"BROWSER_CLOSE","Browser closed"),CONNACK_FAILURE:new a(5,"CONNACK_FAILURE","Connection failure due to connack"),CONNECT_TIMEOUT:new a(4,"CONNECT_TIMEOUT","Connect timed out"),INVALID_DATA_TYPE:new a(3,"INVALID_DATA_TYPE","Received non-arraybuffer from socket."),PING_TIMEOUT:new a(6,"PING_TIMEOUT","Ping timeout"),RECONNECT:new a(10,"RECONNECT","Reconnecting"),SERVER_DISCONNECT:new a(8,"SERVER_DISCONNECT","Disconnect message sent my server"),SOCKET_CLOSE:new a(9,"SOCKET_CLOSE","Socket connection closed"),SOCKET_ERROR:new a(1,"SOCKET_ERROR","Socket error"),SOCKET_MESSAGE:new a(2,"SOCKET_MESSAGE","Unable to parse invalid socket message")});c=function(a,b){this.mqttError=a,this.connAck=b};d=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){d===void 0&&(d=null);c=a.call(this,c)||this;c.isRecoverable=b;c.originalError=d;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.MqttError=a;f.MqttErrors=b;f.ConnectFailure=c;f.MqttChannelError=d}),66);
__d("MqttProtocolClient",["ErrorSerializer","MqttEnv","MqttProtocolCodec","MqttProtocolUtils","MqttTypes","err","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h=20,i=6e4;a=function(){function a(a){var b=this;this.$12=function(a,c,e){c===void 0&&(c=null);b.$9.bumpCounter("protocol.debug.disconnect.internal."+a.errorName);b.$9.bumpCounter("protocol.debug.disconnect.internal");var f=b.$5,g=b.$2,h=g.onConnectFailure,i=g.onConnectionLost;b.setConnected(!1);b.$14();f?d("MqttEnv").Env.scheduleCallback(function(){i(a,c)}):d("MqttEnv").Env.scheduleCallback(function(){h(b.$11,new(d("MqttTypes").ConnectFailure)(a,e!=null?e:-1),c)})};this.$13=function(a){var c=b.$6;if(c==null){b.$9.bumpCounter("protocol.socket_send.failed.socket_null.<message type>");return 0}if(c.readyState!==c.OPEN){b.$9.bumpCounter("protocol.socket_send.failed.socket_not_open.<message type>");return 0}a=a.encode();var d=a.byteLength;c.send(a);return d};this.$3=a;this.$2={getKeepAliveIntervalSeconds:function(){return 10},getKeepAliveTimeoutSeconds:function(){return 10},ignoreSubProtocol:!1,mqttVersion:3,onConnectFailure:function(a,b,c){},onConnection:function(){},onConnectionLost:function(a,b){},onConnectSuccess:function(a){},onMessageArrived:function(a,b,c){},onMessageDelivered:function(a){},userName:""};this.$1="mqttwsclient";this.$4=0;this.$5=!1;this.$9=d("MqttEnv").Env.getLoggerInstance();this.$11=0}var b=a.prototype;b.connect=function(a){var b=this;if(this.$5)throw c("err")("Invalid state: connect - already connected");this.$2=a;this.setConnected(!1);this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);this.$7=d("MqttEnv").Env.setTimeout(function(){b.$9.bumpCounter("protocol.error.connect.timeout"),b.$12(d("MqttTypes").MqttErrors.CONNECT_TIMEOUT)},h*1e3);this.$6=d("MqttEnv").Env.createSocket(this.$3);this.$6.binaryType="arraybuffer";this.$6.onopen=function(){b.setConnected(!0),b.$9.debugTrace("Socket-Open","MQTTProtocolClient Socket Open"),b.$11=b.$13(new(d("MqttProtocolCodec").WireMessage.Connect)(b.$1,a)),a.onConnection()};this.$6.onmessage=function(a){a=a.data;if(!(a instanceof ArrayBuffer)){b.$9.bumpCounter("protocol.error.onmessage.type");b.$12(d("MqttTypes").MqttErrors.INVALID_DATA_TYPE);return}try{a=new Uint8Array(a);b.$10!=null&&(a=d("MqttProtocolUtils").concatBuffers(b.$10,a),b.$9.bumpCounter("protocol.debug.usingMessagesBuffer"),delete b.$10,b.$10=null);a=d("MqttProtocolCodec").decodeByteMessages(a);var c=a.messages;b.$10=a.remaining;for(a=0;a<c.length;a++)b.handleMessage(c[a])}catch(a){b.$10=null,b.$9.logError(a,d("MqttTypes").MqttErrors.SOCKET_MESSAGE.errorMessage),b.$9.bumpCounter("protocol.error.onmessage.parse"),b.$12(d("MqttTypes").MqttErrors.SOCKET_MESSAGE,a.message)}};this.$6.onerror=function(a){b.$9.bumpCounter("protocol.error.socket");b.$9.debugTrace("Socket-Error","MQTTProtocolClient Socket Error");a=typeof a==="object"&&a!=null&&"error"in a&&!("message"in a)?a.error:a;b.$12(d("MqttTypes").MqttErrors.SOCKET_ERROR,c("ErrorSerializer").toReadableMessage(c("getErrorSafe")(a)))};this.$6.onclose=function(a){b.$9.bumpCounter("protocol.socket.close"),a.wasClean||b.$9.debugTrace("Socket-Unclean-Close","MQTTProtocolClient error code: "+a.code+" reason: "+a.reason),b.$12(d("MqttTypes").MqttErrors.SOCKET_CLOSE,a.code+" : "+a.reason)};this.$8!=null&&this.$8.cancel();this.$8=new(d("MqttProtocolUtils").Pinger)(a.getKeepAliveIntervalSeconds,a.getKeepAliveTimeoutSeconds,this.$13.bind(this,new(d("MqttProtocolCodec").WireMessage.Ping)("PINGREQ")),function(a,c){return b.$12(d("MqttTypes").MqttErrors.PING_TIMEOUT,a,c)})};b.$14=function(){var a=this;this.setConnected(!1);this.$8!=null&&this.$8.cancel();this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);this.$6!=null&&(this.$6.onopen=function(b){a.$9.debugTrace("Socket Open After Teardown","Socket opening after teardown")},this.$6.onmessage=function(a){},this.$6.onerror=function(a){},this.$6.onclose=function(b){a.$9.debugTrace("Socket Close After Teardown","code: "+b.code+", reason: "+b.reason)},this.$6.close(),this.$6=null);this.$2.onConnectSuccess=function(a){};this.$2.onConnectFailure=function(a,b){};this.$2.onConnection=function(){};this.$2.onConnectionLost=function(a){};this.$2.onMessageArrived=function(a,b,c){};this.$2.onMessageDelivered=function(a){}};b.disconnect=function(a){if(this.$6==null||this.$6.readyState!==this.$6.OPEN||!this.$5){this.$14();return}this.$13(new(d("MqttProtocolCodec").WireMessage.Disconnect)());this.$9.bumpCounter("protocol.debug.disconnect");this.$12(a)};b.isConnected=function(){return this.$5};b.setConnected=function(a){this.$5=a};b.subscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.subscribe.notconnected");throw c("err")("Invalid state: subscribe - not connected")}this.$9.bumpCounter("protocol.subscribe."+a);a=new(d("MqttProtocolCodec").WireMessage.Subscription)("SUBSCRIBE",a,0,this.$15());this.$13(a)};b.unsubscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.unsubscribe.notconnected");throw c("err")("Invalid state: unsubscribe - not connected")}this.$9.bumpCounter("protocol.unsubscribe."+a);a=new(d("MqttProtocolCodec").WireMessage.Subscription)("UNSUBSCRIBE",a,0,this.$15());this.$13(a)};b.publish=function(a,b,c){return this.$16(a,d("MqttProtocolCodec").createMessageWithString(b),c)};b.publishBinary=function(a,b,c){return this.$16(a,d("MqttProtocolCodec").createMessageWithBytes(b),c)};b.$16=function(a,b,c){this.$5||this.$9.bumpCounter("protocol.error.publish.notconnected");this.$9.bumpCounter("protocol.publish."+a);var e=this.$15();a=new(d("MqttProtocolCodec").WireMessage.Publish)(a,b,c,e);this.$13(a);return e};b.$15=function(){++this.$4===i&&(this.$4=1);return this.$4};b.handleMessage=function(a){var b=this;switch(a.messageType){case d("MqttProtocolCodec").MESSAGE_TYPE.CONNACK:this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);if(a instanceof d("MqttProtocolCodec").WireMessage.ConnAck){var e=a;if(e.returnCode!==0){this.$9.bumpCounter("protocol.error.connack.invalidreturncode");this.setConnected(!1);this.$12(d("MqttTypes").MqttErrors.CONNACK_FAILURE,"connack code="+e.returnCode,e.returnCode);return}d("MqttEnv").Env.scheduleCallback(function(){b.$2.onConnectSuccess(b.$11)});this.$8!=null&&this.$8.reset()}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PUBLISH:if(a instanceof d("MqttProtocolCodec").WireMessage.Publish){var f=a;d("MqttEnv").Env.scheduleCallback(function(){b.$2.onMessageArrived(f.topic,f.payloadMessage,f.qos)});e=f.messageIdentifier;this.$9.bumpCounter("protocol.publish.received");if(f.qos===1&&e!=null){e=new(d("MqttProtocolCodec").WireMessage.PubAckUnsubAck)("PUBACK",e);this.$13(e)}}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PUBACK:if(a instanceof d("MqttProtocolCodec").WireMessage.PubAckUnsubAck){e=a;var g=e.messageIdentifier;this.$9.bumpCounter("protocol.puback.received");d("MqttEnv").Env.scheduleCallback(function(){b.$2.onMessageDelivered(g)})}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PINGRESP:this.$8!=null&&this.$8.reset();break;case d("MqttProtocolCodec").MESSAGE_TYPE.DISCONNECT:this.$12(d("MqttTypes").MqttErrors.SERVER_DISCONNECT);break;case d("MqttProtocolCodec").MESSAGE_TYPE.SUBACK:this.$9.bumpCounter("protocol.suback.received");break;case d("MqttProtocolCodec").MESSAGE_TYPE.UNSUBACK:this.$9.bumpCounter("protocol.unsuback.received");break;default:this.$9.logError(c("err")("MqttProtocolClient: Received unhandled message type: "+a.messageType),"Received unhandled message type");this.$9.bumpCounter("protocol.error.handlemessage.unsupportedtype");break}};return a}();g["default"]=a}),98);
__d("MqttPublishListener",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({NOT_CONNECTED:"NOT_CONNECTED",PUBLISH_ERROR:"PUBLISH_ERROR",QUEUED:"QUEUED",SENT:"SENT",ACKED:"ACKED",NOT_ACKED:"NOT_ACKED"});f.MqttPublishEvent=a}),66);
__d("MqttUserNameUtils",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(c("gkx")("21096"))return!1;return a!=null?a:typeof document==="object"&&document&&document.hasFocus&&document.hasFocus()}function b(){return navigator.userAgent}g.getMqttForegroundStatus=a;g.getUserAgent=b}),98);
__d("MqttUserName",["MqttUserNameUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,e,f,g,h,i,j,k,l){h===void 0&&(h=null),i===void 0&&(i=""),j===void 0&&(j="websocket"),k===void 0&&(k=null),l===void 0&&(l=null),this.$1=a,this.$2=b,this.$3=c,this.$4=e,this.$5=f,this.$6=g,this.$7=d("MqttUserNameUtils").getMqttForegroundStatus(),this.$8=h,this.$9=i,this.$10=j,this.$11=k,this.$12=l}var b=a.prototype;b.gen=function(a,b,c,e){e===void 0&&(e=[]);var f=d("MqttUserNameUtils").getMqttForegroundStatus(this.$7);c=c.map(function(a){a={isBase64Publish:!1,messageId:a.messageId,payload:a.payload,qos:a.qos,topic:a.topic};typeof a.payload!=="string"&&(a.payload=btoa(String.fromCharCode.apply(null,a.payload)),a.isBase64Publish=!0);return a});f={a:d("MqttUserNameUtils").getUserAgent(),aid:this.$5,aids:this.$12!=null?Object.fromEntries(this.$12):null,chat_on:this.$6,cp:this.$3,ct:this.$10,d:this.$4,dc:"",ecp:this.$2,fg:f,gas:this.$8,mqtt_sid:"",no_auto_fg:!0,p:this.$11,pack:e,php_override:this.$9,pm:c,s:a,st:b,u:this.$1};return JSON.stringify(f)};b.setForegroundState=function(a){this.$7=a};b.setChatVisibility=function(a){this.$6=a};b.getEndpointCapabilities=function(){return this.$2};b.getDeviceId=function(){return this.$4};b.setEndpointCapabilities=function(a){this.$2=a};b.getIsGuestAuthStringPresent=function(){return this.$8!==null};return a}();g["default"]=a}),98);
__d("MqttConnection",["MqttConnectionHookCollection","MqttEnv","MqttProtocolClient","MqttPublishListener","MqttTypes","MqttUserName","MqttUtils","Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=15,j=15,k=1,l=1,m=64,n="publish",o="subscribe",p="unsubscribe",q=function(a){},r=18e4,s=5*1e3,t=15,u=21;a=function(){function a(){var a=this;this.$38=function(){return a.$20};this.$39=function(){return a.$21};this.$8=!1;this.$10=d("MqttEnv").Env.getLoggerInstance();this.$11="Disconnected";this.$17=new Set();this.$24=new Map();this.$12=0;this.$13=0;this.$14=0;this.$15=0;this.$16=0;this.$8=!1;this.$5="";this.$6=new(c("MqttUserName"))("",0,1,"",0,!0);this.$9=0;this.$18=0;this.$19=!1;this.$7=null;var b=function(){};this.$1=b;this.$2=b;this.$3=b;this.$25=!1;this.$26=!1;this.$27=new(c("MqttConnectionHookCollection"))();this.$4=function(){return[]};this.$20=i;this.$21=j;this.$22=null;this.$23=0}var e=a.prototype;e.run=function(a){var b=this,c=a.endpoint,d=a.extraConnectMessageProvider,e=a.mqttUserName,f=a.onJSError,g=a.onMessageReceived,h=a.onStateChange;a=a.subscribedTopics;if(this.$8){this.$10.debugTrace("run","Run called while in running state.");return}this.$1=h;this.$3=g;this.$5=c;this.$6=e;this.$8=!0;this.$18=Date.now();this.$12=0;this.$13=0;this.$2=f||q;a&&a.forEach(function(a){return b.$17.add(a)});this.$4=d;this.$20=i;this.$21=j;this.$28()};e.shutdown=function(a){this.$29(a),this.$30("shutdown"),this.$8=!1,this.$10.debugTrace("shutdown","Shutdown")};e.subscribe=function(a){this.$17.add(a);this.ensureConnected(o)&&this.$31(a);return!0};e.publish=function(a,b,c,d){return this.$32(a,b,c,d)};e.publishBinary=function(a,b,c,d){return this.$32(a,b,c,d)};e.$32=function(a,e,f,g){var i={reject:function(a){},resolve:function(){}};g!=null&&(i.listener=g);var j=new(h||(h=b("Promise")))(function(a,b){i.resolve=a,i.reject=b}),k=this.ensureConnected(n);!k?(g==null?void 0:g.onEvent(d("MqttPublishListener").MqttPublishEvent.NOT_CONNECTED),i.reject(c("err")("Client disconnected"))):this.$33(a,e,f,i);return j};e.unsubscribe=function(a){this.$17["delete"](a);this.ensureConnected(p)&&this.$34(a);return!0};e.addHook=function(a){this.$27.addHook(a)};e.removeHook=function(a){this.$27.removeHook(a)};e.isRunning=function(){return this.$8};e.getSessionId=function(){return this.$9};e.hasFatal=function(){return this.$25};e.hasConnectSuccess=function(){return this.$26};e.canPublish=function(){return this.ensureConnected("canPublish")};e.ensureConnected=function(a){return!this.$8||this.$7==null||!this.$7.isConnected()?!1:!0};e.connectionState=function(){return this.$11};e.mqttStateFromConnectionState=function(a){switch(a){case"Connecting":case"TransportConnected":return"Connecting";case"Connected":return"Connected";case"Disconnected":return"Disconnected"}throw c("err")("Unknown state "+a)};e.testOnlyGetSubscribedTopics=function(){return this.$17};e.getDisconnectCount=function(){return this.$23};e.$29=function(a){this.$8&&this.$7!=null&&(this.$35("Disconnected"),this.$7!=null&&(this.$7.disconnect(a),this.$27.onConnectionDisconnect()),this.$7=null)};e.$36=function(a){if(this.$11==="Connected"&&a==="Disconnected"&&this.$18===0){this.$18=Date.now();return}if(a==="Connecting"&&this.$18!==0&&!this.$19){this.$10.bumpCounter("protocol.reconnectstarted");this.$19=!0;return}if(a==="Connected"&&this.$18!==0){a=Date.now()-this.$18;switch(Math.floor(a/3e4)){case 0:this.$10.bumpCounter("protocol.reconnectedwithin30s");break;case 1:this.$10.bumpCounter("protocol.reconnectedwithin60s");break;case 2:this.$10.bumpCounter("protocol.reconnectedwithin90s");break;case 3:this.$10.bumpCounter("protocol.reconnectedwithin120s");break;default:this.$10.bumpCounter("protocol.reconnectedmorethan120s");break}this.$18=0;this.$19=!1;return}};e.$35=function(a){a!==this.$11&&(this.$10.debugTrace("MQTTConnection-updateState","State changed to: "+a),this.$36(a),this.$11=a,this.$1(a))};e.$28=function(){var a=this;if(!this.$8)return;this.$11!=="Disconnected"&&this.$10.debugTrace("Reconnect","Current State not disconnected: "+this.$11);this.$35("Connecting");var b=Date.now(),e=this.$10.getBrowserConnectivity();this.$9=d("MqttUtils").generateSessionId();var f=Array.from(this.$17),g=d("MqttUtils").endpointWithSessionId(this.$5,this.$9);g=d("MqttUtils").endpointWithExtraParameter(g,"cid",this.$6.getDeviceId());try{this.$7=new(c("MqttProtocolClient"))(g);var h=this.$37(),i=h.map(function(a){return a.topic});g=this.$6.gen(this.$9,f,h);this.$7!=null&&(this.$13+=1,this.$7.connect({getKeepAliveIntervalSeconds:this.$38,getKeepAliveTimeoutSeconds:this.$39,ignoreSubProtocol:!0,mqttVersion:3,onConnectFailure:function(c,d,g){return a.$40(d,b,a.$18,f,i,e,c,g)},onConnection:function(){return a.$41(h,f)},onConnectionLost:function(b,c){return a.$42(b,c)},onConnectSuccess:function(c){return a.$43(b,a.$18,f,i,e,c)},onMessageArrived:function(b,c,d){return a.$44(b,c,d)},onMessageDelivered:function(b){return a.$45(b)},userName:g}),this.$10.bumpCounter("protocol.connectattempt"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.connectattempt"),this.$27.onConnectAttempt())}catch(a){this.$10.bumpCounter("js_error_in_init_exception"),this.$35("Disconnected"),this.$46(!1,!1,b,this.$18,f,[],e,null,14,"init error - "+a.message),a&&this.$10.logErrorWarn(a,"ws_js_error"),this.$27.onWSFatal(),this.$47(new(d("MqttTypes").MqttChannelError)(!1,"ws_js_error",a),"client_init")}};e.$37=function(){var a=this.$4(),b=65536;return a.map(function(a){a.messageId=b--;return a})};e.$31=function(a){try{if(this.$7!=null){this.$7.subscribe(a);this.$10.debugTrace("#doSubscribe","Subscribing to "+a);this.$27.onSubscribe(a);this.$10.bumpCounter("protocol.subscribe");return!0}}catch(b){this.$10.logError(b,"Exception subscribing"),this.$10.bumpCounter("subscribe_exception."+a),this.$10.bumpCounter("protocol.subscribe.error")}return!1};e.$34=function(a){try{if(this.$7!=null){this.$7.unsubscribe(a);this.$10.debugTrace("#doUnsubscribe","Unsubscribing to "+a);this.$27.onUnsubscribe(a);this.$10.bumpCounter("protocol.unsubscribe");return!0}}catch(b){this.$10.logError(b,"Exception unsubscribing"),this.$10.bumpCounter("unsubscribe_exception."+a),this.$10.bumpCounter("protocol.unsubscribe.error")}return!1};e.$33=function(a,b,c,e){if(this.$7!=null)try{var f;typeof b==="string"?f=this.$7.publish(a,b,c):f=this.$7.publishBinary(a,b,c);this.$10.bumpCounter("protocol.publish");b=f!=null?f:"null";this.$10.debugTrace("#doPublish","publish "+a+" with messageId:"+b+" qos:"+c);this.$27.onPublish(a);(b=e.listener)==null?void 0:b.onEvent(d("MqttPublishListener").MqttPublishEvent.SENT);f!=null?(this.$10.bumpCounter("publish.ack_expected"),this.$24.set(f,e)):e.resolve();return!0}catch(b){this.$10.logError(b,"Exception publishing");this.$10.bumpCounter("publish_exception."+a);e.reject(b);this.$10.bumpCounter("protocol.publish.error");return!1}else return!1};e.$48=function(a){var b=this;a===void 0&&(a=null);if(!this.$8)return;this.$29(d("MqttTypes").MqttErrors.RECONNECT);this.$30("reconnect");this.$49();this.$9=-1;this.$16=0;a=a;a==null&&(a=k*Math.pow(2,this.$12));a=Math.max(a,l);a=Math.min(a,m);a=a*(1e3+d("MqttEnv").Env.random()*200);this.$10.debugTrace("#scheduleReconnect","Reconnect in "+a+" ms");this.$22=d("MqttEnv").Env.setTimeout(function(){b.$28()},a);this.$12+=1};e.$49=function(){var a=Date.now()-this.$16,b=this.$16!==0&&a>s,c=this.$12>t;(b||c)&&(this.$12=0);this.$16!==0&&a<=s&&this.$10.bumpCounter("short_lived_session");c&&this.$10.bumpCounter("connection_attempt_limit")};e.$46=function(a,b,c,d,e,f,g,h,i,j){a?this.$14++:this.$15++;var k=Date.now();this.$10.eventLogConnect({ackReceived:b,attemptNumber:this.$13,connectionState:this.mqttStateFromConnectionState(this.$11),connectionStatus:a,disconnectCount:this.$23,duration:k-c,errorCode:i,errorMessage:j,failTotal:this.$15,hostname:this.$5,messageSizeBytes:h,osConnectivity:g,publishes:f,sessionID:this.$9,subscribedTopics:e,successTotal:this.$14,total_duration:k-d});a&&(this.$13=0)};e.$40=function(a,b,c,d,e,f,g,h){var i=a.mqttError;h=h!=null?i.errorMessage+" - "+h:i.errorMessage;this.$10.debugTrace("connect","Connect failed "+h);this.$10.bumpCounter("protocol.onconnectfailure");this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectfailure");this.$27.onConnectFailure();this.$46(!1,a.connAck!==-1,b,c,d,e,f,g,i.errorCode,h);if(a.connAck!=null){this.$10.bumpCounter("protocol.connect_failure."+a.connAck);if(a.connAck===u){this.$48(r);return}}this.$48()};e.$41=function(a,b){var c=this;this.$10.bumpCounter("protocol.onconnection");this.$10.debugTrace("Connect","Socket established");this.$27.onConnected();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnection");b.forEach(function(a){c.$27.onSubscribe(a)});a.forEach(function(a){c.$27.onPublish(a.topic)});this.$35("TransportConnected")};e.$43=function(a,b,c,d,e,f){this.$10.bumpCounter("protocol.onconnectsuccess"),this.$10.debugTrace("connect","Connect success"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectsucess"),this.$27.onConnectSuccess(),this.$26=!0,this.$35("Connected"),this.$46(!0,!0,a,b,c,d,e,f),this.$50(c),this.$16=Date.now()};e.$42=function(a,b){this.$10.bumpCounter("protocol.onconnectionlost");this.$23++;if(a.errorCode){b=b!=null?a.errorMessage+" - "+b:a.errorMessage;this.$10.eventLogDisconnect({disconnectCount:this.$23,duration:Date.now()-this.$16,errorCode:a.errorCode,errorMessage:b,sessionID:this.$9})}this.$10.debugTrace("connect","connection lost");this.$27.onConnectionLost();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectionlost");this.$48()};e.$44=function(a,b,c){this.$10.bumpCounter("protocol.onmessagearrived");this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onmessagearrived");this.$10.debugTrace("onMessageArrived","Message received on "+a);this.$27.onMessage(a);try{this.$3(a,b,c)}catch(b){this.$10.logError(b,"Listener threw error"),this.$10.bumpCounter("listener_error."+a)}};e.$45=function(a){this.$10.bumpCounter("protocol.onmessagedelivered");var b=a!=null?a:"null";this.$10.debugTrace("onMessageDelivered","Delivered Message {ID: "+b+"}");if(a==null)return;b=this.$24.get(a);if(b==null){this.$10.bumpCounter("protocol.message_with_unknown_id");return}this.$24["delete"](a);(a=b.listener)==null?void 0:a.onEvent(d("MqttPublishListener").MqttPublishEvent.ACKED);b.resolve();this.$10.bumpCounter("publish.ack_received")};e.$30=function(a){this.$10.bumpCounter("protocol.fail_all_unacked_publishes."+a),this.$24.forEach(function(b,e,f){(e=b.listener)==null?void 0:e.onEvent(d("MqttPublishListener").MqttPublishEvent.NOT_ACKED);b.reject(c("err")(a))}),this.$24.clear()};e.$50=function(a){var b=this,c=new Set(a);c.forEach(function(a){b.$17.has(a)||b.unsubscribe(a)});a=new Set(this.$17);a.forEach(function(a){c.has(a)||b.subscribe(a)})};e.$47=function(a,b){try{this.$10.bumpCounter("js_error_in_init");this.$10.bumpCounter(b+".error");this.$25=!0;var c=a?a.message:"error";this.$10.debugTrace("onError",b+": "+c);this.$2(a)}catch(a){this.$10.bumpCounter("js_error_in_error_logging"),this.$10.logError(a,"JS error while trying to log previous error")}};e.setRunning_OnlyForTests=function(a){this.$8=a};return a}();g["default"]=a}),98);
__d("MqttWebSocketUtils",[],(function(a,b,c,d,e,f){"use strict";function b(){return"WebSocket"in a&&a.WebSocket!=null&&"CLOSING"in a.WebSocket.prototype}f.hasWSSupport=b}),66);
__d("isFastRefreshEnabledForCurrentDomain",[],(function(a,b,c,d,e,f){"use strict";function a(){return!1}f["default"]=a}),66);
__d("MqttChannel",["ChannelClientID","IrisSubscribeChecker","MetaConfig","MqttAnalyticsHook","MqttConnection","MqttEnv","MqttPublishListener","MqttTypes","MqttUserName","MqttUtils","MqttWebSocketUtils","Promise","Run","err","isFastRefreshEnabledForCurrentDomain","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=29125;a=function(){function a(a){var b=this,e=a.endpoint,f=a.pollingEndpoint,g=a.userFbid,h=a.appId,i=a.initialSubscribedTopics,j=a.capabilities,k=a.clientCapabilities,l=a.chatVisibility;l=l===void 0?!0:l;var m=a.guestAuthString;m=m===void 0?null:m;var n=a.phpOverride;n=n===void 0?"":n;var o=a.clientType;o=o===void 0?"websocket":o;var p=a.deviceId;p=p===void 0?c("ChannelClientID").getID():p;var q=a.pageId;q=q===void 0?null:q;a=a.assetIds;a=a===void 0?null:a;this.$11=d("MqttEnv").Env.getLoggerInstance();this.$11.setAppId(h);this.$12=new(c("MqttUserName"))(g,j,k,p,h,l,m,n,o,q,a);this.$1=e;this.$2=f;this.$5="Disconnected";this.$7="LPInactive";this.$6="Disconnected";this.$3=[];this.$4=new Set();this.$8=new Map();this.$9=new Map();this.$10=new(c("MqttConnection"))();this.$13=null;this.$16=new(c("MqttAnalyticsHook"))();this.$15=new Map();this.$14=[];if(!d("MqttEnv").Env.isUserLoggedInNow()&&!c("isFastRefreshEnabledForCurrentDomain")()&&(m==null||m=="")){this.$11.bumpCounter("logged_out_init");return}this.$10.addHook(this.$16);this.$10.addHook(new(c("IrisSubscribeChecker"))(function(){return b.$4.size>0}));this.$17(i);this.$18()}var e=a.prototype;e.$17=function(a){var b=this;if(this.$10.isRunning()){this.$19("run","Connection started calling run again");return}if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled))if(c("MetaConfig")._("15")){this.$19("MqttChannel","Websocket disabled, will do long polling only");return}else if(!d("MqttWebSocketUtils").hasWSSupport()){this.$19("MqttChannel","Websocket Unavailable, will do long polling only");this.$11.bumpCounter("ws_unavailable_polling");return}this.$10.run({endpoint:this.$1,extraConnectMessageProvider:function(){return b.$20()},mqttUserName:this.$12,onJSError:function(a){b.$21(a)},onMessageReceived:function(a,c,d){b.$22(a,c,d)},onStateChange:function(a){b.$23(a)},subscribedTopics:a});this.$24()};e.$24=function(){var a=this;d("Run").onUnload(function(){a.$25(d("MqttTypes").MqttErrors.BROWSER_CLOSE)})};e.shutdown=function(){this.$25(d("MqttTypes").MqttErrors.APP_DISCONNECT)};e.$25=function(a){this.$10&&this.$10.shutdown(a),this.$13&&this.$13.shutdown(),this.$16.onTabClose()};e.publish=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});return this.$26(a,b,c)};e.publishBinary=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});return this.$26(a,b,c)};e.$26=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});var e;c.qos===0?e=this.$27(a,b,c.listener):e=this.$28(a,b,c);d("MqttUtils").promiseDone(e,function(){},function(a){(a=c.listener)==null?void 0:a.onEvent(d("MqttPublishListener").MqttPublishEvent.PUBLISH_ERROR)});return e};e.$27=function(a,b,c){return this.$29(a,b,0,c,1,null)};e.$28=function(a,c,e){var f={reject:function(a){},resolve:function(){}},g=new(h||(h=b("Promise")))(function(a,b){f.resolve=a,f.reject=b}),i=d("MqttEnv").Env.random();c={ack:f,attempt:0,options:e,payload:c,publishToken:i,startTime:Date.now(),timeoutId:null,topic:a};if(e.skipBuffer)if(this.$10.connectionState()==="Connecting"){this.$14.push(c);(a=e.listener)==null?void 0:a.onEvent(d("MqttPublishListener").MqttPublishEvent.QUEUED)}else this.$30(c);else{c.timeoutId=this.$31(i);this.$15.set(i,c);(a=e.listener)==null?void 0:a.onEvent(d("MqttPublishListener").MqttPublishEvent.QUEUED);this.$32(c)}return g};e.$30=function(a){a.attempt+=1,d("MqttUtils").promiseDone(this.$29(a.topic,a.payload,a.options.qos,a.options.listener,a.attempt,a.startTime),function(){a.ack.resolve()},function(b){a.ack.reject(b)})};e.$32=function(a){var b=this;a.attempt+=1;d("MqttUtils").promiseDone(this.$29(a.topic,a.payload,a.options.qos,a.options.listener,a.attempt,a.startTime),function(){return b.$33(a)},function(a){})};e.$29=function(a,b,e,f,g,h){var i=this,j,k,l=this.getConnectionState(),m=Date.now();!this.$10.canPublish()&&this.$13&&this.$13.canPublish()?(typeof b==="string"?j=this.$13.publish(a,b,e):j=this.$13.publishBinary(a,b,e),k="lp",f!=null&&(j=j.then(function(){return f.onEvent(d("MqttPublishListener").MqttPublishEvent.SENT)})),this.$11.bumpCounter("try_publish_lp")):(typeof b==="string"?j=this.$10.publish(a,b,e,f):j=this.$10.publishBinary(a,b,e,f),k="ws",this.$11.bumpCounter("try_publish_ws"));c("promiseDone")(j,function(){i.$11.eventLogOutgoingPublish({attempt:g,connectionState:l,disconnectCount:i.$10.getDisconnectCount(),errorMessage:null,firstAttemptStartTime:h,payloadSizeBytes:b.length*2,protocol:k,qos:e,sessionID:i.$10.getSessionId(),success:!0,thisAttemptStartTime:m,topic:a})},function(c){i.$11.eventLogOutgoingPublish({attempt:g,connectionState:l,disconnectCount:i.$10.getDisconnectCount(),errorMessage:c!=null?c.toString():null,firstAttemptStartTime:h,payloadSizeBytes:b.length*2,protocol:k,qos:e,sessionID:i.$10.getSessionId(),success:!1,thisAttemptStartTime:m,topic:a})});return j};e.subscribe=function(a,b){var c=this;this.$10.subscribe(a);var d=this.$8.get(a);!d?(d=[b],this.$8.set(a,d)):d.push(b);return function(){var d=c.$8.get(a)||[];d=d.filter(function(a){return a!==b});c.$8.set(a,d);d.length===0&&c.unsubscribeAll(a)}};e.subscribeBinary=function(a,b){var c=this;this.$10.subscribe(a);var d=this.$9.get(a);!d?(d=[b],this.$9.set(a,d)):d.push(b);return function(){var d=c.$9.get(a)||[];d=d.filter(function(a){return a!==b});c.$9.set(a,d);d.length===0&&c.unsubscribeAll(a)}};e.subscribeChannelEvents=function(a){this.$3.push(a)};e.unsubscribeChannelEvents=function(a){a=this.$3.indexOf(a);a>-1&&this.$3.splice(a,1)};e.registerExtraConnectPayloadProvider=function(a){var b=this;this.$19("MqttChannel","registerExtraConnectPayloadProvider called");this.$4.add(a);if(this.$10.isRunning()){a=a.getPublishMessages();a.forEach(function(a){typeof a.payload==="string"?b.publish(a.topic,a.payload,{qos:a.qos,skipBuffer:!0}):b.publishBinary(a.topic,a.payload,{qos:a.qos,skipBuffer:!0})})}};e.unregisterExtraConnectPayloadProvider=function(a){this.$4["delete"](a)};e.unsubscribeAll=function(a){this.$10.unsubscribe(a),this.$8["delete"](a),this.$9["delete"](a)};e.getConnectionState=function(){return this.$5};e.getLongPollingStatus=function(){return this.$7};e.getEndpoint=function(){return this.$1};e.addHook=function(a){this.$10.addHook(a)};e.removeHook=function(a){this.$10.removeHook(a)};e.testOnlyMessageReceived=function(a,b){this.$22(a,b,-1)};e.$34=function(a){var b=this.$15.get(a);b!=null&&b.timeoutId!=null&&d("MqttEnv").Env.clearTimeout(b.timeoutId);this.$15["delete"](a)};e.$31=function(a){var b=this;return d("MqttEnv").Env.setTimeout(function(a){var d=b.$15.get(a);if(!d)return;var e=d.topic;b.$11.bumpCounter("publish_timeout."+e);b.$11.debugTrace("publish_timeout","Timeout publishing topic: "+e+" publishToken: "+a);b.$34(a);d.ack.reject(c("err")("Publish Timed Out"))},i,a)};e.$33=function(a){var b=a.publishToken,c=this.$15.get(b);if(!c)return;this.$34(b);a.ack.resolve();this.$11.debugTrace("publish_success","Topic: "+a.topic+" publishToken: "+a.publishToken);this.$11.bumpCounter("publish_success."+a.topic)};e.$22=function(a,b,c){var d=this.$8.get(a);this.$11.eventLogIncomingPublish({connectionState:this.getConnectionState(),disconnectCount:this.$10.getDisconnectCount(),payloadSizeBytes:b.payloadString.length*2,qos:c,sessionID:this.$10.getSessionId(),topic:a});if(!d)this.$11.debugTrace("_onMessageReceived",a+" being dropped, no listeners");else for(var d=d,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;try{g(b.payloadString)}catch(a){this.$11.logError(a,"Listener exception"),this.$11.bumpCounter("listener_error")}}g=this.$9.get(a);this.$11.eventLogIncomingPublish({connectionState:this.getConnectionState(),disconnectCount:this.$10.getDisconnectCount(),payloadSizeBytes:b.payloadBytes.length,qos:c,sessionID:this.$10.getSessionId(),topic:a});if(!g)this.$11.debugTrace("_onMessageReceived",a+" being dropped, no binary listeners");else for(f=g,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;c=f[d++]}else{d=f.next();if(d.done)break;c=d.value}a=c;try{a(b.payloadBytes)}catch(a){this.$11.logError(a,"Binary Listener exception"),this.$11.bumpCounter("listener_error")}}};e.$21=function(a){if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)){a.isRecoverable?this.$11.bumpCounter("recoverable_error_skipped"):this.$11.bumpCounter("unrecoverable_error_skipped");return}a.isRecoverable?this.$11.bumpCounter("recoverable_error_not_skipped"):this.$11.bumpCounter("unrecoverable_error_not_skipped");this.$35(a)};e.$36=function(a){this.$35(a)};e.$35=function(a){for(var b=this.$3,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.onJSError&&e.onJSError(a)}};e.$37=function(){var a=this;this.$14.forEach(function(b){a.$30(b),a.$11.bumpCounter("publish_from_temp_buffer."+b.topic)});this.$14=[];this.$15.forEach(function(b,c,d){a.$32(b),a.$11.bumpCounter("publish_from_buffer."+b.topic)})};e.$23=function(a){a==="Connecting"?(this.$14.forEach(function(a){a.ack.reject(c("err")("Client Reconnecting - "+a.topic))}),this.$14=[]):a==="TransportConnected"&&this.$37(),this.$19("_changeState","Connection state = "+a),this.$38(a,this.$7)};e.$39=function(a,b){this.$13&&this.$13.canPublish()&&this.$37(),this.$19("_changeLPStatus","LP status = "+a+", LP Request status = "+b),this.$38(this.$6,a)};e.$38=function(a,b){var c=this.$10.mqttStateFromConnectionState(a);this.$13&&this.$13.canPublish()&&(c="Connected");this.$6=a;(c!==this.$5||b!=this.$7)&&(this.$5=c,this.$7=b,this.$40(c))};e.$40=function(a){for(var b=this.$3,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.onMQTTStateChanged(a)}};e.$20=function(){var a=this,b=[];this.$4.forEach(function(c){try{c=c.getPublishMessages();Array.prototype.push.apply(b,c)}catch(b){a.$11.logError(b,"ConnectPayload provider exception"),a.$11.bumpCounter("connectPayloadProvider_error")}});return b};e.$18=function(){var a=this;d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)&&this.$2&&this.$2!=""&&c("requireDeferred")("MqttLongPollingRunner").__setRef("MqttChannel").onReady(function(b){b=new b(a.$2,a.$12,a.$10.hasFatal(),a.$10.hasConnectSuccess(),function(b,c,d){return a.$22(b,c,d)},function(){var b=Array.from(a.$8.keys()),c=Array.from(a.$9.keys());return Array.from(new Set(b.concat(c)))},function(){return a.$20()},function(b){a.$36(b)},function(b,c){a.$39(b,c)});b.start();a.$10.addHook(b);b.addHook(a.$16);a.$13=b;a.$11.debugTrace("MqttChannel","longPollingRunner loaded")})};e.$19=function(a,b){this.$11.debugTrace(a,"Mqtt channel: "+b)};e.setForegroundState=function(a){this.$12&&this.$12.setForegroundState(a)};e.setChatVisibility=function(a){this.$12&&this.$12.setChatVisibility(a)};e.getEndpointCapabilities=function(){return this.$12.getEndpointCapabilities()};e.setEndpointCapabilities=function(a){this.$12.setEndpointCapabilities(a)};e.getConnection_OnlyForTests=function(){return this.$10};return a}();g["default"]=a}),98);
__d("MqttConfig",["MqttWebConfig"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("MqttWebConfig")}),98);
__d("MqttEnvConfigStorage",["WebStorage"],(function(a,b,c,d,e,f,g){var h,i="mqtt:";function a(a,b){var d=(h||(h=c("WebStorage"))).getLocalStorage();if(d){d=d.getItem(i+a);if(d!=null)return d}return b}function b(a,b){var d=(h||(h=c("WebStorage"))).getLocalStorage();d&&(b==null?d.removeItem(i+a):(h||(h=c("WebStorage"))).setItemGuarded(d,i+a,b))}g.configRead=a;g.configWrite=b}),98);
__d("MqttUnifiedClientConnectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744057");b=d("FalcoLoggerInternal").create("mqtt_unified_client_connect",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientDisconnectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744058");b=d("FalcoLoggerInternal").create("mqtt_unified_client_disconnect",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientIncomingPublishFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744059");b=d("FalcoLoggerInternal").create("mqtt_unified_client_incoming_publish",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientOutgoingPublishFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744060");b=d("FalcoLoggerInternal").create("mqtt_unified_client_outgoing_publish",a);e=b;g["default"]=e}),98);
__d("MqttWsClientTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:MqttWsClientLoggerConfig")}),null);
__d("MqttLogger",["ChannelClientID","FBLogger","LogHistory","MetaConfig","MqttEnv","MqttGlobalStreamCounter","MqttUnifiedClientConnectFalcoEvent","MqttUnifiedClientDisconnectFalcoEvent","MqttUnifiedClientIncomingPublishFalcoEvent","MqttUnifiedClientOutgoingPublishFalcoEvent","MqttWsClientTypedLoggerLite","NetworkStatus","ODS","Random"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("MetaConfig")._("99"),j="mqtt_client",k=100,l="WEBSOCKET",m=typeof window!=="undefined"?window:self,n=null,o={CLIENT_ERROR:"mqtt_client_error",CONNECT:"mqtt_client_connect",DISCONNECT:"mqtt_client_disconnect",PUBLISH:"mqtt_client_publish",PUBLISH_TIMEOUT:"mqtt_qos1_publish_timeout",SOCKET_DISCONNECT:"mqtt_protocol_error"},p={CONNECT:"connect",DISCONNECT:"disconnect",INCOMING_PUBLISH:"incoming_publish",OUTGOING_PUBLISH:"outgoing_publish"};a=function(){a.getInstance=function(){n||(n=new a());return n};function a(){this.$1=d("LogHistory").getInstance(j),this.$2=0,this.$3=Date.now(),this.$4=c("ChannelClientID").getID(),this.$6(),this.$5=d("MqttGlobalStreamCounter").getInstance(),this.$5.isEnabled()||(this.$5=null)}var b=a.prototype;b.setAppId=function(a){this.$2===0&&(this.$2=a)};b.eventLogConnect=function(a){var b=a.ackReceived,d=a.attemptNumber,e=a.connectionState,f=a.connectionStatus,g=a.disconnectCount,h=a.duration,i=a.errorMessage,j=a.failTotal,k=a.hostname,m=a.messageSizeBytes,n=a.osConnectivity,q=a.sessionID,r=a.successTotal;a=a.total_duration;f=f?"success":"failed";this.bumpCounter(o.CONNECT+"."+f);f=r/(r+j);r=n&&this.getBrowserConnectivity();var s={acked:b,attempt_number:d.toString(),client_type:l,connection_state:e,disconnect_count:g.toString(),duration:h.toString(),error:i,event_type:p.CONNECT,extra_data:{connect_success_rate:f.toString(),device_id:this.$4,hostname:k},os_connectivity:r,payload_size:m==null?void 0:m.toString(),session_id:q.toString(),total_duration:a.toString(),ws_count:(j=this.$5)==null?void 0:j.getGlobalState().totalConnectionStreams.toString()};this.$7(function(){c("MqttUnifiedClientConnectFalcoEvent").log(function(){return s})})};b.eventLogPull=function(a){var b=a.duration,c=a.errorMessage,e=a.hostname,f=a.pullEventName,g=a.sessionID;a=a.status;a={connection_status:a,device_id:this.$4,duration:b,error_message:c,hostname:e,href:m.location.hostname,logged_in:d("MqttEnv").Env.isUserLoggedInNow(),session_id:g};this.$8(f,a)};b.eventLogPullFinish=function(a){var b=a.duration,c=a.errorMessage,e=a.publishReceived,f=a.publishSent,g=a.pullEventName;a=a.sessionID;b={device_id:this.$4,duration:b,error_message:c,href:m.location.hostname,logged_in:d("MqttEnv").Env.isUserLoggedInNow(),publish_received:e,publish_sent:f,session_id:a};this.$8(g,b)};b.eventLogDisconnect=function(a){var b=a.disconnectCount,d=a.duration,e=a.errorMessage;a=a.sessionID;this.bumpCounter(o.DISCONNECT);var f={client_type:l,connection_state:"Disconnected",disconnect_count:b.toString(),duration:d.toString(),error:e,event_type:p.DISCONNECT,extra_data:{device_id:this.$4},os_connectivity:this.getBrowserConnectivity(),session_id:a.toString(),ws_count:(b=this.$5)==null?void 0:b.getGlobalState().totalConnectionStreams.toString()};this.$7(function(){c("MqttUnifiedClientDisconnectFalcoEvent").log(function(){return f})})};b.eventLogOutgoingPublish=function(a){var b=a.attempt,d=a.connectionState,e=a.disconnectCount,f=a.errorMessage,g=a.firstAttemptStartTime,h=a.payloadSizeBytes,i=a.protocol,j=a.qos,k=a.sessionID,m=a.success,n=a.thisAttemptStartTime;a=a.topic;this.bumpCounter(o.PUBLISH+"."+a);var q=Date.now(),r={acked:j===1?m:null,attempt_number:b.toString(),client_type:l,connection_state:d,disconnect_count:e.toString(),duration:(q-n).toString(),error:f,event_type:p.OUTGOING_PUBLISH,extra_data:{device_id:this.$4,protocol:i},os_connectivity:this.getBrowserConnectivity(),payload_size:h.toString(),qos:j.toString(),session_id:k.toString(),topic:a,total_duration:g!=null?(q-g).toString():null};this.$7(function(){c("MqttUnifiedClientIncomingPublishFalcoEvent").log(function(){return r})})};b.eventLogIncomingPublish=function(a){var b=a.connectionState,d=a.disconnectCount,e=a.payloadSizeBytes,f=a.qos,g=a.sessionID;a=a.topic;var h={client_type:l,connection_state:b,disconnect_count:d.toString(),event_type:p.INCOMING_PUBLISH,extra_data:{device_id:this.$4},os_connectivity:this.getBrowserConnectivity(),payload_size:e.toString(),qos:f.toString(),session_id:g.toString(),topic:a};b=a=="/webrtc"||a=="/rtc_multi";this.$9(function(){c("MqttUnifiedClientOutgoingPublishFalcoEvent").log(function(){return h})},50,b)};b.logError=function(a,b){d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c("FBLogger")(j).catching(a).mustfix(b)}catch(a){}})};b.logErrorWarn=function(a,b){d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c("FBLogger")(j).catching(a).warn(b)}catch(a){}})};b.logWarn=function(a,b){var c=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c.$1.warn(a,b)}catch(a){}})};b.debugTrace=function(a,b){var c=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c.$1.debug(a,b)}catch(a){}})};b.bumpCounter=function(a){var b=this;if(!d("Random").coinflip(k))return;d("MqttEnv").Env.scheduleLoggingCallback(function(){b.$2!==0&&(h||(h=d("ODS"))).bumpEntityKey(2966,"mqtt_ws_client",b.$2+"."+a,k),(h||(h=d("ODS"))).bumpEntityKey(2966,"mqtt_ws_client",a,k)})};b.$8=function(a,b,e){var f=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){b.event_type=a;b.app_id=f.$2;b.online=f.$10();var d=JSON.stringify(b);f.$1.log(a,d,{weight:e});a!==o.DISCONNECT&&c("MqttWsClientTypedLoggerLite").log(b)})};b.$9=function(a,b,c){i&&b!==0?c=c||d("Random").coinflip(b):c=!0;c&&d("MqttEnv").Env.scheduleCallback(a)};b.$7=function(a){this.$9(a,0,!1)};b.$10=function(){return m.navigator&&m.navigator.onLine!==void 0?m.navigator.onLine:!1};b.getBrowserConnectivity=function(){return c("NetworkStatus").isOnline()};b.$6=function(){var a=this;if(m.navigator&&m.navigator.onLine!==void 0){var b=function(b){b=b.online;b||a.bumpCounter("browser_disconnect")};c("NetworkStatus").onChange(b)}};return a}();g["default"]=a}),98);
__d("MqttEnvGk",["MqttEnv","MqttLogger","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case d("MqttEnv").MqttGkNames.mqtt_waterfall_log_client_sampling:return c("gkx")("21119");case d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled:return!0;case d("MqttEnv").MqttGkNames.mqtt_lp_use_fetch:return c("gkx")("21120");case d("MqttEnv").MqttGkNames.mqtt_fast_lp:return c("gkx")("21121");case d("MqttEnv").MqttGkNames.mqtt_lp_no_delay:return c("gkx")("21122");case d("MqttEnv").MqttGkNames.mqtt_enable_publish_over_polling:return c("gkx")("21123");case d("MqttEnv").MqttGkNames.mqttweb_global_connection_counter:return c("gkx")("21124");default:c("MqttLogger").getInstance().logError(new Error("unknown gk"),"Unknown GK value "+a);return!1}}g["default"]=a}),98);
__d("MqttEnvInitializer",["CurrentMessengerUser","MqttEnv","MqttEnvConfigStorage","MqttEnvGk","MqttLogger","Random","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";function a(){d("MqttEnv").Env.initialize(c("Random").random,d("CurrentMessengerUser").isLoggedInNow,c("clearTimeout"),c("setTimeoutAcrossTransitions"),function(){return c("MqttLogger").getInstance()},c("MqttEnvGk"),null,null,null,d("MqttEnvConfigStorage").configRead,d("MqttEnvConfigStorage").configWrite)}b={genGk:c("MqttEnvGk"),initialize:a};g["default"]=b}),98);
__d("FBMqttChannel",["MqttChannel","MqttConfig","MqttEnvInitializer"],(function(a,b,c,d,e,f,g){"use strict";c("MqttEnvInitializer").initialize();b=new(c("MqttChannel"))({appId:(a=c("MqttConfig")).appID,capabilities:a.capabilities,chatVisibility:!1,clientCapabilities:a.clientCapabilities,endpoint:a.endpoint,initialSubscribedTopics:a.subscribedTopics,phpOverride:a.hostNameOverride,pollingEndpoint:a.pollingEndpoint,userFbid:a.fbid});g["default"]=b}),98);
__d("PromiseResult",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;a=function(){function a(){var a=this;this.promise=new(g||(g=b("Promise")))(function(b,c){a.$1=b,a.$2=c})}var c=a.prototype;c.resolve=function(a){this.$1(a)};c.reject=function(a){this.$2(a)};return a}();f["default"]=a}),66);
__d("MqttFetchClient",["MqttEnv","MqttProtocolCodec","MqttUserName","MqttUtils","Promise","PromiseResult"],(function(a,b,c,d,e,f,g){"use strict";var h,i="fetch_pull",j="fetch_pull_finish",k="fetch_",l=6e4,m="action",n="chunked",o="send",p="true",q=5,r=20,s=10,t=5e3,u=typeof window!=="undefined"?window:self;a=function(){function a(){this.$1="",this.$2=d("MqttEnv").Env.getLoggerInstance(),this.$3=0,this.$4="",this.$5=new(c("MqttUserName"))("",0,1,"",0,!0),this.$6=function(){},this.$7=function(a){},this.$8=function(){},this.$9=function(a){},this.$10=0,this.$11=0,this.$12=0,this.$13=0,this.$14="Ready",this.$15=[],this.$16=[],this.$17=null,this.$18=!1,this.$19=0}a.isSupported=function(){return typeof u.fetch==="function"};var e=a.prototype;e.run=function(a,b,c,e,f,g,h,i){this.$1=d("MqttUtils").endpointWithSessionId(a,b),this.$3=b,this.$4=c,this.$5=e,this.$6=f,this.$7=g,this.$8=h,this.$9=i,this.$20()};e.isTopicSupported=function(a){return!0};e.publish=function(a,b){return this.$21(a,b)};e.publishBinary=function(a,b){return this.$21(a,b)};e.$21=function(a,d){if(this.$14!=="ReceivingData"){this.$2.bumpCounter(k+"publish."+a+".invalidstate");return(h||(h=b("Promise"))).reject("not connected")}else{this.$2.bumpCounter(k+"publish."+a+".publish");var e=new(c("PromiseResult"))();a={topic:a,payload:d,promiseResult:e};this.$15.push(a);this.$22();return e.promise}};e.abort=function(){this.$6=function(){},this.$7=function(a){},this.$8=function(){},this.$9=function(a){}};e.$23=function(a){var b=this;a.forEach(function(a){b.$2.bumpCounter(k+"publish."+a.topic+".resolved"),a.promiseResult.resolve()});this.$12+=a.length};e.$24=function(a,b){var c=this;a.forEach(function(a){c.$2.bumpCounter(k+"publish."+a.topic+".rejected"),a.promiseResult.reject(b)})};e.$25=function(a,b,c,d){var e=a.map(function(a){return a.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request failed. Publishes:"+e+", retry:"+c);this.$2.bumpCounter(k+"publish_request_failed");this.$14!=="ReceivingData"||c===q?(this.$24(a,d),this.$18=!1,this.$2.bumpCounter(k+"publish_request_failed_final"),this.$22()):this.$26(a,b,c+1)};e.$27=function(a,b,c,d){if(!d.ok){this.$2.bumpCounter(k+"publish_request_failed.http."+d.status);if(d.status===409){this.$19++;if(this.$19>=s){this.$2.bumpCounter(k+"409_reset");this.$28(new Error("Too many 409 errors"));return}}this.$25(a,b,c,this.$29(d));return}this.$2.bumpCounter(k+"publish_request_success");b=a.map(function(a){return a.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request success. Publishes:"+b+", retry:"+c);this.$23(a);this.$18=!1;this.$22()};e.$22=function(){if(this.$14!=="ReceivingData")return;if(this.$18)return;if(this.$15.length===0&&this.$16.length===0)return;this.$18=!0;var a=this.$15.slice(0,r);this.$15=this.$15.slice(r,this.$15.length);this.$17!=null&&d("MqttEnv").Env.clearTimeout(this.$17);this.$17=null;var b=this.$16.slice(0,r);this.$16=this.$16.slice(r,this.$16.length);this.$26(a,b,0)};e.$26=function(a,b,c){var e=this,f=a.map(function(a){return a.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request sent. Publishes:"+f+", retry:"+c);f=d("MqttUtils").endpointWithExtraParameter(this.$1,m,o);var g=a.map(function(a){return{topic:a.topic,payload:a.payload,qos:0,messageId:d("MqttEnv").Env.random()}});g=this.$5.gen(this.$3,[],g,b);this.$2.bumpCounter(k+"publish_request");d("MqttUtils").promiseDoneWithTimeout(u.fetch(f,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",referrer:"no-referrer",body:g,keepalive:!1}),function(d){return e.$27(a,b,c,d)},function(d){return e.$25(a,b,c,d)},l)};e.$30=function(a){a=a.message;this.$2.debugTrace("FetchClient","Fetch request failed with error:"+a);this.$9(a);this.$31(!1,a);this.$2.bumpCounter(k+"error");this.$14="Error"};e.$32=function(a){var b=this;this.$2.debugTrace("FetchClient","Fetch response data received");a=d("MqttProtocolCodec").decodeByteMessages(new Uint8Array(a));a=a.messages;var c=a.filter(function(a){return a.messageType===d("MqttProtocolCodec").MESSAGE_TYPE.PINGREQ});a=a.filter(function(a){return a.messageType===d("MqttProtocolCodec").MESSAGE_TYPE.PUBLISH}).map(function(a){if(!(a instanceof d("MqttProtocolCodec").WireMessage.Publish))return{};a=a;a.qos===1&&a.messageIdentifier!=null&&(b.$16.push(a.messageIdentifier),b.$17==null&&(b.$17=d("MqttEnv").Env.setTimeout(function(){b.$22()},t)));return{topic:a.topic,payload:a.payloadMessage,qos:a.qos}});for(var e=a,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;this.$2.bumpCounter(k+"response_"+((h=h.topic)!=null?h:"void"))}a&&a.length>0&&(this.$13+=a.length,this.$7(a));c&&c.length>0&&this.$33()};e.$33=function(){this.$2.debugTrace("FetchClient","Got server ping request"),this.$2.bumpCounter(k+"ping")};e.$28=function(a){this.$2.debugTrace("FetchClient","Fetch request ended: "+a.toString()),this.$2.bumpCounter(k+"done"),this.$34(a.message),this.$8(),this.$14="Done"};e.$35=function(a,b,c){var e=this;if(c!=null)try{this.$32(c)}catch(a){this.$28(a);this.$2.bumpCounter(k+"dataDecodeException");return}if(b){this.$28(new Error("EOF"));return}d("MqttUtils").promiseDone(a.read(),function(c){var b=c.done;c=c.value;return e.$35(a,b,c)},function(a){return e.$28(a)})};e.$36=function(a){if(!a.ok){this.$2.bumpCounter(k+"error.http."+a.status);this.$30(this.$29(a));return}a=a.body;if(!a){this.$30(new Error("Empty body"));return}a=a.getReader();this.$6();this.$2.bumpCounter(k+"success");this.$31(!0,null);this.$11=Date.now();this.$14="ReceivingData";this.$2.debugTrace("FetchClient","Fetch request success");this.$35(a,!1,null)};e.$34=function(a){this.$2.eventLogPullFinish({pullEventName:j,sessionID:this.$3,duration:Date.now()-this.$11,errorMessage:a,publishReceived:this.$13,publishSent:this.$12})};e.$31=function(a,b){this.$2.eventLogPull({pullEventName:i,sessionID:this.$3,status:a,duration:Date.now()-this.$10,hostname:this.$1,errorMessage:b})};e.$20=function(){var a=this;if(this.$14!=="Ready")return;this.$2.debugTrace("FetchClient","Sending fetch request");this.$2.bumpCounter(k+"request");this.$10=Date.now();var b=d("MqttUtils").endpointWithExtraParameter(this.$1,n,p);d("MqttUtils").promiseDoneWithTimeout(u.fetch(b,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",referrer:"no-referrer",body:this.$4,keepalive:!1}),function(b){return a.$36(b)},function(b){return a.$30(b)},l)};e.$29=function(a){return new Error("Http error, status="+a.status)};return a}();g["default"]=a}),98);
__d("MqttLongPollingClient",["MqttEnv","MqttProtocolCodec","MqttUserName","Promise","XHRRequest","getCrossOriginTransport"],(function(a,b,c,d,e,f,g){"use strict";var h,i=120*1e3,j="simple_pull",k="longpolling_";a=function(){function a(){this.$3="",this.$4=0,this.$2=d("MqttEnv").Env.getLoggerInstance(),this.$1="Ready",this.$5="",this.$6=new(c("MqttUserName"))("",0,1,"",0,!0),this.$7=function(){},this.$8=function(a){},this.$9=function(){},this.$10=function(a){},this.$11=0,this.$12=null,this.$13=new Set(["/t_ms","/messenger_sync_get_diffs","/messenger_sync_create_queue","/webrtc","/rtc_multi"])}var e=a.prototype;e.run=function(a,b,c,d,e,f,g,h){this.$3=a,this.$4=b,this.$5=c,this.$6=d,this.$7=e,this.$8=f,this.$9=g,this.$10=h,this.$14(this.$5)};e.isTopicSupported=function(a){return this.$13.has(a)};e.publish=function(a,c){return(h||(h=b("Promise"))).reject("not supported")};e.publishBinary=function(a,c){return(h||(h=b("Promise"))).reject("not supported")};e.abort=function(){this.$12!=null&&this.$12.abort("Disconnected")};e.$15=function(a,b){if(this.$1===a)return;this.$1=a;a==="Error"&&b!=null&&this.$10(b);this.$2.debugTrace("LongPollingClient","_changeStatus : "+a)};e.$16=function(a){if(this.$1!=="RequestSend")return;if(!a){this.$17("EmptyResponse",null);return}this.$7();this.$2.bumpCounter(k+"success");this.$18(!0,null);this.$15("ResponseReceived");a=d("MqttProtocolCodec").decodeByteMessages(new Uint8Array(a));a=a.messages.filter(function(a){return a instanceof d("MqttProtocolCodec").WireMessage.Publish}).map(function(a){if(a instanceof d("MqttProtocolCodec").WireMessage.Publish){a=a;return{topic:a.topic,payload:a.payloadMessage,qos:a.qos}}else return{}});this.$8(a);this.$9()};e.$17=function(a,b){b=b!=null?b.message:"null";this.$2.debugTrace("LongPollingClient Error","Poll failed with error:"+a+", errorMsg:"+b);this.$18(!1,a+":"+b);this.$2.bumpCounter(k+"error."+a);this.$15("Error",a)};e.$18=function(a,b){this.$2.eventLogPull({pullEventName:j,sessionID:this.$4,status:a,duration:Date.now()-this.$11,hostname:this.$3,errorMessage:b})};e.$14=function(a){var b=this;if(this.$1!=="Ready"||this.$12)return;this.$2.bumpCounter(k+"request");try{this.$11=Date.now(),this.$12=new(c("XHRRequest"))(this.$3).setResponseType("arraybuffer").setRawData(a).setTransportBuilder(c("getCrossOriginTransport").withCredentials).setResponseHandler(function(a){return b.$16(a)}).setNetworkFailureHandler(function(a){b.$17("Network",a)}).setErrorHandler(function(a){b.$17("Error",a)}).setAbortHandler(function(a){b.$17("Abort",null)}).setTimeoutHandler(function(){b.$17("Timeout",null)}).setTimeout(i).send(),this.$15("RequestSend")}catch(a){this.$17("Error",a)}};return a}();g["default"]=a}),98);
__d("MqttLongPollingHookCollection",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.addHook=function(a){this.$1.add(a)};b.removeHook=function(a){this.$1["delete"](a)};b.onPollRequestSent=function(){this.$1.forEach(function(a){a.onPollRequestSent()})};b.onPollRequestSuccess=function(){this.$1.forEach(function(a){a.onPollRequestSuccess()})};b.onPollResponse=function(a){this.$1.forEach(function(b){b.onPollResponse(a)})};b.onPollFinish=function(){this.$1.forEach(function(a){a.onPollFinish()})};b.onPollRequestFailed=function(a){this.$1.forEach(function(b){b.onPollRequestFailed(a)})};b.onPollShutdownAbort=function(){this.$1.forEach(function(a){a.onPollShutdownAbort()})};return a}();f["default"]=a}),66);
__d("exponentialBackoff",["MqttEnv"],(function(a,b,c,d,e,f,g){function a(a,b){b===void 0&&(b=null);var c=null,e=0;function f(){for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];var i=function(){a.apply(b,g)};if(c===null){var j=Math.max(0,Math.pow(2,Math.min(e,6))*(1e3+d("MqttEnv").Env.random()*100)-2e3);c=d("MqttEnv").Env.setTimeout(function(){i(),c=null},j)}e++}f.reset=function(){e=0,c!=null&&(d("MqttEnv").Env.clearTimeout(c),c=null)};f.isPending=function(){return c!=null};return f}g["default"]=a}),98);
__d("MqttLongPollingRunner",["MqttEnv","MqttFetchClient","MqttLongPollingClient","MqttLongPollingHookCollection","MqttTypes","MqttUtils","MqttWebSocketUtils","Promise","exponentialBackoff"],(function(a,b,c,d,e,f,g){"use strict";var h,i=4,j=1e3,k=3e3,l="mqtt_should_longpoll",m="last_lp",n="yes",o="no";a=function(){function a(a,b,e,f,g,h,i,j,k){var l=this;this.$23=function(){try{if(!l.$30())return;l.$5.debugTrace("LongPollingRunner","_startPollingIfNecessary called");var a=l.$31();l.$14=a;var b=l.$9(),c=l.$10();b=b.filter(function(b){return a.isTopicSupported(b)});c=c.filter(function(b){return a.isTopicSupported(b.topic)});if(b.length===0&&c.length===0){l.$5.debugTrace("LongPollingRunner","Poll skipped, nothing to do");l.$14=null;d("MqttEnv").Env.setTimeout(function(){l.$23()},1e3);return}var e=d("MqttUtils").generateSessionId();a.run(l.$6,e,l.$7.gen(e,b,c),l.$7,function(){return l.$32()},function(a){return l.$33(a)},function(){return l.$34()},function(a){return l.$35(a)});l.$19.onPollRequestSent();e=b.join(",");b=c.map(function(a){return a.topic}).join(",");l.$5.debugTrace("LongPollingRunner","Making a poll request to "+l.$6+". SubscribedTopics:"+e+". Publishes:"+b)}catch(a){a&&l.$5.logErrorWarn(a,"lp_js_error"),l.$11(new(d("MqttTypes").MqttChannelError)(!1,"js error lp",a)),l.$35("lp_js_error")}};this.$6=a;this.$7=b;this.$1=f;this.$2=0;this.$3=e;this.$4=d("MqttWebSocketUtils").hasWSSupport();this.$5=d("MqttEnv").Env.getLoggerInstance();this.$8=g;this.$9=h;this.$10=i;this.$11=j;this.$12=k;this.$13=!1;this.$14=null;this.$15="LPInactive";this.$16="NotSent";this.$17=0;this.$19=new(c("MqttLongPollingHookCollection"))();this.$18=c("exponentialBackoff")(this.$23,this);this.$20=0;this.$21=o;a=d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_lp_use_fetch);b=c("MqttFetchClient").isSupported();a?this.$5.bumpCounter("fetch_gk_pass"):this.$5.bumpCounter("fetch_gk_fail");b?this.$5.bumpCounter("fetch_api_supported"):this.$5.bumpCounter("fetch_api_not_supported");this.$22=a&&b}var e=a.prototype;e.addHook=function(a){this.$19.addHook(a)};e.start=function(){var a=this;this.$21=d("MqttEnv").Env.configRead(m,o);this.$5.debugTrace("LongPollingRunner","Runner loaded, last status "+this.$21);this.$20=Date.now();this.$23();d("MqttEnv").Env.setTimeout(function(){a.$23()},j+100);d("MqttEnv").Env.setTimeout(function(){a.$23()},k+100)};e.shutdown=function(){this.$5.debugTrace("LongPollingRunner","Shutdown called"),this.$14&&this.$14.abort(),this.$19.onPollShutdownAbort(),this.$14=null};e.canPublish=function(){return this.$15==="LPActive"&&this.$16==="ReceivingData"};e.publish=function(a,b,c){return this.$24(a,b)};e.publishBinary=function(a,b,c){return this.$24(a,b)};e.$24=function(a,c){if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_enable_publish_over_polling)&&(this.$14&&this.$14.isTopicSupported(a)))if(typeof c==="string")return this.$14.publish(a,c);else return this.$14.publishBinary(a,c);return(h||(h=b("Promise"))).reject()};e.onConnectAttempt=function(){};e.onConnectFailure=function(){this.$2++,this.$23()};e.onConnected=function(){};e.onConnectSuccess=function(){this.$1=!0,d("MqttEnv").Env.configWrite(m,null)};e.onConnectionLost=function(){};e.onConnectionDisconnect=function(){};e.onSubscribe=function(a){};e.onUnsubscribe=function(a){};e.onPublish=function(a){};e.onMessage=function(a){};e.onWSFatal=function(){this.$3=!0,this.$23()};e.getStatus=function(){return this.$15};e.getRequestStatus=function(){return this.$16};e.$25=function(a){a!==this.$15&&(this.$5.debugTrace("LongPollingRunner","status changed to "+a+" from "+this.$15),this.$15=a,this.$12(this.$15,this.$16))};e.$26=function(a){if(!this.$22)return;a!==this.$16&&(this.$5.debugTrace("LongPollingRunner","request status changed to "+a+" from "+this.$16),this.$16=a,this.$12(this.$15,this.$16))};e.$27=function(){this.$17=0};e.$28=function(){this.$17++,this.$17>=i&&this.$25("LPError")};e.$29=function(){var a,b=(a=d("MqttEnv")).Env.genGk(a.MqttGkNames.mqtt_lp_no_delay),c=a.Env.genGk(a.MqttGkNames.mqtt_ws_polling_enabled);a=a.Env.genGk(a.MqttGkNames.mqtt_fast_lp);this.$5.debugTrace("LongPollingRunner","_shouldPoll? pollNow:"+String(b)+" enabled:"+String(c)+" fastPoll:"+String(a)+" hasWSSupport:"+String(this.$4)+" hasWsSuccessBefore:"+String(this.$1)+" failureCount:"+this.$2+" wsFatal:"+String(this.$3));if(!c)return!1;if(b){this.$5.bumpCounter(l+".nd");return!0}if(!this.$4){this.$5.bumpCounter(l+".na");return!0}if(this.$3){this.$5.bumpCounter(l+".fatal");return!0}if(this.$1)return!1;if(a){c=Date.now()-this.$20;if(this.$21===n){if(this.$2>=1)return!0;if(c>j){this.$5.bumpCounter(l+".fastdelay");return!0}}else if(c>k){this.$5.bumpCounter(l+".regulardelay");return!0}}if(this.$2>=3){this.$5.bumpCounter(l+".failure");return!0}return!1};e.$30=function(){if(this.$14!=null)return!1;var a=this.$29();!this.$13&&a&&(this.$5.bumpCounter("polling_kickin"),this.$13=!0,this.$25("LPActive"),this.$27());this.$13&&!a&&(this.$5.bumpCounter("polling_stopped"),this.$13=!1,this.$25("LPInactive"),this.$27());return a};e.$31=function(){if(this.$22){this.$5.debugTrace("LongPollingRunner","Creating polling client using Fetch API");return new(c("MqttFetchClient"))()}else{this.$5.debugTrace("LongPollingRunner","Creating regular Polling client");return new(c("MqttLongPollingClient"))()}};e.$32=function(){this.$5.debugTrace("LongPollingRunner","Poll success"),this.$19.onPollRequestSuccess(),this.$18.reset(),this.$25("LPActive"),this.$27(),d("MqttEnv").Env.configWrite(m,n),this.$26("ReceivingData")};e.$33=function(a){var b=a.map(function(a){return a.topic}).join(",");this.$5.debugTrace("LongPollingRunner","Poll response received, message received:"+b);for(b=0;b<a.length;b++){var c=a[b];this.$19.onPollResponse(c.topic);this.$8(c.topic,c.payload,c.qos)}};e.$34=function(){this.$5.debugTrace("LongPollingRunner","Poll finish"),this.$19.onPollFinish(),this.$14&&this.$14.abort(),this.$14=null,this.$23(),this.$26("NotSent")};e.$35=function(a){this.$19.onPollRequestFailed(a),this.$14&&this.$14.abort(),this.$14=null,this.$18(),this.$28(),this.$26("NotSent")};return a}();g["default"]=a}),98);
__d("QpActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744247");b=d("FalcoLoggerInternal").create("qp_action",a);e=b;g["default"]=e}),98);
__d("QpImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744249");b=d("FalcoLoggerInternal").create("qp_impression",a);e=b;g["default"]=e}),98);
__d("TWriteBuffer",[],(function(a,b,c,d,e,f){a=function(){function a(b){b===void 0&&(b=a.DEFAULT_BYTE_BUFFER_SIZE),this.$1=new DataView(new ArrayBuffer(b)),this.$2=0}var b=a.prototype;b.write=function(a){this.$2+a.length>this.$1.byteLength&&this.$3(this.$2+a.length);for(var b=0;b<a.length;b++)this.$1.setUint8(this.$2+b,a[b]);this.$2+=a.length;return a.length};b.writeByte=function(a){this.$2+1>this.$1.byteLength&&this.$3(this.$2+1);this.$1.setUint8(this.$2,a);this.$2++;return 1};b.writeFloatBE=function(a){this.$2+Float32Array.BYTES_PER_ELEMENT>this.$1.byteLength&&this.$3(this.$2+Float32Array.BYTES_PER_ELEMENT);this.$1.setFloat32(this.$2,a);this.$2+=Float32Array.BYTES_PER_ELEMENT;return Float32Array.BYTES_PER_ELEMENT};b.writeDoubleBE=function(a){this.$2+Float64Array.BYTES_PER_ELEMENT>this.$1.byteLength&&this.$3(this.$2+Float64Array.BYTES_PER_ELEMENT);this.$1.setFloat64(this.$2,a);this.$2+=Float64Array.BYTES_PER_ELEMENT;return Float64Array.BYTES_PER_ELEMENT};b.toByteArray=function(){var a=new Uint8Array(this.$1.buffer,0,this.$2);return a};b.currentSize=function(){return this.$2};b.getUnderlyingDataView=function(){return this.$1};b.$3=function(a){a=a*2;if(!Number.isSafeInteger(a))throw new Error("unable to resize");a=new DataView(new ArrayBuffer(a));for(var b=0;b<this.$2;b++)a.setUint8(b,this.$1.getUint8(b));this.$1=a};b.readByte=function(){throw new Error("operation not supported")};b.readBytes=function(a){throw new Error("operation not supported")};b.readFloatBE=function(){throw new Error("operation not supported")};b.readDoubleBE=function(){throw new Error("operation not supported")};return a}();a.DEFAULT_BYTE_BUFFER_SIZE=16;f["default"]=a}),66);
__d("StringToUtf8",["TWriteBuffer"],(function(a,b,c,d,e,f,g){a=function(a){var b=new(c("TWriteBuffer"))(a.length),d;for(var e=0;e<a.length;e++){d=a.charCodeAt(e);if(d<128)b.writeByte(d);else if(d<2048)b.writeByte(d>>6|192),b.writeByte(d&63|128);else if((d&64512)==55296){if(e+1>=a.length)throw new Error("UTF-16 string is truncated: ["+d.toString(16)+"]");if((a.charCodeAt(e+1)&64512)!==56320)throw new Error("Invalid UTF-16 string: ["+d.toString(16)+", "+a.charCodeAt(e+1).toString(16)+"]");d=65536+((d&1023)<<10)+(a.charCodeAt(++e)&1023);b.writeByte(d>>18|240);b.writeByte(d>>12&63|128);b.writeByte(d>>6&63|128);b.writeByte(d&63|128)}else b.writeByte(d>>12|224),b.writeByte(d>>6&63|128),b.writeByte(d&63|128)}return b.toByteArray()};g.StringToUtf8=a}),98);
__d("TNoOpWriteBuffer",[],(function(a,b,c,d,e,f){a=function(){function a(){this.$1=0}var b=a.prototype;b.write=function(a){this.$1+=a.length;return a.length};b.writeByte=function(a){this.$1++;return 1};b.writeFloatBE=function(a){this.$1+=Float32Array.BYTES_PER_ELEMENT;return Float32Array.BYTES_PER_ELEMENT};b.writeDoubleBE=function(a){this.$1+=Float64Array.BYTES_PER_ELEMENT;return Float64Array.BYTES_PER_ELEMENT};b.toByteArray=function(){throw new Error("operation not supported")};b.currentSize=function(){return this.$1};b.readByte=function(){throw new Error("operation not supported")};b.readBytes=function(a){throw new Error("operation not supported")};b.readFloatBE=function(){throw new Error("operation not supported")};b.readDoubleBE=function(){throw new Error("operation not supported")};return a}();f["default"]=a}),66);
__d("TReadBuffer",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a,this.$2=0}var b=a.prototype;b.readByte=function(){if(this.$2<this.$1.length)return this.$1[this.$2++];throw new Error("no available byte to read")};b.readBytes=function(a){if(a<0)throw new Error("cannot readBytes of negative length: "+a);if(a+this.$2>this.$1.length)throw new Error("not enough bytes to read");var b=new Uint8Array(this.$1.buffer,this.$3(),a);this.$2+=a;return b};b.readFloatBE=function(){if(Float32Array.BYTES_PER_ELEMENT+this.$2>this.$1.length)throw new Error("not enough bytes to read");var a=new DataView(this.$1.buffer).getFloat32(this.$3());this.$2+=Float32Array.BYTES_PER_ELEMENT;return a};b.readDoubleBE=function(){if(Float64Array.BYTES_PER_ELEMENT+this.$2>this.$1.length)throw new Error("not enough bytes to read");var a=new DataView(this.$1.buffer).getFloat64(this.$3());this.$2+=Float64Array.BYTES_PER_ELEMENT;return a};b.$3=function(){return this.$2+this.$1.byteOffset};b.getCurrentCursor=function(){return this.$2};b.writeByte=function(a){throw new Error("operation not supported")};b.write=function(a){throw new Error("operation not supported")};b.toByteArray=function(){throw new Error("operation not supported")};b.writeFloatBE=function(a){throw new Error("operation not supported")};b.writeDoubleBE=function(a){throw new Error("operation not supported")};return a}();f["default"]=a}),66);
__d("ThriftTypes",[],(function(a,b,c,d,e,f){a=Object.freeze({STOP:0,VOID:1,BOOL:2,BYTE:3,I08:3,DOUBLE:4,I16:6,I32:8,I64:10,STRING:11,STRUCT:12,MAP:13,SET:14,LIST:15,FLOAT:19});b=a;f["default"]=b}),66);
__d("Utf8ToString",[],(function(a,b,c,d,e,f){var g=function(a,b){throw new Error(a+": ["+b.map(function(a){return a.toString(16)}).toString()+"]")},h=function(a){g("Invalid UTF-8 sequence",a)},i=function(a,b){g("Not enough bytes for "+a+"-byte sequence",b)};a=function(a){var b=0,c=[];while(b<a.length){var d=a[b++];if(d<128)c.push(String.fromCharCode(d));else if(d>=128&&d<194)h([d]);else if(d>=194&&d<224){b>=a.length&&i(2,[d]);var e=a[b++];(e&192)!==128&&h([d,e]);c.push(String.fromCharCode((d&31)<<6|e&63))}else if(d>=240&&d<245){b+2>=a.length&&i(4,[d]);e=a[b++];var f=a[b++],g=a[b++];(d==240&&(!(e>=144&&e<192)||(f&192)!==128||(g&192)!==128)||d>=241&&d<244&&((e&192)!==128||(f&192)!==128||(g&192)!==128)||d==244&&(!(e>=128&&e<144)||(f&192)!==128||(g&192)!==128))&&h([d,e,f,g]);e=((d&7)<<18|(e&63)<<12|(f&63)<<6|g&63)-65536;c.push(String.fromCharCode(55296+(e>>10)));c.push(String.fromCharCode(56320+(e&1023)))}else if(d>=245)h([d]);else{b+1>=a.length&&i(3,[d]);f=a[b++];g=a[b++];d==224?f>=160&&f<192||h([d,f,g]):d>=225&&d<237?f>=128&&f<192||h([d,f,g]):d==237?f>=128&&f<160||h([d,f,g]):d>=238&&d<240&&(f>=128&&f<192||h([d,f,g]));g>=128&&g<192||h([d,f,g]);c.push(String.fromCharCode((d&15)<<12|(f&63)<<6|g&63))}}return c.join("")};f.Utf8ToString=a}),66);/*FB_PKG_DELIM*/
__d("IWAAPI",["WABridge"],(function(a,b,c,d,e,f,g){"use strict";b=1;function a(a){return function(){for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];return d("WABridge").getBridge().sendAndReceive("backend","waapi",{type:a,args:c})}}g.version=b;g.makeBridgedApi=a}),98);
__d("LSClientDependencies",[],(function(a,b,c,d,e,f){}),null);
__d("LSDeleteAllCommunityChannelCategories",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(182).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(9).fetch([[[b.i64.cast([0,20])]],"threadTypeLastActivityTimestampMs"]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteAllCommunityChannelCategoriesStoredProcedure";e.exports=a}),null);
__d("LSDeleteAllCommunityFolders",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(162).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(9).fetch([[[b.i64.cast([0,17])]],"threadTypeLastActivityTimestampMs"]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteAllCommunityFoldersStoredProcedure";e.exports=a}),null);
__d("LSDeleteThenInsertCmCommunityList",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(166).put({communityId:a[0]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsDeleteThenInsertCmCommunityListStoredProcedure";e.exports=a}),null);
__d("LSSetThreadImageURL",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({threadPictureUrl:a[1]===""?void 0:a[1],threadPictureUrlFallback:a[2],threadPictureUrlExpirationTimestampMs:a[3],isCustomThreadPicture:a[4],shouldRoundThreadPicture:a[5]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxSetThreadImageURLStoredProcedure";e.exports=a}),null);
__d("LSDeleteThenInsertContact",["LSSetThreadImageURL"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.i64.eq(a[23],c.i64.cast([0,39423]))?d[0]=c.i64.cast([0,1]):(c.i64.eq(a[23],c.i64.cast([0,14342874]))?d[1]=c.i64.cast([0,2]):d[1]=void 0,d[0]=d[1]),c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))&&c.i64.gt(b.authorityLevel,a[21])}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(7).put({id:a[0],profilePictureUrl:a[2],profilePictureFallbackUrl:a[3],profilePictureUrlExpirationTimestampMs:a[4],profilePictureLargeUrl:a[5],profilePictureLargeFallbackUrl:a[6],profilePictureLargeUrlExpirationTimestampMs:a[7],name:a[9],secondaryName:a[41],normalizedNameForSearch:a[10],normalizedSearchTerms:a[33],isMessengerUser:a[11],isMemorialized:a[12],isManagedByViewer:a[35],blockedByViewerStatus:a[14],rank:a[17],firstName:a[18],contactType:a[19],contactTypeExact:a[20],authorityLevel:a[21],messengerCallLogThirdPartyId:a[22],profileRingColor:a[23],requiresMultiway:a[24],blockedSinceTimestampMs:a[25],fbUnblockedSinceTimestampMs:a[46],canViewerMessage:a[26],profileRingColorExpirationTimestampMs:a[27],phoneNumber:a[28],emailAddress:a[29],workCompanyId:a[30],workCompanyName:a[31],workJobTitle:a[32],deviceContactId:a[34],workForeignEntityType:a[36],capabilities:a[37],capabilities2:a[38],profileRingState:d[0],contactViewerRelationship:a[39],gender:a[40],contactReachabilityStatusType:a[43],restrictionType:a[44],waConnectStatus:a[45],isEmployee:!1,pageType:a[47]}):0})},function(d){return c.storedProcedure(b("LSSetThreadImageURL"),a[0],a[2],a[3],a[4],!1,!0)}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSContactDeleteThenInsertContactStoredProcedure";e.exports=a}),null);
__d("LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(175).put({id:a[0],globalMuteUntil:a[1],showMessagePreview:a[4],isSoundOn:a[7],groupNotificationSetting:a[8],oneToOneNotificationSetting:a[9],replyReminderSetting:a[10],messageReminderDisabled:a[12],messageSound:a[13],ringtoneSound:a[14],newFriendBumpDisabledSetting:a[15],globalMuteMessageUntil:a[2],globalMuteCallUntil:a[3],includeInSwitchAccountBadges:a[11],dismissNfbThreadsCount:a[16],mutePageAccountMessageReminder:a[17]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsDeleteThenInsertNotificationsSettingsGraphQLSnapshotStoredProcedure";e.exports=a}),null);
__d("LSGroupRoomTruncate",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.filter(b.db.table(63).fetch(),function(a){return b.i64.neq(a.groupRoomType,void 0)&&b.i64.neq(a.groupRoomType,b.i64.cast([0,5]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSStoriesGroupRoomTruncateStoredProcedure";e.exports=a}),null);
__d("LSDeleteThenInsertCommunityFolder",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.filter(b.db.table(162).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.folderId,a[0])&&b.i64.gt(b.i64.cast([0,80]),a[52])}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(162).put({folderId:a[0],fbGroupId:a[1],name:a[2],memberCount:a[4],description:a[3],pictureUrl:a[5],pictureUrlFallback:a[6],pictureUrlExpirationTimestampMs:a[7],joiningChannelTaskId:a[8],afterJoiningOpenChannelId:a[10],capabilities:a[11],capabilities2:a[12],capabilities3:a[13],notificationSetting:a[14],notificationMutedUntil:a[15],sendsBlockedUntil:a[17],isHidden:a[18],hasSeenDisablingAlert:a[19],inviteLink:a[21],communityType:a[22],directInviteLink:a[23],enableState:a[24],takedownState:a[25],fbGroupType:a[28],threadCount:a[29],disableTimestamp:a[32],readTimestampMs:a[33],inviteStatus:a[37],blockedFromCommunityMemberCount:a[40],categoryCount:a[41],snippetText:a[42],coverPicUrl:a[43],coverPicUrlFallback:a[44],coverPicUrlExpirationTimestampMs:a[45],invitedThreadId:a[47],fbGroupUserParticipationApprovalStatus:a[48],ccAdminAssistRegistrationStatus:a[49],pauseStatus:a[50],isMember:a[51]}):0})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteThenInsertCommunityFolderStoredProcedure";e.exports=a}),null);
__d("LSUpdateOrInsertThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(9).fetch([[[a[7]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?b.db.table(9).add({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[32],parentThreadKey:a[38],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:a[59],isDisappearingMode:a[60],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],capabilities4:a[107]}):(e=d.item,c[1]=e.lastActivityTimestampMs,c[3]=e.parentThreadKey,c[2]=e.disappearingThreadKey,c[4]=e.isDisappearingMode,b.i64.le(e.authorityLevel,a[6])?b.i64.gt(c[1],a[0])&&b.i64.neq(c[2],void 0)?(b.i64.eq(a[38],b.i64.cast([-1,4294967286]))&&b.i64.eq(c[3],b.i64.cast([0,0]))?(f=[c[3],e.folderName],c[5]=f[0],c[6]=f[1],f):(d=[a[38],a[10]],c[5]=d[0],c[6]=d[1],d),b.forEach(b.db.table(9).fetch([[[a[7]]]]),function(b){var d=b.update;b.item;return d({lastReadWatermarkTimestampMs:e.lastReadWatermarkTimestampMs,authorityLevel:a[6],threadType:a[9],folderName:c[6],ongoingCallState:a[32],parentThreadKey:c[5],lastActivityTimestampMs:c[1],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],capabilities4:a[107],avatarStickerInstructionKeyId:void 0,avatarStickerId:void 0,avatarStickerThumbnailImageUrl:void 0,avatarStickerThumbnailImageMimeType:void 0,avatarStickerOriginalImageUrl:void 0,avatarStickerOriginalImageMimeType:void 0,hasPendingJoinRequest:void 0,pendingJoinRequestsCount:void 0,memberCount:void 0,admodCount:void 0,ctmAdId:void 0,ctmAdgroupId:void 0,ctmAdCampaignId:void 0,ctmAdCampaignGroupId:void 0,ctmAdAccountId:void 0,metadata:void 0})})):b.forEach(b.db.table(9).fetch([[[a[7]]]]),function(b){var d=b.update;b.item;return d({lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],threadType:a[9],folderName:a[10],ongoingCallState:a[32],parentThreadKey:a[38],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],capabilities4:a[107],avatarStickerInstructionKeyId:void 0,avatarStickerId:void 0,avatarStickerThumbnailImageUrl:void 0,avatarStickerThumbnailImageMimeType:void 0,avatarStickerOriginalImageUrl:void 0,avatarStickerOriginalImageMimeType:void 0,hasPendingJoinRequest:void 0,pendingJoinRequestsCount:void 0,memberCount:void 0,admodCount:void 0,ctmAdId:void 0,ctmAdgroupId:void 0,ctmAdCampaignId:void 0,ctmAdCampaignGroupId:void 0,ctmAdAccountId:void 0,metadata:void 0})}):b.resolve())})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxUpdateOrInsertThreadStoredProcedure";e.exports=a}),null);
__d("LSPopulateCommunityFolderData",["LSDeleteThenInsertCommunityFolder","LSUpdateOrInsertThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.sequence([function(d){return c.storedProcedure(b("LSDeleteThenInsertCommunityFolder"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],void 0,void 0,void 0,a[11],a[12],a[13],a[14],a[15],void 0,a[16],a[17],a[18],void 0,a[19],a[20],a[21],a[22],a[23],void 0,void 0,a[24],a[26],void 0,void 0,a[25],a[37],void 0,void 0,c.i64.cast([0,0]),a[29],void 0,c.i64.cast([0,1]),a[28],a[27],a[30],a[31],a[32],a[33],void 0,a[34],a[35],a[36],a[38],a[39],c.i64.cast([0,80]))},function(d){return c.storedProcedure(b("LSUpdateOrInsertThread"),a[8],a[9],a[10],a[2],a[5],void 0,c.i64.cast([0,80]),a[0],c.i64.cast([0,0]),c.i64.cast([0,17]),"community",a[6],a[7],c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,c.i64.cast([-1,4294967282]),void 0,void 0,void 0,void 0,void 0,void 0,!1,!1,!1,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),void 0,void 0,!1,void 0,void 0,void 0,void 0,!1,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,void 0,c.i64.cast([0,0]),void 0,!1,void 0,void 0,void 0,!1,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,!1,c.i64.cast([0,0]),void 0,void 0,void 0,c.i64.cast([0,0]))}])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSMailboxPopulateCommunityFolderDataStoredProcedure";e.exports=a}),null);
__d("LSRemoveTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,b.forEach(b.db.table(2).fetch([[[e.queueName,{lte:a[0]}]],"queueNameTaskId"]),function(a){var d=a.item;return b.sequence([function(a){return b.forEach(b.filter(b.db.table(2).fetch([[[d.taskId]]]),function(a){return b.i64.eq(a.taskId,d.taskId)&&a.queueName===d.queueName}),function(a){return a["delete"]()})},function(a){return b.i64.eq(d.taskDispatchPriority,b.i64.cast([0,1e3]))?c[0]=b.i64.cast([0,734739218]):c[0]=b.i64.cast([0,734737036])}])}))})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreRemoveTaskStoredProcedure";e.exports=a}),null);
__d("LSRoomTruncate",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.filter(b.db.table(63).fetch(),function(a){return b.i64.eq(a.groupRoomType,void 0)||b.i64.eq(a.groupRoomType,b.i64.cast([0,5]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSStoriesRoomTruncateStoredProcedure";e.exports=a}),null);
__d("LSTaskExists",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?c[0]=!1:(a.item,c[0]=!0)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreTaskExistsStoredProcedure";e.exports=a}),null);
__d("LSTruncateCommunityListTable",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.db.table(166).fetch(),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsTruncateCommunityListTableStoredProcedure";e.exports=a}),null);
__d("LSTruncateNotificationSettings",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.db.table(175).fetch(),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsTruncateNotificationSettingsStoredProcedure";e.exports=a}),null);
__d("LSUpdateLastSyncCompletedTimestampMsToNow",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.forEach(b.db.table(1).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({lastSyncCompletedTimestampMs:c[0]})})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreUpdateLastSyncCompletedTimestampMsToNowStoredProcedure";e.exports=a}),null);
__d("LSUpsertGradientColor",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(117).put({themeFbid:a[0],gradientIndex:a[1],color:a[2],type_:a[3]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSThreadThemeUpsertGradientColorStoredProcedure";e.exports=a}),null);
__d("LSUpsertTheme",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.i64.neq(a[12],void 0)?c[0]=a[12]:c[0]=a[0],b.db.table(116).put({fbid:a[0],themeIdx:a[1],fallbackColor:a[2],reverseGradiantsForRadial:a[3],accessibilityLabel:a[4],iconUrl:a[5],iconUrlFallback:a[6],backgroundUrl:a[8],description:a[9],isDeprecated:a[11],normalThemeId:c[0],appColorMode:a[13],titlebarBackgroundColor:a[14],titlebarButtonTintColor:a[15],titlebarTextColor:a[16],titlebarAttributionTextColor:a[17],composerTintColor:a[18],composerUnselectedTintColor:a[19],composerInputTextPlaceholderColor:a[20],composerInputBackgroundColor:a[21],composerInputBorderColor:a[22],composerInputBorderWidth:a[23],composerBackgroundColor:a[24],messageTextColor:a[25],messageBorderColor:a[26],messageBorderWidth:a[27],incomingMessageTextColor:a[28],incomingMessageBorderColor:a[29],incomingMessageBorderWidth:a[30],deliveryReceiptColor:a[31],tertiaryTextColor:a[32],primaryButtonBackgroundColor:a[33],hotLikeColor:a[34],reactionPillBackgroundColor:a[35],secondaryTextColor:a[36],quotedIncomingMessageBubbleColor:a[37],cornerRadius:a[38],blurredComposerBackgroundColor:a[39],composerSecondaryButtonColor:a[40],composerPlaceholderTextColor:a[41]})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSThreadThemeUpsertThemeStoredProcedure";e.exports=a}),null);
__d("LSStaticDependencies",["LSDeleteAllCommunityChannelCategories","LSDeleteAllCommunityFolders","LSDeleteThenInsertCmCommunityList","LSDeleteThenInsertContact","LSDeleteThenInsertMessageRequest","LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot","LSDeleteThenInsertThread","LSExecuteFinallyBlockForSyncTransaction","LSExecuteFirstBlockForSyncTransaction","LSGroupRoomTruncate","LSPopulateCommunityFolderData","LSRemoveTask","LSRoomTruncate","LSSetRegionHint","LSTaskExists","LSTruncateCommunityListTable","LSTruncateNotificationSettings","LSUpdateLastSyncCompletedTimestampMsToNow","LSUpsertGradientColor","LSUpsertSequenceId","LSUpsertTheme","LSVerifyContactRowExists"],(function(a,b,c,d,e,f,g){"use strict";a={deleteAllCommunityChannelCategories:c("LSDeleteAllCommunityChannelCategories"),deleteAllCommunityFolders:c("LSDeleteAllCommunityFolders"),deleteThenInsertCmCommunityList:c("LSDeleteThenInsertCmCommunityList"),deleteThenInsertContact:c("LSDeleteThenInsertContact"),deleteThenInsertMessageRequest:c("LSDeleteThenInsertMessageRequest"),deleteThenInsertNotificationsSettingsGraphQLSnapshot:c("LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot"),deleteThenInsertThread:c("LSDeleteThenInsertThread"),executeFinallyBlockForSyncTransaction:c("LSExecuteFinallyBlockForSyncTransaction"),executeFirstBlockForSyncTransaction:c("LSExecuteFirstBlockForSyncTransaction"),groupRoomTruncate:c("LSGroupRoomTruncate"),populateCommunityFolderData:c("LSPopulateCommunityFolderData"),removeTask:c("LSRemoveTask"),roomTruncate:c("LSRoomTruncate"),setRegionHint:c("LSSetRegionHint"),taskExists:c("LSTaskExists"),truncateCommunityListTable:c("LSTruncateCommunityListTable"),truncateNotificationSettings:c("LSTruncateNotificationSettings"),updateLastSyncCompletedTimestampMsToNow:c("LSUpdateLastSyncCompletedTimestampMsToNow"),upsertGradientColor:c("LSUpsertGradientColor"),upsertSequenceId:c("LSUpsertSequenceId"),upsertTheme:c("LSUpsertTheme"),verifyContactRowExists:c("LSVerifyContactRowExists")};g.staticCachedModules=a}),98);
__d("LSDynamicDependencies",["Bootloader","LSStaticDependencies","Promise","SiteData","asyncToGeneratorRuntime","clearTimeout","err","justknobx","nullthrows","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=babelHelpers["extends"]({},d("LSStaticDependencies").staticCachedModules),j={_tombstone:!0};function a(a){var d=new Map();for(a of a){var e=a.name;e!=null&&!m(e)&&d.set(e,c("nullthrows")(a.value))}if(d.size===0)return(h||(h=b("Promise"))).resolve();var f=new(h||(h=b("Promise")))(function(a){var e={},g=[],h=function(c){var a=c[0];c=c[1];c=c==null?void 0:c.__dr;e[c]={be:1,r:[]};g.push(c);i[a]={load:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield f;return i[a]});function d(){return c.apply(this,arguments)}return d}()}};for(var j of d)h(j);c("Bootloader").handlePayload({compMap:e,consistency:{rev:c("SiteData").client_revision}});k(c("Bootloader"),g,function(b){Array.from(d.entries()).forEach(function(a,c){var d=a[0];a[1];i[d]=b[c]}),a()})});return f}function k(a,b,c){return a.loadModules.call(a,b,function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c(b)})}function l(a){return a.charAt(0).toUpperCase()+a.slice(1)}function m(a){return a in i&&i[a]!==j}var n=c("justknobx")._("2800");function e(a,d,e){var f=new Map();for(a of(a=a)!=null?a:[]){m(a)||f.set(a,"LS"+l(a))}for(d of(a=d)!=null?a:[]){!m(d+".bs")?f.set(d+".bs","LS"+l(d)+".nop"):d+".nop"in i||f.set(d+".nop","LS"+l(d)+".nop")}for(d of(a=e)!=null?a:[]){d in i||f.set(d,"LS"+l(d))}if(f.size===0)return(h||(h=b("Promise"))).resolve();var g=new(h||(h=b("Promise")))(function(a,d){var e={},h=[],l=function(a){var c=a[0];a=a[1];e[a]={be:1,r:[]};h.push(a);i[c]={load:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{yield g}catch(a){i[c]=j;throw a}return i[c]});function d(){return a.apply(this,arguments)}return d}()}};for(var m of f)l(m);c("Bootloader").handlePayload({compMap:e,consistency:{rev:c("SiteData").client_revision}});var o=k(c("Bootloader"),h,function(b){c("clearTimeout")(p),Array.from(f.entries()).forEach(function(a,c){var d=a[0];a[1];i[d]=b[c]}),a()}),p=c("setTimeout")(function(){o.remove(),d(c("err")("Dynamic sproc loading timeout (%s ms); was loading: %s",n,Array.from(f.keys())))},n)});return g}g.cachedModules=i;g.TOMBSTONE=j;g.downloadRelayDependencies=a;g.downloadBootloaderDependencies=e}),98);
__d("LSInt64Lite",["FBLogger","I64","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h;a={add:(h||(h=d("I64"))).add,and_:h.and_,asr_:h.asr_,cast:function(a){a._tag="i64";return a},div:h.div,eq:function(a,b){return a==null&&b==null||a!=null&&b!=null&&(h||(h=d("I64"))).equal(a,b)},from_string:function(a){try{return(h||(h=d("I64"))).of_string(a)}catch(b){throw c("FBLogger")("messenger_comet").mustfixThrow('Unable to cast "%s" to int64',a)}},ge:h.ge,gt:h.gt,le:h.le,lsl_:h.lsl_,lsr_:h.lsr_,lt:h.lt,max:h.max,min:h.min,mod_:h.mod_,mul:h.mul,neq:function(a,b){return a==null&&b!=null||a!=null&&b==null||a!=null&&b!=null&&!(h||(h=d("I64"))).equal(a,b)},of_float:h.of_float,of_int32:h.of_int32,or_:h.or_,random:function(){var a=Array.from(d("XPlatReactCrypto").getRandomValues(new Uint32Array(2)));a[0]>>>=1;return(h||(h=d("I64"))).add(h.lsl_(h.of_float(a[0]),32),h.of_float(a[1]))},sub:h.sub,to_float:h.to_float,to_int32:h.to_int32,to_string:function(a){return a==null?a:(h||(h=d("I64"))).to_string(a)},xor:h.xor};g["default"]=a}),98);
__d("LSPendingTasksPluginType",[],(function(a,b,c,d,e,f){a=Object.freeze({LS_BROKER:0,PAYMENTS:1,EPHEMERAL_MESSAGING:2,CARRIER_MESSAGING:3,BUG_REPORTER:4,MESSAGE_DENORMALIZATIONS:5,SEEN_HEADS:6,MEDIA_UPLOAD:7,SECURE_THREAD_SEEN_HEADS:8,WHATSAPP_THREAD:9,SECURE_THREAD_OVER_WA_MESSAGE_SEND:10,CONTACT_PRUNING:11,MEDIA_MANAGER:12,SECURE_THREAD_OVER_WA_ENCRYPTION:13,STORY_POST:14,CO_PRESENCE_HEARTBEAT:16,SECURE_THREAD_OVER_WA_GROUP_MANAGEMENT:17,ENCRYPTED_BACKUPS:23,ANONYMOUS_REQUEST:25,MESSAGE_ACTIONS:28,MESSAGE_UNSEND_ATTACHMENT_CLEANUP:39,IGD_INSTAMADILLO:40,PENDING_MESSAGE_SEND:46});f["default"]=a}),66);
__d("isNativeTask",["I64","LSPendingTasksPluginType"],(function(a,b,c,d,e,f,g){"use strict";var h,i="4",j="16",k=new Set([c("LSPendingTasksPluginType").IGD_INSTAMADILLO]);function a(a){var b=k.has((h||(h=d("I64"))).to_float(a.pluginType));a=a.context===j||a.context===i;return b||a}g["default"]=a}),98);
__d("LSIterationHelpers",["FBLogger","ReStoreKeyComparer","ReStoreVaulting","isNativeTask","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Set(["messages","attachments","reactions"]);function j(a){return i.has(a)}function k(a,b,d){return a&&b.name==="pending_tasks"&&d!=null&&c("isNativeTask")(d)}function l(a){for(var b of Object.keys(a))a[b]===void 0&&delete a[b];return a}function m(a,b,c){c===void 0&&(c="asc");var e=a.entries(new WeakMap(),c);function f(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=f,a.next=async function(){var a=await e.next();outer:while(!a.done){var f=async function(f){var g=b[f]||{},i=g.end;g=g.start;var j=a.value[0],k=j.slice(0,f);if(g){var l=(h||(h=d("ReStoreKeyComparer"))).compareValue(j[f],g[0]);if(l*(c==="asc"?1:-1)<g[1]){if(f===j.length-1&&l===0)a=await e.next();else{l=[].concat(k,[g[0]],g[1]&&c==="asc"||!g[1]&&c==="desc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]);a=await e.next(l)}if(a.done)return{v:{done:!0}};j=a.value[0];if(!k.every(function(b,a){return(h||(h=d("ReStoreKeyComparer"))).compareValue(b,j[a])===0}))return"continue|outer"}}if(i&&(h||(h=d("ReStoreKeyComparer"))).compareValue(i[0],j[f])*(c==="asc"?1:-1)<i[1]){a=await e.next([].concat(j.slice(0,f),c==="asc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]));return"continue|outer"}};for(var g=0;g<b.length;g++){var i=await f(g);switch(i){case"continue|outer":continue outer;default:if(typeof i==="object")return i.v}}break}return a},a}return f()}function n(a,b,d,e,f){return{delete:function(){return d.delete.apply(d,a)},item:b,update:function(g){var h=f&&j(e.name)?{transportKey:"FBBroker"}:{};g=babelHelpers.extends({},b,g,h);if(k(f,e,g))throw c("unrecoverableViolation")("cannot insert native task in dynamic mode","messenger_web_product");return d.upsert(a,l(g))}}}function o(a,b){return p.apply(this,arguments)}function p(){p=babelHelpers.wrapAsyncGenerator(function*(a,b){var c=(yield babelHelpers.awaitAsyncGenerator(a.next()));while(!c.done)yield c.value,c=(yield babelHelpers.awaitAsyncGenerator(a.next()));c=(yield babelHelpers.awaitAsyncGenerator(b.next()));while(!c.done)yield c.value,c=(yield babelHelpers.awaitAsyncGenerator(b.next()))});return p.apply(this,arguments)}function q(a,b,c){return r.apply(this,arguments)}function r(){r=babelHelpers.wrapAsyncGenerator(function*(a,b,c){var e=(yield babelHelpers.awaitAsyncGenerator(a.next())),f=(yield babelHelpers.awaitAsyncGenerator(b.next()));while(!e.done&&!f.done){var g=(h||(h=d("ReStoreKeyComparer"))).compareKey(e.value[0],f.value[0]);g===0?(yield e.value,e=(yield babelHelpers.awaitAsyncGenerator(a.next())),f=(yield babelHelpers.awaitAsyncGenerator(b.next()))):g*(c==="asc"?1:-1)<0?(yield e.value,e=(yield babelHelpers.awaitAsyncGenerator(a.next()))):(yield f.value,f=(yield babelHelpers.awaitAsyncGenerator(b.next())))}while(!e.done)yield e.value,e=(yield babelHelpers.awaitAsyncGenerator(a.next()));while(!f.done)yield f.value,f=(yield babelHelpers.awaitAsyncGenerator(b.next()))});return r.apply(this,arguments)}function a(a,b,e,f,g,h,i,l){var p=new Set(),r=a.length>1,s=a.length===1&&a[0][1]==null,t=a.map(function(a){var c=a[0],i=a[1];return c.map(function(a){f.key_lookup===!0&&a.length!==0;f.table_scan===!0&&a.length===0;var c=a.map(function(a){return h(a,b)});a=c.length===(i==null?e.primaryKeyIds:e.indexes[i]).length&&c.every(function(a){var b=a.end;a=a.start;return a&&b&&a[0]===b[0]&&a[1]===0&&b[1]===0});if(a){a=function a(){var b,f=!1;return b={},b[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=a,b.next=async function(){var a;if(f)return{done:!0};f=!0;var b=c.map(function(a){a=a.start;return a[0]});a=await (a=i==null?g:g.index(i)).get.apply(a,b);if(!a)return{done:!0};a=d("ReStoreVaulting").maybeUnvaultDbRow(a,e.name);return{done:!1,value:[b,a]}},b};return a()}return m(i==null?g:g.index(i),c,b)})}).flat().reduce(function(c,d){return a.length>1?o(c,d):q(c,d,b)});function u(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=u,a.next=async function(){var a,b,d,f=await t.next(),h;while(!f.done){var m=f.value;b=m[0];d=m[1];a=s?b:e.primaryKeyIds.map(function(a){return d[a]});if(k(i,e,d)){h=f;f=await t.next();continue}if(j(e.name)&&i&&d!=null&&d.transportKey!=="FBBroker"){h=f;f=await t.next();continue}if(r){m=JSON.stringify(a);if(p.has(m)){f=await t.next();continue}p.add(m)}break}if(h!=null){b=h.value[1].transportKey;c("FBLogger")("messenger_web_product").warn('Expected transportKey to equal ("FBBroker") in %s, provided transportKey: %s',l,b)}return f.done||a==null||d==null?{done:!0}:{done:!1,value:n(a,d,g,e,i)}},a}return u()}g.isTranportKeyEnforcedTable=j;g.isNativePendingTaskViolation=k;g.stripUndefinedProperties=l;g.fetch=a}),98);
__d("LSIterationOperations",["FBLogger","I64","LSDict","ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){var c;return c={},c[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return j(a,b)},c.next=async function(){var c=await a.next();while(!c.done&&!await b(c.value.item))c=await a.next();return c},c}function k(a,b,d){var e,f=0;return e={},e[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return k(a,b,d)},e.next=async function(){while(f<b){var e=await a.next();e=e.done;if(e){c("FBLogger")("messenger_web_product").info("not enough iterable values to slice from %d",b);return{done:!0}}f++}if(f<d){f++;return a.next()}return{done:!0}},e}async function a(a,b){var c=await a.next(),d=[];while(!c.done)d.push(c.value),c=await a.next();for(c of d)await b(c)}async function l(a){var b=[],c=await a.next();while(!c.done)b.push(c.value),c=await a.next();return b}function b(a,b,c){c===void 0&&(c=[]);var e={ASC:1,DESC:-1},f=function(a,c){a=a.item;c=c.item;for(var f=0;f<b.length;f++){var g=b[f];g=g[0];var i=a[g];g=c[g];var j;i==null&&g==null?j=0:i==null&&g!=null?j=-1:i!=null&&g==null?j=1:j=(h||(h=d("ReStoreKeyComparer"))).compareValue(i,g);if(j===0)continue;return j*e[b[f][1]]}return 0},g=function(){var b=babelHelpers.wrapAsyncGenerator(function*(){var b=(yield babelHelpers.awaitAsyncGenerator(a.next())),e,g=[];while(!b.done){var i=[];for(var j=c.length-1;j>=0;j--)i.push(b.value.item[c[j]]);if(e!=null&&(h||(h=d("ReStoreKeyComparer"))).compareKey(e,i)!==0){for(j of g.sort(f))yield j;g=[]}b.done||g.push(b.value);e=i;b=(yield babelHelpers.awaitAsyncGenerator(a.next()))}if(g.length)for(j of g.sort(f))yield j});return function(){return b.apply(this,arguments)}}();return g()}async function e(a){var b=0,c=await a.next();while(!c.done)b++,c=await a.next();return(i||(i=d("I64"))).of_int32(b)}function f(a,b){return{forEach:async function(e){var f=await l(a);f=f.reduce(function(c,d){d=d.item[b];var a=(c.get(d)||0)+1;return c.set(d,a)},new(c("LSDict"))());for(f of f.entries()){var g,h=f[0],j=f[1];await e((g={},g[b]=h,g.group_count=(i||(i=d("I64"))).of_int32(j),g))}}}}g.filter=j;g.slice=k;g.forEach=a;g.toArray=l;g.sortBy=b;g.count=e;g.groupBy=f}),98);
__d("LS",["FBLogger","I64","LSDict","LSDynamicDependencies","LSInt64Lite","LSIterationHelpers","LSIterationOperations","LSJson","LSVec","MessengerLogHistory","MetaConfig","ODS","ReStoreKeyComparer","XPlatReactTextDecoder","XPlatReactTextEncoder","base64Binary","cr:1088","cr:4790","emptyFunction","err","gkx","qpl","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);n=function(){return a};return a}var o="LS_WEB";function p(a){return a.name.match(/secure_|inbox(?!_)/i)}var q=d("MessengerLogHistory").getInstance("ls");function r(a){return d("base64Binary").decode(a).buffer}var s={compareTo:function(a,b){a=new Uint8Array(a);b=new Uint8Array(b);var c=Math.min(a.length,b.length);for(var d=0;d<c;d++){var e=a[d]-b[d];if(e!==0)return e}return a.length===b.length?0:a.length-b.length},eq:function(a,b){if(a==null&&b==null)return!0;if(a==null||b==null)return!1;a=new Uint8Array(a);b=new Uint8Array(b);if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0},ge:function(a,b){return s.compareTo(a,b)>=0},gt:function(a,b){return s.compareTo(a,b)>0},le:function(a,b){return s.compareTo(a,b)<=0},lt:function(a,b){return s.compareTo(a,b)<0},neq:function(a,b){return!s.eq(a,b)},of_string:function(a){if(a==null)return void 0;var b=new(d("XPlatReactTextEncoder").TextEncoder)();return b.encode(a).buffer},to_string:function(a){if(a==null)return void 0;var b=new(d("XPlatReactTextDecoder").TextDecoder)();return b.decode(a)}};function t(a){if(a.length!==1)throw c("unrecoverableViolation")("only literal strings supported","messenger_web_product");a=a[0];var b=parseInt(a.substr(-8),16);a=parseInt(a.substr(0,a.length-8),16);return(h||(h=d("I64"))).mk((b>>>1)+(a&1)*2147483648^-(b&1),a>>>1^-(b&1))}function u(a,b){if(typeof a==="object"&&!Array.isArray(a)){var d,e;if(b==="asc"){Object.prototype.hasOwnProperty.call(a,"gt")&&(d=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(d!=null)throw c("unrecoverableViolation")("Cannot specify both gt and gte","messenger_web_product");d=[a.gte,0]}Object.prototype.hasOwnProperty.call(a,"lt")&&(e=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(e!=null)throw c("unrecoverableViolation")("Cannot specify both lt and lte","messenger_web_product");e=[a.lte,0]}}else{Object.prototype.hasOwnProperty.call(a,"lt")&&(d=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(d!=null)throw c("unrecoverableViolation")("Cannot specify both lt and lte","messenger_web_product");d=[a.lte,0]}Object.prototype.hasOwnProperty.call(a,"gt")&&(e=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(e!=null)throw c("unrecoverableViolation")("Cannot specify both gt and gte","messenger_web_product");e=[a.gte,0]}}return{end:e,start:d}}return{end:[a,0],start:[a,0]}}function v(a,b,e,f,g){var h=a[b.name];return{add:async function(a){d("LSIterationHelpers").isTranportKeyEnforcedTable(b.name)&&g&&(a.transportKey="FBBroker"),await h.add(a)},fetch:function(){for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return d("LSIterationHelpers").fetch(c.length===0?[[[[]],void 0]]:c,"asc",b,e,h,u,g,f.join(", "))},fetchDesc:function(){for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return d("LSIterationHelpers").fetch(c.length===0?[[[[]],void 0]]:c,"desc",b,e,h,u,g,f.join(", "))},peekNextAutoIncrementId:function(){return h.peekNextAutoIncrementId()},put:async function(a){d("LSIterationHelpers").isTranportKeyEnforcedTable(b.name)&&g&&(a.transportKey="FBBroker");if(d("LSIterationHelpers").isNativePendingTaskViolation(g,b,a))throw c("unrecoverableViolation")("cannot put native task via LS transport","messenger_web_product");var e=b.primaryKeyIds.map(function(b){if(a[b]!==void 0)return a[b];throw c("unrecoverableViolation")("primary key must be defined on object","messenger_web_product")});await h.delete.apply(h,e);await h.add(d("LSIterationHelpers").stripUndefinedProperties(babelHelpers.extends({},a)))}}}function w(a,b,d,e,f,g){return{metadata:d,table:function(h){h=d.tableNames[d.tableIds[h]];if(b===0&&p(h))throw c("unrecoverableViolation")("cannot access secure table from dynamic mode","messenger_web_product");return v(a,h,e,f,g)},transactionId:a.__internal__transaction_id}}function x(a){var b="unknown_sproc";a=a.displayName;var c=/\[from (.*)\]/;c=c.exec(a);c!=null&&(b=c[1]);return b}var y=function(){var a=0;function d(d){var e=d.args,f=d.shouldLog;d=d.sprocName;b("cr:1088")==null?void 0:b("cr:1088").logStoredProcedureCall(d,e);if(!f||!b("cr:4790"))return;e=++a;b("cr:4790").markerStart(c("qpl")._(25302991,"143"),e);b("cr:4790").markerAnnotate(c("qpl")._(25302991,"143"),{string:{name:d}},{instanceKey:e});return e}function e(a,d,e){a=a.shouldLog;if(!a||d==null)return;b("cr:4790")==null?void 0:b("cr:4790").markerEnd(c("qpl")._(25302991,"143"),e,d)}function f(a){return c("gkx")("26381")?Math.random()*c("MetaConfig")._("10")<1:!1}return{call:d,logSprocDone:e,shouldLogSproc:f}}();function z(a,b,c){b=(h||(h=d("I64"))).to_string(b);var e=function(a){return!c?"":c[a]||""};return a(b,e).toString()}function A(a,b,c){b=(h||(h=d("I64"))).to_string(b);var e=function(a){return!c?"":c[a]||""};return a(b,e).toString()}function B(a,b,e,f,g,h,p,v,C){p===void 0&&(p={});v===void 0&&(v=void 0);var D=[],E=w(h,a,b,p,D,C),F=async function(b,f){var g;if(typeof f==="string"){g=e[f.toString()];if(g==null)throw c("unrecoverableViolation")("Attempted to call unimplemented native type op with type: "+b+" and id: "+f,"messenger_web_product");if(g===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent native type op loading failed for: %s (retryable)",f);g.load&&(g=await g.load());g=g.call}else g=f.call;for(var i=arguments.length,j=new Array(i>2?i-2:0),k=2;k<i;k++)j[k-2]=arguments[k];return g.apply(void 0,[h,a].concat(j))},G=async function(b){var f;if(typeof b==="string"){f=e[b+".bs"]||e[b+".nop"];if(f==null)throw c("unrecoverableViolation")("Attempted to call unimplemented native op with id: "+b,"messenger_web_product");if(f===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent native type op loading failed for: %s (retryable)",b);f.load&&(f=await f.load());f=f}else f=b;try{for(var g=arguments.length,i=new Array(g>1?g-1:0),j=1;j<g;j++)i[j-1]=arguments[j];return f.apply(void 0,[h,a].concat(i))}catch(a){c("FBLogger")("messenger_web_product").catching(a).addMetadata(o,"NATIVE_OP_ID",b.toString()).warn("Native operation %s failed",b.toString());throw a}},H=function(a){return a.slice(1).reduce(function(a,b){return a.then(b)},a[0]())},I=function(a,b){return a.slice(b)};return{Map:c("LSDict"),blob:r,blobs:s,constructor:{n:t},count:d("LSIterationOperations").count,createArray:function(){return c("LSVec").ofArray([])},createArrayWithElements:function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c("LSVec").ofArray(b)},ct:d("LSIterationOperations").count,db:E,fe:d("LSIterationOperations").forEach,filter:d("LSIterationOperations").filter,forEach:d("LSIterationOperations").forEach,ftr:d("LSIterationOperations").filter,gb:d("LSIterationOperations").groupBy,groupBy:d("LSIterationOperations").groupBy,i64:c("LSInt64Lite"),islc:d("LSIterationOperations").slice,like:function(a,b){b=b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/%/g,".*").replace(/_/g,".");return RegExp(b).test(a)},localize:function(a,b){return z(f,a,b)},localizeAsync:function(a,b){return Promise.resolve(z(f,a,b))},localizeV2:function(a,b){return A(g,a,b)},localizeV2Async:function(a,b){return Promise.resolve(A(g,a,b))},logger:function(a){if(v)return{debug:v,info:v,mustfix:v,warn:v};var b=c("FBLogger")("messenger_web_product");if(a.startsWith("epoch mismatch")||a.startsWith("cursor mismatch")){a=function(a){q.error(a,"error");a=a!=null?a.replace(/[\s,]+/g,"_"):"epoch_or_cursor_mismatch";(i||(i=d("ODS"))).bumpEntityKey(3185,"lsplatform",a)};return{debug:function(a){return q.debug(a)},info:function(a){return q.debug(a)},mustfix:a,warn:a}}else{c("gkx")("26382")||(b.info=c("emptyFunction"));return b}},loopAsync:function(a,b){function d(e){var f;return c("LSInt64Lite").lt(e,a)?b(e).then(function(){return d(c("LSInt64Lite").add(e,t(n())))}):((f=self.Promise)!=null?f:Promise).resolve()}return d(t(m()))},loopSync:function(a,b){for(var d=t(l());c("LSInt64Lite").lt(d,a);d=c("LSInt64Lite").add(d,t(k())))b(d)},merge:function(){function a(a,b){return(j||(j=d("ReStoreKeyComparer"))).compareValue(a,b)>0?a:b}function b(a,b){return(j||(j=d("ReStoreKeyComparer"))).compareValue([a[0],-a[1]],[b[0],-b[1]])<0?a:b}for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];var g=e.reduce(function(c,d){d=u(d,"asc");return{end:c.end&&d.end?b(d.end,c.end):d.end||c.end,start:c.start&&d.start?a(d.start,c.start):d.start||c.start}},{});return babelHelpers.extends({},g.start?g.start[1]?{gt:g.start[0]}:{gte:g.start[0]}:null,g.end?g.end[1]?{lt:g.end[0]}:{lte:g.end[0]}:null)},n:t,nativeOperation:G,nativeTypeOperation:F,nop:G,notnull:function(a){if(a===null)throw c("unrecoverableViolation")("value should not be null","messenger_web_product");return a},ntop:F,print:function(a){},resolve:function(a){var b;return((b=self.Promise)!=null?b:Promise).resolve(a)},rm:c("LSInt64Lite").of_int32(a),sb:d("LSIterationOperations").sortBy,seq:H,sequence:H,slc:I,slice:I,sortBy:d("LSIterationOperations").sortBy,sp:async function(i){for(var j=arguments.length,k=new Array(j>1?j-1:0),l=1;l<j;l++)k[l-1]=arguments[l];var m;if(typeof i==="string"){m=e[i];if(m==null)throw c("unrecoverableViolation")("Attempted to call unimplemented stored procedure with id: "+i,"messenger_web_product");if(m===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent sproc loading failed for: %s (retryable)",i);m.load&&(m=await m.load())}else m=i;var n=this;switch(a){case 0:n=B(2,b,e,f,g,h,p,v,C);break;case 2:n=B(1,b,e,f,g,h,p,v,C);break}var q=x(m),r=y.shouldLogSproc(q),s={args:k,shouldLog:r,sprocName:q};D.push(q);var t;try{t=y.call(s);var u=await m.apply(void 0,k.concat([n]));y.logSprocDone(s,t,2);return u}catch(a){c("FBLogger")("messenger_web_product").catching(a).addMetadata(o,"SPROC_STACK",D.join("\n")).warn("Sproc %s failed",i);y.logSprocDone(s,t,3);throw a}finally{D.pop()}},storedProcedure:async function(i){for(var j=arguments.length,k=new Array(j>1?j-1:0),l=1;l<j;l++)k[l-1]=arguments[l];var m;if(typeof i==="string"){m=e[i];if(m==null)throw c("unrecoverableViolation")("Attempted to call unimplemented stored procedure with id: "+i,"messenger_web_product");if(m===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent sproc loading failed for: %s (retryable)",i);m.load&&(m=await m.load())}else m=i;var n=this;switch(a){case 0:n=B(2,b,e,f,g,h,p,v,C);break;case 2:n=B(1,b,e,f,g,h,p,v,C);break}var q=x(m),r=y.shouldLogSproc(q),s={args:k,shouldLog:r,sprocName:q};D.push(q);var t;try{t=y.call(s);var u=await m.apply(void 0,k.concat([n]));y.logSprocDone(s,t,2);return u}catch(a){c("FBLogger")("messenger_web_product").catching(a).addMetadata(o,"SPROC_STACK",D.join("\n")).warn("Sproc %s failed",i);y.logSprocDone(s,t,3);throw a}finally{D.pop()}},ta:d("LSIterationOperations").toArray,throw:function(a){throw c("unrecoverableViolation")(a,"messenger_comet")},toArray:d("LSIterationOperations").toArray,toJSON:function(a){return d("LSJson").stringify(a)}}}B.n=t;g.default=B}),98);
__d("LSContactGender",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FEMALE:1,MALE:2,NEUTER:3});f["default"]=a}),66);
__d("LSContactIdType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FBID:1,SMS_LOCAL_ID:2});f["default"]=a}),66);
__d("LSContactType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,USER:1,PAGE:2,PAGE_PERSONA:3});f["default"]=a}),66);
__d("LSContactViewerRelationship",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,NOT_CONTACT:1,CONTACT_OF_VIEWER:2,FACEBOOK_FRIEND:3,SOFT_CONTACT:4});f["default"]=a}),66);
__d("LSContactWorkForeignEntityType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FOREIGN:1,NOT_FOREIGN:2,NOT_FOREIGN_LIMITED:3});f["default"]=a}),66);
__d("LSCreateOfflineThreadingID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return c[0]=b.i64.random(),d[0]=b.i64.and_(b.i64.or_(b.i64.lsl_(a[0],b.i64.to_int32(b.i64.cast([0,22]))),b.i64.and_(c[0],b.i64.cast([0,4194303]))),b.i64.cast([2147483647,4294967295])),b.resolve(d)}a.__sproc_name__="LSMailboxCreateOfflineThreadingIDStoredProcedure";e.exports=a}),null);
__d("LSCutoverMappingQueryFromOpenThreadId",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("open_thread_id",a[0]),d[1]=d[0].get("open_thread_id"),d[0],d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),["cutover_mapping_query_",c.i64.to_string(d[1])].join(""),c.i64.cast([0,180001]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxCutoverMappingQueryFromOpenThreadIdStoredProcedure";e.exports=a}),null);
__d("LSCutoverMappingQueryFromOpenThreadIdStoredProcedure",["LSCutoverMappingQueryFromOpenThreadId","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.openThreadId;return c("LSCutoverMappingQueryFromOpenThreadId").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSLocalizedStrings",["fbt"],(function(a,b,c,d,e,f,g,h){a=function(a,b){switch(a){default:return""}};b=a;g["default"]=b}),98);
__d("LSLocalizedStringsV2",["fbt","I64"],(function(a,b,c,d,e,f,g,h){var i;a=function(a,b){switch(a){case"2285622730":return h._("__JHASH__bHf-pjjpSrh__JHASH__");case"1919524925":return h._("__JHASH__g2TuGL7kp7W__JHASH__");case"14617150":return h._("__JHASH__KN5FuK9HL68__JHASH__");case"460740012":return h._("__JHASH__PmrYWcLl7s-__JHASH__");case"2353844300":return h._("__JHASH__U3_S6m-Asci__JHASH__");case"2375715979":return h._("__JHASH__wwqS06IKURT__JHASH__");case"3810165735":return h._("__JHASH___xK_oqrbVu3__JHASH__",[h._param("user_name",b(0))]);case"3921131020":return h._("__JHASH__mtqLMpBAIfE__JHASH__");case"1899892426":return h._("__JHASH__AcX9AAMg2Jv__JHASH__");case"3287869262":return h._("__JHASH__nh5Ig-KQkRx__JHASH__",[h._param("user_name",b(0))]);case"1890485478":return h._("__JHASH__r5f8SC2OUWe__JHASH__");case"1299547062":return h._("__JHASH__UxIyHnrkGvQ__JHASH__");case"3621454483":return h._("__JHASH__6CXDyy4pKod__JHASH__",[h._param("user_name",b(0))]);case"3948960063":return h._("__JHASH__4jXDffqGKxc__JHASH__");case"1249692047":return h._("__JHASH__XuMb0GRtMp2__JHASH__",[h._param("user_name",b(0))]);case"2106510577":return h._("__JHASH__adFbSa44M9G__JHASH__");case"3960370133":return h._("__JHASH__WRQpot61Zha__JHASH__",[h._param("user_name",b(0))]);case"3798396796":return h._("__JHASH__AKC6gu2oXen__JHASH__",[h._param("app_name",b(0))]);case"3388601579":return h._("__JHASH__LLEsQ4Y9-C7__JHASH__",[h._param("user_name",b(0)),h._param("app_name",b(1))]);case"1556712457":return h._("__JHASH__pQsKY3JdghI__JHASH__");case"3601791933":return h._("__JHASH__VzXmY6Nofoo__JHASH__",[h._param("user_name",b(0))]);case"3759817031":return h._("__JHASH__C6rFQy3ZqgT__JHASH__");case"2934729541":return h._("__JHASH__5sq-yY8-PHO__JHASH__",[h._param("user_name",b(0))]);case"392493418":return h._("__JHASH__Y9RNnaq--9C__JHASH__");case"4085467454":return h._("__JHASH__Tf8KEtj2NUW__JHASH__",[h._param("user_name",b(0))]);case"2738683656":return h._("__JHASH__VTdyPQ7H4GZ__JHASH__");case"2996525642":return h._("__JHASH__YPG0HYdjvfW__JHASH__",[h._param("user_name",b(0))]);case"2326868239":return h._("__JHASH__j-o8KFpMPxd__JHASH__");case"1001986796":return h._("__JHASH__zsY9ES-V3Ko__JHASH__",[h._param("user_name",b(0))]);case"2285746939":return h._("__JHASH__8PT2JtdeJx9__JHASH__");case"3759448420":return h._("__JHASH__H7eOZ8S6YOP__JHASH__",[h._param("user_name",b(0))]);case"3719716921":return h._("__JHASH__qiicOieyAHd__JHASH__");case"284944921":return h._("__JHASH__TkSIon2AHjf__JHASH__",[h._param("user_name",b(0))]);case"3322002377":return h._("__JHASH__hs-XIkGvPGM__JHASH__",[h._param("user_name",b(0))]);case"2486550278":return h._("__JHASH__78NZ4EbNix1__JHASH__");case"3557790945":return h._("__JHASH__9P29njYEtVJ__JHASH__");case"3756846086":return h._("__JHASH__HqUxJ78yQEs__JHASH__",[h._param("user_name",b(0))]);case"780378803":return h._("__JHASH__4RDpwDU2bxj__JHASH__");case"3918212613":return h._("__JHASH__sfM4caXMU8x__JHASH__",[h._param("user_name",b(0))]);case"3161890215":return h._("__JHASH__rMpUt8zHstd__JHASH__");case"863428456":return h._("__JHASH__ZqoJBBTdmfd__JHASH__",[h._param("user_name",b(0))]);case"2716405471":return h._("__JHASH__3bEfkOlWqZQ__JHASH__");case"3909474073":return h._("__JHASH__0LAhbzE2305__JHASH__",[h._param("user_name",b(0))]);case"1522141193":return h._("__JHASH__Xv5h5VWZ1z-__JHASH__");case"2804766375":return h._("__JHASH__iwXmJRLI5oQ__JHASH__",[h._param("user_name",b(0))]);case"2051792592":return h._("__JHASH__wrYW1iMsokY__JHASH__");case"3686831438":return h._("__JHASH__jxXuvG9WsQ-__JHASH__",[h._param("user_name",b(0))]);case"1247108605":return h._("__JHASH__wezHuMnDNgf__JHASH__",[h._param("receiver_name",b(0))]);case"2966876020":return h._("__JHASH__V86-MgG4uJ1__JHASH__",[h._param("user_name",b(0)),h._param("receiver_name",b(1))]);case"1056933543":return h._("__JHASH__9X7TkYsxkJ9__JHASH__");case"1167688664":return h._("__JHASH__HgpZLsXXBv2__JHASH__",[h._param("user_name",b(0))]);case"772459202":return h._("__JHASH__da1hGBDyrc0__JHASH__");case"3546068912":return h._("__JHASH__eB3RT9ZRPNU__JHASH__",[h._param("user_name",b(0))]);case"2459540079":return h._("__JHASH__uVYFUqdjsDk__JHASH__");case"1596311291":return h._("__JHASH__JNmnqH9YpVN__JHASH__",[h._param("user_name",b(0))]);case"2253698324":return h._("__JHASH__cjVmAaYlDK5__JHASH__");case"4269602817":return h._("__JHASH__tgAN3WazCx7__JHASH__",[h._param("user_name",b(0))]);case"2552112149":return h._("__JHASH__rGkOrOdVN7r__JHASH__");case"969211470":return h._("__JHASH__0c4ttO8K44x__JHASH__",[h._param("user_name",b(0))]);case"1257875092":return h._("__JHASH__5wtZ0w7wjWl__JHASH__");case"692355749":return h._("__JHASH__ZxojgdAFPM9__JHASH__",[h._param("user_name",b(0))]);case"411761881":return h._("__JHASH__9gOGTtdjrZE__JHASH__");case"3395044660":return h._("__JHASH__R5lkKLgSqO3__JHASH__",[h._param("user_name",b(0))]);case"2973334239":return h._("__JHASH__BCqXnePZxrY__JHASH__");case"3616471048":return h._("__JHASH__NfWlT4Kxbzi__JHASH__",[h._param("user_name",b(0))]);case"476264474":return h._("__JHASH__SH0YqdP7IKV__JHASH__");case"3124021488":return h._("__JHASH__aEbyYGfOeat__JHASH__",[h._param("user_name",b(0))]);case"3471188061":return h._("__JHASH__mUkKfPWP8w___JHASH__");case"2776822462":return h._("__JHASH__2bPnhlt5UjK__JHASH__",[h._param("user_name",b(0))]);case"1739999037":return h._("__JHASH__LG-CVe6YeL2__JHASH__");case"3373597599":return h._("__JHASH__XSfhGJMwPL8__JHASH__");case"259473449":return h._("__JHASH__qL_GOsBRgrZ__JHASH__",[h._param("user_name",b(0))]);case"1338912959":return h._("__JHASH__LrXrY17Mwwh__JHASH__",[h._param("user_name",b(0))]);case"812940701":return h._("__JHASH__NEO9buPurkr__JHASH__",[h._param("user_name",b(0))]);case"1099878966":return h._("__JHASH__Qho_g3FF8mq__JHASH__",[h._param("user_name",b(0))]);case"3443782102":return h._("__JHASH__Xxt66o3iPYX__JHASH__");case"618905030":return h._("__JHASH__v6KFXcykdOt__JHASH__");case"2470414797":return h._("__JHASH__0oa3QgNUtA3__JHASH__");case"1306024833":return h._("__JHASH__ypexge-6NRA__JHASH__");case"2135145355":return h._("__JHASH__woc-8KLy7zj__JHASH__");case"3603511704":return h._("__JHASH__--XUHiOY0Z1__JHASH__",[h._param("user_name",b(0))]);case"705614308":return h._("__JHASH__vsnRcMCSSFJ__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(0)),"number")]);case"313217698":return h._("__JHASH__rG1E-FG-TxB__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(1)),"number"),h._param("user_name",b(0))]);case"3558654267":return h._("__JHASH___H0KEIF4aGq__JHASH__");case"3422266740":return h._("__JHASH__F5OxWfUB9Dy__JHASH__",[h._param("user_name",b(0))]);case"1907280305":return h._("__JHASH__3P1HxS_1jfg__JHASH__",[h._param("other_user",b(0))]);case"1112375422":return h._("__JHASH__a5_sxn3ZWZn__JHASH__",[h._param("other_user",b(0))]);case"3575257287":return h._("__JHASH__czVm_Pwt6t9__JHASH__",[h._param("num_messages",b(0))]);case"1416259530":return h._("__JHASH__h8shxIRIHov__JHASH__");case"1681736754":return h._("__JHASH__cOR9lVJ4jCg__JHASH__",[h._param("num_channels",b(0))]);case"2213485461":return h._("__JHASH__SWrWBV0LcfO__JHASH__");case"3802288555":return h._("__JHASH__-r9R1SJrWwS__JHASH__");case"1420387436":return h._("__JHASH__Gzgbn2ufLNM__JHASH__",[h._param("num_messages",b(0))]);case"3321340421":return h._("__JHASH___P-lwtylUhP__JHASH__",[h._param("other_user",b(0))]);case"3199643703":return h._("__JHASH__YBxxz_Vibx6__JHASH__");case"3307909120":return h._("__JHASH__YRCmoad58uJ__JHASH__");case"845728829":return h._("__JHASH___8aETeHXtHr__JHASH__");case"2022991544":return h._("__JHASH__byni3VHMHc8__JHASH__");case"4285882723":return h._("__JHASH__ga21xjHrnrP__JHASH__");case"3089015955":return h._("__JHASH__Q_LYP_ZLQTd__JHASH__");case"2662271323":return h._("__JHASH__JBe8j08K09-__JHASH__");case"1531706844":return h._("__JHASH__bZt0xiZTnI-__JHASH__");case"3989800917":return h._("__JHASH__LU51Dz-OBab__JHASH__");case"2421884758":return h._("__JHASH__6vTlb2bku1-__JHASH__");case"2676961947":return h._("__JHASH__TK1WqTTq979__JHASH__",[h._param("participant_name",b(0))]);case"3298086032":return h._("__JHASH__AI6Z85qZOTl__JHASH__",[h._param("sender_name",b(0))]);case"3873263038":return h._("__JHASH__1Mq5qyIkjxC__JHASH__",[h._param("sender_name",b(0))]);case"2616853333":return h._("__JHASH__Jm7dkp7Q46M__JHASH__",[h._param("sender_name",b(0)),h._param("reply_source_sender_name",b(1))]);case"4002265907":return h._("__JHASH__YfSaJhpdv0H__JHASH__");case"2663996736":return h._("__JHASH__rouMYaFboPj__JHASH__",[h._param("participant_name",b(0))]);case"2868699317":return h._("__JHASH__gln0mR6BSos__JHASH__",[h._param("sender_name",b(0))]);case"2688620547":return h._("__JHASH__xBthZSMLrSR__JHASH__",[h._param("sender_name",b(0))]);case"3544071775":return h._("__JHASH__Bfn4BTqFbTw__JHASH__",[h._param("sender_name",b(0)),h._param("reply_source_sender_name",b(1))]);case"2856734260":return h._("__JHASH__yQuJ1OMUVjP__JHASH__");case"3569041084":return h._("__JHASH__3k8IWsw1-6Y__JHASH__");case"1640318912":return h._("__JHASH__JXT3riixpEu__JHASH__",[h._param("user",b(0))]);case"2814174244":return h._("__JHASH__hI4gbzrBlXq__JHASH__");case"3475381825":return h._("__JHASH__71WGCM_QR6l__JHASH__",[h._param("preamble",b(0)),h._param("time",b(1))]);case"2794389366":return h._("__JHASH__8dRN_uv1Ey6__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(0)),"number")]);case"2528404281":return h._("__JHASH__ypkuSNWTmvD__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(0)),"number")]);case"3691614683":return h._("__JHASH__Gt2ASOwx3aR__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(0)),"number")]);case"2356292598":return h._("__JHASH__BkWfpfnRWrH__JHASH__",[h._param("user",b(0))]);case"3184734723":return h._("__JHASH__lritNDvzWHc__JHASH__");case"2352696798":return h._("__JHASH__4w1HQhVySfH__JHASH__");case"261320435":return h._("__JHASH__Yz7gQUpuAdz__JHASH__");case"1369731110":return h._("__JHASH__KVOi7QtdIiz__JHASH__");case"216075330":return h._("__JHASH__YIi23RvfAOM__JHASH__",[h._param("user_name",b(0))]);case"3093868587":return h._("__JHASH__zy0vB4g7bUg__JHASH__",[h._param("user_name",b(0))]);case"1965569930":return h._("__JHASH__Tjhx4Uo9tx2__JHASH__",[h._param("user_name",b(0))]);case"3981943156":return h._("__JHASH__ixrUZRszn_J__JHASH__",[h._param("user_name",b(0))]);case"2071149394":return h._("__JHASH__cOvKzCJo9pt__JHASH__",[h._param("user_name",b(0))]);case"2414298738":return h._("__JHASH__HW7JxEhyqTG__JHASH__",[h._param("user_name",b(0))]);case"4050223159":return h._("__JHASH__DIFtX0dJhWX__JHASH__");case"3387070852":return h._("__JHASH__7lkRbksMys6__JHASH__",[h._param("receiver_name",b(0)),h._param("amount",b(1))]);case"2779070802":return h._("__JHASH__VQfKxCig0vy__JHASH__",[h._param("sender_name",b(0)),h._param("game_name",b(1))]);case"3748497596":return h._("__JHASH__5SAbOrcrYuU__JHASH__",[h._param("game_name",b(0))]);case"1346982727":return h._("__JHASH__VQ2HMGY9wwv__JHASH__",[h._param("game_name",b(0))]);case"3688076717":return h._("__JHASH__JjXwyclLQBa__JHASH__",[h._param("sender_name",b(0))]);case"967111183":return h._("__JHASH__w7ck8Nknn5M__JHASH__");case"4202164190":return h._("__JHASH__ri623MWPdFQ__JHASH__",[h._param("sender_name",b(0)),h._param("receiver_name",b(1))]);default:return""}};b=a;g["default"]=b}),226);
__d("LSFactory",["LS","LSDynamicDependencies","LSLocalizedStrings","LSLocalizedStringsV2","LSMetadata","cr:8709"],(function(a,b,c,d,e,f,g){"use strict";var h={dynamic:!1};function a(a,e){e===void 0&&(e=h);a=c("LS")(1,d("LSMetadata").schema,d("LSDynamicDependencies").cachedModules,c("LSLocalizedStrings"),c("LSLocalizedStringsV2"),a,void 0,void 0,e.dynamic);return b("cr:8709")!=null?b("cr:8709").wrapSprocInvocationWithProfiler(a):a}g["default"]=a}),98);
__d("LSIssueNewError",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.db.table(6).add({errorId:void 0,taskId:a[0],errorCode:a[1],errorTitleText:a[2],errorBodyText:a[3],issuedTimestampMs:c[0],errorExtraData:a[4],presentationStyle:a[5]})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreIssueNewErrorStoredProcedure";e.exports=a}),null);
__d("LSPlatformWaitForTaskCompletion",["I64","Promise","asyncToGeneratorRuntime","emptyFunction","err","justknobx","promiseDone","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=["acs_sync"];function a(a,b,c,d){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,g,k){var l=new Set(),m=[],n=0,o=!0,p,q,r=new(i||(i=b("Promise")))(function(a,b){p=a,q=b}),s=c("uuidv4")(),t=!0,u=(yield a.runInTransaction(function(){var i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(i){yield i.mailbox_task_completion_notification_context.add({notificationName:g,notificationScopeKey:s});var r=a.tables.pending_tasks.subscribe(function(a,b){a=(h||(h=d("I64"))).to_string(a[0]);if(b.operation==="add"||b.operation==="put"){var e=b.value;if(c("justknobx")._("2903")&&j.some(function(a){return e.queueName.startsWith(a)}))return;if(k!=null&&e.queueName!==k)return;l.add(a)}else l["delete"](a)}),v=c("emptyFunction"),w=a.tables.mailbox_task_completion_api_tasks.subscribe(function(a,b){if(b.operation==="add"||b.operation==="put"&&b.value.notificationScopeKey===s){a=(h||(h=d("I64"))).to_string(b.value.taskId);l["delete"](a);b=b.value.success;b==null?t&&(m.push(a),n+=1):(o=b&&o,n-=1)}});v=a.subscribeToCommit(function(){n===0&&l.size===0&&(w(),r(),v(),c("promiseDone")(a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){for(var b of m)yield a.mailbox_task_completion_api_tasks["delete"]((h||(h=d("I64"))).of_string(b))});return function(b){return a.apply(this,arguments)}}(),"readwrite","background",void 0,f.id+":150")),o?p(u):q(c("err")("Not all tasks for "+g+" succeeded")))});try{var x=(yield e(i));yield i.mailbox_task_completion_notification_context["delete"](s);return x}catch(a){v();w();r();throw a}});return function(a){return i.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":66"));t=!1;return r});return k.apply(this,arguments)}g["default"]=a}),98);
__d("LSRefetchContactRowIfExists",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(e,f){var g=e.done;e=e.value;return g?0:(f=e.item,c.i64.le(f.authorityLevel,c.i64.cast([0,80]))?(d[0]=new c.Map(),d[0].set("contact_id",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"cpq_v2",c.i64.cast([0,207]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve())})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSContactRefetchContactRowIfExistsStoredProcedure";e.exports=a}),null);
__d("LSRefetchContactRowIfExistsStoredProcedure",["LSRefetchContactRowIfExists","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.id;return c("LSRefetchContactRowIfExists").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSThreadPointQueryAndRestoreMessagesWithJID",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("wa_jid",a[0]),d[0].set("tam_thread_subtype",c.i64.cast([0,0])),d[1]=d[0].get("wa_jid"),d[0],d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[1]),c.i64.cast([0,556]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure";e.exports=a}),null);
__d("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure",["LSThreadPointQueryAndRestoreMessagesWithJID","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.waJid;return c("LSThreadPointQueryAndRestoreMessagesWithJID").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSVerifyContactRowExistsStoredProcedure",["LSVerifyContactRowExists","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.id;d[1]=b.contactIdType;d[2]=b.profilePictureUrl;d[3]=b.name;d[4]=b.contactType;d[5]=b.profilePictureFallbackUrl;d[6]=b.profilePictureUrlExpirationTimestampMs;d[7]=b.urlExpirationTimestampMs;d[8]=b.normalizedNameForSearch;d[9]=b.isMemorialized;d[10]=b.isBlocked;d[11]=b.blockedByViewerStatus;d[12]=b.canViewerMessage;d[13]=b.isSelf;d[14]=b.authorityLevel;d[15]=b.capabilities;d[16]=b.capabilities2;d[17]=b.workForeignEntityType;d[18]=b.gender;d[19]=b.contactViewerRelationship;d[20]=b.secondaryName;return c("LSVerifyContactRowExists").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSVerifyContactExistsWithID",["LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSPlatformWaitForTaskCompletion","LSVerifyContactRowExistsStoredProcedure","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,d){return a.runInTransaction(function(a){return j(b,c,a)},"readwrite",(a=d)!=null?a:"background",void 0,f.id+":37")}function e(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){yield c("LSPlatformWaitForTaskCompletion")(a,function(a){return j(b,d,a)},"readwrite")});return i.apply(this,arguments)}function j(a,b,e){return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(e),{authorityLevel:(h||(h=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:h.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:h.ofNumber(c("LSContactIdType").FBID),contactType:h.ofNumber(c("LSContactType").USER),contactViewerRelationship:h.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:h.ofNumber(c("LSContactGender").UNKNOWN),id:a,isBlocked:!1,isMemorialized:!1,isSelf:b,workForeignEntityType:h.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)})}g.runInTransaction=a;g.waitForTaskFinish=e;g.callStoredProcedure=j}),98);
__d("LSVerifyE2EEMetadataThreadExistsV2",["LSCreateOfflineThreadingID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return c.i64.neq(a[1],void 0)?c.sequence([function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[void 0,void 0],d[3]=e[0],d[4]=e[1],e):(c=b.item,e=[a[1],c.authorityLevel],d[3]=e[0],d[4]=e[1],e)})},function(a){return a=[d[3],d[4]],d[0]=a[0],d[1]=a[1],a}]):c.resolve((b=[void 0,void 0],d[0]=b[0],d[1]=b[1],b))},function(e){return c.i64.neq(d[0],void 0)?c.sequence([function(e){return c.i64.neq(d[1],void 0)?c.i64.gt(a[2],d[1])?c.sequence([function(b){return c.forEach(c.db.table(9).fetch([[[d[0]]]]),function(b){var c=b.update;b.item;return c({authorityLevel:a[2]})})},function(a){return d[3]=new c.Map(),d[3].set("thread_fbid",d[0]),d[3].set("force_upsert",!1),d[3].set("use_open_messenger_transport",!1),d[3].set("sync_group",c.i64.cast([0,95])),d[3].set("metadata_only",!1),d[3].set("preview_only",!1),d[4]=d[3].get("thread_fbid"),d[3],d[5]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,209]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):c.resolve():c.resolve()},function(a){return d[2]=d[0]}]):c.sequence([function(e){return c.i64.neq(a[1],void 0)?c.sequence([function(e){return c.i64.neq(a[2],c.i64.cast([0,20]))?(d[10]=new c.Map(),d[10].set("thread_fbid",a[1]),d[10].set("force_upsert",!1),d[10].set("use_open_messenger_transport",!1),d[10].set("sync_group",c.i64.cast([0,95])),d[10].set("metadata_only",!1),d[10].set("preview_only",!1),d[11]=d[10].get("thread_fbid"),d[10],d[12]=c.toJSON(d[10]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[11]),c.i64.cast([0,209]),d[12],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve()},function(b){return d[3]=a[1]}]):c.sequence([function(a){return d[10]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSCreateOfflineThreadingID"),d[10]).then(function(a){return a=a,d[11]=a[0],a})},function(a){return d[3]=d[11]}])},function(b){return c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))?(b=["inbox",c.i64.cast([0,0])],d[4]=b[0],d[5]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,1]))?(b=["pending",c.i64.cast([-1,4294967295])],d[10]=b[0],d[11]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,2]))?(b=["other",c.i64.cast([-1,4294967294])],d[12]=b[0],d[13]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,3]))?(b=["spam",c.i64.cast([-1,4294967293])],d[14]=b[0],d[15]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,5]))?(b=["hidden",c.i64.cast([-1,4294967292])],d[16]=b[0],d[17]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,4]))?(b=["archived",c.i64.cast([-1,4294967286])],d[18]=b[0],d[19]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,15]))?(b=["restricted",c.i64.cast([-1,4294967281])],d[20]=b[0],d[21]=b[1],b):(b=["inbox",c.i64.cast([0,0])],d[20]=b[0],d[21]=b[1],b),b=[d[20],d[21]],d[18]=b[0],d[19]=b[1],b),b=[d[18],d[19]],d[16]=b[0],d[17]=b[1],b),b=[d[16],d[17]],d[14]=b[0],d[15]=b[1],b),b=[d[14],d[15]],d[12]=b[0],d[13]=b[1],b),b=[d[12],d[13]],d[10]=b[0],d[11]=b[1],b),b=[d[10],d[11]],d[4]=b[0],d[5]=b[1],b),d[6]=c.i64.cast([0,1083495711]),d[7]=c.i64.cast([0,1024]),d[8]=c.i64.cast([0,0]),d[9]=c.i64.cast([0,0]),c.forEach(c.filter(c.db.table(9).fetch([[[d[3]]]]),function(b){return c.i64.eq(b.threadKey,d[3])&&c.i64.lt(b.authorityLevel,a[2])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:d[3],mailboxType:c.i64.cast([0,4096]),threadType:a[0],folderName:d[4],lastActivityTimestampMs:c.i64.cast([-1,4294967295]),lastReadWatermarkTimestampMs:c.i64.cast([-1,4294967295]),removeWatermarkTimestampMs:c.i64.cast([-1,4294967295]),ongoingCallState:c.i64.cast([0,0]),parentThreadKey:d[5],authorityLevel:a[2],capabilities:d[6],capabilities2:d[7],capabilities3:d[8],capabilities4:d[9],unsendLimitMs:c.i64.cast([-1,4294967295]),syncGroup:c.i64.cast([0,95]),isHidden:!0,clientThreadKey:d[3]})},function(a){return d[2]=d[3]}])},function(a){return e[0]=d[2]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxVerifyE2EEMetadataThreadExistsV2StoredProcedure";e.exports=a}),null);
__d("LSVerifyE2EEMetadataThreadExistsV2StoredProcedure",["LSVerifyE2EEMetadataThreadExistsV2","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadType;d[1]=b.threadKey;d[2]=b.authorityLevel;return c("LSVerifyE2EEMetadataThreadExistsV2").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSVerifyThreadExistsV2",["LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return[c.i64.cast([0,7]),c.i64.cast([0,8]),c.i64.cast([0,13]),c.i64.cast([0,10]),c.i64.cast([0,11]),c.i64.cast([0,16])].some(function(b){return c.i64.eq(a[1],b)})?c.resolve((b=[!1,!1,!1],d[0]=b[0],d[1]=b[1],d[2]=b[2],b)):c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?(f=[!0,!0,!1],d[3]=f[0],d[4]=f[1],d[5]=f[2],f):(e=b.item,d[12]=e.threadName,d[11]=e.authorityLevel,d[10]=e.threadType,e.folderName==="other"?(f=[!0,!1,!1],d[7]=f[0],d[8]=f[1],d[9]=f[2],f):(c.i64.eq(d[10],c.i64.cast([0,0]))&&c.i64.eq(d[11],c.i64.cast([0,40]))||[c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,18]),c.i64.cast([0,26])].some(function(a){return c.i64.eq(d[10],a)})&&c.i64.neq(d[11],c.i64.cast([0,20]))&&((d[12]===""?void 0:d[12])===void 0||c.i64.lt(d[11],c.i64.cast([0,80])))||[c.i64.cast([0,151]),c.i64.cast([0,155]),c.i64.cast([0,153])].some(function(a){return c.i64.eq(d[10],a)})||[c.i64.cast([0,24]),c.i64.cast([0,22]),c.i64.cast([0,19]),c.i64.cast([0,25])].some(function(a){return c.i64.eq(d[10],a)})||[c.i64.cast([0,150]),c.i64.cast([0,154]),c.i64.cast([0,152])].some(function(b){return c.i64.eq(a[1],b)})&&c.i64.lt(d[11],c.i64.cast([0,80]))||[c.i64.cast([0,150]),c.i64.cast([0,154]),c.i64.cast([0,152])].some(function(b){return c.i64.eq(a[1],b)})&&c.i64.eq(a[6],c.i64.cast([0,205]))&&(c.i64.eq(e.syncGroup,void 0)||!1)?(b=[!0,!0,!1],d[13]=b[0],d[14]=b[1],d[15]=b[2],b):(c.i64.ge(d[11],a[4])||c.i64.eq(d[11],c.i64.cast([0,20]))&&(c.i64.eq(a[1],c.i64.cast([0,2]))||[c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,18]),c.i64.cast([0,26])].some(function(b){return c.i64.eq(a[1],b)}))?(f=[!1,!1,!1],d[16]=f[0],d[17]=f[1],d[18]=f[2],f):(e=[!0,!1,!0],d[16]=e[0],d[17]=e[1],d[18]=e[2],e),b=[d[16],d[17],d[18]],d[13]=b[0],d[14]=b[1],d[15]=b[2],b),f=[d[13],d[14],d[15]],d[7]=f[0],d[8]=f[1],d[9]=f[2],f),e=[d[7],d[8],d[9]],d[3]=e[0],d[4]=e[1],d[5]=e[2],e)})},function(a){return a=[d[3],d[4],d[5]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(e){return d[0]?(d[3]=new c.Map(),d[3].set("thread_fbid",a[0]),d[3].set("force_upsert",a[5]),d[3].set("use_open_messenger_transport",!1),d[3].set("sync_group",a[6]),d[3].set("metadata_only",a[7]),d[3].set("preview_only",!1),d[4]=d[3].get("thread_fbid"),d[3],d[5]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,209]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve()},function(e){return d[1]?c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?c.sequence([function(b){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(b,e){var a=b.done;b=b.value;return a?d[13]=!1:(e=b.item,d[13]=c.i64.eq(e.contactTypeExact,c.i64.cast([0,16]))?!0:!1)})},function(a){return d[3]=d[13]}]):(e=b.item,d[3]=c.i64.eq(e.threadType,c.i64.cast([0,201]))?!0:!1)})},function(b){return d[5]=c.i64.cast([0,1083495711]),d[6]=c.i64.cast([0,1024]),d[7]=c.i64.cast([0,0]),d[8]=c.i64.cast([0,0]),d[9]=c.i64.cast([0,8650752]),d[10]=c.i64.cast([0,1024]),d[11]=c.i64.cast([0,0]),d[12]=c.i64.cast([0,0]),c.forEach(c.filter(c.db.table(9).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[0],mailboxType:c.i64.cast([0,0]),threadType:a[1],syncGroup:a[6],folderName:a[2],lastReadWatermarkTimestampMs:c.i64.cast([0,0]),removeWatermarkTimestampMs:c.i64.cast([-1,4294967295]),ongoingCallState:c.i64.cast([0,0]),parentThreadKey:a[3],authorityLevel:a[4],capabilities:d[3]?d[9]:d[5],capabilities2:d[3]?d[10]:d[6],capabilities3:d[3]?d[11]:d[7],capabilities4:d[3]?d[12]:d[8],unsendLimitMs:c.i64.cast([-1,4294967295])})},function(e){return[c.i64.cast([0,1]),c.i64.cast([0,201])].some(function(b){return c.i64.eq(a[1],b)})?c.sequence([function(b){return c.forEach(c.filter(c.db.table(14).fetch([[[a[0],a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[0])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[0],contactId:a[0],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:a[4],isModerator:!1})},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[13]=a[0],a})},function(b){return c.forEach(c.filter(c.db.table(14).fetch([[[a[0],d[13]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,d[13])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[0],contactId:d[13],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:a[4],isModerator:!1})}]):c.resolve()}]):c.resolve()},function(b){return d[2]?c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({authorityLevel:a[4]})}):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxVerifyThreadExistsV2StoredProcedure";e.exports=a}),null);
__d("LSVerifyThreadExists",["LSVerifyThreadExistsV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.storedProcedure(b("LSVerifyThreadExistsV2"),a[0],a[1],a[2],a[3],a[4],!1,a[5],!1,!1)},function(a){return c.resolve(d)}])}a.__sproc_name__="LSMailboxVerifyThreadExistsStoredProcedure";e.exports=a}),null);
__d("LSVerifyThreadRowExists",["LSVerifyThreadExists"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.storedProcedure(b("LSVerifyThreadExists"),a[0],a[1]==null?c.i64.cast([0,1]):a[1],"inbox",c.i64.cast([0,0]),c.i64.cast([0,40])==null?c.i64.cast([0,40]):c.i64.cast([0,40]),a[2])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSMailboxVerifyThreadRowExistsStoredProcedure";e.exports=a}),null);
__d("LSVerifyThreadRowExistsStoredProcedure",["LSVerifyThreadRowExists","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.threadType;d[2]=b.syncGroup;return c("LSVerifyThreadRowExists").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("WABridgedAPI",["IWAAPI"],(function(a,b,c,d,e,f,g){"use strict";b={queryGroups:(a=d("IWAAPI")).makeBridgedApi("queryGroups"),preEstablishSession:a.makeBridgedApi("preEstablishSession"),getDevices:a.makeBridgedApi("getDevices"),removeCurrentDevice:a.makeBridgedApi("removeCurrentDevice"),removeDevice:a.makeBridgedApi("removeDevice"),getCurrentUserDeviceList:a.makeBridgedApi("getCurrentUserDeviceList")};c=b;g["default"]=c}),98);
__d("MAWCreateOneToOneThread",["FBLogger","I64","LSAuthorityLevel","LSFactory","LSIntEnum","LSVerifyE2EEMetadataThreadExistsV2StoredProcedure","MAWBridgeSendAndReceive","MAWJids","Promise","ReQL","WABridgedAPI","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,e,g,k){var l=(j||(j=d("I64"))).to_string(e);e=g!=null?(h||(h=b("Promise"))).resolve(g):a.runInTransaction(function(a){return c("LSVerifyE2EEMetadataThreadExistsV2StoredProcedure")(c("LSFactory")(a),{authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),threadType:i.ofNumber(15)})},"readwrite",void 0,void 0,f.id+":39").then(function(a){return(j||(j=d("I64"))).to_string(a[0])});return e.then(function(e){return(h||(h=b("Promise"))).all([d("MAWBridgeSendAndReceive").sendAndReceive("backend","createThread",{contactFbid:l,description:k,threadKey:e}).then(function(g){var i=g.created,k=g.jid;return a.runInTransaction(function(a){var f=(j||(j=d("I64"))).of_string(d("WAJids").threadIdForChatJid(k));return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange(f)).then(function(g){if(g!=null)return(h||(h=b("Promise"))).resolve({created:i,jid:k});if(e==null)throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("offlineThreadingId cannot be null at this point");return a.mi_act_mapping_table.put({clientThreadPk:f,jid:f,serverThreadKey:(j||(j=d("I64"))).of_string(e)}).then(function(){return{created:i,jid:k}})})},"readwrite",void 0,void 0,f.id+":64")}),c("WABridgedAPI").getDevices({ignoreDhash:!1,reason:"creating-1-1-thread: "+k,users:new Set().add(d("MAWJids").toUserJid(l))})])}).then(function(a){a=a[0];return a})}g.call=a}),98);
__d("MAWMiActGetMappingWithMawTypes",["I64","MAWJids","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var c=(h||(h=d("I64"))).to_string(a.jid);b=b?d("WAJids").toGroupJid(c):d("MAWJids").toUserJid(c);return{clientThreadPk:a.clientThreadPk,jid:b,serverThreadKey:a.serverThreadKey}}g["default"]=a}),98);
__d("MAWMiActIsPlaceholderChatId",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return(h||(h=d("I64"))).lt(a,h.zero)}g.isPlaceholderClientThreadPk=a}),98);
__d("MAWMiActThreadLifecycleState",[],(function(a,b,c,d,e,f){"use strict";a={ACT_THREAD_ONLY:"ACT_THREAD_ONLY",AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:"AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW",AUTHORITATIVE_THREAD_ONLY:"AUTHORITATIVE_THREAD_ONLY",CLIENT_PARTIAL_MI_THREAD:"CLIENT_PARTIAL_MI_THREAD",CLIENT_PARTIAL_MI_THREAD_WITH_ACT:"CLIENT_PARTIAL_MI_THREAD_WITH_ACT",JID_MISSING_MAPPING_ROW:"JID_MISSING_MAPPING_ROW",JID_MISSING_MI_THREAD:"JID_MISSING_MI_THREAD",MI_AND_ACT_THREAD_COMPLETE:"MI_AND_ACT_THREAD_COMPLETE",OPTIMISTIC_THREAD_NO_ACT:"OPTIMISTIC_THREAD_NO_ACT",OPTIMISTIC_THREAD_WITH_ACT:"OPTIMISTIC_THREAD_WITH_ACT",SERVER_PARTIAL_MI_THREAD:"SERVER_PARTIAL_MI_THREAD",THREAD_KEY_ONLY:"THREAD_KEY_ONLY"};f.MiActThreadStatesEnum=a}),66);
__d("MAWMiActGetThreadLifecycleState",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWMiActGetMappingWithMawTypes","MAWMiActIsPlaceholderChatId","MAWMiActThreadLifecycleState","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,e){var f=(i||(i=d("LSIntEnum"))).toNumber(a.authorityLevel);if(f===c("LSAuthorityLevel").OPTIMISTIC)if(b!=null)return babelHelpers["extends"]({},c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType)),{type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT});else return{serverThreadKey:a.threadKey,thread:a,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT};if(f===c("LSAuthorityLevel").CLIENT_PARTIAL)return b!=null?babelHelpers["extends"]({},c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType)),{type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT}):{serverThreadKey:a.threadKey,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD};if(f===c("LSAuthorityLevel").SERVER_PARTIAL)return{serverThreadKey:a.threadKey,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD};if(f===c("LSAuthorityLevel").AUTHORITATIVE){if(b==null)return{serverThreadKey:a.threadKey,thread:a,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW};if(!d("MAWMiActIsPlaceholderChatId").isPlaceholderClientThreadPk(b.clientThreadPk))return babelHelpers["extends"]({},c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType)),{type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE});else if(d("MAWMiActIsPlaceholderChatId").isPlaceholderClientThreadPk(b.clientThreadPk)){var g=c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType));return{jid:g.jid,jidInt64:b.jid,serverThreadKey:g.serverThreadKey,thread:a,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY}}}throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unknown thread lifecycle state for threadKey: %s, authorityLevel: %s, thread action: %s",(j||(j=d("I64"))).to_string(a.threadKey),f,e)}function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange(b)));if(e==null)return{jidInt64:b,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW};a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(e.serverThreadKey)));return a==null?{jidInt64:b,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD}:k(a,e,c)});return m.apply(this,arguments)}function n(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){a=(yield (h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(c)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table).getKeyRange(c))]));var f=a[0];a=a[1];return f==null?{serverThreadKey:c,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY}:k(f,a,e)});return o.apply(this,arguments)}function a(a,b,c,d){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b=(yield l(a,b,e));if(b.type===d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW&&c!=null)return n(a,(j||(j=d("I64"))).of_string(c),"MAWBridgeOccamadilloVerifyThreadExistsHandler");else return b});return p.apply(this,arguments)}g.getThreadLifecycleStateByJid=l;g.getThreadLifecycleStateByThreadKey=n;g.getThreadLifecycleStateByJidOrThreadKey=a}),98);
__d("MAWMiActOnMiThreadReadyQueue",["FBLogger","MAWWebWorkerInstance","WALoggerDeferred","asyncToGeneratorRuntime","clearTimeout","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executed "," out of "," actions on MI thread\n    ready for jid: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executing action on MI thread ready: "," for jid ",""]);i=function(){return a};return a}var j=3e4,k=new Map(),l=0;function a(a,b,e,f,g){var h;l++;h=(h=k.get(a))!=null?h:[];var i=c("setTimeout")(function(){c("FBLogger")("messenger_e2ee_web").mustfix("[MiActMapping] Took longer than %s ms to execute: %s in threadState: %s for jid: %s, onMiThreadReady, isWorkerAlive: %s",j,f,g,a,d("MAWWebWorkerInstance").doesWorkerExist()),e()},j);h.push({callback:b,description:f,sortId:l,threadState:g,timeoutId:i});k.set(a,h)}function e(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f;f=(f=k.get(e))!=null?f:[];f=[].concat(f);if(f.length===0)return;f.sort(function(a,b){return a.sortId-b.sortId});var g=f.length,j=0;while(f.length!==0){var l=f.shift(),m=l.callback,n=l.description,o=l.threadState;l=l.timeoutId;try{c("promiseDone")(d("WALoggerDeferred").LOG(i(),n,e)),yield m(a,b),c("clearTimeout")(l),j++}catch(a){c("clearTimeout")(l),c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("[MiActMapping] Error executing callback on MI thread ready: %s, original threadState: %s, for chatId: %s and jid: %s",n,o,e)}}k["delete"](e);c("promiseDone")(d("WALoggerDeferred").LOG(h(),j,g,e))});return m.apply(this,arguments)}g.enqueueByJid=a;g.processQueueOnMiThreadReady=e}),98);
__d("MAWMiActOnMiThreadReadyForJid",["FBLogger","I64","MAWMiActGetThreadLifecycleState","MAWMiActOnMiThreadReadyQueue","MAWMiActThreadLifecycleState","Promise","WAJids","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,c,d,e){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,j){var k=(yield d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByJid(a,(i||(i=d("I64"))).of_string(d("WAJids").threadIdForChatJid(e)),f));switch(k.type){case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:return g(a,k.serverThreadKey);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY:d("MAWMiActOnMiThreadReadyQueue").enqueueByJid(k.jid,g,(a=j)!=null?a:function(){},f,k.type);return(h||(h=b("Promise"))).resolve();case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unimplemented miActThreadState.type: %s, thread action: %s",k.type,f);default:k.type;throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unhandled onMiThreadReady:\n         %s, thread action: %s",e,f)}});return j.apply(this,arguments)}g.onMiThreadReadyForJid=a}),98);
__d("MAWChatOpenTabForUser",["I64","LSDatabaseSingleton","LSIntEnum","MAWCreateOneToOneThread","MAWMiActOnMiThreadReadyForJid","MWChatStateActions","MWChatStateV2Types","Promise","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function a(a,e,g,l){c("promiseDone")((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){var i=(yield d("MAWCreateOneToOneThread").call(c,(j||(j=d("I64"))).of_string(a),void 0,"MAWChatOpenTabForUser: "+l));yield c.runInTransaction(function(a){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,i.jid,"MAWChatOpenTabForUser",function(a,c){g(d("MWChatStateActions").openTab(Date.now(),{shouldFocus:!e},{threadKeyDescriptor:{clientThreadKey:c,threadKey:c,threadType:(k||(k=d("LSIntEnum"))).ofNumber(15)},type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}));return(h||(h=b("Promise"))).resolve()})},"readonly",void 0,void 0,f.id+":38")});return function(a){return c.apply(this,arguments)}}()))}g.openChatTab=a}),98);
__d("ReQLSubscribe",["ErrorGuard","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){a=a.take(1);var e=(h||(h=c("ErrorGuard"))).guard(b),f=!1,g=null,i=a.subscribe(function(a,b){if(f)return;switch(b.operation){case"delete":(g==null||g.current!==void 0)&&(g={current:void 0},e(g.current));return;case"add":case"put":((a=g)==null?void 0:a.current)!==b.value&&(g={current:b.value},e(g.current))}});c("promiseDone")(d("ReQL").firstAsync(a),function(a){!f&&g==null&&(g={current:a},e(a))});return function(){f||(f=!0,i==null?void 0:i())}}g.subscribeToFirst=a}),98);
__d("ensureContactsExistAndUpdatedSync",["LSFactory","LSPlatformWaitForTaskCompletion","LSRefetchContactRowIfExistsStoredProcedure","LSVerifyContactExistsWithID","Promise","asyncToGeneratorRuntime","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(e==null)return;c("justknobx")._("2767")&&c("gkx")("5175")===!0?yield (h||(h=b("Promise"))).allSettled([d("LSVerifyContactExistsWithID").runInTransaction(a,e,!1,"ui",f.id+":40"),a.runInTransaction(function(a){return c("LSRefetchContactRowIfExistsStoredProcedure")(c("LSFactory")(a),{id:e})},"readwrite","ui",void 0,f.id+":41")]):yield (h||(h=b("Promise"))).allSettled([d("LSVerifyContactExistsWithID").waitForTaskFinish(a,e,!1),c("LSPlatformWaitForTaskCompletion")(a,function(a){return c("LSRefetchContactRowIfExistsStoredProcedure")(c("LSFactory")(a),{id:e})},"readwrite")])});return i.apply(this,arguments)}g["default"]=a}),98);
__d("isThreadLevelCutoverEnabled",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("68")===!0}g["default"]=a}),98);
__d("MAWVerifyThreadCutover",["FBLogger","I64","LSAuthorityLevel","LSContactBitOffset","LSCutoverMappingQueryFromOpenThreadIdStoredProcedure","LSFactory","LSPlatformWaitForTaskCompletion","Promise","ReQL","ReQLSubscribe","asyncToGeneratorRuntime","ensureContactsExistAndUpdatedSync","err","isThreadLevelCutoverEnabled","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("justknobx")._("2730"),k=c("justknobx")._("2731");function a(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(c("isThreadLevelCutoverEnabled")()){a=(yield a);a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table.index("jid")).getKeyRange(e)));return a}return(i||(i=b("Promise"))).resolve()});return l.apply(this,arguments)}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(c("isThreadLevelCutoverEnabled")()){a=(yield a);a=(yield (i||(i=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.cutover_threads).getKeyRange(e)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(e))]));e=a[0];a=a[1];a=a!=null&&d("LSContactBitOffset").has(76,a);return e!=null||a}return!1});return n.apply(this,arguments)}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=(yield a);a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.tables.mi_act_mapping_table).getKeyRange(e)));if(a!=null)return;var g=null;a=new(i||(i=b("Promise")))(function(a,b){var i=d("ReQLSubscribe").subscribeToFirst(d("ReQL").fromTableAscending(f.tables.mi_act_mapping_table.index("jid")).getKeyRange(e),function(b){b!=null&&(g!=null&&window.clearTimeout(g),i(),a())});g=window.setTimeout(function(){i(),b(c("err")("Timeout"))},k);c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(f,function(a){return c("LSCutoverMappingQueryFromOpenThreadIdStoredProcedure")(c("LSFactory")(a),{openThreadId:e})},"readwrite","cutover_mapping_query_"+(h||(h=d("I64"))).to_string(e)),function(){g!=null&&window.clearTimeout(g),i(),a()})});try{yield a}catch(a){c("FBLogger")("messenger_cutover_navigation_check").warn("Issue waiting for ACT thread to be ready",a)}yield a});return p.apply(this,arguments)}function q(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(e)));if(f!=null&&(h||(h=d("I64"))).ge(f.authorityLevel,(h||(h=d("I64"))).of_int32(c("LSAuthorityLevel").AUTHORITATIVE)))return f;c("promiseDone")(c("ensureContactsExistAndUpdatedSync")(a,e));var g=new(i||(i=b("Promise")))(function(b,f){var g=null,i=d("ReQLSubscribe").subscribeToFirst(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(e),function(a){a!=null&&(h||(h=d("I64"))).ge(a.authorityLevel,(h||(h=d("I64"))).of_int32(c("LSAuthorityLevel").AUTHORITATIVE))&&(g!=null&&window.clearTimeout(g),i(),b(a))});g=window.setTimeout(function(){i(),f(c("err")("Timeout"))},j)});try{f=(yield g)}catch(a){c("FBLogger")("messenger_cutover_navigation_check").warn("Issue getting and navigating to the most recent thread",a)}return f});return r.apply(this,arguments)}function e(a,b){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){a=(yield a);var e=(yield q(a,c)),f=(yield m((i||(i=b("Promise"))).resolve(a),c));if(f){yield o((i||(i=b("Promise"))).resolve(a),c);f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table).getKeyRange(c)));return f==null?"default_e2ee":"cutover"}return e!=null&&d("LSContactBitOffset").has(83,e)?"default_e2ee":null});return s.apply(this,arguments)}function f(a,c){return c==null?(i||(i=b("Promise"))).resolve(!1):m(a,(h||(h=d("I64"))).of_string(c))}g.getCutoverThread=a;g.verifyThreadCutover=m;g.verifyContactCutoverOrDefaultE2EEWhenReady=e;g.verifyThreadCutoverWithStringInput=f}),98);
__d("MWChatOpenSecureTabForUserCallback",["cr:312"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c,d,e){if(b("cr:312")!=null)return b("cr:312").openChatTab(a,c,d,e)}g.openChatTab=a}),98);
__d("MWLSPreloadThreadForContact",["FBLogger","I64","LSDatabaseSingleton","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","LSVerifyThreadRowExistsStoredProcedure","MAWVerifyThreadCutover","Promise","ReQL","ReStoreDbClosedError","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a){c("promiseDone")((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(e){return e.runInTransaction(function(f){var g=(k||(k=d("I64"))).of_string(a);return d("MAWVerifyThreadCutover").verifyThreadCutover((h||(h=b("Promise"))).resolve(e),g).then(function(a){if(a)return;else return d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.messages_ranges_v2__generated).getKeyRange(g)).then(function(a){if(a!=null)if(a.minMessageId===a.maxMessageId&&a.minMessageId!=="")return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(f),{direction:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:a.minTimestampMs,threadKey:g});else return;else return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(f),{syncGroup:(j||(j=d("LSIntEnum"))).ofNumber(1),threadKey:g})})})},"readwrite",void 0,void 0,f.id+":29")["catch"](function(a){if(a instanceof c("ReStoreDbClosedError"))c("FBLogger")("messenger_web_product").info("Failed to preload thread, db closed.");else throw a})}))}function a(){return l}g.verifyThreadExists=l;g.usePreloaderForUser=a}),98);
__d("XPlatRelayEnvironment",["CometRelayEnvironment","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){throw c("err")("RelayEnvironment is already set")}function b(){return c("CometRelayEnvironment")}g.setRelayEnvironment=a;g.getRelayEnvironment=b}),98);/*FB_PKG_DELIM*/
__d("DgwClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1755537");b=d("FalcoLoggerInternal").create("dgw_client",a);e=b;g["default"]=e}),98);
__d("DGWLoggingContext",["$InternalEnum","DgwClientFalcoEvent","ODS","Random"],(function(a,b,c,d,e,f,g){"use strict";var h;a="dgw_client";var i=b("$InternalEnum")({STREAM_GROUP_COMPONENT:"WebStreamGroup",GROUPED_STREAM_COMPONENT:"GroupedWebStream",WEBSOCKET_TRANSPORT_COMPONENT:"WebSocketTransport",ACK_MANAGER_COMPONENT:"WebStreamAckManager",CODEC_COMPONENT:"WebCodec",RAW_CLIENT:"RAWDGWClient",PINGER:"DGWPinger"}),j={VERBOSE:-1,INFO:0,WARNING:1,ERROR:2,FATAL:3};function k(a){switch(a){case i.GROUPED_STREAM_COMPONENT:case i.ACK_MANAGER_COMPONENT:return!0;default:return!1}}e=function(){function a(a,b,c,d,e,f,g){f===void 0&&(f=!1),g===void 0&&(g=!1),this.$5=""+a,this.$1=b,this.$4=c,this.$3=d,this.$6=e,this.$2=f,this.$7=g}a.bumpODSKey=function(a,b,c){c===void 0&&(c=1);if(!d("Random").coinflip(c))return;a=a+"."+b;(h||(h=d("ODS"))).bumpEntityKey(3589,"dgw_web_client",a,c)};var b=a.prototype;b.bumpODSKey=function(a,b,c){c===void 0&&(c=1);if(!d("Random").coinflip(c))return;a=this.$4+"."+a+"."+b;(h||(h=d("ODS"))).bumpEntityKey(3589,"dgw_web_client",a,c)};b.logEvent=function(a,b,c,d,e){d===void 0&&(d=!1),this.$2||this.$8(a,b,null,j.INFO,c,d,e)};b.$8=function(a,b,d,e,f,g,h){var i=this;g===void 0&&(g=!1);if(g&&!this.$7)return;(k(a)&&this.$1!=null||!k(a)&&this.$6!=null)&&c("DgwClientFalcoEvent").log(function(){var c;return{event:b,logging_id:(c=h)!=null?c:i.$1,dgw_version:i.$5,message:d,severity:e,uuid:i.$3,dgw_component:a,extra_info:f,destination_tier:i.$4,sg_transport_id:i.$6,source:2}})};b.logError=function(a,b,c,d,e,f){e===void 0&&(e=!1),this.$2||this.$8(a,b,c,j.ERROR,d,e,f)};b.logWarn=function(a,b,c,d,e){e===void 0&&(e=!1),this.$2||this.$8(a,b,c,j.WARNING,d,e)};return a}();g.DGW_MODULE=a;g.DGWLoggingComponent=i;g.DGWLoggingContext=e}),98);
__d("DGWAckManager",["DGWLoggingContext","Promise","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(){var b=a.prototype;b.stopTracking=function(a){window.clearTimeout(this.$1),this.$3(a)};function a(a,b,c){var d=this;this.$3=c;this.sendId=a;this.$2=b;this.handleAckReceived=function(){d.stopTracking(!0)};this.$1=window.setTimeout(function(){d.stopTracking(!1)},b)}return a}();a=function(){function a(a){this.$1=new Map(),this.$2=a}var c=a.prototype;c.waitForAck=function(a,c){var e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:this.$2.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_expected");e=this.$1;g.prev=2;g.next=5;return b("regeneratorRuntime").awrap(new(h||(h=b("Promise")))(function(b,d){e.set(a,new i(a,c,b))}));case 5:f=g.sent;f===!0?this.$2.logEvent(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"Received ACK","sendId:"+a,!0):(this.$2.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_timeout"),this.$2.logWarn(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ACK timeout","Request "+a+" timed out after "+c+"ms"));e["delete"](a);return g.abrupt("return",f);case 11:g.prev=11;g.t0=g["catch"](2);this.$2.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_error");e["delete"](a);throw g.t0;case 16:case"end":return g.stop()}},null,this,[[2,11]])};c.handleAckReceived=function(a){this.$2.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_received");var b=this.$1.get(a);if(b===void 0){this.$2.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_received.not_tracked");this.$2.logWarn(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"untracked ACK","Received ACK for ackId "+a+" which was not being tracked");return}b.handleAckReceived()};c.clearPendingAcks=function(){var a=this;this.$2.logEvent(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"Clearing pending acks","ACKs cleared size: "+this.$1.size);this.$1.forEach(function(b,c,e){a.$2.logEvent(d("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"Clearing pending ACK with ackId "+b.sendId,null,!0),b.stopTracking(!1),e["delete"](c)})};return a}();g.DGWAckManager=a}),98);
__d("DGWAuth",["$InternalEnum","err"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({TEST:"0:0",FACEBOOK:"1:0",INTERNALFB:"2:0",OCULUS:"3:0",ENTERPRISEFB:"7:0",RECRUITINGFB:"8:0",INSTAGRAM:"6:0",HORIZON_WEB:"12:0",SPARK_WEB:"13:0",ABRA:"15:0"});function a(a){if(a==="TEST")return h.TEST;else if(a==="FACEBOOK")return h.FACEBOOK;else if(a==="INTERNALFB")return h.INTERNALFB;else if(a==="OCULUS")return h.OCULUS;else if(a==="ENTERPRISEFB")return h.ENTERPRISEFB;else if(a==="RECRUITINGFB")return h.RECRUITINGFB;else if(a==="INSTAGRAM")return h.INSTAGRAM;else if(a==="HORIZON_WEB")return h.HORIZON_WEB;else if(a==="SPARK_WEB")return h.SPARK_WEB;else if(a==="ABRA")return h.ABRA;else throw c("err")("failed to convert string ("+a+") to DGWAuth Type")}function d(a){if(a===h.FACEBOOK)return"FACEBOOK";else if(a===h.INTERNALFB)return"INTERNALFB";else if(a===h.OCULUS)return"OCULUS";else if(a===h.ENTERPRISEFB)return"ENTERPRISEFB";else if(a===h.RECRUITINGFB)return"RECRUITINGFB";else if(a===h.INSTAGRAM)return"INSTAGRAM";else if(a===h.HORIZON_WEB)return"HORIZON_WEB";else if(a===h.SPARK_WEB)return"SPARK_WEB";else if(a===h.ABRA)return"ABRA";else return"TEST"}g.DGWAuth=h;g.fromStringToDGWAuth=a;g.fromDGWAuthToString=d}),98);
__d("DGWStream",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum").Mirrored(["ABNORMAL_CLOSURE","GOING_AWAY","SERVER_INTERNAL_ERROR","PREMATURE_CLOSE","UNKNOWN_ERROR","KEEPALIVE_TIMEOUT","TRANSPORT_CLOSED_BEFORE_STREAM_INIT","ESTABLISHMENT_TIMEOUT","UNAUTHENTICATED","UNAUTHORIZED","REJECTED","BAD_REQUEST","DGW_SERVER_ERROR","ESTABLISHMENT_ERROR"]);function a(a){switch(a){case g.UNAUTHENTICATED:case g.UNAUTHORIZED:case g.REJECTED:case g.BAD_REQUEST:case g.UNKNOWN_ERROR:case g.SERVER_INTERNAL_ERROR:return!1;default:return!0}}f.StreamError=g;f.isRetryableError=a}),66);
__d("DGWCppBridge",[],(function(l,m,n,o,p,q){var r=function(){var l=typeof document!=="undefined"&&document.currentScript?document.currentScript.src:void 0;return function(m){m=m||{};var m=typeof m!=="undefined"?m:{},n=function(){function m(){}function n(l,m){return function(){l.apply(m,arguments)}}function l(m){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if(typeof m!=="function")throw new TypeError("not a function");this._state=0;this._handled=!1;this._value=void 0;this._deferreds=[];t(m,this)}function o(m,n){while(m._state===3)m=m._value;if(m._state===0){m._deferreds.push(n);return}m._handled=!0;l._immediateFn(function(){var l=m._state===1?n.onFulfilled:n.onRejected;if(l===null){(m._state===1?p:q)(n.promise,m._value);return}var o;try{o=l(m._value)}catch(l){q(n.promise,l);return}p(n.promise,o)})}function p(m,o){try{if(o===m)throw new TypeError("A promise cannot be resolved with itself.");if(o&&(typeof o==="object"||typeof o==="function")){var p=o.then;if(o instanceof l){m._state=3;m._value=o;r(m);return}else if(typeof p==="function"){t(n(p,o),m);return}}m._state=1;m._value=o;r(m)}catch(l){q(m,l)}}function q(l,m){l._state=2,l._value=m,r(l)}function r(m){m._state===2&&m._deferreds.length===0&&l._immediateFn(function(){m._handled||l._unhandledRejectionFn(m._value)});for(var n=0,p=m._deferreds.length;n<p;n++)o(m,m._deferreds[n]);m._deferreds=null}function s(l,m,n){this.onFulfilled=typeof l==="function"?l:null,this.onRejected=typeof m==="function"?m:null,this.promise=n}function t(l,m){var n=!1;try{l(function(l){if(n)return;n=!0;p(m,l)},function(l){if(n)return;n=!0;q(m,l)})}catch(l){if(n)return;n=!0;q(m,l)}}l.prototype["catch"]=function(l){return this.then(null,l)};l.prototype.then=function(l,n){var p=new this.constructor(m);o(this,new s(l,n,p));return p};l.all=function(m){return new l(function(l,n){if(!Array.isArray(m))return n(new TypeError("Promise.all accepts an array"));var o=Array.prototype.slice.call(m);if(o.length===0)return l([]);var p=o.length;function q(m,r){try{if(r&&(typeof r==="object"||typeof r==="function")){var s=r.then;if(typeof s==="function"){s.call(r,function(l){q(m,l)},n);return}}o[m]=r;--p===0&&l(o)}catch(l){n(l)}}for(var r=0;r<o.length;r++)q(r,o[r])})};l.resolve=function(m){return m&&typeof m==="object"&&m.constructor===l?m:new l(function(l){l(m)})};l.reject=function(m){return new l(function(l,n){n(m)})};l.race=function(m){return new l(function(n,o){if(!Array.isArray(m))return o(new TypeError("Promise.race accepts an array"));for(var p=0,q=m.length;p<q;p++)l.resolve(m[p]).then(n,o)})};l._immediateFn=typeof setImmediate==="function"&&function(l){setImmediate(l)}||function(l){setTimeout(l,0)};l._unhandledRejectionFn=function(l){typeof console!=="undefined"&&console};return l}(),o,s;m.ready=new n(function(l,m){o=l,s=m});var t={},u;for(u in m)Object.prototype.hasOwnProperty.call(m,u)&&(t[u]=m[u]);var v=[];(function(l,m){throw m});var w=!0,x=!1,y="";function z(l){return m.locateFile?m.locateFile(l,y):y+l}var A;(w||x)&&(x?y=self.location.href:typeof document!=="undefined"&&document.currentScript&&(y=document.currentScript.src),l&&(y=l),y.indexOf("blob:")!==0?y=y.substr(0,y.lastIndexOf("/")+1):y="",(function(l){try{var m=new XMLHttpRequest();m.open("GET",l,!1);m.send(null);return m.responseText}catch(n){m=ga(l);if(m)return fa(m);throw n}},x&&(A=function(l){try{var m=new XMLHttpRequest();m.open("GET",l,!1);m.responseType="arraybuffer";m.send(null);return new Uint8Array(m.response)}catch(n){m=ga(l);if(m)return m;throw n}}),function(l,m,n){var o=new XMLHttpRequest();o.open("GET",l,!0);o.responseType="arraybuffer";o.onload=function(){if(o.status==200||o.status==0&&o.response){m(o.response);return}var p=ga(l);if(p){m(p.buffer);return}n()};o.onerror=n;o.send(null)}),function(l){document.title=l});m.print||emptyFunction.bind(console);var B=m.printErr||emptyFunction.bind(console);for(u in t)Object.prototype.hasOwnProperty.call(t,u)&&(m[u]=t[u]);t=null;m.arguments&&(v=m.arguments);m.thisProgram&&m.thisProgram;m.quit&&m.quit;var C;m.wasmBinary&&(C=m.wasmBinary);m.noExitRuntime||!0;var D={Memory:function(l){this.buffer=new ArrayBuffer(l.initial*65536)},Module:function(l){},Instance:function(l,m){this.exports=function(l){function m(l){l.set=function(l,m){this[l]=m};l.get=function(l){return this[l]};return l}var n,o=new Uint8Array(123);for(var p=25;p>=0;--p)o[48+p]=52+p,o[65+p]=p,o[97+p]=26+p;o[43]=62;o[47]=63;function q(m,n,p){var q,r,l=0,s=n,t=p.length;n=n+(t*3>>2)-(p[t-2]=="=")-(p[t-1]=="=");for(;l<t;l+=4)q=o[p.charCodeAt(l+1)],r=o[p.charCodeAt(l+2)],m[s++]=o[p.charCodeAt(l)]<<2|q>>4,s<n&&(m[s++]=q<<4|r>>2),s<n&&(m[s++]=r<<6|o[p.charCodeAt(l+3)])}function r(l){q(n,1024,"U3Q5dHlwZV9pbmZvAAAAAOAEAAAABAAATjEwX19jeHhhYml2MTE2X19zaGltX3R5cGVfaW5mb0UAAAAACAUAABgEAAAQBAAATjEwX19jeHhhYml2MTE3X19jbGFzc190eXBlX2luZm9FAAAACAUAAEgEAAA8BAAATjEwX19jeHhhYml2MTE3X19wYmFzZV90eXBlX2luZm9FAAAACAUAAHgEAAA8BAAATjEwX19jeHhhYml2MTE5X19wb2ludGVyX3R5cGVfaW5mb0UACAUAAKgEAACcBAAAAAAAAGwEAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAAAAABQBQAAAQAAAAkAAAADAAAABAAAAAUAAAAKAAAACwAAAAwAAABOMTBfX2N4eGFiaXYxMjBfX3NpX2NsYXNzX3R5cGVfaW5mb0UAAAAACAUAACgFAABsBA=="),q(n,1372,"gAkQ")}function s(l){var o=l.a,p=o.buffer;o.grow=xa;var q=new Int8Array(p),s=new Int16Array(p),t=new Int32Array(p),u=new Uint8Array(p),v=new Uint16Array(p),w=new Uint32Array(p);new Float32Array(p);new Float64Array(p);var x=Math.imul;Math.fround;Math.abs;var y=Math.clz32;Math.min;Math.max;Math.floor;Math.ceil;Math.trunc;Math.sqrt;l.abort;NaN;Infinity;var z=l.b,A=1051008,B;function C(o,p,l,r,m,n){o=o|0;p=p|0;l=l|0;r=r|0;m=m|0;n=n|0;var y=0,z=0,B;y=A-80|0;A=y;t[y+72>>2]=o;t[y+68>>2]=p;t[y+64>>2]=l;t[y+60>>2]=r;t[y+56>>2]=m;t[y+52>>2]=n;a:{if(t[y+52>>2]?!t[y+56>>2]|(!t[y+72>>2]|!t[y+68>>2]|(!t[y+64>>2]|!t[y+60>>2])):1){t[y+76>>2]=5;break a}t[t[y+64>>2]>>2]=0;t[t[y+60>>2]>>2]=0;p=t[y+68>>2];l=t[y+56>>2];r=t[y+52>>2];o=A+-64|0;A=o;t[o+56>>2]=t[y+72>>2];t[o+52>>2]=p;t[o+48>>2]=l;t[o+44>>2]=r;t[o+40>>2]=0;t[o+36>>2]=t[o+56>>2];b:{c:{d:{while(1){if(!t[o+52>>2])break c;t[o+32>>2]=t[o+36>>2];q[o+31|0]=u[t[o+36>>2]];t[o+52>>2]=t[o+52>>2]-1;t[o+36>>2]=t[o+36>>2]+1;if(u[o+31|0]!=10?u[o+31|0]==2|u[o+31|0]==4|u[o+31|0]==9:1){t[o+40>>2]=t[o+40>>2]+1;continue}t[o+24>>2]=1;if(V(u[o+31|0])&1){z=o,B=X(u[o+31|0])&1,q[z+23|0]=B;t[o+16>>2]=q[o+23|0]&1?1:2;if(w[o+52>>2]<w[o+16>>2]){t[t[o+48>>2]>>2]=t[o+32>>2];t[t[o+44>>2]>>2]=t[o+52>>2]+t[o+24>>2];break b}t[o+52>>2]=t[o+52>>2]-t[o+16>>2];t[o+24>>2]=t[o+16>>2]+t[o+24>>2];t[o+36>>2]=t[o+16>>2]+t[o+36>>2];if(!(u[o+31|0]!=14?u[o+31|0]!=8:0)){t[o+40>>2]=t[o+40>>2]+1;continue}}if(w[o+52>>2]<3)break d;t[o+12>>2]=0;p=t[o+36>>2];l=u[p|0]|u[p+1|0]<<8;q[o+12|0]=l;q[o+13|0]=l>>>8;q[o+14|0]=u[p+2|0];t[o+52>>2]=t[o+52>>2]-3;t[o+24>>2]=t[o+24>>2]+3;t[o+36>>2]=t[o+36>>2]+3;if(w[o+12>>2]<=w[o+52>>2]){t[o+40>>2]=t[o+40>>2]+1;t[o+36>>2]=t[o+12>>2]+t[o+36>>2];t[o+52>>2]=t[o+52>>2]-t[o+12>>2];continue}break}t[t[o+48>>2]>>2]=t[o+32>>2];t[t[o+44>>2]>>2]=t[o+52>>2]+t[o+24>>2];break b}t[t[o+48>>2]>>2]=t[o+32>>2];t[t[o+44>>2]>>2]=t[o+52>>2]+t[o+24>>2];break b}t[t[o+44>>2]>>2]=t[o+52>>2]}t[o+60>>2]=t[o+40>>2];A=o- -64|0;t[y+48>>2]=t[o+60>>2];if(!t[y+48>>2]){t[y+76>>2]=0;break a}z=y,B=D(x(t[y+48>>2],20)),t[z+44>>2]=B;if(!t[y+44>>2]){t[y+76>>2]=3;break a}t[y+40>>2]=t[y+44>>2];t[y+36>>2]=t[y+72>>2];t[y+32>>2]=t[y+68>>2]-t[t[y+52>>2]>>2];t[y+28>>2]=0;while(1){if(w[y+28>>2]<w[y+48>>2]){if(w[y+32>>2]<1){O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=1;break a}q[y+27|0]=u[t[y+36>>2]];t[y+36>>2]=t[y+36>>2]+1;t[y+32>>2]=t[y+32>>2]-1;e:{if(!u[y+27|0]|u[y+27|0]==1|(u[y+27|0]==2|u[y+27|0]==3)|(u[y+27|0]==4|u[y+27|0]==9|u[y+27|0]==10))break e;if(V(u[y+27|0])&1)break e;O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=6;break a}o=t[y+40>>2];t[o>>2]=u[y+27|0]&15|t[o>>2]&-16;f:{if(u[y+27|0]!=10?u[y+27|0]==2|u[y+27|0]==4|u[y+27|0]==9:1){o=t[y+40>>2];t[o>>2]=t[o>>2]&-268435441;t[y+40>>2]=t[y+40>>2]+20;break f}if(V(u[y+27|0])&1){o=A-48|0;A=o;t[o+40>>2]=t[y+40>>2];t[o+36>>2]=y+36;t[o+32>>2]=y+32;g:{if(!(V(t[t[o+40>>2]>>2]&15)&1)){t[o+44>>2]=1;break g}z=o,B=X(t[t[o+40>>2]>>2]&15)&1,q[z+31|0]=B;t[o+24>>2]=q[o+31|0]&1?1:2;if(w[t[o+32>>2]>>2]<w[o+24>>2]){t[o+44>>2]=1;break g}ba(t[o+40>>2]+4|0,t[t[o+36>>2]>>2],t[o+24>>2]);p=t[o+36>>2];t[p>>2]=t[o+24>>2]+t[p>>2];p=t[o+32>>2];t[p>>2]=t[p>>2]-t[o+24>>2];if((t[t[o+40>>2]>>2]&15)==8){p=t[o+40>>2];t[p>>2]=t[p>>2]&-268435441;t[o+44>>2]=0;break g}if((t[t[o+40>>2]>>2]&15)==14){p=t[o+40>>2];t[p>>2]=t[p>>2]&-268435441;t[o+44>>2]=0;break g}if(w[t[o+32>>2]>>2]<3){t[o+44>>2]=11;break g}t[o+20>>2]=0;p=t[t[o+36>>2]>>2];l=u[p|0]|u[p+1|0]<<8;q[o+20|0]=l;q[o+21|0]=l>>>8;q[o+22|0]=u[p+2|0];p=t[o+36>>2];t[p>>2]=t[p>>2]+3;p=t[o+32>>2];t[p>>2]=t[p>>2]-3;p=t[o+40>>2];t[p>>2]=t[p>>2]&-268435441|(t[o+20>>2]&16777215)<<4;if(w[t[o+32>>2]>>2]<w[o+20>>2]){t[o+44>>2]=11;break g}if((t[t[o+40>>2]>>2]&15)==15){t[t[o+40>>2]+12>>2]=t[o+20>>2];p=D(t[o+20>>2]);t[t[o+40>>2]+8>>2]=p;if(!t[t[o+40>>2]+8>>2]){t[o+44>>2]=3;break g}ba(t[t[o+40>>2]+8>>2],t[t[o+36>>2]>>2],t[o+20>>2]);p=t[o+36>>2];t[p>>2]=t[o+20>>2]+t[p>>2];p=t[o+32>>2];t[p>>2]=t[p>>2]-t[o+20>>2];t[o+44>>2]=0;break g}if((t[t[o+40>>2]>>2]&15)==5){t[t[o+40>>2]+12>>2]=t[o+20>>2];p=D(t[o+20>>2]);t[t[o+40>>2]+8>>2]=p;if(!t[t[o+40>>2]+8>>2]){t[o+44>>2]=3;break g}ba(t[t[o+40>>2]+8>>2],t[t[o+36>>2]>>2],t[o+20>>2]);p=t[o+36>>2];t[p>>2]=t[o+20>>2]+t[p>>2];p=t[o+32>>2];t[p>>2]=t[p>>2]-t[o+20>>2];t[o+44>>2]=0;break g}h:{if(!((t[t[o+40>>2]>>2]&15)!=6?(t[t[o+40>>2]>>2]&15)!=7:0)){z=o,B=Q(t[o+36>>2],t[o+32>>2],o+19|0,o+18|0),t[z+12>>2]=B;if(t[o+12>>2]){t[o+44>>2]=t[o+12>>2];break g}break h}if(!((t[t[o+40>>2]>>2]&15)!=13?(t[t[o+40>>2]>>2]&15)!=12:0)){l=t[o+32>>2];p=A-32|0;t[p+24>>2]=t[o+36>>2];t[p+20>>2]=l;t[p+16>>2]=o+19;t[p+12>>2]=o+16;s[p+10>>1]=0;i:{if(w[t[p+20>>2]>>2]<2){t[p+28>>2]=1;break i}l=t[t[p+24>>2]>>2];l=u[l|0]|u[l+1|0]<<8;q[p+10|0]=l;q[p+11|0]=l>>>8;l=t[p+24>>2];t[l>>2]=t[l>>2]+2;l=t[p+20>>2];t[l>>2]=t[l>>2]-2;q[t[p+16>>2]]=(v[p+10>>1]&32768)==32768;s[t[p+12>>2]>>1]=v[p+10>>1]&32767;t[p+28>>2]=0}t[o+12>>2]=t[p+28>>2];if(t[o+12>>2]){t[o+44>>2]=t[o+12>>2];break g}}}if((t[t[o+40>>2]>>2]&15)==12){p=t[o+40>>2];s[p+8>>1]=s[p+8>>1]&1|v[o+16>>1]<<1;t[o+44>>2]=0;break g}if((t[t[o+40>>2]>>2]&15)==7){p=t[o+40>>2];q[p+8|0]=q[p+8|0]&1|u[o+18|0]<<1;t[o+44>>2]=0;break g}if((t[t[o+40>>2]>>2]&15)==13){l=t[o+32>>2];r=t[o+20>>2];m=t[o+40>>2]+12|0;n=t[o+40>>2];p=A-32|0;A=p;t[p+24>>2]=t[o+36>>2];t[p+20>>2]=l;t[p+16>>2]=r;t[p+12>>2]=m;t[p+8>>2]=n+16;j:{if(w[p+16>>2]<2){t[p+28>>2]=9;break j}t[t[p+8>>2]>>2]=t[p+16>>2]-2;if(w[t[p+20>>2]>>2]<w[t[p+8>>2]>>2]){t[p+28>>2]=1;break j}l=D(t[t[p+8>>2]>>2]);t[t[p+12>>2]>>2]=l;if(!t[t[p+12>>2]>>2]){t[p+28>>2]=3;break j}ba(t[t[p+12>>2]>>2],t[t[p+24>>2]>>2],t[t[p+8>>2]>>2]);l=t[p+24>>2];t[l>>2]=t[t[p+8>>2]>>2]+t[l>>2];l=t[p+20>>2];t[l>>2]=t[l>>2]-t[t[p+8>>2]>>2];t[p+28>>2]=0}A=p+32|0;t[o+8>>2]=t[p+28>>2];if(t[o+8>>2]){t[o+44>>2]=t[o+8>>2];break g}p=t[o+40>>2];s[p+8>>1]=q[o+19|0]&1|v[p+8>>1]&65534;p=t[o+40>>2];s[p+8>>1]=s[p+8>>1]&1|v[o+16>>1]<<1;t[o+44>>2]=0;break g}if((t[t[o+40>>2]>>2]&15)==6){z=o,B=M(t[o+36>>2],t[o+32>>2],t[o+20>>2],t[o+40>>2]+12|0,t[o+40>>2]+16|0),t[z+4>>2]=B;if(t[o+4>>2]){t[o+44>>2]=t[o+4>>2];break g}p=t[o+40>>2];q[p+8|0]=q[o+19|0]&1|u[p+8|0]&254;p=t[o+40>>2];q[p+8|0]=q[p+8|0]&1|u[o+18|0]<<1;t[o+44>>2]=0;break g}t[o+44>>2]=1}A=o+48|0;t[y+20>>2]=t[o+44>>2];if(!t[y+20>>2]){t[y+40>>2]=t[y+40>>2]+20;break f}O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=t[y+20>>2];break a}t[y+16>>2]=0;if(w[y+32>>2]<3){O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=1;break a}o=t[y+36>>2];p=u[o|0]|u[o+1|0]<<8;q[y+16|0]=p;q[y+17|0]=p>>>8;q[y+18|0]=u[o+2|0];t[y+36>>2]=t[y+36>>2]+3;t[y+32>>2]=t[y+32>>2]-3;if(!(t[y+16>>2]==1|u[y+27|0]!=1)){O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=7;break a}o=t[y+40>>2];t[o>>2]=t[o>>2]&-268435441|(t[y+16>>2]&16777215)<<4;if(u[y+27|0]==3){if(t[y+16>>2]!=1){O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=10;break a}q[y+15|0]=0;if(w[y+32>>2]<1){J(t[y+44>>2]);t[y+76>>2]=1;break a}q[y+15|0]=u[t[y+36>>2]];t[y+36>>2]=t[y+36>>2]+1;t[y+32>>2]=t[y+32>>2]-1;k:{if(u[y+15|0]<=4){q[t[y+40>>2]+4|0]=u[y+15|0];break k}q[t[y+40>>2]+4|0]=4}t[y+40>>2]=t[y+40>>2]+20;break f}z=y,B=Q(y+36|0,y+32|0,y+14|0,y+13|0),t[z+8>>2]=B;if(t[y+8>>2]){O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=t[y+8>>2];break a}if(u[y+27|0]==1){o=t[y+40>>2];q[o+4|0]=q[o+4|0]&1|u[y+13|0]<<1;t[y+40>>2]=t[y+40>>2]+20;break f}if(!u[y+27|0]){z=y,B=M(y+36|0,y+32|0,t[y+16>>2],t[y+40>>2]+8|0,t[y+40>>2]+12|0),t[z+4>>2]=B;if(t[y+4>>2]){O(t[y+44>>2],t[y+28>>2]);t[y+76>>2]=t[y+4>>2];break a}o=t[y+40>>2];q[o+4|0]=q[y+14|0]&1|u[o+4|0]&254;o=t[y+40>>2];q[o+4|0]=q[o+4|0]&1|u[y+13|0]<<1;t[y+40>>2]=t[y+40>>2]+20}}t[y+28>>2]=t[y+28>>2]+1;continue}break}if(t[y+32>>2]){O(t[y+44>>2],t[y+48>>2]);t[y+76>>2]=1;break a}t[t[y+64>>2]>>2]=t[y+44>>2];t[t[y+60>>2]>>2]=t[y+48>>2];t[y+76>>2]=0}A=y+80|0;return t[y+76>>2]}function D(o){var q=0,l=0,r=0,m=0,n=0,s=0,u=0,v,w=0,x,p;w=8;a:{b:{if(o>>>0>4294967239)break b;while(1){w=w>>>0>8?w:8;l=t[603];n=l;m=t[602];u=m;o=o>>>0>8?o+3&-4:8;c:{if(o>>>0<=127){s=(o>>>3|0)-1|0;break c}r=y(o);s=((o>>>29-r^4)-(r<<2)|0)+110|0;if(o>>>0<=4095)break c;r=((o>>>30-r^2)-(r<<1)|0)+71|0;s=r>>>0<63?r:63}q=s;r=q&31;(q&63)>>>0>=32?(q=0,l=l>>>r|0):(q=l>>>r|0,l=((1<<r)-1&l)<<32-r|u>>>r);r=q;if(l|q){while(1){n=l;q=r;d:{if(q|l){m=q-1|0;v=m+1|0;u=m;m=l-1|0;u=(m|0)!=-1?v:u;m=y(l^m)+32|0;l=y(q^u);l=(l|0)==32?m:l;q=63-l|0;0-(l>>>0>63)|0;break d}q=64}m=q;q=m;l=q&31;(q&63)>>>0>=32?(q=0,u=r>>>l|0):(q=r>>>l|0,u=((1<<l)-1&r)<<32-l|n>>>l);r=q;s=m+s|0;n=s<<4;q=t[n+1384>>2];m=n+1376|0;e:{if((q|0)!=(m|0)){l=I(q,w,o);if(l)break b;l=t[q+4>>2];t[l+8>>2]=t[q+8>>2];t[t[q+8>>2]+4>>2]=l;t[q+8>>2]=m;l=n+1380|0;t[q+4>>2]=t[l>>2];t[l>>2]=q;t[t[q+4>>2]+8>>2]=q;s=s+1|0;l=(r&1)<<31|u>>>1;r=r>>>1|0;break e}x=t[603];q=s;v=q&63;l=v;n=l&31;l>>>0>=32?(l=0,m=-1>>>n|0):(l=-1>>>n|0,m=(1<<n)-1<<32-n|-1>>>n);m=m&-2;n=v&31;v>>>0>=32?(l=m<<n,v=0):(l=(1<<n)-1&m>>>32-n|l<<n,v=m<<n);n=l;m=0-q&63;l=m;q=l&31;l>>>0>=32?(l=-1<<q,q=0):(l=(1<<q)-1&-1>>>32-q|-1<<q,q=-1<<q);p=q&-2;q=m&31;m>>>0>=32?(m=0,q=l>>>q|0):(m=l>>>q|0,q=((1<<q)-1&l)<<32-q|p>>>q);l=q|v;B=n|m;t[602]=t[602]&l;t[603]=B&x;l=u^1}if(l|r)continue;break}m=t[602];n=t[603]}f:{if(n|m){r=y(n);r=63-((r|0)==32?y(m)+32|0:r)<<4;q=r+1376|0;r=t[r+1384>>2];g:{if(!n&m>>>0<1073741824)break g;s=98;if((q|0)==(r|0))break g;while(1){l=I(r,w,o);if(l)break b;r=t[r+8>>2];if(!s)break g;s=s-1|0;if((q|0)!=(r|0))continue;break}}if(G(o+48|0))break f;if(!r|(q|0)==(r|0))break a;while(1){l=I(r,w,o);if(l)break b;r=t[r+8>>2];if((q|0)!=(r|0))continue;break}break a}if(!G(o+48|0))break a}l=0;if(o>>>0>4294967239)break b;r=w;q=0;while(1){s=q;if(r){r=r-1&r;q=q+1|0;continue}break}if(s>>>0<=1)continue;break}}return l}return 0}function E(o,p,l,r,m,n,x){o=o|0;p=p|0;l=l|0;r=r|0;m=m|0;n=n|0;x=x|0;var y=0,z=0;y=A-32|0;A=y;s[y+26>>1]=o;t[y+20>>2]=p;t[y+16>>2]=l;q[y+15|0]=r;s[y+12>>1]=m;t[y+8>>2]=n;t[y+4>>2]=x;a:{if(!(!(q[y+15|0]&1)|v[y+12>>1]<=32767)){t[y+28>>2]=4;break a}p=t[y+20>>2];l=t[y+16>>2];r=t[y+8>>2];m=t[y+4>>2];n=q[y+15|0]&1;o=A+-64|0;A=o;t[o+56>>2]=y+26;t[o+52>>2]=p;t[o+48>>2]=l;t[o+44>>2]=r;t[o+40>>2]=m;q[o+39|0]=2;q[o+38|0]=13;t[o+32>>2]=y+12;q[o+31|0]=n;q[o+30|0]=2;b:{c:{if(!(!t[o+52>>2]|(!t[o+44>>2]|!t[o+40>>2]))&&w[o+48>>2]<=16777215)break c;t[o+60>>2]=5;break b}t[o+24>>2]=t[o+48>>2]+(u[o+39|0]+(u[o+30|0]+4|0)|0);z=o,x=D(t[o+24>>2]),t[z+20>>2]=x;if(!t[o+20>>2]){t[o+60>>2]=3;break b}t[o+16>>2]=t[o+20>>2];q[t[o+16>>2]]=u[o+38|0];t[o+16>>2]=t[o+16>>2]+1;ba(t[o+16>>2],t[o+56>>2],u[o+30|0]);t[o+16>>2]=u[o+30|0]+t[o+16>>2];t[o+12>>2]=u[o+39|0]+t[o+48>>2];if(w[o+12>>2]<w[o+48>>2]){J(t[o+20>>2]);t[o+60>>2]=9;break b}p=t[o+16>>2];l=u[o+12|0]|u[o+13|0]<<8;q[p|0]=l;q[p+1|0]=l>>>8;q[p+2|0]=u[o+14|0];t[o+16>>2]=t[o+16>>2]+3;if(q[o+31|0]&1)d:{if(u[o+38|0]==6){p=t[o+32>>2];q[p|0]=u[p|0]|128;break d}e:{if(u[o+38|0]==13){p=t[o+32>>2];s[p>>1]=v[p>>1]|32768;break e}J(t[o+20>>2]);t[o+60>>2]=1;break b}}ba(t[o+16>>2],t[o+32>>2],u[o+39|0]);t[o+16>>2]=u[o+39|0]+t[o+16>>2];ba(t[o+16>>2],t[o+52>>2],t[o+48>>2]);t[t[o+44>>2]>>2]=t[o+20>>2];t[t[o+40>>2]>>2]=t[o+24>>2];t[o+60>>2]=0}A=o- -64|0;t[y+28>>2]=t[o+60>>2]}A=y+32|0;return t[y+28>>2]}function F(o,p,l,r,m){o=o|0;p=p|0;l=l|0;r=r|0;m=m|0;var n=0,v=0;n=A-32|0;A=n;s[n+30>>1]=o;t[n+24>>2]=p;t[n+20>>2]=l;t[n+16>>2]=r;t[n+12>>2]=m;p=t[n+24>>2];l=t[n+20>>2];r=t[n+16>>2];m=t[n+12>>2];o=A-48|0;A=o;t[o+40>>2]=n+30;t[o+36>>2]=p;t[o+32>>2]=l;t[o+28>>2]=r;t[o+24>>2]=m;q[o+23|0]=2;q[o+22|0]=15;a:{if(!(t[o+24>>2]?t[o+28>>2]:0)){t[o+44>>2]=5;break a}t[t[o+28>>2]>>2]=0;t[t[o+24>>2]>>2]=0;if(!(w[o+32>>2]<=16777215?t[o+36>>2]:0)){t[o+44>>2]=5;break a}t[o+16>>2]=t[o+32>>2]+(u[o+23|0]+4|0);v=o,r=D(t[o+16>>2]),t[v+12>>2]=r;if(!t[o+12>>2]){t[o+44>>2]=3;break a}t[o+8>>2]=t[o+12>>2];q[t[o+8>>2]]=u[o+22|0];t[o+8>>2]=t[o+8>>2]+1;ba(t[o+8>>2],t[o+40>>2],u[o+23|0]);t[o+8>>2]=u[o+23|0]+t[o+8>>2];p=t[o+8>>2];l=u[o+32|0]|u[o+33|0]<<8;q[p|0]=l;q[p+1|0]=l>>>8;q[p+2|0]=u[o+34|0];t[o+8>>2]=t[o+8>>2]+3;ba(t[o+8>>2],t[o+36>>2],t[o+32>>2]);t[o+8>>2]=t[o+32>>2]+t[o+8>>2];t[t[o+28>>2]>>2]=t[o+12>>2];t[t[o+24>>2]>>2]=t[o+16>>2];t[o+44>>2]=0}A=o+48|0;A=n+32|0;return t[o+44>>2]}function G(o){var p=0,l,r=0,m=0,n,s=0;r=t[343];l=o+3&-4;p=r+l|0;a:{b:{if(p>>>0<=r>>>0?l:0)break b;if(p>>>0>wa()<<16>>>0&&!(z(p|0)|0))break b;t[343]=p;break a}t[604]=48;r=-1}if((r|0)!=-1){l=o+r|0;p=l-16|0;t[p+12>>2]=16;t[p>>2]=16;o=t[600];o?s=t[o+8>>2]:s=0;c:{d:{if((s|0)==(r|0)){m=r-(t[r-4>>2]&-2)|0;n=t[m-4>>2];t[o+8>>2]=l;o=m-(n&-2)|0;l=-16;if(!(q[(o+t[o>>2]|0)-4|0]&1))break d;l=t[o+4>>2];t[l+8>>2]=t[o+8>>2];t[t[o+8>>2]+4>>2]=l;p=p-o|0;t[o>>2]=p;break c}t[r+12>>2]=16;t[r>>2]=16;t[r+8>>2]=l;t[r+4>>2]=o;t[600]=r;l=16}o=r+l|0;p=p-o|0;t[o>>2]=p}t[((p&-4)+o|0)-4>>2]=p|1;s=o;m=t[o>>2]-8|0;e:{if(m>>>0<=127){p=(m>>>3|0)-1|0;break e}n=y(m);p=((m>>>29-n^4)-(n<<2)|0)+110|0;if(m>>>0<=4095)break e;p=((m>>>30-n^2)-(n<<1)|0)+71|0;p=p>>>0<63?p:63}l=p<<4;t[s+4>>2]=l+1376;l=l+1384|0;t[o+8>>2]=t[l>>2];t[l>>2]=o;t[t[o+8>>2]+4>>2]=o;l=t[603];o=p&31;(p&63)>>>0>=32?(p=1<<o,o=0):(p=(1<<o)-1&1>>>32-o,o=1<<o);t[602]=o|t[602];t[603]=p|l}return(r|0)!=-1}function la(o,p,l,r){o=o|0;p=p|0;l=l|0;r=r|0;var m=0,n=0;m=A-16|0;A=m;s[m+10>>1]=o;s[m+8>>1]=p;t[m+4>>2]=l;t[m>>2]=r;a:{if(v[m+8>>1]>32767){t[m+12>>2]=4;break a}p=t[m+4>>2];l=t[m>>2];o=A-48|0;A=o;t[o+40>>2]=m+10;t[o+36>>2]=p;t[o+32>>2]=l;q[o+31|0]=2;q[o+30|0]=12;t[o+24>>2]=m+8;q[o+23|0]=2;b:{if(!(t[o+32>>2]?t[o+36>>2]:0)){t[o+44>>2]=5;break b}t[o+16>>2]=u[o+31|0]+(u[o+23|0]+4|0);n=o,r=D(t[o+16>>2]),t[n+12>>2]=r;if(!t[o+12>>2]){t[o+44>>2]=3;break b}t[o+8>>2]=t[o+12>>2];q[t[o+8>>2]]=u[o+30|0];t[o+8>>2]=t[o+8>>2]+1;ba(t[o+8>>2],t[o+40>>2],u[o+23|0]);t[o+8>>2]=u[o+23|0]+t[o+8>>2];t[o+4>>2]=u[o+31|0];p=t[o+8>>2];l=u[o+4|0]|u[o+5|0]<<8;q[p|0]=l;q[p+1|0]=l>>>8;q[p+2|0]=u[o+6|0];t[o+8>>2]=t[o+8>>2]+3;ba(t[o+8>>2],t[o+24>>2],u[o+31|0]);t[t[o+32>>2]>>2]=t[o+16>>2];t[t[o+36>>2]>>2]=t[o+12>>2];t[o+44>>2]=0}A=o+48|0;t[m+12>>2]=t[o+44>>2]}A=m+16|0;return t[m+12>>2]}function H(o,p,l){o=o|0;p=p|0;l=l|0;var q=0,m=0,n=0,r=0,s=0;n=A+-64|0;A=n;m=1;a:{if(R(o,p,0))break a;m=0;if(!p)break a;q=A+-64|0;A=q;m=t[p>>2];r=t[m-4>>2];s=t[m-8>>2];t[q+20>>2]=0;t[q+16>>2]=1084;t[q+12>>2]=p;t[q+8>>2]=1132;m=0;ca(q+24|0,39);p=p+s|0;b:{if(R(r,1132,0)){t[q+56>>2]=1;ka[t[t[r>>2]+20>>2]](r,q+8|0,p,p,1,0);m=t[q+32>>2]==1?p:0;break b}ka[t[t[r>>2]+24>>2]](r,q+8|0,p,1,0);c:switch(t[q+44>>2]){case 0:m=t[q+48>>2]==1?t[q+36>>2]==1?t[q+40>>2]==1?t[q+28>>2]:0:0:0;break b;case 1:break c;default:break b}if(t[q+48>>2]|t[q+36>>2]!=1|t[q+40>>2]!=1?t[q+32>>2]!=1:0)break b;m=t[q+24>>2]}A=q- -64|0;p=m;m=0;if(!p)break a;ca(n+8|4,52);t[n+56>>2]=1;t[n+20>>2]=-1;t[n+16>>2]=o;t[n+8>>2]=p;ka[t[t[p>>2]+28>>2]](p,n+8|0,t[l>>2],1);o=t[n+32>>2];(o|0)==1&&(t[l>>2]=t[n+24>>2]);m=(o|0)==1}o=m;A=n- -64|0;return o|0}function I(o,p,l){var q=0,m,n=0,r=0;q=o+4|0;m=(q+p|0)-1&0-p;p=t[o>>2];if(m+l>>>0<=(p+o|0)-4>>>0){n=t[o+4>>2];t[n+8>>2]=t[o+8>>2];t[t[o+8>>2]+4>>2]=n;(q|0)!=(m|0)&&(m=m-q|0,n=o-(t[o-4>>2]&-2)|0,q=m+t[n>>2]|0,t[n>>2]=q,t[(n+(q&-4)|0)-4>>2]=q,o=o+m|0,p=p-m|0,t[o>>2]=p);a:{if(l+24>>>0<=p>>>0){q=(o+l|0)+8|0;p=(p-l|0)-8|0;t[q>>2]=p;t[(q+(p&-4)|0)-4>>2]=p|1;r=q;n=t[q>>2]-8|0;b:{if(n>>>0<=127){m=(n>>>3|0)-1|0;break b}p=y(n);m=((n>>>29-p^4)-(p<<2)|0)+110|0;if(n>>>0<=4095)break b;p=((n>>>30-p^2)-(p<<1)|0)+71|0;m=p>>>0<63?p:63}p=m;m=p<<4;t[r+4>>2]=m+1376;m=m+1384|0;t[q+8>>2]=t[m>>2];t[m>>2]=q;t[t[q+8>>2]+4>>2]=q;m=t[603];q=p&31;(p&63)>>>0>=32?(p=1<<q,r=0):(p=(1<<q)-1&1>>>32-q,r=1<<q);t[602]=r|t[602];t[603]=p|m;p=l+8|0;t[o>>2]=p;t[((p&-4)+o|0)-4>>2]=p;break a}t[(o+p|0)-4>>2]=p}o=o+4|0}else o=0;return o}function J(o){var p=0,l,q=0,m,n=0;if(o){l=o-4|0;m=t[l>>2];q=m;p=l;n=t[o-8>>2];o=n&-2;(o|0)!=(n|0)&&(p=l-o|0,q=t[p+4>>2],t[q+8>>2]=t[p+8>>2],t[t[p+8>>2]+4>>2]=q,q=o+m|0);o=l+m|0;l=t[o>>2];(l|0)!=t[(o+l|0)-4>>2]&&(m=t[o+4>>2],t[m+8>>2]=t[o+8>>2],t[t[o+8>>2]+4>>2]=m,q=q+l|0);t[p>>2]=q;t[((q&-4)+p|0)-4>>2]=q|1;n=p;q=t[p>>2]-8|0;a:{if(q>>>0<=127){o=(q>>>3|0)-1|0;break a}m=y(q);o=((q>>>29-m^4)-(m<<2)|0)+110|0;if(q>>>0<=4095)break a;o=((q>>>30-m^2)-(m<<1)|0)+71|0;o=o>>>0<63?o:63}l=o<<4;t[n+4>>2]=l+1376;l=l+1384|0;t[p+8>>2]=t[l>>2];t[l>>2]=p;t[t[p+8>>2]+4>>2]=p;l=t[603];p=o&31;(o&63)>>>0>=32?(o=1<<p,p=0):(o=(1<<p)-1&1>>>32-p,p=1<<p);t[602]=p|t[602];t[603]=o|l}}function K(n,o,l){n=n|0;o=o|0;l=l|0;var p=0,m=0;p=A-48|0;A=p;t[p+40>>2]=n;t[p+36>>2]=o;t[p+32>>2]=l;a:{if(!(t[p+32>>2]?t[p+36>>2]:0)){t[p+44>>2]=5;break a}if(w[p+40>>2]>4){t[p+44>>2]=8;break a}t[p+28>>2]=5;m=p,l=D(t[p+28>>2]),t[m+24>>2]=l;if(!t[p+24>>2]){t[p+44>>2]=3;break a}t[p+20>>2]=t[p+24>>2];q[p+19|0]=3;q[t[p+20>>2]]=u[p+19|0];t[p+20>>2]=t[p+20>>2]+1;t[p+12>>2]=1;n=t[p+20>>2];o=u[p+12|0]|u[p+13|0]<<8;q[n|0]=o;q[n+1|0]=o>>>8;q[n+2|0]=u[p+14|0];t[p+20>>2]=t[p+20>>2]+3;q[p+11|0]=t[p+40>>2];q[t[p+20>>2]]=u[p+11|0];t[t[p+36>>2]>>2]=t[p+24>>2];t[t[p+32>>2]>>2]=t[p+28>>2];t[p+44>>2]=0}A=p+48|0;return t[p+44>>2]}function L(n,o,l,p,m){n=n|0;o=o|0;l=l|0;p=p|0;m=m|0;if(R(n,t[o+8>>2],m)){da(o,l,p);return}a:{if(R(n,t[o>>2],m)){if(!(t[o+20>>2]!=(l|0)?t[o+16>>2]!=(l|0):0)){if((p|0)!=1)break a;t[o+32>>2]=1;return}t[o+32>>2]=p;b:{if(t[o+44>>2]==4)break b;s[o+52>>1]=0;n=t[n+8>>2];ka[t[t[n>>2]+20>>2]](n,o,l,l,1,m);if(u[o+53|0]){t[o+44>>2]=3;if(!u[o+52|0])break b;break a}t[o+44>>2]=4}t[o+20>>2]=l;t[o+40>>2]=t[o+40>>2]+1;if(t[o+36>>2]!=1|t[o+24>>2]!=2)break a;q[o+54|0]=1;return}n=t[n+8>>2];ka[t[t[n>>2]+24>>2]](n,o,l,p,m)}}function M(o,p,l,q,m){var n=0;n=A-32|0;A=n;t[n+24>>2]=o;t[n+20>>2]=p;t[n+16>>2]=l;t[n+12>>2]=q;t[n+8>>2]=m;a:{if(w[n+16>>2]<1){t[n+28>>2]=9;break a}t[t[n+8>>2]>>2]=t[n+16>>2]-1;if(w[t[n+20>>2]>>2]<w[t[n+8>>2]>>2]){t[n+28>>2]=1;break a}o=D(t[t[n+8>>2]>>2]);t[t[n+12>>2]>>2]=o;if(!t[t[n+12>>2]>>2]){t[n+28>>2]=3;break a}ba(t[t[n+12>>2]>>2],t[t[n+24>>2]>>2],t[t[n+8>>2]>>2]);o=t[n+24>>2];t[o>>2]=t[t[n+8>>2]>>2]+t[o>>2];o=t[n+20>>2];t[o>>2]=t[o>>2]-t[t[n+8>>2]>>2];t[n+28>>2]=0}A=n+32|0;return t[n+28>>2]}function N(n,o,l){n=n|0;o=o|0;l=l|0;var p=0,m=0;p=A-32|0;A=p;s[p+26>>1]=n;t[p+20>>2]=o;t[p+16>>2]=l;t[t[p+16>>2]>>2]=3;m=p,l=D(t[t[p+16>>2]>>2]),t[m+12>>2]=l;a:{if(!t[p+12>>2]){t[p+28>>2]=3;break a}t[t[p+20>>2]>>2]=t[p+12>>2];q[p+11|0]=14;q[t[p+12>>2]]=u[p+11|0];t[p+12>>2]=t[p+12>>2]+1;n=t[p+12>>2];o=u[p+26|0]|u[p+27|0]<<8;q[n|0]=o;q[n+1|0]=o>>>8;t[p+28>>2]=0}A=p+32|0;return t[p+28>>2]}function O(m,n){var l=0;l=A-16|0;A=l;t[l+12>>2]=m;t[l+8>>2]=n;t[l+4>>2]=0;while(1){if(w[l+4>>2]<w[l+8>>2]){t[l>>2]=t[l+12>>2]+x(t[l+4>>2],20);a:{if(!(t[t[l>>2]>>2]&15)){J(t[t[l>>2]+8>>2]);break a}b:{if((t[t[l>>2]>>2]&15)==5){J(t[t[l>>2]+8>>2]);break b}(t[t[l>>2]>>2]&15)==6&&J(t[t[l>>2]+12>>2])}}t[l+4>>2]=t[l+4>>2]+1;continue}break}J(t[l+12>>2]);A=l+16|0}function P(m,n,l,o){q[m+53|0]=1;a:{if(t[m+4>>2]!=(l|0))break a;q[m+52|0]=1;l=t[m+16>>2];if(!l){t[m+36>>2]=1;t[m+24>>2]=o;t[m+16>>2]=n;if((o|0)!=1|t[m+48>>2]!=1)break a;q[m+54|0]=1;return}if((n|0)==(l|0)){l=t[m+24>>2];(l|0)==2&&(t[m+24>>2]=o,l=o);if(t[m+48>>2]!=1|(l|0)!=1)break a;q[m+54|0]=1;return}q[m+54|0]=1;t[m+36>>2]=t[m+36>>2]+1}}function Q(n,o,l,p){var m;m=A-32|0;t[m+24>>2]=n;t[m+20>>2]=o;t[m+16>>2]=l;t[m+12>>2]=p;q[m+11|0]=0;a:{if(w[t[m+20>>2]>>2]<1){t[m+28>>2]=1;break a}q[m+11|0]=u[t[t[m+24>>2]>>2]];n=t[m+24>>2];t[n>>2]=t[n>>2]+1;n=t[m+20>>2];t[n>>2]=t[n>>2]-1;q[t[m+16>>2]]=(u[m+11|0]&128)==128;q[t[m+12>>2]]=u[m+11|0]&127;t[m+28>>2]=0}return t[m+28>>2]}function ma(n,o,l,p,m){n=n|0;o=o|0;l=l|0;p=p|0;m=m|0;if(R(n,t[o+8>>2],m)){da(o,l,p);return}a:{if(!R(n,t[o>>2],m))break a;if(!(t[o+20>>2]!=(l|0)?t[o+16>>2]!=(l|0):0)){if((p|0)!=1)break a;t[o+32>>2]=1;return}t[o+20>>2]=l;t[o+32>>2]=p;t[o+40>>2]=t[o+40>>2]+1;t[o+36>>2]!=1|t[o+24>>2]!=2||(q[o+54|0]=1);t[o+44>>2]=4}}function R(m,n,l){var o;if(!l)return t[m+4>>2]==t[n+4>>2];if((m|0)==(n|0))return 1;l=t[m+4>>2];m=u[l|0];n=t[n+4>>2];o=u[n|0];a:{if(!m|(o|0)!=(m|0))break a;while(1){o=u[n+1|0];m=u[l+1|0];if(!m)break a;n=n+1|0;l=l+1|0;if((m|0)==(o|0))continue;break}}return(m|0)==(o|0)}function na(m,n){m=m|0;n=n|0;var l=0,o=0;l=A-32|0;A=l;t[l+24>>2]=m;t[l+20>>2]=n;o=l,m=D(1),t[o+16>>2]=m;a:{if(!t[l+16>>2]){t[l+28>>2]=3;break a}q[l+15|0]=9;q[t[l+16>>2]]=u[l+15|0];t[t[l+24>>2]>>2]=t[l+16>>2];t[t[l+20>>2]>>2]=1;t[l+28>>2]=0}A=l+32|0;return t[l+28>>2]}function S(m,n){m=m|0;n=n|0;var l=0,o=0;l=A-32|0;A=l;t[l+24>>2]=m;t[l+20>>2]=n;o=l,m=D(1),t[o+16>>2]=m;a:{if(!t[l+16>>2]){t[l+28>>2]=3;break a}q[l+15|0]=10;q[t[l+16>>2]]=u[l+15|0];t[t[l+24>>2]>>2]=t[l+16>>2];t[t[l+20>>2]>>2]=1;t[l+28>>2]=0}A=l+32|0;return t[l+28>>2]}function T(m,n){m=m|0;n=n|0;var l=0,o=0;l=A-32|0;A=l;t[l+24>>2]=m;t[l+20>>2]=n;o=l,m=D(1),t[o+16>>2]=m;a:{if(!t[l+16>>2]){t[l+28>>2]=3;break a}q[l+15|0]=2;q[t[l+16>>2]]=u[l+15|0];t[t[l+24>>2]>>2]=t[l+16>>2];t[t[l+20>>2]>>2]=1;t[l+28>>2]=0}A=l+32|0;return t[l+28>>2]}function U(m,n){m=m|0;n=n|0;var l=0,o=0;l=A-32|0;A=l;t[l+24>>2]=m;t[l+20>>2]=n;o=l,m=D(1),t[o+16>>2]=m;a:{if(!t[l+16>>2]){t[l+28>>2]=3;break a}q[l+15|0]=4;q[t[l+16>>2]]=u[l+15|0];t[t[l+24>>2]>>2]=t[l+16>>2];t[t[l+20>>2]>>2]=1;t[l+28>>2]=0}A=l+32|0;return t[l+28>>2]}function V(l){var m=0;m=A-16|0;A=m;t[m+12>>2]=l;l=1;a:{if(X(t[m+12>>2])&1)break a;l=1;if(t[m+12>>2]==15)break a;l=1;if(t[m+12>>2]==13)break a;l=1;if(t[m+12>>2]==12)break a;l=t[m+12>>2]==14}A=m+16|0;return l}function W(m,n,l){var o;o=t[m+16>>2];if(!o){t[m+36>>2]=1;t[m+24>>2]=l;t[m+16>>2]=n;return}a:{if((n|0)==(o|0)){if(t[m+24>>2]!=2)break a;t[m+24>>2]=l;return}q[m+54|0]=1;t[m+24>>2]=2;t[m+36>>2]=t[m+36>>2]+1}}function X(l){var m;m=A-16|0;t[m+12>>2]=l;l=1;a:{if(t[m+12>>2]==5)break a;l=1;if(t[m+12>>2]==6)break a;l=1;if(t[m+12>>2]==7)break a;l=t[m+12>>2]==8}return l}function Y(o,p,l,q,m,n){o=o|0;p=p|0;l=l|0;q=q|0;m=m|0;n=n|0;if(R(o,t[p+8>>2],n)){P(p,l,q,m);return}o=t[o+8>>2];ka[t[t[o>>2]+20>>2]](o,p,l,q,m,n)}function Z(){var m=0,n,l;while(1){n=m<<4;l=n+1376|0;t[n+1380>>2]=l;t[n+1384>>2]=l;m=m+1|0;if((m|0)!=64)continue;break}G(48)}function $(m,n,l,o){m=m|0;n=n|0;l=l|0;o=o|0;if(R(m,t[n+8>>2],0)){W(n,l,o);return}m=t[m+8>>2];ka[t[t[m>>2]+28>>2]](m,n,l,o)}function aa(o,p,l,q,m,n){o=o|0,p=p|0,l=l|0,q=q|0,m=m|0,n=n|0,R(o,t[p+8>>2],n)&&P(p,l,q,m)}function ba(m,n,l){if(l)while(1){q[m|0]=u[n|0];m=m+1|0;n=n+1|0;l=l-1|0;if(l)continue;break}}function ca(l,m){if(m)while(1){q[l|0]=0;l=l+1|0;m=m-1|0;if(m)continue;break}}function oa(m,n,l,o){m=m|0,n=n|0,l=l|0,o=o|0,R(m,t[n+8>>2],0)&&W(n,l,o)}function da(m,n,l){t[m+28>>2]==1|t[m+4>>2]!=(n|0)||(t[m+28>>2]=l)}function pa(l,m){l=l|0;m=m|0;return x(m,20)+l|0}function ea(l){l=l|0;return v[l+8>>1]>>>1|0}function qa(l){l=l|0;return s[l+8>>1]&1}function fa(l){l=l|0;return t[l+12>>2]}function ra(l){l=l|0;return t[l>>2]&15}function sa(l){l=l|0;return t[l+16>>2]}function ga(l){l=l|0;return v[l+4>>1]}function ha(l){l=l|0;return t[l+8>>2]}function ia(l){l=l|0;return u[l+4|0]}function ja(l){l=l|0;return l|0}function ta(l){return D(l)}function ua(l){l=l|0,J(l)}function va(l){l|0}n=u;r(l);var ka=m([null,ja,ua,va,va,H,aa,ma,oa,ua,Y,L,$]);function wa(){return p.byteLength/65536|0}function xa(l){l=l|0;var m=wa()|0;l=m+l|0;if(m<l&&l<65536){l=new ArrayBuffer(x(l,65536));var r=new Int8Array(l);r.set(q);q=new Int8Array(l);s=new Int16Array(l);t=new Int32Array(l);u=new Uint8Array(l);v=new Uint16Array(l);w=new Uint32Array(l);new Float32Array(l);new Float64Array(l);p=l;o.buffer=p;n=u}return m}return{c:Z,d:ta,e:ua,f:T,g:U,h:K,i:F,j:N,k:E,l:la,m:na,n:S,o:C,p:ra,q:ia,r:pa,s:ga,t:ha,u:fa,v:fa,w:sa,x:ea,y:qa,z:ea,A:ka}}return s(l)}(ha)},instantiate:function(l,m){return{then:function(n){var m=new D.Module(l);n({instance:new D.Instance(m)})}}},RuntimeError:Error};C=[];typeof D!=="object"&&Y("no native wasm support detected");var E,F=!1;function G(l,m){l||Y("Assertion failed: "+m)}function la(l,m){l%m>0&&(l+=m-l%m);return l}var H,I;function J(l){H=l,m.HEAP8=new Int8Array(l),m.HEAP16=new Int16Array(l),m.HEAP32=new Int32Array(l),m.HEAPU8=I=new Uint8Array(l),m.HEAPU16=new Uint16Array(l),m.HEAPU32=new Uint32Array(l),m.HEAPF32=new Float32Array(l),m.HEAPF64=new Float64Array(l)}u=m.INITIAL_MEMORY||2097152;m.wasmMemory?E=m.wasmMemory:E=new D.Memory({initial:u/65536,maximum:2147483648/65536});E&&(H=E.buffer);H.byteLength;J(H);var K,L=[],M=[],N=[];function O(){if(m.preRun){typeof m.preRun=="function"&&(m.preRun=[m.preRun]);while(m.preRun.length)ma(m.preRun.shift())}da(L)}function P(){da(M)}function Q(){if(m.postRun){typeof m.postRun=="function"&&(m.postRun=[m.postRun]);while(m.postRun.length)na(m.postRun.shift())}da(N)}function ma(l){L.unshift(l)}function R(l){M.unshift(l)}function na(l){N.unshift(l)}(!Math.imul||Math.imul(4294967295,5)!==-5)&&(Math.imul=function(l,m){var n=l>>>16;l=l&65535;var o=m>>>16;m=m&65535;return l*m+(n*m+l*o<<16)|0});if(!Math.fround){var S=new Float32Array(1);Math.fround=function(l){S[0]=l;return S[0]}}Math.clz32||(Math.clz32=function(l){var m=32,n=l>>16;n&&(m-=16,l=n);n=l>>8;n&&(m-=8,l=n);n=l>>4;n&&(m-=4,l=n);n=l>>2;n&&(m-=2,l=n);n=l>>1;return n?m-2:m-l});Math.trunc||(Math.trunc=function(l){return l<0?Math.ceil(l):Math.floor(l)});var T=0,U=null,V=null;function W(l){T++,m.monitorRunDependencies&&m.monitorRunDependencies(T)}function X(l){T--;m.monitorRunDependencies&&m.monitorRunDependencies(T);if(T==0){U!==null&&(clearInterval(U),U=null);if(V){l=V;V=null;l()}}}m.preloadedImages={};m.preloadedAudios={};function Y(l){m.onAbort&&m.onAbort(l);l+="";B(l);F=!0;l="abort("+l+"). Build with -s ASSERTIONS=1 for more info.";l=new D.RuntimeError(l);s(l);throw l}var Z="data:application/octet-stream;base64,";function $(l){return l.startsWith(Z)}var aa="dgwcppbridge.wasm";$(aa)||(aa=z(aa));function ba(l){try{if(l==aa&&C)return new Uint8Array(C);var m=ga(l);if(m)return m;if(A)return A(l);else throw"both async and sync fetching of the wasm failed"}catch(l){Y(l)}}function ca(){return!C&&(w||x)&&typeof fetch==="function"?fetch(aa,{credentials:"same-origin"}).then(function(l){if(!l.ok)throw"failed to load wasm binary file at '"+aa+"'";return l.arrayBuffer()})["catch"](function(){return ba(aa)}):n.resolve().then(function(){return ba(aa)})}function oa(){var n={a:ha};function o(n,l){l=n.exports;m.asm=l;K=m.asm.A;R(m.asm.c);X("wasm-instantiate")}W("wasm-instantiate");function r(l){o(l.instance)}function t(l){return ca().then(function(l){l=D.instantiate(l,n);return l}).then(l,function(l){B("failed to asynchronously prepare wasm: "+l),Y(l)})}function u(){if(!C&&typeof D.instantiateStreaming==="function"&&!$(aa)&&typeof fetch==="function")return fetch(aa,{credentials:"same-origin"}).then(function(l){l=D.instantiateStreaming(l,n);return l.then(r,function(l){B("wasm streaming compile failed: "+l);B("falling back to ArrayBuffer instantiation");return t(r)})});else return t(r)}if(m.instantiateWasm)try{var l=m.instantiateWasm(n,o);return l}catch(l){B("Module.instantiateWasm callback failed with error: "+l);return!1}u()["catch"](s);return{}}function da(l){while(l.length>0){var n=l.shift();if(typeof n=="function"){n(m);continue}var o=n.func;typeof o==="number"?n.arg===void 0?K.get(o)():K.get(o)(n.arg):o(n.arg===void 0?null:n.arg)}}function pa(l){try{E.grow(l-H.byteLength+65535>>>16);J(E.buffer);return 1}catch(l){}}function ea(l){var m=I.length;l=l>>>0;var n=2147483648;if(l>n)return!1;for(var o=1;o<=4;o*=2){var p=m*(1+.2/o);p=Math.min(p,l+100663296);p=Math.min(n,la(Math.max(l,p),65536));p=pa(p);if(p)return!0}return!1}var qa=!1;function fa(l){var m=[];for(var n=0;n<l.length;n++){var o=l[n];o>255&&(qa&&G(!1,"Character code "+o+" ("+String.fromCharCode(o)+")  at offset "+n+" not in 0x00-0xFF."),o&=255);m.push(String.fromCharCode(o))}return m.join("")}var ra=typeof atob==="function"?atob:function(l){var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="",o,p,q,r,s,t=0;l=l.replace(/[^A-Za-z0-9\+\/\=]/g,"");do p=m.indexOf(l.charAt(t++)),q=m.indexOf(l.charAt(t++)),r=m.indexOf(l.charAt(t++)),s=m.indexOf(l.charAt(t++)),p=p<<2|q>>4,q=(q&15)<<4|r>>2,o=(r&3)<<6|s,n=n+String.fromCharCode(p),r!==64&&(n=n+String.fromCharCode(q)),s!==64&&(n=n+String.fromCharCode(o));while(t<l.length);return n};function sa(l){try{l=ra(l);var m=new Uint8Array(l.length);for(var n=0;n<l.length;++n)m[n]=l.charCodeAt(n);return m}catch(l){throw new Error("Converting base64 string to bytes failed.")}}function ga(l){if(!$(l))return;return sa(l.slice(Z.length))}var ha={b:ea,a:E};oa();m.___wasm_call_ctors=function(){return(m.___wasm_call_ctors=m.asm.c).apply(null,arguments)};m.__malloc=function(){return(m.__malloc=m.asm.d).apply(null,arguments)};m.__free=function(){return(m.__free=m.asm.e).apply(null,arguments)};m.__DgwCodecEncodeEmpty=function(){return(m.__DgwCodecEncodeEmpty=m.asm.f).apply(null,arguments)};m.__DgwCodecEncodeDeauth=function(){return(m.__DgwCodecEncodeDeauth=m.asm.g).apply(null,arguments)};m.__DgwCodecEncodeDrain=function(){return(m.__DgwCodecEncodeDrain=m.asm.h).apply(null,arguments)};m.__DgwCodecEncodeStreamGroup_EstabStream=function(){return(m.__DgwCodecEncodeStreamGroup_EstabStream=m.asm.i).apply(null,arguments)};m.__DgwCodecEncodeStreamGroup_EndOfData=function(){return(m.__DgwCodecEncodeStreamGroup_EndOfData=m.asm.j).apply(null,arguments)};m.__DgwCodecEncodeStreamGroup_Data=function(){return(m.__DgwCodecEncodeStreamGroup_Data=m.asm.k).apply(null,arguments)};m.__DgwCodecEncodeStreamGroup_Ack=function(){return(m.__DgwCodecEncodeStreamGroup_Ack=m.asm.l).apply(null,arguments)};m.__DgwCodecEncodePing=function(){return(m.__DgwCodecEncodePing=m.asm.m).apply(null,arguments)};m.__DgwCodecEncodePong=function(){return(m.__DgwCodecEncodePong=m.asm.n).apply(null,arguments)};m.__DgwCodecDecode=function(){return(m.__DgwCodecDecode=m.asm.o).apply(null,arguments)};m.__getFrameType=function(){return(m.__getFrameType=m.asm.p).apply(null,arguments)};m.__getDrainReasonFromDrainFrame=function(){return(m.__getDrainReasonFromDrainFrame=m.asm.q).apply(null,arguments)};m.__getDGWFramePtr=function(){return(m.__getDGWFramePtr=m.asm.r).apply(null,arguments)};m.__getStreamIdFromStreamGroupFrame=function(){return(m.__getStreamIdFromStreamGroupFrame=m.asm.s).apply(null,arguments)};m.__getEncodedParamsFromEstablishStreamFrame=function(){return(m.__getEncodedParamsFromEstablishStreamFrame=m.asm.t).apply(null,arguments)};m.__getEncodedParamsSizeFromEstablishStreamFrame=function(){return(m.__getEncodedParamsSizeFromEstablishStreamFrame=m.asm.u).apply(null,arguments)};m.__getDataFromGroupedStreamDataFrame=function(){return(m.__getDataFromGroupedStreamDataFrame=m.asm.v).apply(null,arguments)};m.__getDataSizeFromGroupedStreamDataFrame=function(){return(m.__getDataSizeFromGroupedStreamDataFrame=m.asm.w).apply(null,arguments)};m.__getAckIdFromGroupedStreamDataFrame=function(){return(m.__getAckIdFromGroupedStreamDataFrame=m.asm.x).apply(null,arguments)};m.__getRequiresAckFromGroupedStreamDataFrame=function(){return(m.__getRequiresAckFromGroupedStreamDataFrame=m.asm.y).apply(null,arguments)};m.__getAckIdFromGroupedStreamAckFrame=function(){return(m.__getAckIdFromGroupedStreamAckFrame=m.asm.z).apply(null,arguments)};var ia;V=function l(){ia||ja(),ia||(V=l)};function ja(l){l||v;if(T>0)return;O();if(T>0)return;function n(){if(ia)return;ia=!0;m.calledRun=!0;if(F)return;P();o(m);m.onRuntimeInitialized&&m.onRuntimeInitialized();Q()}m.setStatus?(m.setStatus("Running..."),setTimeout(function(){setTimeout(function(){m.setStatus("")},1),n()},1)):n()}m.run=ja;if(m.preInit){typeof m.preInit=="function"&&(m.preInit=[m.preInit]);while(m.preInit.length>0)m.preInit.pop()()}ja();return m.ready}}();typeof q==="object"&&typeof p==="object"?p.exports=r:typeof define==="function"&&define.amd?define([],function(){return r}):typeof q==="object"&&(q.Module=r)}),null);
__d("DGWUtils",["Base64","DGWConstants","DGWCppBridge","DGWLoggingContext","Promise","Random","URI","gkx","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=4;function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=d("Random").random()*16|0;a=a==="x"?b:b&3|8;return a.toString(16)})}function k(a){var b=new TextDecoder();b=b.decode(a);a=c("Base64").encode(b);b=a.replace(/\+/gi,"-").replace(/\//gi,"_").replace(/=/gi,"");return b}var l=null,m=null;function n(){m==null&&(m=(i||(i=b("Promise"))).resolve().then(function(){return c("DGWCppBridge")()}).then(function(a){l=a}));return m}e=function(){function a(){}a.initialize=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:if(!c("gkx")("9999")){a.next=4;break}return a.abrupt("return",n());case 4:if(!(l!=null)){a.next=6;break}return a.abrupt("return");case 6:a.next=8;return b("regeneratorRuntime").awrap(c("DGWCppBridge")());case 8:l=a.sent;case 9:case"end":return a.stop()}},null,this)};a.constructConnectUrl=function(a){var b,e,f=a.appId,g=a.appVersion,i=a.authType,j=a.deviceId,l=a.dgwVersion,m=a.fbId,n=a.tier,o=a.loggingId,p=a.headers,q=a.endpoint,r=a.serviceId,s=a.regionHint;a=a.establishStreamFrame;var t=(b={},b[(e=d("DGWConstants")).HEADER_CONSTANTS.HEADER_APPID]=f,b[e.HEADER_CONSTANTS.HEADER_APPVERSION]=g,b[e.HEADER_CONSTANTS.HEADER_AUTHTYPE]=i,b[e.HEADER_CONSTANTS.HEADER_DGW_VERSION]=""+l,b[e.HEADER_CONSTANTS.HEADER_UUID]=m,b[e.HEADER_CONSTANTS.HEADER_TARGET_TIER]=n,b);a!==void 0&&(t[d("DGWConstants").HEADER_CONSTANTS.HEADER_ESTABLISH_STREAM_FRAME_BASE64]=k(a));o!==void 0&&(t[d("DGWConstants").HEADER_CONSTANTS.HEADER_LOGGING_ID]=o);s!==void 0&&(t[d("DGWConstants").HEADER_CONSTANTS.HEADER_REGIONHINT]=s);j!==void 0&&(t[d("DGWConstants").HEADER_CONSTANTS.HEADER_DEVICE_ID]=j);Object.keys(p).forEach(function(a){var b=d("DGWConstants").HEADER_CONSTANTS.APPHEADER_PREFIX+a;Object.prototype.hasOwnProperty.call(t,b)||(t[b]=p[a])});f=new(h||(h=c("URI")))(q);f.setQueryData(t);f.setPath(f.getPath()+"/"+r);f.toString().length>2e3&&(delete t[d("DGWConstants").HEADER_CONSTANTS.HEADER_ESTABLISH_STREAM_FRAME_BASE64],f.setQueryData(t));return f.toString()};return a}();f=function(){function a(a,b,c){this.$1=null,this.$2=a,this.$3=b,this.$4=c}a.initialize=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:if(!c("gkx")("9999")){a.next=4;break}return a.abrupt("return",n());case 4:if(!(l!=null)){a.next=6;break}return a.abrupt("return");case 6:a.next=8;return b("regeneratorRuntime").awrap(c("DGWCppBridge")());case 8:l=a.sent;case 9:case"end":return a.stop()}},null,this)};var e=a.prototype;e.malloc=function(a){try{a=l.__malloc(a);if(a===0){var b;(b=this.$2)==null?void 0:b.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"wasm malloc failure","malloc returned 0");return-1}return a}catch(a){(b=this.$2)==null?void 0:b.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"wasm malloc failure","exception during malloc",a.toString());return-1}};e.free=function(a){l.__free(a)};e.append=function(a){if(this.$1==null){this.$1=a;return}var b=this.$1.length,c=new Uint8Array(b+a.length);c.set(this.$1,0);c.set(a,b);this.$1=c};e.processData=function(){var a=this;if(this.$1==null)return;var b=this.$1.length,c=this.malloc(b);if(c===-1)return;var e=l.HEAPU8.subarray(c,c+b);if(this.$1)for(var f=0;f<e.length;++f)e[f]=this.$1[f];f=this.malloc(j*4);if(f===-1)return;e=f;var g=e+j,h=g+j,i=h+j;b=l.__DgwCodecDecode(c,b,e,g,h,i);this.free(c);if(b!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){this.free(f);(h=this.$2)==null?void 0:h.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Codec Decode Failure","Failed to decode Frame(s). Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(b));return}c=l.HEAPU32.subarray(i/j,i/j+1)[0];if(this.$1==null){this.free(f);return}h=this.$1.length-c;if(this.$1&&this.$1.length>h){this.$1=new Uint8Array(((b=this.$1)==null?void 0:b.subarray(h))||[])}else this.$1=null;i=l.HEAPU32.subarray(g/j,g/j+1)[0];c=l.HEAPU32.subarray(e/j,e/j+1)[0];var k=[];for(b=0;b<i;++b){var m=l.__getDGWFramePtr(c,b);h=l.__getFrameType(m);switch(h){case d("DGWConstants").DgwFrameType.DgwFrameType_Drain:g=function(){var b=l.__getDrainReasonFromDrainFrame(m),c=d("DGWConstants").drainReasonToDrainReasonString(b);(b=a.$2)==null?void 0:b.logEvent(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Received Drain Frame from server","DrainReason: "+c);k.push(function(){var b;return(b=a.$3)==null?void 0:b.receivedDrainSignal(c)});return"break"}();if(g==="break")break;case d("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_EstabStream:e=function(){var b=l.__getStreamIdFromStreamGroupFrame(m),c=l.__getEncodedParamsFromEstablishStreamFrame(m),d=new Uint8Array(l.HEAPU8.subarray(c,c+l.__getEncodedParamsSizeFromEstablishStreamFrame(m)));a.free(c);k.push(function(){var c;return(c=a.$3)==null?void 0:c.onGroupedStreamEstablishStreamReceived(b,d)});return"break"}();if(e==="break")break;case d("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_Data:h=function(){var b=l.__getStreamIdFromStreamGroupFrame(m),c=l.__getDataFromGroupedStreamDataFrame(m),d=new Uint8Array(l.HEAPU8.subarray(c,c+l.__getDataSizeFromGroupedStreamDataFrame(m)));a.free(c);var e=l.__getRequiresAckFromGroupedStreamDataFrame(m)?l.__getAckIdFromGroupedStreamDataFrame(m):null;k.push(function(){var c;return(c=a.$3)==null?void 0:c.onGroupedStreamDataReceived(b,d,e)});return"break"}();if(h==="break")break;case d("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_Ack:g=function(){var b=l.__getStreamIdFromStreamGroupFrame(m),c=l.__getAckIdFromGroupedStreamAckFrame(m);k.push(function(){var d;return(d=a.$3)==null?void 0:d.onGroupedStreamAckReceived(b,c)});return"break"}();if(g==="break")break;case d("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_EndOfData:e=function(){var b=l.__getStreamIdFromStreamGroupFrame(m);k.push(function(){var c;return(c=a.$3)==null?void 0:c.onGroupedStreamEndOfDataReceived(b)});return"break"}();if(e==="break")break;case d("DGWConstants").DgwFrameType.DgwFrameType_Ping:k.push(function(){var b;return(b=a.$3)==null?void 0:b.onPingReceived()});break;case d("DGWConstants").DgwFrameType.DgwFrameType_Pong:k.push(function(){var b;return(b=a.$3)==null?void 0:b.onPongReceived()});break;default:break}this.free(m)}this.free(f);for(h=0;h<k.length;h++)k[h]()};e.encodeData=function(a,b,c,e){var f=this.malloc(a.length);if(f===-1)return null;var g=l.HEAPU8.subarray(f,f+a.length);for(var h=0;h<g.length;++h)g[h]=a[h];a=this.malloc(j*2);h=a;var i=a+j;e=l.__DgwCodecEncodeStreamGroup_Data(e,f,g.length,b,c,h,i);this.free(f);if(e!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){(g=this.$2)==null?void 0:g.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Data Frame encode failure","Failed to decode DGW Data Frame. Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(e));return null}b=l.HEAPU32.subarray(h/j,h/j+1)[0];c=l.HEAPU32.subarray(i/j,i/j+1)[0];f=new Uint8Array(l.HEAPU8.subarray(b,b+c));this.free(b);this.free(a);return f};e.encodeAck=function(a,b){var c=this.malloc(j*2);if(c===-1)return null;var e=c,f=c+j;b=l.__DgwCodecEncodeStreamGroup_Ack(b,a,e,f);if(b!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){(a=this.$2)==null?void 0:a.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"ACK Frame encode failure","Failed to encode ACK Frame. Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(b));return null}a=l.HEAPU32.subarray(e/j,e/j+1)[0];b=l.HEAPU32.subarray(f/j,f/j+1)[0];e=new Uint8Array(l.HEAPU8.subarray(a,a+b));this.free(a);this.free(c);return e};e.encodeDrain=function(a){var b=this.malloc(j*2);if(b===-1)return null;var c=b,e=b+j;a=l.__DgwCodecEncodeDrain(a,c,e);if(a!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var f;(f=this.$2)==null?void 0:f.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Drain Frame encode failure","Failed to encode Drain Frame. Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(a));return null}f=l.HEAPU32.subarray(c/j,c/j+1)[0];a=l.HEAPU32.subarray(e/j,e/j+1)[0];c=new Uint8Array(l.HEAPU8.subarray(f,f+a));this.free(f);this.free(b);return c};e.encodeEstablishStream=function(a,b){var c=this.malloc(b.length);if(c===-1)return null;var e=l.HEAPU8.subarray(c,c+b.length);for(var f=0;f<b.length;++f)e[f]=b[f];e=this.malloc(j*2);f=e;var g=e+j;b=l.__DgwCodecEncodeStreamGroup_EstabStream(a,c,b.length,f,g);this.free(c);if(b!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){(c=this.$2)==null?void 0:c.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"EstablishStream Frame encode failure","Failed to encode EstablishStream Frame. Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(b)+" for StreamId "+a);return null}c=l.HEAPU32.subarray(f/j,f/j+1)[0];b=l.HEAPU32.subarray(g/j,g/j+1)[0];a=new Uint8Array(l.HEAPU8.subarray(c,c+b));this.free(c);this.free(e);return a};e.encodeEndOfData=function(a){var b=this.malloc(j*2);if(b===-1)return null;var c=b,e=b+j;a=l.__DgwCodecEncodeStreamGroup_EndOfData(a,c,e);if(a!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var f;(f=this.$2)==null?void 0:f.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"EndOfData Frame encode failure","Failed to encode EndOfData Frame. Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(a));return null}f=l.HEAPU32.subarray(c/j,c/j+1)[0];a=l.HEAPU32.subarray(e/j,e/j+1)[0];c=new Uint8Array(l.HEAPU8.subarray(f,f+a));this.free(f);this.free(b);return c};e.encodePing=function(){if(this.$5!=null)return this.$5;var a=this.malloc(j*2);if(a===-1)return null;var b=a,c=a+j,e=l.__DgwCodecEncodePing(b,c);if(e!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var f;(f=this.$2)==null?void 0:f.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Ping Frame encode failure","Failed to encode Ping Frame. Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(e));return null}f=l.HEAPU32.subarray(b/j,b/j+1)[0];e=l.HEAPU32.subarray(c/j,c/j+1)[0];b=new Uint8Array(l.HEAPU8.subarray(f,f+e));this.free(f);this.free(a);this.$5=b;return b};e.encodePong=function(){if(this.$6!=null)return this.$6;var a=this.malloc(j*2);if(a===-1)return null;var b=a,c=a+j,e=l.__DgwCodecEncodePong(b,c);if(e!==d("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var f;(f=this.$2)==null?void 0:f.logError(d("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Pong Frame encode failure","Failed to encode Pong Frame. Received error code "+d("DGWConstants").DgwCodecReturnCodeToString(e));return null}f=l.HEAPU32.subarray(b/j,b/j+1)[0];e=l.HEAPU32.subarray(c/j,c/j+1)[0];b=new Uint8Array(l.HEAPU8.subarray(f,f+e));this.free(f);this.free(a);this.$6=b;return b};return a}();g.uuidv4=a;g.Uint8ArrayToBase64UrlStr=k;g.DGWUtils=e;g.DGWCodec=f}),98);
__d("DGWExponentialBackoff",["Promise","regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g,h={maxRetries:5,baseRetryInterval:1e3,backoffFactor:Math.sqrt(2)},i=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.errors=c;return a}return a}(babelHelpers.wrapNativeSuper(Error));function a(a,c){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:c===void 0&&(c=h);d.prev=1;d.next=4;return b("regeneratorRuntime").awrap(j(a,c));case 4:return d.abrupt("return",d.sent);case 7:d.prev=7;d.t0=d["catch"](1);throw d.t0.errors[d.t0.errors.length-1];case 10:case"end":return d.stop()}},null,this,[[1,7]])}function j(a,c){var d,e,f,g,h;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:d=0,e=[],f=c.baseRetryInterval,g=c.backoffFactor;case 4:if(!(d<=c.maxRetries)){j.next=20;break}j.prev=5;j.next=8;return b("regeneratorRuntime").awrap(a());case 8:h=j.sent;return j.abrupt("return",h);case 12:j.prev=12,j.t0=j["catch"](5),e.push(j.t0);case 15:j.next=17;return b("regeneratorRuntime").awrap(k(f*Math.pow(g,d)));case 17:++d;j.next=4;break;case 20:throw new i("Max call count exceeded",e);case 21:case"end":return j.stop()}},null,this,[[5,12]])}function k(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(new(g||(g=b("Promise")))(function(b){return window.setTimeout(b,a)}));case 2:case"end":return c.stop()}},null,this)}f.callWithExponentialBackoff=a}),66);
__d("DGWPinger",["DGWLoggingContext"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.$1=a,this.$4=b,this.$5=c,this.$3=!1}var b=a.prototype;b.$6=function(){var a=this;if(this.$3){var b;(b=d("DGWLoggingContext")).DGWLoggingContext.bumpODSKey(b.DGWLoggingComponent.PINGER,"timeout_fired.reset");this.$3=!1;this.$4();b.DGWLoggingContext.bumpODSKey(b.DGWLoggingComponent.PINGER,"timeout.newtimeout");this.$2=window.setTimeout(function(){a.$6()},this.$1)}else d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.PINGER,"timeout_fired.disconnect"),this.$5()};b.reset=function(){var a=this;this.$3=!0;this.$2&&(d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.PINGER,"reset"),window.clearTimeout(this.$2),this.$2=null);this.$1>0&&(d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.PINGER,"reset.newtimeout"),this.$2=window.setTimeout(function(){a.$6()},this.$1))};b.cancel=function(){this.$2&&(d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.PINGER,"canceled"),window.clearTimeout(this.$2),this.$2=null)};return a}();g.DGWPinger=a}),98);
__d("DGWStreamGroupCallbacks",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum")({TRANSPORT_SERVER_INTERNAL_ERROR:0,TRANSPORT_ABNORMAL_CLOSURE:1,TRANSPORT_GOING_AWAY:2,TRANSPORT_UNKNOWN_ERROR:3,TRANSPORT_KEEPALIVE_TIMEOUT:4,TRANSPORT_UNAUTHORIZED:5,TRANSPORT_REJECTED:6,TRANSPORT_BAD_REQUEST:7,TRANSPORT_DGW_SERVER_ERROR:8});function a(a){switch(a){case g.TRANSPORT_UNAUTHORIZED:return!1;default:return!0}}c=function(){function a(){}var b=a.prototype;b.onStreamGroupError=function(){};b.onStreamGroupMustDrain=function(){};b.onStreamGroupTransportClose=function(){};return a}();f.DGWStreamGroupError=g;f.isRetryableError=a;f.NoOpDGWStreamGroupCallbacks=c}),66);
__d("DGWTransportEvents",["DGWLoggingContext","NetworkStatus"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$3=a}var b=a.prototype;b.transportEstablished=function(){this.$3.logEvent(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"open"),this.$2=Date.now(),this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_group_establishment_success")};b.transportEstablishmentPending=function(){this.$1=Date.now(),this.$3.logEvent(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"transportPending",null,!0),this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_group_establishment_pending")};b.transportClosed=function(a,b){this.$4=Date.now(),a?(this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"transport_close_graceful"),this.$3.logEvent(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Transport closed gracefully",null,!0)):(this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"transport_close_with_error"),this.$3.logError(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Transport closed abnormally",b))};b.transportEstablishmentFailure=function(a){this.$3.logError(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"WebSocket transport establishment failure","WebSocket close code: "+a+" onLine:"+String(c("NetworkStatus").isOnline())),this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_group_establishment_failure")};b.streamEstablishmentTimeout=function(a,b,e){this.$3.logError(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Grouped Stream establishment timeout",a,"streamId:"+b+", onLine:"+String(c("NetworkStatus").isOnline()),!1,e),this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_establishment_timeout")};b.streamEstablishmentPending=function(a,b){this.$3.logEvent(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Grouped Stream establishment pending","streamId:"+a,!0,b),this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_establishment_pending")};b.streamEstablishmentSuccess=function(a,b){this.$3.logEvent(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Grouped Stream establishment success","streamId:"+a,!0,b),this.$3.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_establishment_success")};b.transportError=function(a,b,c){this.$3.logError(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,a,b,c)};b.receivedFrameForInactiveStream=function(a,b,c){this.$3.logWarn(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Frame received for inactive stream","frameType: "+a+", streamID: "+b,c)};b.ranOutOfStreamIds=function(a){this.$3.logWarn(d("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Hit max StreamId limit","Hit max StreamId limit",a)};return a}();g.DGWTransportEvents=a}),98);
__d("DGWWebSocketTransport",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=new WebSocket(a);a.binaryType="arraybuffer";a.onopen=function(){};a.onclose=function(){};a.onerror=function(){};return a}f.getWebSocketConnection=a}),66);
__d("DGWStreamEvents",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c){this.$4=new Map(),this.$5=new Map(),this.$6=a,this.$1=b,c!=null&&(this.$8="streamId:"+c+"::")}var b=a.prototype;b.dataSent=function(a,b,c){var d=c?"sendWithAckRequested":"sendWithoutAckRequested";this.$6.logEvent(this.$1,d,((d=this.$8)!=null?d:"")+"sendId:"+a+", payloadSize:"+b,!0);this.$4.set(a,{ackRequested:c,payloadSize:b,sendTimestamp:Date.now()})};b.ackReceived=function(a){var b;this.$6.logEvent(this.$1,"AckReceived",((b=this.$8)!=null?b:"")+"sendId:"+a,!0);this.$6.bumpODSKey(this.$1,"ack_received");b=this.$4.get(a);b!=null&&(b.ackReceivedTimestamp=Date.now())};b.ackSent=function(a){var b;this.$6.bumpODSKey(this.$1,"ack_sent");this.$6.logEvent(this.$1,"ACK sent",((b=this.$8)!=null?b:"")+"ackId:"+a,!0)};b.drainSent=function(a){var b;this.$6.logEvent(this.$1,"Drain sent",((b=this.$8)!=null?b:"")+"drainReason: "+a)};b.dataReceived=function(a,b,c){var d;this.$6.bumpODSKey(this.$1,"data_received");this.$6.logEvent(this.$1,"Data received",((d=this.$8)!=null?d:"")+"sendId:"+((d=c)!=null?d:"null")+", ackRequested:"+b.toString()+", payloadSize:"+a,!0);c!=null&&this.$5.set(c,{ackRequested:b,payloadSize:a,receiveTimestamp:Date.now()})};b.endOfDataReceived=function(){this.$6.bumpODSKey(this.$1,"end_of_data_received"),this.$6.logEvent(this.$1,"EndOfDataReceived",this.$8,!0)};b.endOfDataSent=function(){this.$6.bumpODSKey(this.$1,"end_of_data_sent"),this.$6.logEvent(this.$1,"EndOfDataSent",this.$8,!0)};b.streamClosed=function(a,b){this.$7=Date.now();var c=this.$9();if(a){this.$6.bumpODSKey(this.$1,"stream_closed_gracefully");this.$6.logEvent(this.$1,"Stream closed gracefully",""+((a=this.$8)!=null?a:"")+c)}else{this.$6.bumpODSKey(this.$1,"stream_closed_with_error");this.$6.logError(this.$1,"Stream closed abnormally",b,""+((a=this.$8)!=null?a:"")+c)}};b.connectionEstablishmentFailure=function(a){this.$6.logEvent(this.$1,"WebSocket connection establishment failure","WebSocket close code: "+a)};b.streamEstablishmentFailure=function(a,b){this.$6.logError(this.$1,"Failed to establish DGW Stream","Last seen error: "+a.toString(),""+((a=this.$8)!=null?a:"")+b);this.$6.bumpODSKey(this.$1,"stream_establishment_failure")};b.error=function(a,b){b={msg:b,state:this.$9()};this.$6.logError(this.$1,a,JSON.stringify(b),this.$8)};b.$9=function(){var a={currentNetworkCondition:window.navigator&&window.navigator.onLine===!0,establishRequestTimestamp:this.$2,establishedTimestamp:this.$3,streamClosedTimestamp:this.$7,sendHistory:JSON.stringify(Array.from(this.$4.entries())),receiveHistory:JSON.stringify(Array.from(this.$5.entries()))};return JSON.stringify(a)};return a}();f.DGWStreamEvents=a}),66);
__d("GroupedStream",["DGWAckManager","DGWConstants","DGWLoggingContext","DGWStream","DGWStreamEvents","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,e,f,g,h){this.$1=a,this.$3=!1,this.$4=!1,this.$5=!1,this.$6=b,this.$7=c,this.$8=e,this.$2=g,this.$9=f,this.$10=new(d("DGWAckManager").DGWAckManager)(this.$9),this.$12=new(d("DGWStreamEvents").DGWStreamEvents)(this.$9,d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,this.$1),this.$11=0,this.$13=h}var c=a.prototype;c.send=function(a,c){var e,f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:f=this.$11++%d("DGWConstants").MAX_ACK_ID;if(this.$14(a,!0,f)){h.next=3;break}return h.abrupt("return",!1);case 3:h.next=5;return b("regeneratorRuntime").awrap(this.$10.waitForAck(f,(e=c)!=null?e:d("DGWConstants").DEFAULT_ACK_TIMEOUT_MS));case 5:g=h.sent;return h.abrupt("return",g);case 7:case"end":return h.stop()}},null,this)};c.sendAndForget=function(a){return this.$14(a,!1)};c.close=function(){var a=this.$2.encodeEndOfData(this.$1);if(a==null){this.$9.logError(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to encode EndOfData","streamId: "+this.$1);return}a=this.$8.send(a);if(!a){this.$9.logError(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send EndOfData","streamId: "+this.$1+". StreamGroupTransport not open during send");return}this.$12.endOfDataSent();this.$5=!0;this.$4&&this.$15()};c.__sendDrain=function(a){var b=d("DGWConstants").drainReasonToDrainReasonString(a);if(this.$5)return!1;a=this.$2.encodeDrain(a);if(a==null)return!1;this.$12.drainSent(b);b=this.$8.send(a);return b};c.__transportCloseHook=function(a){this.$13(),this.$10.clearPendingAcks(),a?(this.$12.error("Received StreamError","StreamErrorType: "+a),this.$6.onError(a)):this.$5&&this.$4?this.$15():(this.$12.streamClosed(!1,"Stream closed: ClosedLocally: "+this.$5.toString()+", EndOfDataReceived: "+this.$4.toString()),this.$6.onError(d("DGWStream").StreamError.PREMATURE_CLOSE))};c.$15=function(){this.$13(),this.$12.streamClosed(!0,"Graceful close"),this.$6.onClose(this)};c.__dataReceivedHook=function(a,b){this.$12.dataReceived(a.length,b!=null,b),b!=null&&this.$16(b),this.$6.onDataReceived(a)};c.__ackReceivedHook=function(a){this.$12.ackReceived(a),this.$10.handleAckReceived(a)};c.__drainReceivedHook=function(a){this.$3===!1&&(this.$6.onStreamMustDrain(this,a),this.$3=!0)};c.__endOfDataHook=function(){this.$12.endOfDataReceived(),this.$4=!0,this.$5?this.$15():this.$6.onServerHasFinishedSendingData(this)};c.$14=function(a,b,c){b===void 0&&(b=!1);c===void 0&&(c=0);if(this.$5){this.$9.logError(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send data","Stream closed locally");return!1}a=this.$2.encodeData(a,b,c,this.$1);if(a==null)return!1;var e=this.$8.send(a);if(!e){this.$9.logError(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send data","ClosedLocally: "+this.$5.toString());return!1}this.$12.dataSent(c,a.length,b);return!0};c.$16=function(a){var b=this.$2.encodeAck(a,this.$1);if(b==null){this.$9.logError(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to encode ACK","ackId: "+a);return!1}b=this.$8.send(b);if(!b){this.$9.logError(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send ACK","ackId: "+a);return!1}this.$12.ackSent(a);return!0};return a}();g.GroupedStream=a}),98);
__d("StreamIdGenerator",["err"],(function(a,b,c,d,e,f,g){"use strict";var h=65535;a=function(){function a(){this.$1=new Set(),this.$2=-1}var b=a.prototype;b.getNextStreamId=function(){if(!this.streamIdAvailable())throw c("err")("Max number of stream IDs reached");return++this.$2};b.putBackStreamId=function(a){this.$1.add(a)};b.streamIdAvailable=function(){return this.$2<h};return a}();g.MAX_STREAM_ID=h;g.StreamIdGeneratorImpl=a}),98);
__d("StreamGroupWebSocketTransport",["DGWConstants","DGWExponentialBackoff","DGWLoggingContext","DGWPinger","DGWStream","DGWStreamGroupCallbacks","DGWTransportEvents","DGWUtils","DGWWebSocketTransport","GroupedStream","Promise","StreamIdGenerator","err","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,c,e,f){var g=this;this.groupedStream=a;this.$1=window.setTimeout(function(){c(d("DGWStream").StreamError.ESTABLISHMENT_TIMEOUT)},e);this.handleEstablishFrameReceived=function(){window.clearTimeout(g.$1),b(g.groupedStream)};this.abortStream=function(a){f(),c(a)}};a=function(){function a(b,e,f,g,h,i,j,k){var l=this;this.$14=h;this.$16=this.__getStreamIdGenerator();this.$5=new Map();this.$6=new Map();this.$7=g.keepAliveMs;this.$8=!1;this.$3=!0;this.$4=!1;this.$12=f;this.$10=new TextEncoder();this.$11=new TextDecoder();this.$13=g;h={onDataReceived:function(){},handleAckReceived:function(){},receivedDrainSignal:function(a){l.$13.streamGroupCallbacks.onStreamGroupMustDrain(a),l.$5.forEach(function(b){b.__drainReceivedHook(a)})},onGroupedStreamDataReceived:function(a,b,c){if(l.$5.has(a)){var d=l.$5.get(a);d==null?void 0:d.__dataReceivedHook(b,c)}else{l.$12.receivedFrameForInactiveStream("Data",a,"sendAckID: "+((d=c)!=null?d:"null"))}},onGroupedStreamAckReceived:function(a,b){if(l.$5.has(a)){var c=l.$5.get(a);c==null?void 0:c.__ackReceivedHook(b)}else{l.$12.receivedFrameForInactiveStream("ACK",a,"ackId: "+((c=b)!=null?c:"null"))}},onGroupedStreamEndOfDataReceived:function(a){if(l.$5.has(a)){var b=l.$5.get(a);b==null?void 0:b.__endOfDataHook()}else l.$12.receivedFrameForInactiveStream("EndOfData",a)},onGroupedStreamEstablishStreamReceived:function(a,b){if(l.$6.has(a)){var c=l.$6.get(a);l.$6["delete"](a);b=JSON.parse(l.$11.decode(b));(b.code===void 0||b.code!==200)&&(c==null?void 0:c.abortStream(d("DGWStream").StreamError.ABNORMAL_CLOSURE));c==null?void 0:c.handleEstablishFrameReceived()}else l.$12.receivedFrameForInactiveStream("EstablishStream",a,"EstablishStream received for non-inflight stream")},onPingReceived:function(){var a=l.$2.encodePing();if(a==null)return;l.send(a)},onPongReceived:function(){}};this.$2=new(d("DGWUtils").DGWCodec)(i,h,g.dgwVersion);if(g.enableFirstStreamOnWsHandshake){if(j===void 0)throw c("err")("Missing grouped stream options");if(k===void 0)throw c("err")("Missing grouped stream callbacks");var m=this.$16.getNextStreamId();f=this.createEstablishStreamFrame(m,j);h=d("DGWUtils").DGWUtils.constructConnectUrl({appId:g.appId,appVersion:g.appVersion,authType:g.authType,deviceId:(i=g.deviceId)!=null?i:void 0,dgwVersion:g.dgwVersion,fbId:g.fbId,tier:g.tier,loggingId:(h=g.loggingId)!=null?h:void 0,headers:a.__prefixAppHeaders(g.headers),endpoint:g.connectEndpoint,serviceId:g.serviceId,regionHint:(i=g.regionHint)!=null?i:void 0,establishStreamFrame:f});this.$1=e(h);if(!h.includes(d("DGWConstants").HEADER_CONSTANTS.HEADER_ESTABLISH_STREAM_FRAME_BASE64))return;this.$15=this.waitForEstablishStream(m,k,j,new(d("DGWLoggingContext").DGWLoggingContext)(this.$13.dgwVersion,j.loggingId,this.$13.serviceId,this.$13.fbId,this.$13.loggingId,j.disableFalcoLogging),function(a){l.$5.set(m,a)},function(){l.$16.putBackStreamId(m)})}else this.$1=e(b)}var e=a.prototype;e.send=function(a){try{this.$1.send(a);return!0}catch(a){this.$12.transportError("Failed to send over transport","readyState: "+this.$1.readyState,a.toString());return!1}};e.close=function(){this.$1.close(d("DGWConstants").WebsocketCloseCodes.GRACEFUL_CLOSE)};e.abort=function(a,b,c,d){this.$8=!0,this.$12.transportClosed(!1,d),this.$5.forEach(function(a){a.__transportCloseHook(b)}),this.$6.forEach(function(a){a.abortStream(b)}),this.$13.streamGroupCallbacks.onStreamGroupError(a),this.$5.clear(),this.$6.clear(),this.$1.close(c)};e.cleanup=function(){var a;(a=this.$9)==null?void 0:a.cancel();this.$1!=null&&(this.$1.onopen=function(a){},this.$1.onmessage=function(a){},this.$1.onerror=function(a){},this.$1.onclose=function(a){},this.$1.close())};a.getTransportWithInitialStream=function(c,e,f,g,h){var i,j,k,l;return b("regeneratorRuntime").async(function(m){while(1)switch(m.prev=m.next){case 0:m.next=2;return b("regeneratorRuntime").awrap(d("DGWUtils").DGWCodec.initialize());case 2:i=new(d("DGWTransportEvents").DGWTransportEvents)(g);i.transportEstablishmentPending();j=function(){return a.$17("",f,i,h,g,c,e)};m.prev=5;m.next=8;return b("regeneratorRuntime").awrap(d("DGWExponentialBackoff").callWithExponentialBackoff(j));case 8:k=m.sent;l=k.$15!=null?k.$15:k.establishGroupedStream(e,c,new(d("DGWLoggingContext").DGWLoggingContext)(f.dgwVersion,c.loggingId,f.serviceId,f.fbId,f.loggingId,c.disableFalcoLogging));return m.abrupt("return",{transport:k,streamPromise:l});case 13:m.prev=13;m.t0=m["catch"](5);throw m.t0;case 16:case"end":return m.stop()}},null,this,[[5,13]])};a.getTransport_DEPRECATED=function(c,e,f,g,h){var i,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:k.next=2;return b("regeneratorRuntime").awrap(d("DGWUtils").DGWCodec.initialize());case 2:i=new(d("DGWTransportEvents").DGWTransportEvents)(f);i.transportEstablishmentPending();j=function(){return a.$17(c,e,i,g,f)};k.prev=5;k.next=8;return b("regeneratorRuntime").awrap(d("DGWExponentialBackoff").callWithExponentialBackoff(j,h));case 8:return k.abrupt("return",k.sent);case 11:k.prev=11;k.t0=k["catch"](5);throw k.t0;case 14:case"end":return k.stop()}},null,this,[[5,11]])};e.establishGroupedStream=function(a,d,e){var f=this,g,h,i,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:g=this.getStreamId();h=this.createEstablishStreamFrame(g,d);i=this.waitForEstablishStream(g,a,d,e,function(a){f.$5.set(g,a)},function(){f.$16.putBackStreamId(g)});if(this.send(h)){k.next=5;break}throw c("err")("Websocket connection closed before stream established");case 5:k.next=7;return b("regeneratorRuntime").awrap(i);case 7:j=k.sent;return k.abrupt("return",j);case 9:case"end":return k.stop()}},null,this)};a.__prefixAppHeaders=function(a){return Object.keys(a).reduce(function(b,c){b[""+d("DGWConstants").HEADER_CONSTANTS.APPHEADER_PREFIX+c]=a[c];return b},{})};e.waitForEstablishStream=function(a,c,d,e,f,g){var j=this,k,l;return b("regeneratorRuntime").async(function(m){while(1)switch(m.prev=m.next){case 0:this.$12.streamEstablishmentPending(a,d.loggingId);k=this.__createGroupedStream(a,c,d,e);m.prev=2;m.next=5;return b("regeneratorRuntime").awrap(new(h||(h=b("Promise")))(function(b,c){j.$6.set(a,new i(k,b,c,3e4,function(){j.streamEndCallback(a)}))}));case 5:l=m.sent;f(k);this.$12.streamEstablishmentSuccess(a,d.loggingId);return m.abrupt("return",l);case 11:m.prev=11;m.t0=m["catch"](2);g();this.$12.streamEstablishmentTimeout("Stream establishment timeout",a,d.loggingId);throw m.t0;case 16:case"end":return m.stop()}},null,this,[[2,11]])};a.$17=function(c,e,f,g,h,i,j){var k,l;return b("regeneratorRuntime").async(function(m){while(1)switch(m.prev=m.next){case 0:k=new a(c,d("DGWWebSocketTransport").getWebSocketConnection,f,e,g,h,i,j);k.$1.onmessage=a.$18(k);k.$1.onopen=function(){f.transportEstablished(),k.$3=!1,k.$7!=null&&(k.$9=new(d("DGWPinger").DGWPinger)(k.$7,function(){k.$19()},function(){k.abort(d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_KEEPALIVE_TIMEOUT,d("DGWStream").StreamError.KEEPALIVE_TIMEOUT,d("DGWConstants").WebsocketCloseCodes.KEEPALIVE_TIMEOUT,"Aborting transport because of keepalive timeout")}))};k.$1.onerror=function(){};k.$1.onclose=a.$20(k);m.next=7;return b("regeneratorRuntime").awrap(a.getTransportPromise(k));case 7:l=m.sent;return m.abrupt("return",l);case 9:case"end":return m.stop()}},null,this)};a.getTransportPromise=function(a){var c;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(new(h||(h=b("Promise")))(function(b,c){var e=a.$1.onerror,f=a.$1.onopen;a.$1.onerror=function(){window.clearTimeout(g),e(),c(d("DGWStream").StreamError.ESTABLISHMENT_ERROR)};a.$1.onopen=function(){window.clearTimeout(g),f(),b(a)};var g=window.setTimeout(function(){a.cleanup(),c(d("DGWStream").StreamError.ESTABLISHMENT_TIMEOUT)},2e4)}));case 2:c=e.sent;return e.abrupt("return",c);case 4:case"end":return e.stop()}},null,this)};a.$18=function(a){return function(b){var c;(c=a.$9)==null?void 0:c.reset();if(!(b.data instanceof ArrayBuffer)){a.$12.transportError("Incorrect Data Protocol","Received "+typeof b.data+" instead of ArrayBuffer");return}a.$2.append(new Uint8Array(b.data));a.$2.processData()}};a.$20=function(a){return function(b){var c;(c=a.$9)==null?void 0:c.cancel();if(a.$8===!0||a.$4)return;if(a.$3===!0){a.$12.transportEstablishmentFailure(b.code);a.$5.clear();return}a.$14();a.$3=!0;if(b.code!==d("DGWConstants").WebsocketCloseCodes.GRACEFUL_CLOSE){a.$12.transportClosed(!1,"Websocket connection failure with code "+b.code);c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_UNKNOWN_ERROR;var e=d("DGWStream").StreamError.UNKNOWN_ERROR;switch(b.code){case d("DGWConstants").WebsocketCloseCodes.NORMAL_CLOSURE:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_ABNORMAL_CLOSURE;e=d("DGWStream").StreamError.ABNORMAL_CLOSURE;break;case d("DGWConstants").WebsocketCloseCodes.ABNORMAL_CLOSURE:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_ABNORMAL_CLOSURE;e=d("DGWStream").StreamError.ABNORMAL_CLOSURE;break;case d("DGWConstants").WebsocketCloseCodes.SERVER_INTERNAL_ERROR:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_SERVER_INTERNAL_ERROR;e=d("DGWStream").StreamError.SERVER_INTERNAL_ERROR;break;case d("DGWConstants").WebsocketCloseCodes.GOING_AWAY:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_GOING_AWAY;e=d("DGWStream").StreamError.GOING_AWAY;break;case d("DGWConstants").WebsocketCloseCodes.UNAUTHORIZED:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_UNAUTHORIZED;e=d("DGWStream").StreamError.UNAUTHORIZED;break;case d("DGWConstants").WebsocketCloseCodes.REJECTED:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_REJECTED;e=d("DGWStream").StreamError.REJECTED;break;case d("DGWConstants").WebsocketCloseCodes.BAD_REQUEST:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_BAD_REQUEST;e=d("DGWStream").StreamError.BAD_REQUEST;break;case d("DGWConstants").WebsocketCloseCodes.DGW_SERVER_ERROR:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_SERVER_INTERNAL_ERROR;e=d("DGWStream").StreamError.DGW_SERVER_ERROR;c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_DGW_SERVER_ERROR;break;default:c=d("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_UNKNOWN_ERROR;e=d("DGWStream").StreamError.UNKNOWN_ERROR;break}a.$13.streamGroupCallbacks.onStreamGroupError(c);a.$5.forEach(function(a){a.__transportCloseHook(e)});a.$6.forEach(function(a){a.abortStream(e)})}else a.$12.transportClosed(!0,""),a.$13.streamGroupCallbacks.onStreamGroupTransportClose(),a.$5.forEach(function(a){a.__transportCloseHook()}),a.$6.forEach(function(a){a.abortStream(d("DGWStream").StreamError.TRANSPORT_CLOSED_BEFORE_STREAM_INIT)});a.$5.clear();a.$6.clear()}};e.$19=function(){var a=this.$2.encodePing();if(a==null)throw c("err")("Failed to encode Ping Frame");this.send(a)};e.isClosedLocally=function(){return this.$3||this.$8||this.$4};e.streamEndCallback=function(a){this.$5["delete"](a),this.$6["delete"](a),this.$16.putBackStreamId(a)};e.canCreateGroupedStream=function(){return this.$16.streamIdAvailable()};e.createEstablishStreamFrame=function(b,d){d=this.$2.encodeEstablishStream(b,new Uint8Array(this.$10.encode(JSON.stringify(a.__prefixAppHeaders(d.groupedStreamHeaders)))));if(d==null){this.$16.putBackStreamId(b);throw c("err")("Failed to encode EstablishStreamFrame")}return d};e.getStreamId=function(){try{return this.$16.getNextStreamId()}catch(a){this.$12.ranOutOfStreamIds("inFlightGroupedStreamSize: "+this.$6.size+" groupedStreamSize: "+this.$5.size);throw a}};e.__createGroupedStream=function(a,b,c,e){var f=this;return new(d("GroupedStream").GroupedStream)(a,b,c,this,e,this.$2,function(){f.streamEndCallback(a)})};e.__getStreamIdGenerator=function(){return new(d("StreamIdGenerator").StreamIdGeneratorImpl)()};return a}();g.StreamGroupWebSocketTransport=a}),98);
__d("StreamGroup",["DGWConstants","DGWLoggingContext","DGWUtils","StreamGroupWebSocketTransport","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,e,f,g,h,i,j){this.$2=j;this.$1=j.getNewStreamGroupId();j=(j=h.overrideUrl)!=null?j:f;this.$5=null;this.$3={appId:a,appVersion:b,authType:c,deviceId:h.deviceId,dgwVersion:e,headers:h.streamGroupAppHeaders,tier:(f=h.serviceTier)!=null?f:d("DGWConstants").DEFAULT_SERVICE_TIER,connectEndpoint:j,fbId:g,loggingId:h.loggingId,serviceId:h.serviceId,streamGroupCallbacks:i,keepAliveMs:h.keepAliveMs,regionHint:h.regionHint,enableFirstStreamOnWsHandshake:!1};this.$4=h;this.streamGroupLoggingContext=new(d("DGWLoggingContext").DGWLoggingContext)(this.$3.dgwVersion,null,this.$3.serviceId,this.$3.fbId,this.$4.loggingId,!1,(a=h.verboseLoggingEnabled)!=null?a:!1);this.$6=d("DGWUtils").DGWUtils.constructConnectUrl({appId:this.$3.appId,appVersion:this.$3.appVersion,authType:this.$3.authType,deviceId:(b=this.$3.deviceId)!=null?b:void 0,dgwVersion:this.$3.dgwVersion,fbId:this.$3.fbId,headers:babelHelpers["extends"]({},this.$3.headers),loggingId:(c=this.$3.loggingId)!=null?c:void 0,tier:this.$3.tier,serviceId:this.$3.serviceId,endpoint:this.$3.connectEndpoint,regionHint:(e=this.$3.regionHint)!=null?e:void 0})}var c=a.prototype;c.initTransport=function(){var a=this,c,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:c={maxRetries:0,baseRetryInterval:1e3,backoffFactor:Math.sqrt(2)};this.$5=this.$5||d("StreamGroupWebSocketTransport").StreamGroupWebSocketTransport.getTransport_DEPRECATED(this.$6,this.$3,this.streamGroupLoggingContext,function(){a.$2.removeStreamGroupAndTransport(a.$1)},c);f.prev=2;f.next=5;return b("regeneratorRuntime").awrap(this.$5);case 5:e=f.sent;this.$5=null;f.next=13;break;case 9:f.prev=9;f.t0=f["catch"](2);this.$5=null;throw f.t0;case 13:this.$2.containsStreamGroup(this.$1)||this.$2.setStreamGroupAndTransport(this.$1,e);return f.abrupt("return",e);case 15:case"end":return f.stop()}},null,this,[[2,9]])};c.establishStream=function(a,c){var e=this,f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:if(!(this.$2.containsStreamGroup(this.$1)===!1)){h.next=22;break}if(this.$3.enableFirstStreamOnWsHandshake){h.next=17;break}this.$5=this.$5||d("StreamGroupWebSocketTransport").StreamGroupWebSocketTransport.getTransport_DEPRECATED(this.$6,this.$3,this.streamGroupLoggingContext,function(){e.$2.removeStreamGroupAndTransport(e.$1)});h.prev=3;h.next=6;return b("regeneratorRuntime").awrap(this.$5);case 6:f=h.sent;this.$5=null;h.next=14;break;case 10:h.prev=10;h.t0=h["catch"](3);this.$5=null;throw h.t0;case 14:this.$2.containsStreamGroup(this.$1)||this.$2.setStreamGroupAndTransport(this.$1,f);h.next=22;break;case 17:h.next=19;return b("regeneratorRuntime").awrap(d("StreamGroupWebSocketTransport").StreamGroupWebSocketTransport.getTransportWithInitialStream(a,c,this.$3,this.streamGroupLoggingContext,function(){e.$2.removeStreamGroupAndTransport(e.$1)}));case 19:g=h.sent;this.$2.setStreamGroupAndTransport(this.$1,g.transport);return h.abrupt("return",g.streamPromise);case 22:return h.abrupt("return",this.establishStreamWithTransport(a,c));case 23:case"end":return h.stop()}},null,this,[[3,10]])};c.establishStreamWithTransport=function(a,c){var e,f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:f=a.loggingId;this.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"Establishing Grouped Stream",null,!0,f);h.next=4;return b("regeneratorRuntime").awrap(this.$2.getStreamGroupTransport(this.$1).establishGroupedStream(c,a,new(d("DGWLoggingContext").DGWLoggingContext)(this.$3.dgwVersion,f,this.$3.serviceId,this.$3.fbId,this.$3.loggingId,a.disableFalcoLogging,(e=a.verboseLoggingEnabled)!=null?e:!1)));case 4:g=h.sent;return h.abrupt("return",g);case 6:case"end":return h.stop()}},null,this)};c.canCreateGroupedStream=function(){var a=!0;if(this.$2.containsStreamGroup(this.$1)!==!1){var b=this.$2.getStreamGroupTransport(this.$1);a=b.canCreateGroupedStream()}d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,a?"can_create":"cannot_create");return a};c.close=function(){var a=this.$2.getStreamGroupTransport(this.$1);a.close()};return a}();g.StreamGroup=a}),98);
__d("StreamGroupRegistry",["Random","err"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=new Map(),this.$2=new Set()}var b=a.prototype;b.setStreamGroupAndTransport=function(a,b){this.$1.set(a,b)};b.containsStreamGroup=function(a){return this.$1.has(a)};b.removeStreamGroupAndTransport=function(a){this.$1["delete"](a)};b.getStreamGroupTransport=function(a){a=this.$1.get(a);if(a==null)throw c("err")("No stream group transport");return a};b.getNewStreamGroupId=function(){var a=d("Random").uint32();while(this.$2.has(a))a=d("Random").uint32();this.$2.add(a);return a};return a}();g.StreamGroupRegistry=a}),98);
__d("RawDGWClient",["CurrentUser","DGWLoggingContext","DGWStream","StreamGroup","StreamGroupRegistry","isFastRefreshEnabledForCurrentDomain","justknobx"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.appId,c=a.appVersion,e=a.authType,f=a.dgwVersion,g=a.endpoint;a=a.fbId;this.$1=b;this.$2=c;this.$3=e;this.$4=f;this.$5=g;this.$6=a;this.$7=new(d("StreamGroupRegistry").StreamGroupRegistry)()}var b=a.prototype;b.createStreamGroup=function(a,b){c("justknobx")._("1023")&&this.handleUserChecks();return new(d("StreamGroup").StreamGroup)(this.$1,this.$2,this.$3,this.$4,this.$5,this.$6,b,a,this.$7)};b.handleUserChecks=function(){if(!c("CurrentUser").isLoggedInNow()&&!c("isFastRefreshEnabledForCurrentDomain")()){d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.RAW_CLIENT,"unauthenticated");throw d("DGWStream").StreamError.UNAUTHENTICATED}};return a}();g.RawDGWClient=a}),98);
__d("DGWClient",["DGWAuth","DGWEnvUtil","DGWWebConfig","RawDGWClient","err"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("RawDGWClient").RawDGWClient)({appId:c("DGWWebConfig").appId,appVersion:c("DGWWebConfig").appVersion,authType:d("DGWAuth").fromStringToDGWAuth(c("DGWEnvUtil").getDGWAuthType()),dgwVersion:c("DGWEnvUtil").getDGWVersion(),endpoint:c("DGWEnvUtil").getDGWEndpoint(),fbId:c("DGWWebConfig").fbId});function a(){if(c("DGWEnvUtil").isDGWEnvCompatible())return h;else throw c("err")("unsupported_environment_retry_with_mqtt")}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("ACTSanitizerApiTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Valid:0,UrlFailure:1,MessageTextFailure:2,CtaFailure:3});f.ACTSanitizerValidationResult=a}),66);
__d("ArmadilloDataTraceType",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("I64")).of_string("13");g.armadilloMessageSend=a}),98);
__d("IGDInstamadilloUtils",["ExecutionEnvironment","LSThreadBitOffset","gkx","isInstamadillo","qex"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return(a==null?void 0:a.transportKey)==="Instamadillo"}function j(a){return a==null?!1:d("LSThreadBitOffset").has(214,a)}function a(a){return a==null?!1:d("LSThreadBitOffset").has(212,a)}function k(a){return a==null?!1:d("LSThreadBitOffset").has(38,a)}function b(a){return a==null?!1:d("LSThreadBitOffset").has(211,a)}function e(a){var b=k(a);a=j(a);b=b&&l();a=a&&c("qex")._("426")===!0;return b||a}function l(){return c("gkx")("32941")&&c("qex")._("1377")===!0}function f(a,b){a=i(a)&&a.ephemeralExpirationTs!=null;return b&&a||!b&&!a}function m(a){a=i(a);return!a?!0:c("isInstamadillo")()}function n(){return c("qex")._("675")===!0||c("qex")._("676")===!0}var o=function(){var a={browser:(h||(h=c("ExecutionEnvironment"))).isInBrowser,isLegacyArmadilloTLC:c("qex")._("121")===!0,isMobileDM:c("gkx")("2553"),isMobileInstamadilloTLC:c("gkx")("2322"),isMobileOrWebTTLC:c("gkx")("2406"),isWebTTLC:c("qex")._("954")===!0,sharedWorker:h.isInSharedWorker,worker:h.isInWorker},b="";a=Object.entries(a);for(var d=0;d<a.length;d++){var e=a[d],f=e[0];e=e[1];b+=f+": "+String(e)+"\n"}return b};g.isInstamadilloMessage=i;g.isInstamadilloCutover=j;g.isInstamadilloDMToggleEnabled=a;g.isIGDDisappearingModeEnabled=k;g.isInstamadilloTransportEnabled=b;g.isInstamadilloHardblockEnabled=e;g.isDMHardblockedEnabled=l;g.shouldRenderMessageReply=f;g.canMutateIGDMessage=m;g.isInstamadilloSecurityAlertsEnabled=n;g.getE2EEGatingStateAsString=o}),98);
__d("LSDataTraceCheckPoint",[],(function(a,b,c,d,e,f){a=Object.freeze({CLIENT_DB_OUTBOUND:1,CLIENT_NETWORK_OUTBOUND:2,CLIENT_NETWORK_INBOUND:10,CLIENT_DB_INBOUND:11,CLIENT_EVALUATE_DASM:12,CLIENT_APP_STATE_CHANGE:13,CLIENT_CREATE_TASK:20,CLIENT_RECIPIENT_PRESENCE:21,CLIENT_EVALUATE_DASM_BEGIN:22,MQTT_PUBLISH:30,MQTT_PUBLISH_ACK:31,MQTT_DISCONNECTED:32,MQTT_CONNECTING:33,MQTT_CONNECTED:34,MQTT_CONNECTION_ACKED:35,TINCAN_RECEIVE_MESSAGE:36,TINCAN_RECEIVE_DECRYPTION_COMPLETE:37,TINCAN_RECEIVE_DECRYPTION_FAILED:38,TINCAN_RECEIVE_DR_QUEUED:39,TINCAN_RECEIVE_DR_SENT_TO_NETWORK:40,TINCAN_RECEIVE_DR_PUBLISH_TO_MQTT:41,TINCAN_RECEIVE_DRMQTT_PUBACK:42,TINCAN_RECEIVE_BOUNCE_TASK_QUEUED:43,TINCAN_RECEIVE_BOUNCE_TASK_SENT_TO_NETWORK:44,TINCAN_RECEIVE_BOUNCE_TASK_PUBLISH_TO_MQTT:45,RICH_MEDIA_DOWNLOAD_START:50,RICH_MEDIA_DOWNLOAD_END:51,RICH_MEDIA_DOWNLOAD_ERROR:52,RICH_MEDIA_UPLOAD_START:53,ARMADILLO_ACT:60,ARMADILLO_ACT_TASK_PICK:61,ARMADILLO_ACT_SERIALIZE:62,ARMADILLO_ACT_GROUP_SEND:63,ARMADILLO_ACT_SEND_FAILURE:64,ARMADILLO_ACT_MESSAGE_SEND:65,NETWORK_DISCONNECTED:70,NETWORK_CONNECTED:71,NETWORK_UNKNOWN:72,FLOW_CREAT:80,FLOW_END:81,FLOW_INTERRUPTED:82,FLOW_CONNECT_ID:83,FLOW_END_AND_FLUSH:84,FLOW_END_FOR_FAILURE:85,TRACE_CREATED:98,CLIENT_READY_TO_FLUSH:99,PENDING_DELTA:100,NO_PENDING_DELTA:101,INIT_SYNC:102,RESNAPSHOT:103,CATCH_UP:104,PERIODIC_SYNC:105,CATCH_UP_FROM_REVISION:106,RESNAPSHOT_CONTINUE:107,RESNAPSHOT_END:108,PERIODIC_SYNC_CONTINUE:109,PERIODIC_SYNC_END:110,CONTACT_SYNC_OPTIMISTIC:111,CONTACT_SYNC_FROM_OMNISTORE:112,CONTACT_SYNC_TAM_OPTIMISTC:113,CONTACT_SYNC_TAM_FROM_OMNISTORE:114,CONTACT_SYNC_TAM_ERROR:115,VERIFY_USER_FOR_SYNC:116,SNAPSHOT_START:117,SNAPSHOT_CONTINUE:118,SNAPSHOT_END:119,FETCH_DELTA:120,DELTA_SUMMARY:130,RECEIVE_DELIVERY_RECEIPT:200,TASK_DESERIALIZATION_ERROR:201,OPTIMISIC_MESSAGE_FAILED:202,SEND_SERVER_AUTHORITATIVE:203,THREAD_RANGE_QUERY_COMPLETE:204,THREAD_RANGE_QUERY_FAILURE:205,THREAD_POINT_QUERY_COMPLETE:206,SEND_SERVER_PARTIAL:207,MARK_AS_OPTIMISTIC_SENT:208,XMS_TRANSPORT_MESSAGE_SEND_START:300,XMS_TRANSPORT_MESSAGE_SEND_FAIL:301,SKIP_TASK_DISPATCH:900,ADVANCED_CRYPTO_MEM_ENCRYPT_TASK_START:1200,ADVANCED_CRYPTO_MEM_ENCRYPT_TASK_COMPLETE:1201,ADVANCED_CRYPTO_MEM_WA_PUBLISH:1202,ADVANCED_CRYPTO_MEM_PUBLISH_ACK:1203,ADVANCED_CRYPTO_MEM_SEND_TASK_COMPLETE:1204,ADVANCED_CRYPTO_MEM_WA_CONNECTION_DISCONNECTED:1205,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTING:1206,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTED:1207,ADVANCED_CRYPTO_MEM_FAILURE:1208,ADVANCED_CRYPTO_MEM_SEND_SUCCESS_WITH_RETRY:1209,ADVANCED_CRYPTO_MEM_DELIVERY_RECEIPT_RECEIVED:1210,ADVANCED_CRYPTO_REGISTRATION_CAT_DISK_FETCH_START:1211,ADVANCED_CRYPTO_REGISTRATION_CAT_DISK_FETCH_END:1212,ADVANCED_CRYPTO_REGISTRATION_CAT_NETWORK_FETCH_START:1213,ADVANCED_CRYPTO_REGISTRATION_CAT_NETWORK_FETCH_RETRYSTART:1214,ADVANCED_CRYPTO_REGISTRATION_CAT_NETWORK_FETCH_END:1215,ADVANCED_CRYPTO_REGISTRATION_WA_REQUEST_SEND_START:1216,ADVANCED_CRYPTO_REGISTRATION_WA_REQUEST_SEND_END:1217,ADVANCED_CRYPTO_REGISTRATION_WCR_REGISTER:1218,ADVANCED_CRYPTO_REGISTRATION_SAVE_WA_DEVICE_ID_ERROR:1219,ADVANCED_CRYPTO_MEM_DEVICE_FETCH_START:1220,ADVANCED_CRYPTO_MEM_DEVICE_FETCH_END:1221,ADVANCED_CRYPTO_MEM_ENCRYPTION_BEGIN:1222,ADVANCED_CRYPTO_MEM_ENCRYPTION_END:1223,ADVANCED_CRYPTO_MEM_ENCRYPTION_DEVICE_COUNT:1224,ADVANCED_CRYPTO_DUAL_SEND:1225,ADVANCED_CRYPTO_REGISTRATION_SERVER_SUCCESS:1226,ADVANCED_CRYPTO_REGISTRATION_RETRY_REGISTER:1227,ADVANCED_CRYPTO_REGISTRATION_CAT_NULL:1228,ADVANCED_CRYPTO_REGISTRATION_WCR_MANAGER_NULL:1229,ADVANCED_CRYPTO_REGISTRATION_RESPONSE_NULL:1230,ADVANCED_CRYPTO_REGISTRATION_SELF_NULL:1231,ADVANCED_CRYPTO_REGISTRATION_EMPTY_DEVICE_ID:1232,ADVANCED_CRYPTO_REGISTRATIONRETRY_REGISTER_FAILURE:1233,ADVANCED_CRYPTO_GROUP_DUAL_SEND:1234,RAVEN_IMAGE_MESSAGE:1235,RAVEN_VIDEO_MESSAGE:1236,ADVANCED_CRYPTO_REGISTRATION_RETRY_REGISTER_CAT:1237,ADVANCED_CRYPTO_REGISTRATION_RETRY_REGISTER_NETWORK:1238,ADVANCED_CRYPTO_CAT_DISK_FETCH_CAT_INVALID:1239,ADVANCED_CRYPTO_RECONNECT_GENERIC_ERROR:1240,ADVANCED_CRYPTO_RECONNECT_CAT_INVALID:1241,ADVANCED_CRYPTO_RECONNECT_CAT_EXPIRED:1242,ADVANCED_CRYPTO_CAT_MEMORY_FETCH_NULL:1243,ADVANCED_CRYPTO_FIRST_CONNECTION_START:1244,LABYRINTH_INITIALIZE_BACKUP_SPROC:1400,LABYRINTH_INITIALIZE_BACKUP_SUCCESS_SPROC:1401,LABYRINTH_INITIALIZE_BACKUP_FAILURE:1402,LABYRINTH_CREATE_BACKUP_MAILBOX_SPROC:1403,LABYRINTH_HANDLE_CREATE_BACKUP_MAILBOX_SUCCESS_SPROC:1404,LABYRINTH_OPEN_EPOCH_SPROC:1405,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC:1406,LABYRINTH_HANDLER_OPEN_EPOCH_FAILURE_SPROC:1407,LABYRINTH_CREATE_VIRTUAL_DEVICE_SPROC:1410,LABYRINTH_HANDLE_CREATE_VIRTUAL_DEVICE_SUCCESS_SPROC:1411,LABYRINTH_HANDLE_CREATE_VIRTUAL_DEVICE_FAILURE_SPROC:1412,LABYRINTH_ADD_DEVICE_SPROC:1413,LABYRINTH_ADD_DEVICE_FROM_VIRTUAL_SPROC:1414,LABYRINTH_HANDOLE_WRONG_RECOVERY_CODE_SPROC:1415,LABYRINTH_HANDLE_ADD_DEVICE_SUCCESS_SPROC:1416,LABYRINTH_HANDLE_ADD_DEVICE_FAILURE_SPROC:1417,LABYRINTH_ADD_DEVICE_SPROC_ADD_DEVICE_ALREADY_PENDING:1600,LABYRINTH_ADD_DEVICE_SPROC_UPDATE_RECOVERY_DATA_TABLE_START:1601,LABYRINTH_ADD_DEVICE_SPROC_ADD_DEVICE_NO_VD_TABLE:1602,LABYRINTH_ADD_DEVICE_SPROC_GENERATE_RECOVERY_SECRETS_START:1603,LABYRINTH_ADD_DEVICE_SPROC_WRONG_RC:1604,LABYRINTH_ADD_DEVICE_SPROC_NULL_VD:1605,LABYRINTH_ADD_DEVICE_SPROC_NO_RC_STATUS_TABLE_FOUND:1606,LABYRINTH_ADD_DEVICE_SPROC_ISSUE_FETCH_VD_TASK:1607,LABYRINTH_ADD_DEVICE_SPROC_SUCCESS:1608,LABYRINTH_INITIALIZE_RESTORE_SPROC:1418,LABYRINTH_DECRYPT_THREADS_SPROC:1419,LABYRINTH_REQUEST_MESSAGES_FROM_THREADS_SPROC:1420,LABYRINTH_REQUEST_MESSAGES_FROM_RANGE_QUERY_SPROC:1421,LABYRINTH_DECRYPT_MESSAGES_SPROC:1422,LABYRINTH_DELETE_BACKUP_ON_CLIENT_SPROC:1423,LABYRINTH_DELETE_BACKUPS_SPROC:1424,LABYRINTH_HANDLE_DELETE_MAILBOX_SPROC:1425,LABYRINTH_ISSUE_DELETE_BACKUP_TASK_SPROC:1426,LABYRINTH_BACKUP_UPLOAD_BEGIN:1427,LABYRINTH_BACKUP_UPLOAD_SUCCESS_SPROC:1428,LABYRINTH_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC:1429,LABYRINTH_QR_INIT_ADD_DEVICE_SPROC:1430,LABYRINTH_QR_INIT_ADD_DEVICE_SUCCESS_SPROC:1431,LABYRINTH_QR_INIT_GET_SECRETS_SPROC:1433,LABYRINTH_QR_FINISH_ADD_PEER_DEVICE_SPROC:1434,LABYRINTH_SYNC_EPOCHS_STORED_PROCEDURE_SPROC:1436,LABYRINTH_SYNC_EPOCHS_SUCCESS_SPROC:1437,LABYRINTH_SYNC_EPOCHS_FORWARD_DERIVATION_END:1438,LABYRINTH_SYNC_EPOCHS_BACKWARD_DERIVATION_END:1439,LABYRINTH_SYNC_EPOCHS_OPEN_NEW_EPOCH:1440,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC:1441,LABYRINTH_PREPARE_OPEN_EPOCH_SUCCESS_SPROC:1442,LABYRINTH_MEB_MANAGER_ADD_DEVICE:1443,LABYRINTH_BACKUP_UPLOAD_FAIL:1450,LABYRINTH_DECRYPT_SINGLE_MESSAGE_SPROC:1498,LABYRINTH_DECRYPT_SINGLE_MESSAGE_SUCCESS:1499,LABYRINTH_MEDIA_BACKUP_START:1455,LABYRINTH_MEDIA_BACKUP_SUCCESS:1456,LABYRINTH_MEDIA_BACKUP_FAILURE:1458,LABYRINTH_MEDIA_RESTORE_START:1459,LABYRINTH_MEDIA_RESTORE_SUCCESS:1460,LABYRINTH_MEDIA_RESTORE_FAILURE:1462,LABYRINTH_REMOVE_VIRTUAL_DEVICE_SPROC:1484,LABYRINTH_HANDLE_REMOVE_VIRTUAL_DEVICE_RESULT_SUCCESS:1485,LABYRINTH_HANDLE_REMOVE_VIRTUAL_DEVICE_RESULT_FAILURE:1486,LABYRINTH_REMOVE_VIRTUAL_DEVICE_BACKUP_NOT_FOUND:1493,LABYRINTH_REMOVE_VIRTUAL_DEVICE_WRITE_TASK:1494,LABYRINTH_BACKUP_UPLOAD_ENQUEUE_TASK_EXECUTER:1495,LABYRINTH_BACKUP_UPLOAD_ENQUEUE_SERIALIZER:1496,LABYRINTH_BACKUP_UPLOAD_SERIALIZE:1451,LABYRINTH_BACKUP_UPLOAD_SERIALIZE_SUCCEED:1463,LABYRINTH_BACKUP_UPLOAD_SERIALIZE_FAIL:1464,LABYRINTH_UPDATE_BACKUP_TABLE_SPROC:1467,LABYRINTH_FETCH_BACKUP_IDS_SPROC:1468,LABYRINTH_PROCESS_BACKUP_IDS_SPROC:1487,LABYRINTH_BACKUP_STATUS_NO_INFO:1488,LABYRINTH_BACKUP_STATUS_FETCH_ERROR:1489,LABYRINTH_BACKUP_STATUS_NOT_ONBOARDED:1490,LABYRINTH_BACKUP_STATUS_ONBOARDED:1491,LABYRINTH_BACKUP_STATUS_NO_BACKUPS_PRESENT:1492,LABYRINTH_OPT_OUT_OF_BACKUP_SPROC:1469,LABYRINTH_TRIGGER_THIRD_PARTY_ID_GENERATION_SPROC:1470,LABYRINTH_HANDLE_TRIGGER_THIRD_PARTY_ID_GENERATION_SPROC:1471,LABYRINTH_FETCH_BACKUPS_METADATA_SPROC:1478,LABYRINTH_HANDLE_BACKUPS_METADATA_RESULT_SPROC:1480,LABYRINTH_RESTORE_THREADS_SUCCESS:1481,LABYRINTH_RESTORE_MESSAGES_SUCCESS:1482,LABYRINTH_POINT_QUERY_MESSAGE_RESTORE:2511,LABYRINTH_RESTORE_MESSAGE_NEWER_DIRECTION:2514,LABYRINTH_RESTORE_SURROUNDING_MESSAGES:2515,LABYRINTH_BACKUP_UPLOAD_GET_ECHO_DOC:1497,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_BACKUP_STATE:1800,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_BACKUP_STATE_SUCCESS:1801,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_BACKUP_STATE_FAILURE:1802,LABYRINTH_MEBMANAGER_ADD_DEVICE_ADD_DEVICE_SPROC_CALLED:1803,LABYRINTH_MEBMANAGER_ADD_DEVICE_ADD_DEVICE_SPROC_RETURN_SUCCESS:1804,LABYRINTH_MEBMANAGER_ADD_DEVICE_ADD_DEVICE_SPROC_RETURN_FAILURE:1805,LABYRINTH_MEBMANAGER_ADD_DEVICE_NOTOFICATION_TRIGGERED:1806,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_ADD_DEVICE_STATE:1807,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_ADD_DEVICE_STATEFAILURE:1808,LABYRINTH_MEBMANAGER_ADD_DEVICE_INIT_RESTORE_SPROC_CALLED:1809,LABYRINTH_MEBMANAGER_ADD_DEVICE_INIT_RESTORE_SPROC_RETURN_SUCCESS:1810,LABYRINTH_MEBMANAGER_ADD_DEVICE_INIT_RESTORE_SPROC_RETURN_FAILURE:1811,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC_CALLED:1812,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC_RETURN_SUCCESS:1813,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC_RETURN_FAILURE:1814,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_NOTIFICATION_TRIGGERRED:1815,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_FETCH_RECOVERY_CODE_STATUS:1816,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_FETCH_RECOVERY_CODE_STATUS_FAILURE:1817,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_CREATE_EXTRA_VIRTUAL_DEVICE_SUCCESS:1818,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_CREATE_EXTRA_VIRTUAL_DEVICE_FAILURE:1819,LABYRINTH_MEBMANAGER_WRONG_RECOVERY_CODE:1823,LABYRINTH_ENCRYPT_MESSAGE_FAIL:1828,LABYRINTH_ENCRYPT_MESSAGE_GENERATED_PAYLOAD:1824,LABYRINTH_ENCODE_DOCUMENT:1820,LABYRINTH_ENCODE_DOCUMENT_FAIL:1821,LABYRINTH_ENCODE_DOCUMENT_SUCCESS:1822,LABYRINTH_MEDIA_ISSUE_ATTACHMENT_BACKUP_TASK_SPROC:1825,LABYRINTH_MEDIA_UPDATE_ATTACHMENT_BACKUP_ENT_SPROC:1826,LABYRINTH_MEDIA_HANDLE_ATTACHMENT_BACKUP_FAILURE_SPROC:1827,LABYRINTH_MEDIA_ISSUE_ATTACHMENT_RESTORE_TASK:1829,LABYRINTH_MEDIA_UPDATE_ATTACHMENT_CDN_URL:1830,LABYRINTH_MEDIA_HANDLE_ATTACHMENT_RESTORE_FAILURE:1831,LABYRINTH_MEDIA_ISSUE_BATCH_ATTACHMENT_BACKUP_TASK_SPROC:1873,LABYRINTH_UPLOAD_CANCEL:1850,LABYRINTH_DELETE_BACKUP_ON_CLIENT_STARTING_CANCEL:1851,LABYRINTH_DELETE_BACKUP_ON_CLIENT_DID_CANCEL:1852,LABYRINTH_DELETE_BACKUP_ON_CLIENT_FAILED_CANCEL:1853,LABYRINTH_BACKUP_RETRY_DELETE_MESSAGE_BACKUP_STATUS_ENTRY:1865,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_BEGIN:1881,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_GOT_MESSAGE_IDS_FROM_ACT:1882,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_BEGIN_OCMF_OPE_OPERATIONS:1883,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_END_OCMF_OPE_OPERATIONS:1884,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_FETCH_MESSAGE_RANGE_ERROR:1885,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_ISSUE_COMPARATOR_TASK:1886,LABYRINTH_CLEAR_BACKUP_TABLE_ON_CLIENT:1891,LABYRINTH_CLEAR_VIRTUAL_DEVICES_TABLE_ON_CLIENT:1892,LABYRINTH_CLEAR_BACKUP_METADATA_TABLE_ON_CLIENT:1893,SAP_VESTA_FETCH_VESTA_KEY_AND_SECRET_BEGIN:2400,LABYRINTH_PLUGIN_CALLING_GENERATE_RECOVERY_CODE:2401,SAP_FESTA_FETCH_KEY_AND_SECRET_COMPLETION:2402,SAP_VESTA_CALLING_VESTA_REGISTRATION:2403,SAP_VESTA_REGISTRATION_COMPLETION:2404,LABYRINTH_PLUGIN_CALLING_CREATE_EXTRA_VIRTUAL_DEVICE:2405,SAP_VESTA_NOTIFY_SECRET_STORED_COMPLETION:2406,SAP_VESTA_NOTIFY_CLIENT_ABOUT_VESTA_REGISTRATION:2407,SAP_VESTA_CALLING_VESTA_LOGIN:2411,SAP_VESTA_LOGIN_COMPLETION:2412,LABYRINTH_PLUGIN_CALLING_ADD_DEVICE:2413,LABYRINTH_PLUGIN_CALLING_INITIALIZE_BACKUP:2416,LABYRINTH_PIN_SETUP_BEGIN:2417,LABYRINTH_PIN_SETUP_SUCCESS:2418,LABYRINTH_PIN_SETUP_FAILURE:2419,LABYRINTH_PIN_RESTORE_BEGIN:2420,LABYRINTH_PIN_RESTORE_SUCCESS:2421,LABYRINTH_PIN_RESTORE_FAILURE:2422,LABYRINTH_PLUGIN_CALLING_INITIALIZE_RESTORE:2423,LABYRINTH_FETCH_THREAD_IDS_SPROC:2500,LABYRINTH_FETCH_THREAD_IDS_NATIVE_OP_SUCCESS:2501,LABYRINTH_FETCH_THREAD_IDS_NATIVE_OP_FAILURE:2502,LABYRINTH_REQUEST_MESSAGES_FROM_FETCH_THREAD_IDS_SPROC:2503,LABYRINTH_REQUEST_MESSAGES_FROM_INIT_RESTORE_SPROC:2506,LABYRINTH_POINT_QUERY_RESTORE_TASK_SPROC_START:2512,LABYRINTH_POINT_QUERY_RESTORE_TASK_SPROC_END:2513,LABYRINTH_VERSIONING_UPSERT_DEVICE_ENCRYPTION_VERSIONS_TO_CLIENT_SPROC_START:2800,LABYRINTH_VERSIONING_UPSERT_DEVICE_ENCRYPTION_VERSIONS_TO_CLIENT_SPROC_END:2801,LABYRINTH_VERSIONING_DELETE_AND_SYNC_DEVICE_ENCRYPTION_VERSION_DATA_SPROC:2802,LABYRINTH_VERSIONING_UPSERT_DEVICE_DELETE_DEVICE_ENCRYPTION_VERSION_DATA:2803,LABYRINTH_VERSIONING_SYNC_ENCRYPTION_VERSION_DATA_SPROC:2804,LABYRINTH_VERSIONING_VERSION_SUPPORTED:2805,LABYRINTH_VERSIONING_SYNC_UPDATE_VERSION_DATA:2806,LABYRINTH_VERSIONING_SYNC_NO_VERSION_DATA:2807,LABYRINTH_VERSIONING_VERSION_SELECTED:2808,LABYRINTH_VERSIONING_DELETE_AND_SYNC_DEVICE_DELETE_DEVICE_ENCRYPTION_VERSION_DATA:2809,LABYRINTH_VERSIONING_VERSION_NOT_SUPPORTED:2810,LABYRINTH_VERSIONING_UPSERT_DEVICE_INVALID_SIGNATURE:2811,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC_ISSUE_REQUEST_ASSOC_DEVICES:2821,LABYRINTH_PREPARE_OPEN_EPOCH_FAILURE_NO_BACKUP:2822,LABYRINTH_PREPARE_OPEN_EPOCH_FAILURE_FLOW_ALREADY_IN_PROGRES:2823,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC:2824,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_NUM_EDGES:2825,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_PROCESS_EDGE_FROM:2826,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_PROCESS_EDGE_TO:2827,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_EDGE_SOURCE:2828,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_SOURCE_EPOCH_LOADED:2829,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_DERIVE_CHAINING_KEY_PSK:2830,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_DECRYPT_FORWARD_EDGE_ENTROPY:2831,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_EDGE_DECRYPTION_SUCCESS:2832,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_EDGE_DECRYPTION_FAIL:2833,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_FAIL_TO_LOAD_SOURCE_EPOCH:2834,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_EDGE_SOURCE:2835,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_SOURCE_EPOCH_LOADED:2836,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_DECRYPT_BACKWARD_EDGE:2837,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_EDGE_DECRYPTION_SUCCESS:2838,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_EDGE_DERIVATION_FAIL:2839,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_FAIL_TO_LOAD_SOURCE_EPOCH:2840,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FAILURE:2841,LABYRINTH_GET_OPEN_EPOCH_KEYS_SPROC:2842,LABYRINTH_GET_OPEN_EPOCH_KEYS_NO_EPOCHS_ON_CLIENT:2843,LABYRINTH_GET_OPEN_EPOCH_KEYS_GET_ALL_EPOCH_ANON_IDS:2844,LABYRINTH_GET_OPEN_EPOCH_KEYS_NUM_ANON_IDS:2845,LABYRINTH_GET_OPEN_EPOCHS_KEYS_EPOCH_ANON_ID_LIST_EMPTY:2846,LABYRINTH_GET_OPEN_EPOCH_KEYS_GET_KEYS_FOR_ANON_ID:2847,LABYRINTH_GET_OPEN_EPOCH_KEYS_ANON_ID_NOT_FOUND:2848,LABYRINTH_SYNC_EPOCHS_SPROC_DOWNLOAD_EPOCHS_V2_WRITE_TASK:2849,LABYRINTH_OPEN_EPOCH_SPROC_OPEN_INITIAL_EPOCH:2850,LABYRINTH_OPEN_EPOCH_SPROC_OPEN_EPOCH_WITH_LAST_EPOCH_METADATA:2851,LABYRINTH_OPEN_EPOCH_SPROC_OPEN_AFTER_FIRST_EPOCH:2852,LABYRINTH_OPEN_EPOCH_SPROC_FAILURE_LAST_EPOCH_NOT_FOUND:2853,LABYRINTH_OPEN_EPOCH_SPROC_ERROR:2854,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC_CLOSE_LAST_EPOCH:2855,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC_DERIVE_AND_STORE_EPOCH:2856,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC_DERIVE_AND_STORE:2857,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC_UPDATE_AUTHORITY:2858,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC_UPDATE_EPOCH_ID:2859,LABYRINTH_INCLUDE_FALLBACK_KEY_DURING_ENCRYPTION:2860,LABYRINTH_DERIVE_FALLBACK_KEY:2861,LABYRINTH_FAILED_TO_INCLUDE_FALLBACK_KEY:2862,LABYRINTH_GET_OPEN_EPOCH_KEYS_ANON_ID_VALUE:2863,LABYRINTH_GET_OPEN_EPOCH_KEYS_ANON_ID_NULL_VALUE:2864,LABYRINTH_MESSAGE_RESTORE_EPOCH_ANON_ID_NULL:2865,LABYRINTH_WEB_EPOCH_ROTATION_ENABLED:2866,LABYRINTH_WEB_EPOCH_ROTATION_DISABLED:2867,LABYRINTH_MOBILE_EPOCH_ROTATION_ENABLED:2868,LABYRINTH_MOBILE_EPOCH_ROTATION_DISABLED:2869,LABYRINTH_DECRYPT_MESSAGE_SPROC_SINGLE_EPOCH_KEY:2870,LABYRINTH_DECRYPT_MESSAGE_SPROC_EPOCH_NOT_FOUND_ERROR:2871,LABYRINTH_DECRYPT_MESSAGE_SPROC_MULTIPLE_EPOCHS_ERROR:2872,LABYRINTH_WEB_ECHO_MESSAGE_RESTORE_BEGIN:3600,LABYRINTH_WEB_ISSUE_RESTORE_JOB_DONE:3601,LABYRINTH_WEB_INSERT_TO_BAKCUP_MESSAGE_TABLE_DONE:3602,LABYRINTH_WEB_RESTORE_WITH_SERIALIZER_START:3603,LABYRINTH_WEB_ISSUE_RESTORE_JOB_STARTED:3604,LABYRINTH_WEB_INSERT_TO_RESTORE_PAYLOAD_CONTEXT_TABLE_DONE:3605,LABYRINTH_WEB_XMA_RESTORE_STARTED:3606,LABYRINTH_WEB_XMA_RESTORE_ENDED:3607,LABYRINTH_WEB_XMA_RESTORE_MEDIAID_NULL:3608,LABYRINTH_WEB_XMA_RESTORE_DBXMA_NULL:3609,LABYRINTH_WEB_ISSUE_MESSAGE_RANGE_QUERY:3610,LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_INVALID_REQUEST:3700,LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_BEGIN:3701,LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_FAILURE:3702,LABYRINTH_WEB_UPLOAD_THREAD_NOT_PRESENT:3703,LABYRINTH_WEB_UPLOAD_THREAD_PRESENT:3704,LABYRINTH_WEB_UPLOAD_GET_SENDER_INFO_UNSUCCESSFUL:3705,LABYRINTH_WEB_UPLOAD_GET_SENDER_INFO_SUCCESSFUL:3706,LABYRINTH_WEB_UPLOAD_CONTACT_NAME_NULL:3707,LABYRINTH_WEB_UPLOAD_CONTACT_NAME_NOT_NULL:3708,LABYRINTH_WEB_UPLOAD_GET_RECEIPT_STATUS_LIST_SUCCESSFUL:3709,LABYRINTH_WEB_UPLOAD_GET_SENDER_DISPLAY_NAME_FOR_QUOTED_MSG_NULL:3710,LABYRINTH_WEB_UPLOAD_GET_SENDER_DISPLAY_NAME_FOR_QUOTED_MSG_NOT_NULL:3711,LABYRINTH_WEB_UPLOAD_XMA_DATA_UPLOAD_SUCCESSFUL:3712,LABYRINTH_WEB_UPLOAD_XMA_DATA_UPLOAD_UNSUCCESSFUL:3713,LABYRINTH_WEB_UPLOAD_INVALID_MSG_TYPE_FOR_MEDIA_TYPE:3714,LABYRINTH_WEB_UPLOAD_IS_MEDIA_MSG_TRUE:3715,LABYRINTH_WEB_UPLOAD_IS_MEDIA_MSG_FALSE:3716,LABYRINTH_WEB_UPLOAD_UNSUPPORTED_MEDIA_TYPE:3717,LABYRINTH_WEB_UPLOAD_NO_MEDIA_ID_FOUND_IN_MEDIA_MSG:3718,LABYRINTH_WEB_UPLOAD_NO_MEDIA_ENTRY_FOR_MEDIA_ID:3719,LABYRINTH_WEB_UPLOAD_GET_REACTION_DATA_SUCCESSFUL:3720,LABYRINTH_WEB_UPLOAD_GET_QUOTE_MSG_SUCCESSFUL:3721,LABYRINTH_WEB_UPLOAD_GET_QUOTE_SENDER_NAME_SUCCESSFUL:3722,LABYRINTH_WEB_UPLOAD_FB_ID_NULL_FOR_XMA_MSG:3723,LABYRINTH_WEB_UPLOAD_GET_XMA_DATA_SUCCESSFUL:3724,LABYRINTH_WEB_UPLOAD_NO_XMA_DB_ENTRY_FOR_EXTERNAL_ID:3725,LABYRINTH_WEB_UPLOAD_ECHO_MESSAGE_CREATION_SUCCESSFUL:3726,LABYRINTH_WEB_UPLOAD_MISSING_MEDIA_DATA_FOR_MEDIA_MSG:3727,LABYRINTH_WEB_UPLOAD_INVOKE_MESSAGE_UPLOAD_SPROC:3728,LABYRINTH_WEB_UPLOAD_ISSUE_MESSAGE_UPLOAD_UI_EVENT:3729,LABYRINTH_WEB_UPLOAD_USER_DEVICE_NOT_ENROLLED:3730,LABYRINTH_WEB_GET_BACKUP_TENANCY:3731,LABYRINTH_WEB_UPLOAD_ERROR_OCCURRED_ON_ISSUE_MESSAGE_UPLOAD_UI_EVENT:3739,LABYRINTH_WEB_UPLOAD_XMA_NOT_FOUND_IN_IDB:3740,LABYRINTH_WEB_UPLOAD_MEDIA_NOT_FOUND_FOR_XMA_IN_IDB:3741,LABYRINTH_WEB_UPLOAD_INVALID_ECHO_MESSAGE_SERIALIZATION_RESPONSE:3742,LABYRINTH_WEB_UPLOAD_DUPLICATE_REQUEST:3743,LABYRINTH_WEB_RETROACTIVE_BACKUPS_START_UPLOAD_MSG:3744,LABYRINTH_WEB_RETROACTIVE_BACKUPS_START_UPLOAD_MEDIA:3745,LABYRINTH_WEB_RETROACTIVE_BACKUPS_UPLOAD_MSG_ERROR:3746,LABYRINTH_WEB_RETROACTIVE_BACKUPS_UPLOAD_MEDIA_ERROR:3747,LABYRINTH_WEB_UPLOAD_XMA_DATA_IS_NULL:3748,LABYRINTH_WEB_UPLOAD_REPLIED_MESSAGE_NOT_IN_DB:3749,LABYRINTH_WEB_UPLOAD_REPLIED_MESSAGE_IN_DB:3750,MQTT_STATE_DISCONNECTED_EVENT:10000001,MQTT_STATE_CONNECTED_EVENT:10000002,APP_STATEBACKGROUND:10000003,APP_STATEFOREGROUND:10000004,MQTT_STATE_CONNECTING_EVENT:10000005,GLOBAL_CONNECTIVITY_BANNER_DISPLAY:10000006,GLOBAL_CONNECTIVITY_BANNER_VANISH:10000007,SWITCH_ACCOUNT_EVENT:10000008,ADVANCED_CRYPTO_MEM_WA_CONNECTION_DISCONNECTED_EVENT:10001205,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTING_EVENT:10001206,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTED_EVENT:10001207});f["default"]=a}),66);
__d("LSDataTraceTag",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;c=2;d=3;e=4;var g=5,h=6,i=7,j=20,k=21,l=22,m=23,n=24,o=25,p=26,q=27,r=28,s=29,t=30,u=31,v=32,w=33,x=34,y=35,z=36,A=37,B=38,C=39,D=40,E=41,F=42;f.none=a;f.sticker=b;f.image=c;f.animatedImage=d;f.video=e;f.audio=g;f.file=h;f.xma=i;f.messageTypeNone=j;f.messageTypeText=k;f.messageTypeFutureproof=l;f.messageTypeCiphertext=m;f.messageTypeUnavailable=n;f.messageTypeImage=o;f.messageTypeVideo=p;f.messageTypePtt=q;f.messageTypeAdmin=r;f.messageTypeRevoked=s;f.messageTypeGif=t;f.messageTypeSticker=u;f.messageTypeExpiredEphemeral=v;f.messageTypeEphemeralSettingAdmin=w;f.messageTypeEphemeralSyncResponse=x;f.messageTypeEphemeralScreenshotAction=y;f.messageTypeDeleteForMe=z;f.messageTypeEphemeralSettingChangeFromCurrentDevice=A;f.messageTypeAlertICDC=B;f.messageTypeGroupInvite=C;f.messageTypeXMA=D;f.messageTypeReaction=E;f.messageTypeSenderKeyDistribution=F}),66);
__d("LSDataTraceType",[],(function(a,b,c,d,e,f){a=Object.freeze({TASK:1,SYNC:2,RECEIVE_MSG:3,RICH_MEDIA_SEND:4,RICH_MEDIA_DOWNLOAD:5,TASK_CLIENT_MODE:6,ENCRYPTED_BACKUPS_FETCH_BACKUP_STATUS:69,ENCRYPTED_BACKUPS_INIT:70,ENCRYPTED_BACKUPS_ADD_DEVICE:71,ENCRYPTED_BACKUPS_UPLOAD:72,ENCRYPTED_BACKUPS_RESTORE:73,ENCRYPTED_BACKUPS_DELETE_BACKUP:75,ENCRYPTED_BACKUPS_CREATE_EXTRA_VIRTUAL_DEVICE:76,ENCRYPTED_BACKUPS_QR_ADD_DEVICE:77,ENCRYPTED_BACKUPS_SYNC_EPOCHS:78,ENCRYPTED_BACKUPS_OPEN_EPOCH:79,ENCRYPTED_BACKUPS_OPT_OUT_OF_BACKUP:80,ENCRYPTED_BACKUPS_MEDIA_BACKUP:81,ENCRYPTED_BACKUPS_MEDIA_RESTORE:82,ENCRYPTED_BACKUPS_THIRD_PARTY_ID_GENERATION:83,ENCRYPTED_BACKUPS_FETCH_BACKUPS_METADATA:86,ENCRYPTED_BACKUPS_REMOVE_VIRTUAL_DEVICE:87,ENCRYPTED_BACKUPS_QR_ADD_DEVICE_RECEIVER:88,ENCRYPTED_BACKUPS_DERIVE_AND_STORE_EPOCHS:89,ENCRYPTED_BACKUPS_GET_OPEN_EPOCH_KEYS:90,ENCRYPTED_BACKUPS_END_TO_END_THREAD_RESTORE:190,SAP_VESTA_REGISTRATION:251,SAP_VESTA_LOGIN:252,ENCRYPTED_BACKUPS_SHADOW_FETCH_BACKUP_STATUS:197,ENCRYPTED_BACKUPS_SHADOW_INIT:198,ENCRYPTED_BACKUPS_SHADOW_ADD_DEVICE:199,ENCRYPTED_BACKUPS_SHADOW_UPLOAD:200,ENCRYPTED_BACKUPS_SHADOW_RESTORE:201,ENCRYPTED_BACKUPS_SHADOW_DELETE_BACKUP:203,ENCRYPTED_BACKUPS_SHADOW_CREATE_EXTRA_VIRTUAL_DEVICE:204,ENCRYPTED_BACKUPS_SHADOW_QR_ADD_DEVICE:205,ENCRYPTED_BACKUPS_SHADOW_SYNC_EPOCHS:206,ENCRYPTED_BACKUPS_SHADOW_OPEN_EPOCH:207,ENCRYPTED_BACKUPS_SHADOW_QR_ADD_DEVICE_RECEIVER:216,ENCRYPTED_BACKUPS_ENCRYPTION_VERSIONING_UPSERT_VERSION_DATA:240,ENCRYPTED_BACKUPS_ENCRYPTION_VERSIONING_DELETE_VERSION_DATA:241,ENCRYPTED_BACKUPS_ENCRYPTION_VERSIONING_SYNC_VERSION_DATA:242,ENCRYPTED_BACKUPS_MESSAGE_INTEGRITY_CHECKER:243});f["default"]=a}),66);
__d("LSMEBTaskCreationSource",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:-1,TEST_ONLY:0,TAM:1,MEM:2,RETROACTIVE_BACKUP:3,TAM_WEB:4,ACT_MESSAGE_DELETE:5,ACT_THREAD_DELETE:6,ACT_UPDATE_ATTACHMENT:7,TAM_PERSISTENCE_TASK:8,TAM_XMA_TOMBSTONE:9,MEM_RECEIVE:10,MEM_SEND:11,MEM_PEER_SYNC:12,MEM_RECEIVE_PROTOBUF:13,MEM_SEND_PROTOBUF:14,MEM_PEER_SYNC_PROTOBUF:15,EB_ADD_DEVICE:21,OPTIMISTIC_THREAD_CREATE_VIA_SHIM:22,ACT_THREAD_INSERT_VIA_SHIM:23,MI_THREAD_INSERT_VIA_SHIM:24,POINT_QUERY_FROM_EB:25,MESSENGER_SEARCH:26,ACT_MESSAGE_RANGE_TASK_HANDLER:27,POINT_QUERY_ON_FULLY_LOADED_THREAD:28,THREAD_CUTOVER:29,HYBRID_THREAD_VERIFY_OR_CREATE_VIA_SHIM:30,BURNER_INTERNAL_LOAD_TESTING_FRAMEWORK:31,THREAD_GALLERY_RESTORE:32,ACT_SURROUNDING_QUERY:33,EB_SNAPSHOT_RESTORE:34,PROTOBUF_RESTORE:39,FTS_INDEX_EB_MESSAGES:40,INSTAMADILLO_DYI:41,MESSENGER_MESSAGE_LIST_PAGINATION:45,EB_RESTORE_REPLIED_MESSAGES_AFTER_RANGE_RESTORE:35,REPL_TESTING:36,EB_POINT_QUERY_IN_ACT:37,EB_POINT_QUERY_RETRY_DECRYPTION_FAILURES:38,IGD_DYI:42,FTS_INDEX_EB_MESSAGES_WEB:43,BULK_QUERY_FOR_SEARCH_RESULT:44,MSGR_DYI:46,EB_RESTORE_ON_REGISTRATION:47,EB_RESTORE_ON_OFFLINE_QUEUE_COUNT_LIMIT:48,EB_POINT_QUERY_RESTORE_ON_ACK_DROP:49});f["default"]=a}),66);
__d("LSMessageSendStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,SENDING_TO_SERVER:1,SERVER_RECEIVED:2,NON_RETRIABLE_ERROR:4,RETRIABLE_ERROR:5});f["default"]=a}),66);
__d("LSRequestId",["uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h="0123456789abcdef",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function a(){var a=c("uuidv4")().replace(/[^0-9a-f]/gi,""),b=0,d=["#"];while(b<33){var e=h.indexOf(a.charAt(b))<<8,f=h.indexOf(a.charAt(b+1))<<4,g=h.indexOf(a.charAt(b+2));g=g|(f|e);f=g>>6;d.push(i.charAt(f));d.push(i.charAt(g&63));b+=3}return d.join("")}b={generate:a};g["default"]=b}),98);
__d("LSShape",["LSDict"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("LSDict").fromObject(a)}function b(a){return c("LSDict").shapeToRecord(a)}g.ofRecord=a;g.toRecord=b}),98);
__d("MAWAckLevel",["LSIntEnum","LSMessageSendStatus"],(function(a,b,c,d,e,f,g){"use strict";var h,i={clock:0,contentGone:-3,contentTooBig:-4,contentUnuploadable:-5,expired:-2,failed:-1,inactiveReceived:-6,partialOptimistic:-8,played:4,read:3,received:2,senderBackFillSent:-7,sent:1};function a(a){return a>0}function b(a){switch(a){case i.partialOptimistic:return(h||(h=d("LSIntEnum"))).ofNumber(0);case i.clock:return(h||(h=d("LSIntEnum"))).ofNumber(1);case i.sent:case i.received:case i.read:case i.played:return(h||(h=d("LSIntEnum"))).ofNumber(2);default:return(h||(h=d("LSIntEnum"))).ofNumber(4)}}function e(a){switch(a){case i.partialOptimistic:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").NONE);case i.clock:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").SENDING_TO_SERVER);case i.sent:case i.received:case i.read:case i.played:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").SERVER_RECEIVED);default:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").NON_RETRIABLE_ERROR)}}g.ACK=i;g.isMsgAuthoritative=a;g.levelToMessagingSendStatusV2=b;g.levelToMessagingSendStatus=e}),98);
__d("MAWAsyncEBPendingQueryPromise",["Promise"],(function(a,b,c,d,e,f){"use strict";var g,h=new Map(),i=new Map(),j=new Map(),k=new Map(),l=new Map(),m=new Map();function a(a){var c=new(g||(g=b("Promise")))(function(b,c){i.set(a,b),k.set(a,c)});h.set(a,c);return c}function c(a,b){j.set(a,b)}function d(a){return j.get(a)}function e(a){var c=new(g||(g=b("Promise")))(function(b,c){l.set(a,{data:null,resolve:b}),m.set(a,c)});return c}function n(a,b){var c=i.get(a);c!=null&&(i["delete"](a),c(b));c=l.get(a);c!=null&&l.set(a,{data:b,resolve:c.resolve})}function o(a,b){var c=k.get(a);c!=null&&(i["delete"](a),c(b));c=m.get(a);c!=null&&(m["delete"](a),c(b),l["delete"](a))}function p(a){var b=l.get(a);b!=null&&b.data!=null&&(b.resolve(b.data),l["delete"](a),m["delete"](a))}f.getPendingQueryPromiseFromTrace=a;f.setJidFromThreadId=c;f.getJidFromThreadId=d;f.getWaitForRestorePromiseFromTrace=e;f.resolvePendingQueryIfPresent=n;f.rejectPendingQueryIfPresent=o;f.resolvePendingQueryUponReStore=p}),66);
__d("MAWBridgeTrace",["WAJids"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e,f,g,h,i){var j=a.ack,k=a.externalId,l=a.ts;a=a.type;var m=d("WAJids").switchOnMsgrChatJidType(b,{group:function(a){return"Group"},user:function(a){return"User"}});return{ack:j,externalId:k,isFirstMsg:!!f,openMessageOtid:e,openMessageParticipantCount:g,participantCount:h,threadJid:b,threadKey:i,threadType:m,traceType:c,ts:l,type_:a}}function b(a,b,c){return{traceContext:c,traceId:b,traceType:a}}function c(a,b,c,d){return{errorMessage:d,event:b,externalIds:a,traceType:c}}function e(a,b,c,d,e,f){return{checkPointId:a,dataTraceId:b,errorMessage:c,shouldFlush:d,syncChannel:e,tags:f}}g.createBridgeStartTraceData=a;g.createBridgeStartTraceWithTraceIdData=b;g.createBridgeUpdateTraceData=c;g.createBridgeTraceRecordCheckpointData=e}),98);
__d("WAHashStringToNumber",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=0;for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);b=(b<<5)-b+d;b|=0}return Math.abs(b)}f.hashStringToNumber=a}),66);
__d("MAWEBRestoreTrackingUtils",["LSIntEnum","MAWQplProxy","MWEBODSEntityName.enum","ODS","QPLUserFlow","WAHashStringToNumber","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){b!=null&&o({taskSource:a,traceId:b,triggerType:"paginated"}),(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.paginated")}function b(a,b){b!=null&&o({taskSource:a,traceId:b,triggerType:"initial"}),(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.initial")}function e(a,b){b!=null&&o({taskSource:a,traceId:b,triggerType:"dyi"}),(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.dyi")}function f(a,b){b!=null&&o({taskSource:a,traceId:b,triggerType:"frontloaded"}),(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.frontloaded")}function j(a,b){b!=null&&o({taskSource:a,traceId:b,triggerType:"point"}),(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.point")}function k(a){a!=null&&c("QPLUserFlow").endSuccess(c("qpl")._(521476165,"2432"),{instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)}),(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.decryption.success")}function l(a){a!=null&&c("QPLUserFlow").endFailure(c("qpl")._(521476165,"2432"),"restore_failure",{instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)}),(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.decryption.failure")}function m(a){r("echo",a)}function n(a){r("protobuf",a)}function o(a){var b=a.taskSource,e=a.traceId;a=a.triggerType;c("QPLUserFlow").start(c("qpl")._(521476165,"2432"),{annotations:{string:{taskSource:s(b),traceId:e,triggerType:a}},instanceKey:d("WAHashStringToNumber").hashStringToNumber(e)})}function p(a){var b=a.pointName,e=a.traceId;a=a.type;c("QPLUserFlow").addAnnotations(c("qpl")._(521476165,"2432"),{string:{type:a}},{instanceKey:d("WAHashStringToNumber").hashStringToNumber(e)});c("QPLUserFlow").addPoint(c("qpl")._(521476165,"2432"),b,{instanceKey:d("WAHashStringToNumber").hashStringToNumber(e)})}function q(a){var b=a.pointName;a=a.traceId;d("MAWQplProxy").sendQplPointThroughBridge(c("qpl")._(521476165,"2432"),b,{instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)})}function r(a,b){b=b?(i||(i=d("LSIntEnum"))).unwrapIntEnum(b):null;(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore."+a+"."+s(b))}function s(a){return(a=a==null?void 0:a.toString())!=null?a:"unknown"}g.markEBRestorePaginated=a;g.markEBRestoreInitial=b;g.markEBRestoreDYI=e;g.markEBRestoreFrontloaded=f;g.markEBRestorePoint=j;g.markEBRestoreSuccess=k;g.markEBRestoreFail=l;g.markEBRestoreEcho=m;g.markEBRestoreProtobuf=n;g.addQPLRestorePoint=p;g.addQPLRestorePointWorker=q}),98);
__d("WAStanzaUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f.toStanzaId=a}),66);
__d("MAWExternalId",["I64","Random","WAStanzaUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i=131071;function j(a){return Math.floor(c("Random").random()*a)}function a(){return d("WAStanzaUtils").toStanzaId((h||(h=d("I64"))).to_string(h.and_(h.or_(h.lsl_(h.of_float(Date.now()),22),h.and_(h.of_float(j(i)),h.of_float(i))),h.max_int)))}g.generateExternalId=a}),98);
__d("WAMsgType",[],(function(a,b,c,d,e,f){"use strict";a="Text";b="Futureproof";c="Ciphertext";d="Unavailable";e="Image";var g="Video",h="Ptt",i="Admin",j="Revoked",k="Gif",l="Sticker",m="DocumentFile",n="ExpiredEphemeral",o="EphemeralSettingAdmin",p="EphemeralSyncResponse",q="DeleteForMe",r="EphemeralSettingChangeFromCurrentDevice",s="AlertICDC",t="GroupInvite",u="NoteReply",v="Reaction",w="SenderKeyDistribution",x="EditAction",y="ReceiverFetch",z="Raven",A={ADMIN:i,CIPHERTEXT:c,DELETE_FOR_ME:q,DOCUMENT_FILE:m,EDIT_ACTION:x,EPHEMERAL_SETTING_ADMIN:o,EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:r,EPHEMERAL_SYNC_RESPONSE:p,EXPIRED_EPHEMERAL:n,FUTUREPROOF:b,GIF:k,GROUP_INVITE:t,ICDC_ALERT:s,IMAGE:e,PTT:h,REACTION:v,REVOKED:j,SK_DISTRIBUTION:w,STICKER:l,TEXT:a,UNAVAILABLE:d,VIDEO:g,RECEIVER_FETCH:y,RAVEN:z};f.TEXT=a;f.FUTUREPROOF=b;f.CIPHERTEXT=c;f.UNAVAILABLE=d;f.IMAGE=e;f.VIDEO=g;f.PTT=h;f.ADMIN=i;f.REVOKED=j;f.GIF=k;f.STICKER=l;f.DOCUMENT_FILE=m;f.EXPIRED_EPHEMERAL=n;f.EPHEMERAL_SETTING_ADMIN=o;f.EPHEMERAL_SYNC_RESPONSE=p;f.DELETE_FOR_ME=q;f.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE=r;f.ICDC_ALERT=s;f.GROUP_INVITE=t;f.NOTE_REPLY=u;f.REACTION=v;f.SK_DISTRIBUTION=w;f.EDIT_ACTION=x;f.RECEIVER_FETCH=y;f.RAVEN=z;f.MSG_TYPE=A}),66);
__d("MAWMsgType",["WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return j.has(a)};b=function(a){return k.has(a)||j.has(a)};c="EphemeralScreenshotAction";e="Raven";f="RavenAction";var h="XMA",i="BumpExistingMessage";d=babelHelpers["extends"]({},d("WAMsgType").MSG_TYPE,{BUMP_EXISTING_MESSAGE:i,EPHEMERAL_SCREENSHOT_ACTION:c,RAVEN:e,RAVEN_ACTION:f,XMA:h});var j=new Set([d.IMAGE,d.VIDEO,d.PTT,d.GIF,d.STICKER,d.XMA,d.RAVEN,d.DOCUMENT_FILE,d.RECEIVER_FETCH]),k=new Set([d.TEXT,d.REVOKED,d.XMA,d.BUMP_EXISTING_MESSAGE]),l=new Set([d.TEXT,d.IMAGE,d.VIDEO,d.PTT,d.GIF,d.STICKER,d.DOCUMENT_FILE,d.UNAVAILABLE,d.EXPIRED_EPHEMERAL,d.REVOKED,d.XMA,d.RAVEN,d.RECEIVER_FETCH]);i=function(a){return l.has(a)};g.isMAWSupportedMediaType=a;g.isEBSupportedMsgType=b;g.EPHEMERAL_SCREENSHOT_ACTION=c;g.MSG_TYPE=d;g.mawSupportedMediaTypes=j;g.isQuotedMsgType=i}),98);
__d("WAGetHashFromProtocolMsgId",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.externalId+"_"+a.author+"_"+a.chat}f.getHashFromProtocolMsgId=a}),66);
__d("WAGlobals",["WAErr","WAJids","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);h=function(){return a};return a}var i=null;function a(a){i=a}function j(){if(i==null)throw c("WAErr")("WaMsgr api called before set");return i}function k(){var a;return(a=j().myJids)==null?void 0:a.deviceJid}function b(){var a;return(a=j().myJids)==null?void 0:a.userJid}function e(a){return d("WAJids").extractUserJid(a)===d("WAJids").extractUserJid(k())}function f(){return j().config}function l(){return j().dependencies}var m="WAOneQueue is not defined";function n(){var a=j().waOneQueue;if(a==null){d("WALogger").ERROR(h(),m);throw c("WAErr")(m)}return a}function o(){return j().hmacKey}g.setGlobals=a;g.getMyDeviceJid=k;g.getMyUserJid=b;g.isPeerDevice=e;g.getConfig=f;g.getDependencies=l;g.getWaOneQueue=n;g.getHMACKey=o}),98);
__d("MAWEBUploadTrackingUtils",["MAWAckLevel","MAWEBSwitch","MAWExternalId","MAWMsgType","MAWQplProxy","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","ODS","QPLUserFlow","WAExceededStorageQuota","WAGetHashFromProtocolMsgId","WAGlobals","WAHashStringToNumber","justknobx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i="20240712";function j(a,b,e,f,g){g===void 0&&(g=!1);if(!c("MAWEBSwitch").isEnabled()){m(a);return}d("MAWQplProxy").startQplUserFlow(c("qpl")._(521481602,"829"),{bool:{eb_switch:c("MAWEBSwitch").isEnabled(),eb_upload_queue:!0,fromUploadQueue:g,middleware_init:!1},string:{externalId:a,msgType:b,triggerType:e,versionDate:i}},f,c("justknobx")._("1405"),!1);n(f,"upload_tracking_started");(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,c("MWEBODSEntityKey.enum").START)}var k=new Map();function l(a,b){k.set(a,b)}function a(a){return k.has(a)}function m(a){return k["delete"](a)}function b(){return new Map(k)}function e(a,b,c,d){switch(a){case"success":p(b,c);break;case"fail":o(b,c,d);break;case"point":n(b,c,d);break}}function n(a,b,e){var f=d("MAWQplProxy").performanceAbsoluteNow();e&&c("QPLUserFlow").addAnnotations(c("qpl")._(521481602,"829"),e,{instanceKey:a});c("QPLUserFlow").addPoint(c("qpl")._(521481602,"829"),b,{instanceKey:a,timestamp:f})}function o(a,b,e){c("QPLUserFlow").endFailure(c("qpl")._(521481602,"829"),b,{annotations:babelHelpers["extends"]({},e,{bool:babelHelpers["extends"]({},e==null?void 0:e.bool,{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}),string:babelHelpers["extends"]({},e==null?void 0:e.string,{threadID:e==null?void 0:(b=e.string)==null?void 0:b.jid})}),instanceKey:a,timestamp:d("MAWQplProxy").performanceAbsoluteNow()});(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,c("MWEBODSEntityKey.enum").FAIL)}function p(a,b,e){n(a,b),c("QPLUserFlow").endSuccess(c("qpl")._(521481602,"829"),{annotations:babelHelpers["extends"]({},e,{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}}),instanceKey:a,timestamp:d("MAWQplProxy").performanceAbsoluteNow()}),(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,c("MWEBODSEntityKey.enum").SUCCESS)}function f(){return d("WAHashStringToNumber").hashStringToNumber(d("MAWExternalId").generateExternalId())}function q(a,b){b===void 0&&(b=0);return d("WAHashStringToNumber").hashStringToNumber(d("WAGetHashFromProtocolMsgId").getHashFromProtocolMsgId(a)+"_"+d("WAGlobals").getMyDeviceJid()+"_"+b)}function r(a,b,d){if(!c("MAWEBSwitch").isEnabled())return;var e=q(a);l(a.externalId,e);j(a.externalId,d,b,e,!0);return e}function s(a){return c("MAWEBSwitch").isEnabled()&&d("MAWMsgType").isEBSupportedMsgType(a.type)&&a.ack>=d("MAWAckLevel").ACK.sent&&a.serverTs!=null&&!(a.ephemeralSetting!=null&&a.ephemeralSetting.ephemeralExpirationInSec>0)}g.startUploadTracking=j;g.checkUploadQueueStartedCache=a;g.removeExternalIdFromUploadQueueStartedCache=m;g.getUploadQueueStartedCache=b;g.handleBridgeEbUploadTrackingQPL=e;g.addPointWorkerOnly=n;g.endFailWorkerOnly=o;g.endSuccessWorkerOnly=p;g.genInstanceKeyOnly=f;g.genInstanceKeyForUploadQueue=q;g.maybeStartTrackingForUploadQueue=r;g.isUploadSupported=s}),98);
__d("MAWLoggerUtils",["Random"],(function(a,b,c,d,e,f,g){"use strict";b={CleanerPurge:"CleanerPurge",CleanerStart:"CleanerStart",CleanerTimestamp:"CleanerTimestamp",CleanerUpdate:"CleanerUpdate",Countdown:"Countdown",Ephemeral:"Ephemeral",Incoming:"Incoming",MsgCleaner:"MsgCleaner",OnLoad:"OnLoad",OnRead:"OnRead",Outgoing:"Outgoing",PeerReceipt:"PeerReceipt",SettingChange:"SettingChange",SettingSync:"SettingSync",DeviceRegistration:"DeviceRegistration",MessageReceive:"MessageReceive",MediaDownload:"MediaDownload",WorkerSetup:"WorkerSetup",MAWWorker:"MAWWorker",MAWInit:"MAWInit",LogoutHandler:"LogoutHandler",MiActMapping:"MiActMapping",ThreadReady:"ThreadReady"};function a(){return Math.floor(Date.now()+d("Random").random()*1e4+1e4)}g.Tag=b;g.getInstanceKey=a}),98);
__d("MAWMainTraceUtils",["I64","LSRequestId","asyncToGeneratorRuntime","killswitch"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return c("LSRequestId").generate()}function e(a,b,c,d,e,f,g){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,i,j){if(c("killswitch")("MESSENGER_WEB_DATA_TRACE_ID"))return;yield a.data_trace_meta.add({contextOne:g,contextThree:j,contextTwo:i,foregroundTimestampMs:(h||(h=d("I64"))).zero,initTimestampMs:b,predefinedId:void 0,shouldFlush:!1,traceId:e,traceType:f})});return i.apply(this,arguments)}g.createTraceId=a;g.startTraceWithTxn=e}),98);
__d("MAWTimeUtils",["FBLogger","I64","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return(h||(h=d("I64"))).of_float(a*1e3)}function j(a){a=Number(a);return a<=d("WATimeUtils").MAX_INT&&a!==-1e3&&a!==0}function a(a){if(j(a)){Number(a)!==-1&&c("FBLogger")("messenger_e2ee_web").mustfix("Invalid timestamp supplied to millisTimeToTimestamp: %s",Number(a));return i(a)}return(h||(h=d("I64"))).of_float(a)}function b(a,b){var c=Date.now();c=c-b*24*60*60*1e3;b=d("WATimeUtils").castMilliSecondsToUnixTime(c);return a>=b}function e(a){if(a==null)return;if(j(a)){Number(a)!==-1&&c("FBLogger")("messenger_e2ee_web").mustfix("Invalid timestamp supplied to ensureValidMillisTime: %s",Number(a));return d("WATimeUtils").castToMillisTime(a*1e3)}return a}f=(h||(h=d("I64"))).of_string("9999999999999");var k=Number.MAX_VALUE;g.toTimestamp=i;g.millisTimeToTimestamp=a;g.isTimestampNewerThanXDays=b;g.ensureValidMillisTime=e;g.MAX_TIMESTAMP_MS=f;g.MAX_TIMESTAMP=k;g.MIN_TIMESTAMP_MS=h.zero}),98);
__d("MAWTraceUtils",["LSDataTraceCheckPoint","LSDataTraceTag","LSIntEnum","LSRequestId","MAWBridge","MAWBridgeTrace","MAWMsgType"],(function(a,b,c,d,e,f,g){"use strict";var h,i="backup_upload",j="media_backup",k="vesta_registration",l="vesta_login";function m(){return c("LSRequestId").generate()}function a(a,b,c){c=(c=c)!=null?c:m();d("MAWBridge").getBridge().fireAndForget("event","uiUpdate",{events:[{tag:"StartTraceWithTraceId",value:d("MAWBridgeTrace").createBridgeStartTraceWithTraceIdData(a,c,b)}]},!0);return c}function n(a,b,c,e,f){if(a!=null){c=c.length>0?c.map(function(a){return a.toString()}).join(","):void 0;d("MAWBridge").getBridge().fireAndForget("event","uiUpdate",{events:[{tag:"TraceRecordCheckpoint",value:d("MAWBridgeTrace").createBridgeTraceRecordCheckpointData(b,a,f,e,-1,c)}]},!0)}}function b(a,b,e,f){n(a,b,e,!1),n(a,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_FOR_FAILURE),e,!0,f)}function e(a,b,e){n(a,b,e,!1),n(a,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_AND_FLUSH),e,!0)}function f(a,b,e){n(a,b,e,!1),n(a,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_AND_FLUSH),e,!0)}function o(a){switch(a){case d("MAWMsgType").MSG_TYPE.TEXT:return d("LSDataTraceTag").messageTypeText;case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:return d("LSDataTraceTag").messageTypeFutureproof;case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:return d("LSDataTraceTag").messageTypeCiphertext;case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:return d("LSDataTraceTag").messageTypeUnavailable;case d("MAWMsgType").MSG_TYPE.IMAGE:return d("LSDataTraceTag").messageTypeImage;case d("MAWMsgType").MSG_TYPE.VIDEO:return d("LSDataTraceTag").messageTypeVideo;case d("MAWMsgType").MSG_TYPE.PTT:return d("LSDataTraceTag").messageTypePtt;case d("MAWMsgType").MSG_TYPE.ADMIN:return d("LSDataTraceTag").messageTypeAdmin;case d("MAWMsgType").MSG_TYPE.REVOKED:return d("LSDataTraceTag").messageTypeRevoked;case d("MAWMsgType").MSG_TYPE.GIF:return d("LSDataTraceTag").messageTypeGif;case d("MAWMsgType").MSG_TYPE.STICKER:return d("LSDataTraceTag").messageTypeSticker;case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return d("LSDataTraceTag").messageTypeExpiredEphemeral;case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:return d("LSDataTraceTag").messageTypeEphemeralSettingAdmin;case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:return d("LSDataTraceTag").messageTypeEphemeralSyncResponse;case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:return d("LSDataTraceTag").messageTypeEphemeralScreenshotAction;case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:return d("LSDataTraceTag").messageTypeDeleteForMe;case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:return d("LSDataTraceTag").messageTypeEphemeralSettingChangeFromCurrentDevice;case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:return d("LSDataTraceTag").messageTypeAlertICDC;case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:return d("LSDataTraceTag").messageTypeGroupInvite;case d("MAWMsgType").MSG_TYPE.XMA:return d("LSDataTraceTag").messageTypeXMA;case d("MAWMsgType").MSG_TYPE.REACTION:return d("LSDataTraceTag").messageTypeReaction;case d("MAWMsgType").MSG_TYPE.SK_DISTRIBUTION:return d("LSDataTraceTag").messageTypeSenderKeyDistribution;default:return d("LSDataTraceTag").messageTypeNone}}g.CONTEXT_BACKUP_UPLOAD=i;g.CONTEXT_MEDIA_BACKUP=j;g.CONTEXT_VESTA_REGISTRATION=k;g.CONTEXT_VESTA_LOGIN=l;g.createTraceId=m;g.startNewTrace=a;g.recordCheckpointForTrace=n;g.recordFailureAndFlushForTraceId=b;g.recordSuccessAndFlushForTraceId=e;g.recordInvalidUploadRequestAndFlushTrace=f;g.getTagForMsgType=o}),98);
__d("ReQLTable",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return g.apply(this,arguments)}function g(){g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var d=(yield a.get.apply(a,b));c=c(d);yield a.upsert(b,c)});return g.apply(this,arguments)}f.update=a}),66);
__d("WAProtoConst",[],(function(a,b,c,d,e,f){"use strict";a={REPEATED:1<<6,PACKED:1<<7,REQUIRED:1<<8};b=31;c={INT32:1,INT64:2,UINT32:3,UINT64:4,SINT32:5,SINT64:6,BOOL:7,ENUM:8,FIXED64:9,SFIXED64:10,DOUBLE:11,STRING:12,BYTES:13,MESSAGE:14,FIXED32:15,SFIXED32:16,FLOAT:17,MAP:18};d={VARINT:0,BIT64:1,BINARY:2,BIT32:5};e={ONEOF:"__oneofs__",RESERVED:"__reserved__",RESERVED_TAGS:"tags",RESERVED_FIELDS:"fields"};f.FLAGS=a;f.TYPE_MASK=b;f.TYPES=c;f.ENC=d;f.KEYS=e}),66);
__d("WACommon.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={EVERYONE:1,SILENT:2,AI:3,AI_IMAGINE:4};b={PLACEHOLDER:0,NO_PLACEHOLDER:1,IGNORE:2};c={};e={};f={};var h={};c.internalSpec={remoteJid:[1,(d=d("WAProtoConst")).TYPES.STRING],fromMe:[2,d.TYPES.BOOL],id:[3,d.TYPES.STRING],participant:[4,d.TYPES.STRING]};e.internalSpec={commandType:[1,d.TYPES.ENUM,a],offset:[2,d.TYPES.UINT32],length:[3,d.TYPES.UINT32],validationToken:[4,d.TYPES.STRING]};f.internalSpec={text:[1,d.TYPES.STRING],mentionedJid:[2,d.FLAGS.REPEATED|d.TYPES.STRING],commands:[3,d.FLAGS.REPEATED|d.TYPES.MESSAGE,e]};h.internalSpec={payload:[1,d.TYPES.BYTES],version:[2,d.TYPES.INT32]};g.COMMAND_COMMAND_TYPE=a;g.FUTURE_PROOF_BEHAVIOR=b;g.MessageKeySpec=c;g.CommandSpec=e;g.MessageTextSpec=f;g.SubProtocolSpec=h}),98);
__d("WAArmadilloXMA.pb",["WACommon.pb","WAProtoConst"],(function(a,b,c,d,e,f,g){var h;a={INFO:0,EYE_OFF:1,NEWS_OFF:2,WARNING:3,PRIVATE:4,NONE:5,MEDIA_LABEL:6,POST_COVER:7,POST_LABEL:8,WARNING_SCREENS:9};b={OPEN_NATIVE:11};c={SINGLE:0,HSCROLL:1,PORTRAIT:3,STANDARD_DXMA:12,LIST_DXMA:15,GRID:16};e={IG_STORY_PHOTO_MENTION:4,IG_SINGLE_IMAGE_POST_SHARE:9,IG_MULTIPOST_SHARE:10,IG_SINGLE_VIDEO_POST_SHARE:11,IG_STORY_PHOTO_SHARE:12,IG_STORY_VIDEO_SHARE:13,IG_CLIPS_SHARE:14,IG_IGTV_SHARE:15,IG_SHOP_SHARE:16,IG_PROFILE_SHARE:19,IG_STORY_PHOTO_HIGHLIGHT_SHARE:20,IG_STORY_VIDEO_HIGHLIGHT_SHARE:21,IG_STORY_REPLY:22,IG_STORY_REACTION:23,IG_STORY_VIDEO_MENTION:24,IG_STORY_HIGHLIGHT_REPLY:25,IG_STORY_HIGHLIGHT_REACTION:26,IG_EXTERNAL_LINK:27,IG_RECEIVER_FETCH:28,FB_FEED_SHARE:1e3,FB_STORY_REPLY:1001,FB_STORY_SHARE:1002,FB_STORY_MENTION:1003,FB_FEED_VIDEO_SHARE:1004,FB_GAMING_CUSTOM_UPDATE:1005,FB_PRODUCER_STORY_REPLY:1006,FB_EVENT:1007,FB_FEED_POST_PRIVATE_REPLY:1008,FB_SHORT:1009,FB_COMMENT_MENTION_SHARE:1010,MSG_EXTERNAL_LINK_SHARE:2e3,MSG_P2P_PAYMENT:2001,MSG_LOCATION_SHARING:2002,MSG_LOCATION_SHARING_V2:2003,MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:2004,MSG_HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:2005,MSG_RECEIVER_FETCH:2006,MSG_IG_MEDIA_SHARE:2007,MSG_GEN_AI_SEARCH_PLUGIN_RESPONSE:2008,MSG_REELS_LIST:2009,MSG_CONTACT:2010,MSG_THREADS_POST_SHARE:2011,MSG_FILE:2012,MSG_AVATAR_DETAILS:2013,MSG_AI_CONTACT:2014,MSG_MEMORIES_SHARE:2015,MSG_SHARED_ALBUM_REPLY:2016,RTC_AUDIO_CALL:3e3,RTC_VIDEO_CALL:3001,RTC_MISSED_AUDIO_CALL:3002,RTC_MISSED_VIDEO_CALL:3003,RTC_GROUP_AUDIO_CALL:3004,RTC_GROUP_VIDEO_CALL:3005,RTC_MISSED_GROUP_AUDIO_CALL:3006,RTC_MISSED_GROUP_VIDEO_CALL:3007,DATACLASS_SENDER_COPY:4e3};f={};var i={};f.internalSpec={associatedMessage:[1,(h=d("WAProtoConst")).TYPES.MESSAGE,(d=d("WACommon.pb")).SubProtocolSpec],targetType:[2,h.TYPES.ENUM,e],targetUsername:[3,h.TYPES.STRING],targetId:[4,h.TYPES.STRING],targetExpiringAtSec:[5,h.TYPES.INT64],xmaLayoutType:[6,h.TYPES.ENUM,c],ctas:[7,h.FLAGS.REPEATED|h.TYPES.MESSAGE,i],previews:[8,h.FLAGS.REPEATED|h.TYPES.MESSAGE,d.SubProtocolSpec],titleText:[9,h.TYPES.STRING],subtitleText:[10,h.TYPES.STRING],maxTitleNumOfLines:[11,h.TYPES.UINT32],maxSubtitleNumOfLines:[12,h.TYPES.UINT32],favicon:[13,h.TYPES.MESSAGE,d.SubProtocolSpec],headerImage:[14,h.TYPES.MESSAGE,d.SubProtocolSpec],headerTitle:[15,h.TYPES.STRING],overlayIconGlyph:[16,h.TYPES.ENUM,a],overlayTitle:[17,h.TYPES.STRING],overlayDescription:[18,h.TYPES.STRING],sentWithMessageId:[19,h.TYPES.STRING],messageText:[20,h.TYPES.STRING],headerSubtitle:[21,h.TYPES.STRING],xmaDataclass:[22,h.TYPES.STRING],contentRef:[23,h.TYPES.STRING]};i.internalSpec={buttonType:[1,h.TYPES.ENUM,b],title:[2,h.TYPES.STRING],actionUrl:[3,h.TYPES.STRING],nativeUrl:[4,h.TYPES.STRING],ctaType:[5,h.TYPES.STRING],actionContentBlob:[6,h.TYPES.STRING]};g.EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH=a;g.EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE=b;g.EXTENDED_CONTENT_MESSAGE_XMA_LAYOUT_TYPE=c;g.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE=e;g.ExtendedContentMessageSpec=f;g.ExtendedContentMessage$CTASpec=i}),98);
__d("WABinary",["WAErr","WAHex"],(function(a,b,c,d,e,f,g){"use strict";var h=65533,i=10,j=new Uint8Array(i),k=new Uint8Array(0);a=function(){function a(b,c){var d=this;b===void 0&&(b=k);c===void 0&&(c=!1);this.$1=new Uint8Array(0);this.$2=0;this.$4=0;this.write=function(){for(var b=0;b<arguments.length;b++){var c=b<0||arguments.length<=b?void 0:arguments[b];typeof c==="string"?d.writeString(c):typeof c==="number"?d.writeUint8(c):c instanceof a?d.writeBinary(c):c instanceof ArrayBuffer?d.writeBuffer(c):c instanceof Uint8Array&&d.writeByteArray(c)}};b instanceof ArrayBuffer?(this.$1=new Uint8Array(b),this.$2=this.$4=b.byteLength):b instanceof Uint8Array&&(this.$1=b,this.$2=this.$4=b.length);this.$5=0;this.$6=this.$3=0;this.$7=null;this.$8=c;this.$9=0;this.$10=0}var b=a.prototype;b.size=function(){return this.$2-this.$3};b.peek=function(a,b){this.$9++;var c=this.$3,d=this.$5;try{return a(this,b)}finally{this.$9--,this.$3=c-(this.$5-d)}};b.advance=function(a){this.$11(a)};b.readWithViewParser=function(a,b,c,d){return b(this.$12(),this.$11(a),a,c,d)};b.readWithBytesParser=function(a,b,c,d){return b(this.$1,this.$11(a),a,c,d)};b.readUint8=function(){return p(this,1,r,!1)};b.readInt8=function(){return p(this,1,r,!0)};b.readUint16=function(a){a===void 0&&(a=this.$8);return p(this,2,s,a)};b.readInt32=function(a){a===void 0&&(a=this.$8);return p(this,4,t,a)};b.readUint32=function(a){a===void 0&&(a=this.$8);return p(this,4,u,a)};b.readInt64=function(a){a===void 0&&(a=this.$8);return p(this,8,v,U,a)};b.readUint64=function(a){a===void 0&&(a=this.$8);return p(this,8,v,V,a)};b.readLong=function(a,b){b===void 0&&(b=this.$8);return p(this,8,v,a,b)};b.readFloat32=function(a){a===void 0&&(a=this.$8);return p(this,4,w,a)};b.readFloat64=function(a){a===void 0&&(a=this.$8);return p(this,8,x,a)};b.readVarInt=function(a){var b=this.size();b=q(this,0,y,b);return q(this,b,z,a)};b.readBuffer=function(a){a===void 0&&(a=this.size());return a===0?new ArrayBuffer(0):q(this,a,A)};b.readByteArray=function(a){a===void 0&&(a=this.size());return a===0?new Uint8Array(0):q(this,a,B)};b.readBinary=function(b,c){b===void 0&&(b=this.size());c===void 0&&(c=this.$8);if(b===0)return new a(void 0,c);b=q(this,b,B);return new a(b,c)};b.indexOf=function(a){if(a.length===0)return 0;var b=this.$1,c=this.$2,d=this.$3,e=0,f=d;for(var g=d;g<c;g++)if(b[g]===a[e]){e===0&&(f=g);e++;if(e===a.byteLength)return g-d-a.byteLength+1}else e>0&&(e=0,g=f);return-1};b.readString=function(a){return q(this,a,C)};b.ensureCapacity=function(a){this.$13(this.$3+a)};b.ensureAdditionalCapacity=function(a){this.$13(this.$4+a)};b.writeToView=function(a,b,c,d){var e=this.$14(a);return b(this.$12(),e,a,c,d)};b.writeToBytes=function(a,b,c,d){var e=this.$14(a);return b(this.$1,e,a,c,d)};b.writeUint8=function(a){S(a,0,256,"uint8"),E(this,1,F,a,!1)};b.writeInt8=function(a){S(a,-128,128,"signed int8"),E(this,1,F,a,!0)};b.writeUint16=function(a,b){b===void 0&&(b=this.$8),S(a,0,65536,"uint16"),D(this,2,G,a,b)};b.writeInt16=function(a,b){b===void 0&&(b=this.$8),S(a,-32768,32768,"signed int16"),D(this,2,H,a,b)};b.writeUint32=function(a,b){b===void 0&&(b=this.$8),S(a,0,4294967296,"uint32"),D(this,4,I,a,b)};b.writeInt32=function(a,b){b===void 0&&(b=this.$8),S(a,-2147483648,2147483648,"signed int32"),D(this,4,J,a,b)};b.writeUint64=function(a,b){b===void 0&&(b=this.$8),S(a,0,18446744073709552e3,"uint64"),D(this,8,K,a,b)};b.writeInt64=function(a,b){b===void 0&&(b=this.$8),S(a,-9223372036854776e3,9223372036854776e3,"signed int64"),D(this,8,K,a,b)};b.writeFloat32=function(a,b){b===void 0&&(b=this.$8),D(this,4,L,a,b)};b.writeFloat64=function(a,b){b===void 0&&(b=this.$8),D(this,8,M,a,b)};b.writeVarInt=function(a){S(a,-9223372036854776e3,9223372036854776e3,"varint (signed int64)");var b=a<0;a=b?-a:a;var c=Math.floor(a/4294967296);a=a-c*4294967296;b&&(c=~c,a===0?c++:a=-a);b=R(c,a);E(this,b,N,c,a)};b.writeVarIntFromHexLong=function(a){var b=d("WAHex").hexLongIsNegative(a);a=b?d("WAHex").negateHexLong(a):a;a=d("WAHex").hexLongToHex(a);var c=0,e=0;for(var f=0;f<d("WAHex").NUM_HEX_IN_LONG;f++)c=c<<4|e>>>28,e=e<<4|d("WAHex").hexAt(a,f);b&&(c=~c,e===0?c++:e=-e);a=R(c,e);E(this,a,N,c,e)};b.writeBinary=function(a){a=a.peek(function(a){return a.readByteArray()});if(a.length){var b=this.$14(a.length);this.$1.set(a,b)}};b.writeBuffer=function(a){this.writeByteArray(new Uint8Array(a))};b.writeByteArray=function(a){var b=this.$14(a.length);this.$1.set(a,b)};b.writeBufferView=function(a){this.writeByteArray(new Uint8Array(a.buffer,a.byteOffset,a.byteLength))};b.writeString=function(a){E(this,n(a),O,a)};b.writeHexLong=function(a,b){b===void 0&&(b=this.$8),D(this,8,P,a,b)};b.writeBytes=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];for(var d=0;d<b.length;d++)S(b[d],0,256,"byte");E(this,b.length,Q,b)};b.writeAtomically=function(a,b){this.$10++;var c=this.$4,d=this.$5;try{a=a(this,b);c=this.$4;d=this.$5;return a}finally{this.$10--,this.$4=c-(this.$5-d)}};b.writeWithVarIntLength=function(a,b){var c=this.$4;a=this.writeAtomically(a,b);b=this.$4;this.writeVarInt(b-c);var d=this.$4-b,e=this.$1;for(var f=0;f<d;f++)j[f]=e[b+f];for(f=b-1;f>=c;f--)e[f+d]=e[f];for(b=0;b<d;b++)e[c+b]=j[b];return a};a.build=function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=0;for(var f=0;f<c.length;f++){var g=c[f];typeof g==="string"?e+=n(g):typeof g==="number"?e++:g instanceof a?e+=g.size():g instanceof ArrayBuffer?e+=g.byteLength:g instanceof Uint8Array&&(e+=g.length)}var h=new a();h.ensureCapacity(e);h.write.apply(h,arguments);return h};b.$12=function(){return this.$7||(this.$7=new DataView(this.$1.buffer,this.$1.byteOffset))};b.$11=function(a){if(a<0)throw c("WAErr")("ReadError: given negative number of bytes to read");var b=this.$3;a=b+a;if(a>this.$2)throw c("WAErr")(b===this.$2?"ReadError: tried to read from depleted binary":"ReadError: tried to read beyond end of binary");this.$3=a;this.$9||(this.$6=a);return b};b.$13=function(a){var b=this.$1;if(a<=b.length)return a;else{var c=this.$6;a=a-c;var d=Math.max(a,2*(b.length-c),64);d=new Uint8Array(d);c?(d.set(b.subarray(c)),this.$5+=c,this.$3-=c,this.$2-=c,this.$4-=c,this.$6=0):d.set(b);this.$1=d;this.$7=null;return a}};b.$14=function(a){a=this.$13(this.$4+a);var b=this.$4;this.$4=a;this.$10||(this.$2=a);return b};return a}();var l="",m=0;function n(a){if(a===l)return m;var b=a.length,c=0;for(var d=0;d<b;d++){var e=a.charCodeAt(d);if(e<128)c++;else if(e<2048)c+=2;else if(e<55296||57344<=e&&e<=65535)c+=3;else if(55296<=e&&e<56320&&d+1!==b){e=a.charCodeAt(d+1);56320<=e&&e<57344?(d++,c+=4):c+=3}else c+=3}l=a;return m=c}function o(a,b,c){var d=b>>21;if(!a)return d===0;else{a=b&2097151;b=Boolean(a||c);return d===0||d===-1&&b}}function p(a,b,c,d,e){return a.readWithViewParser(b,c,d,e)}function q(a,b,c,d,e){return a.readWithBytesParser(b,c,d,e)}function r(a,b,c,d){return d?a.getInt8(b):a.getUint8(b)}function s(a,b,c,d){return a.getUint16(b,d)}function t(a,b,c,d){return a.getInt32(b,d)}function u(a,b,c,d){return a.getUint32(b,d)}function v(a,b,c,d,e){c=a.getInt32(e?b+4:b,e);a=a.getInt32(e?b:b+4,e);return d(c,a)}function w(a,b,c,d){return a.getFloat32(b,d)}function x(a,b,c,d){return a.getFloat64(b,d)}function y(a,b,d,e){d=Math.min(e,i);e=0;var f=128;while(e<d&&f&128)f=a[b+e++];if(e===i&&f>1)throw c("WAErr")("ParseError: varint exceeds 64 bits");else if(f&128)return e+1;return e}function z(b,c,d,a){var e=0,f=0,g=d;d===i&&(g--,f=b[c+g]&1);for(d=g-1;d>=0;d--)e=e<<7|f>>>25,f=f<<7|b[c+d]&127;return a(e,f)}function A(a,b,c){b=b+a.byteOffset;a=a.buffer;return b===0&&c===a.byteLength?a:a.slice(b,b+c)}function B(a,b,c){return a.subarray(b,b+c)}function C(a,b,c){c=b+c;var d=[],e=null;for(b=b;b<c;b++){d.length>5e3&&(e||(e=[]),e.push(String.fromCharCode.apply(String,d)),d=[]);var f=a[b]|0;if((f&128)===0)d.push(f);else if((f&224)===192){var g=W(a,b+1,c);if(g){b++;g=(f&31)<<6|g&63;g>=128?d.push(g):d.push(h)}else d.push(h)}else if((f&240)===224){g=W(a,b+1,c);var i=W(a,b+2,c);if(g&&i){b+=2;i=(f&15)<<12|(g&63)<<6|i&63;i>=2048&&!(55296<=i&&i<57344)?d.push(i):d.push(h)}else g?(b++,d.push(h)):d.push(h)}else if((f&248)===240){i=W(a,b+1,c);g=W(a,b+2,c);var j=W(a,b+3,c);if(i&&g&&j){b+=3;f=(f&7)<<18|(i&63)<<12|(g&63)<<6|j&63;if(f>=65536&&f<=1114111){j=f-65536;d.push(55296|j>>10,56320|j&1023)}else d.push(h)}else i&&g?(b+=2,d.push(h)):i?(b++,d.push(h)):d.push(h)}else d.push(h)}f=String.fromCharCode.apply(String,d);if(e){e.push(f);return e.join("")}else return f}function D(a,b,c,d,e){return a.writeToView(b,c,d,e)}function E(a,b,c,d,e){return a.writeToBytes(b,c,d,e)}function F(a,b,c,d){a[b]=d}function G(a,b,c,d,e){a.setUint16(b,d,e)}function H(a,b,c,d,e){a.setInt16(b,d,e)}function I(a,b,c,d,e){a.setUint32(b,d,e)}function J(a,b,c,d,e){a.setInt32(b,d,e)}function K(a,b,c,d,e){c=d<0;d=c?-d:d;var f=Math.floor(d/4294967296);d=d-f*4294967296;c&&(f=~f,d===0?f++:d=-d);a.setUint32(e?b+4:b,f,e);a.setUint32(e?b:b+4,d,e)}function L(a,b,c,d,e){a.setFloat32(b,d,e)}function M(a,b,c,d,e){a.setFloat64(b,d,e)}function N(a,b,c,d,e){d=d;e=e;c=b+c-1;for(b=b;b<c;b++)a[b]=128|e&127,e=d<<25|e>>>7,d>>>=7;a[c]=e}function O(a,b,c,d){c=b;b=d.length;for(var e=0;e<b;e++){var f=d.charCodeAt(e);if(f<128)a[c++]=f;else if(f<2048)a[c++]=192|f>>6,a[c++]=128|f&63;else if(f<55296||57344<=f)a[c++]=224|f>>12,a[c++]=128|f>>6&63,a[c++]=128|f&63;else if(55296<=f&&f<56320&&e+1!==b){var g=d.charCodeAt(e+1);if(56320<=g&&g<57344){e++;f=65536+((f&1023)<<10|g&1023);a[c++]=240|f>>18;a[c++]=128|f>>12&63;a[c++]=128|f>>6&63;a[c++]=128|f&63}else a[c++]=239,a[c++]=191,a[c++]=189}else a[c++]=239,a[c++]=191,a[c++]=189}}function P(a,b,c,e,f){c=d("WAHex").hexLongIsNegative(e);e=d("WAHex").hexLongToHex(e);var g=0,h=0;for(var i=0;i<16;i++)g=g<<4|h>>>28,h=h<<4|d("WAHex").hexAt(e,i);c&&(g=~g,h===0?g++:h=-h);a.setUint32(f?b+4:b,g,f);a.setUint32(f?b:b+4,h,f)}function Q(a,b,c,d){for(var e=0;e<c;e++)a[b+e]=d[e]}function R(a,b){var c;a?(c=5,a=a>>>3):(c=1,a=b>>>7);while(a)c++,a>>>=7;return c}function S(a,b,d,e){if(typeof a!=="number"||a!==a||Math.floor(a)!==a||a<b||a>=d)throw c("WAErr")(typeof a==="string"?'TyperError WriteError: string "'+a+'" is not a valid '+e:"TypeError WriteError: "+String(a)+" is not a valid "+e)}function T(a,b,d){var e=o(a,b,d),f;b>=0?f=b:f=a?b:4294967296+b;a=d>=0?d:4294967296+d;b=f*4294967296+a;if(!e)throw c("WAErr")("ReadError: integer exceeded 53 bits ("+b+")");return b}function U(a,b){return T(!0,a,b)}function V(a,b){return T(!1,a,b)}function W(a,b,c){if(b>=c)return 0;c=a[b]|0;return(c&192)===128?c:0}g.Binary=a;g.numUtf8Bytes=n;g.longFitsInDouble=o;g.parseInt64OrThrow=U;g.parseUint64OrThrow=V}),98);
__d("WAHasProperty",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return Object.prototype.hasOwnProperty.call(a,b)}f["default"]=a}),66);
__d("WAPromiseCallSync",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c){try{for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];return(g||(g=b("Promise"))).resolve(a.apply(c,e))}catch(a){return(g||(g=b("Promise"))).reject(a)}}f.promiseCallSync=a}),66);
__d("WAPromiseManagement",["WAPromiseCallSync"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=null,c=function(){b||(b=d("WAPromiseCallSync").promiseCallSync(a)["finally"](function(){b=null}));return b};c.isPending=function(){return!!b};return c}function b(a,b){var c=new Map();return function(d){var e=a(d),f=c.get(e);if(f)return f;try{f=Promise.resolve(b(d))}catch(a){f=Promise.reject(a)}d=f["finally"](function(){return void c["delete"](e)});c.set(e,d);return d}}var h=new Set();function c(a){h.add(a),a["finally"](function(){h["delete"](a)})}g.nullaryCacheWhilePending=a;g.cacheWhilePending=b;g.preventGarbageCollection=c}),98);
__d("WAProtoCompile",["WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,b,c,d,e,f,g,h,i){this.names=a,this.fields=b,this.types=c,this.defaults=d,this.meta=e,this.oneofToFields=f,this.fieldToOneof=g,this.reservedTags=h?h.reduce(function(a,b){a[b]=!0;return a},{}):{},this.reservedFields=i?i.reduce(function(a,b){a[b]=!0;return a},{}):{}};function a(a){if(a.internalCompiledSpec)return a.internalCompiledSpec;var b=a.internalSpec;if(!b)throw new Error("Message Class "+String(a)+" does not have internalSpec");var c=a.internalDefaults||{},e=Object.keys(b).filter(function(a){return a!==d("WAProtoConst").KEYS.ONEOF}),f=new Array(e.length),g=[],j=[],k=new Array(e.length),l=b[d("WAProtoConst").KEYS.ONEOF]||{};e.sort(function(a,c){a=i(b,a);c=i(b,c);return a[0]-c[0]});for(var m=0;m<e.length;m++){var n=e[m],o=i(b,n);k[m]=c[n];var p=o[1],q=o[0];g.push(q);j.push(p);if((p&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE)f[m]=o[2];else if((p&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.ENUM){q=o[2];if(typeof q.cast==="function")f[m]=q;else{var r=!0,s=0;for(var t in q)r&&t!==s++&&(r=!1);t=void 0;if(r){t=[];for(r=0;r<s;r++)t.push(!0)}else{t={};for(r in q)t[q[r]]=!0}f[m]=t}}else if((p&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MAP){if(o.length!==3)throw new Error("Map field "+n+" should have exactly three elements in its internalSpec");f[m]=o[2]}else f[m]=null}var u={};s=function(a){l[a].forEach(function(b){u[b]||(u[b]=[]),u[b].push(a)})};for(r in l)s(r);q=b[d("WAProtoConst").KEYS.RESERVED]&&b[d("WAProtoConst").KEYS.RESERVED][d("WAProtoConst").KEYS.RESERVED_TAGS];t=b[d("WAProtoConst").KEYS.RESERVED]&&b[d("WAProtoConst").KEYS.RESERVED][d("WAProtoConst").KEYS.RESERVED_FIELDS];p=new h(e,g,j,k,f,l,u,q,t);a.internalCompiledSpec=p;return p}function i(a,b){a=a[b];if(a==null)throw new Error("fieldData of "+b+" is missing");return a}g.Spec=h;g.compileSpec=a}),98);
__d("WAProtoUtils",["WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a&d("WAProtoConst").FLAGS.PACKED)return d("WAProtoConst").ENC.BINARY;a=a&d("WAProtoConst").TYPE_MASK;if(a<=d("WAProtoConst").TYPES.ENUM)return d("WAProtoConst").ENC.VARINT;else if(a<=d("WAProtoConst").TYPES.DOUBLE)return d("WAProtoConst").ENC.BIT64;else if(a<=d("WAProtoConst").TYPES.MESSAGE)return d("WAProtoConst").ENC.BINARY;else if(a===d("WAProtoConst").TYPES.MAP)return d("WAProtoConst").ENC.BINARY;else return d("WAProtoConst").ENC.BIT32}g.typeToEncType=a}),98);
__d("WAProtoValidate",["WAHasProperty","WALogger","WAProtoCompile","WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not an array']);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not ',""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is out of range']);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid int']);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid long']);l=function(){return a};return a}var m=Number.MAX_SAFE_INTEGER;function n(a,b){a=o(a,b);if(a){a.reverse();throw new TypeError("Message missing required value "+a.join("."))}}function a(a,b){n(a,b);b=u(b,a);if(b){b.path.reverse();throw new TypeError("Invalid value at "+b.path.join(".")+": "+b.error)}}function o(a,b){a=d("WAProtoCompile").compileSpec(a);var e=a.names,f=a.types;a=a.meta;var g=void 0;for(var h=0;h<f.length&&!g;h++){var i=f[h],j=e[h],k=c("WAHasProperty")(b,j)?b[j]:void 0;if(i&d("WAProtoConst").FLAGS.REQUIRED&&k==null)g=[j];else if((i&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE&&i&d("WAProtoConst").FLAGS.REPEATED&&k!=null){var l=a[h],m=void 0;for(m=0;m<k.length&&!g;m++)g=o(l,k[m]);g&&g.push(j+"["+m+"]")}else(i&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE&&k!=null&&(g=o(a[h],k),g&&g.push(j))}return g}function p(a,b,c){if(typeof a==="string")if(/^-?0x[0-9a-f]{16}$/i.test(a))return!1;else{d("WALogger").LOG(l(),s(a)).color("red");return{path:[],error:"value must be a hex string of the form '0x123...' or '-0x123...' where the tail is always 16 characters long"}}else return q(a,b,c)}function q(a,b,c){if(typeof a!=="number"||a!==a||Math.floor(a)!==a){d("WALogger").LOG(k(),s(a)).color("red");return{path:[],error:"value must be an int"}}else if(a<b||a>=c){d("WALogger").LOG(j(),s(a)).color("red");return{path:[],error:"value is out of range"}}else return!1}function r(a,b,c){if(a)return void 0;else{d("WALogger").LOG(i(),s(c),b).color("red");return{path:[],error:"value is invalid"}}}function s(a){if(typeof a==="string")return'"'+a+'"';else if(Array.isArray(a))return"["+a.join(", ")+"]";else return""+a}var t=[void 0,function(a){return q(a,-2147483648,2147483648)},function(a){return p(a,-m,m+1)},function(a){return q(a,0,4294967296)},function(a){return p(a,0,m+1)},function(a){return q(a,-2147483648,2147483648)},function(a){return p(a,-m,m+1)},function(a){return r(typeof a==="boolean","boolean",a)},function(a,b){return r(typeof a==="number"&&(b[a]||b.cast(a)!==void 0),"in enum",a)},function(a){return p(a,0,m+1)},function(a){return p(a,-m,m+1)},function(a){return r(typeof a==="number","number",a)},function(a){return r(typeof a==="string","string",a)},function(a){return r(a instanceof ArrayBuffer||a instanceof Uint8Array,"ArrayBuffer or Uint8Array",a)},u,function(a){return q(a,0,4294967296)},function(a){return q(a,-2147483648,2147483648)},function(a){return r(typeof a==="number","number",a)}];function u(a,b){b=d("WAProtoCompile").compileSpec(b);var c=b.names,e=b.fields,f=b.types,g=b.meta,i=b.oneofToFields,j=b.fieldToOneof,k=b.reservedTags,l=b.reservedFields,m=void 0;b=function(b){var n=c[b],o=f[b],p=a[n],q=o&d("WAProtoConst").TYPE_MASK,r=t[q],u=(o&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MAP;if(r===void 0&&!u)throw new Error("Can not find the validator for type "+q);if(o&(d("WAProtoConst").FLAGS.PACKED|d("WAProtoConst").FLAGS.REPEATED)&&p!=null)if(!Array.isArray(p))d("WALogger").LOG(h(),s(p)).color("red"),m={path:[n],error:"repeated field must be array"};else{q=g[b];for(o=0;o<p.length&&!m;o++)m=r(p[o],q),m&&m.path.push(n+"["+o+"]")}else if(u&&p!=null){o=g[b];q=o[0];u=o[1];o=typeof u==="object"?d("WAProtoConst").TYPES.MESSAGE:u;var v=t[q],w=t[o];if(v===void 0||w===void 0)throw new Error("Can not find the validator for Map with key type "+q+", value type "+o);for(var o=p,x=Array.isArray(o),y=0,o=x?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var z;if(x){if(y>=o.length)break;z=o[y++]}else{y=o.next();if(y.done)break;z=y.value}z=z;var A=z[0];z=z[1];m=v(A,q);if(m){m.path.push(n+"'s key ["+A+"]");return{v:m}}m=w(z,u);if(m){m.path.push(n+"["+A+"]'s value");return{v:m}}}}else if(p!=null){m=r(p,g[b]);m&&m.path.push(n);z=j[n];z&&z.forEach(function(b){var c=i[b].filter(function(a){return a!==n});c.forEach(function(c){typeof a[c]!=="undefined"&&(m={path:[b],error:"oneof '"+b+"' has fields '"+n+"' and '"+c+"' set"})})});k[e[b]]&&(m={path:[n],error:"tag "+e[b]+" is reserved"});l[n]&&(m={path:[n],error:"field "+n+" is reserved"})}};for(var n=0;n<c.length&&!m;n++){var o=b(n);if(typeof o==="object")return o.v}return m}g.checkRequirements=n;g.checkValid=a}),98);
__d("WAShiftTimer",["WAErr"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$2=0;this.$3=0;this.ts=0;this.$4=0;this.$5=0;this.$6=0;this.$7=void 0;this.$8=function(){var a=b.$7,c=b.$1;b.$3=0;b.$2=0;b.ts=0;b.$4=0;b.$5=0;b.$6=0;b.$7=void 0;c(a)};this.onOrBefore=function(a,c){h(a);var d=Date.now();d=d+a;var e=b.$5;if(e!==0&&e<d)return;e=b.$6;if(e!==0&&d<e)return;b.$5=d;!b.$3&&(!b.$2||d<b.ts)&&b.$9(d,a,c)};this.forceRunNow=function(a){b.$2&&clearTimeout(b.$2),b.$3&&cancelAnimationFrame(b.$3),b.$7=a,b.$8()};this.cancel=function(){b.$2&&clearTimeout(b.$2),b.$3&&cancelAnimationFrame(b.$3),b.$2=0,b.$3=0,b.ts=0,b.$4=0,b.$5=0,b.$6=0,b.$7=void 0};this.$1=a}var b=a.prototype;b.onOrBeforeRepaint=function(a){if(this.$3)return;var b=Date.now(),c=this.$6;if(c!==0&&b<c)return;c=this.$5;(c===0||b<c)&&(this.$5=b);this.$2&&(clearTimeout(this.$2),this.$2=0);(!this.ts||this.ts>b)&&(this.ts=b);this.$7=a;this.$3=requestAnimationFrame(this.$8)};b.onOrAfter=function(a,b){h(a);var c=Date.now();c=c+a;var d=this.$6;if(d!==0&&c<d)return;d=this.$5;if(d!==0&&d<c)return;this.$6=c;(!this.$2||this.ts<c)&&this.$9(c,a,b)};b.debounce=function(a,b){h(a),this.$10(Date.now(),a,b)};b.debounceAndCap=function(a,b,c){h(a);h(b);var d=Date.now();b=d+b;var e=this.$6,f=this.$5;(e===0||e<=b)&&(f===0||b<f)&&(this.$5=b);this.$10(d,a,c)};b.forceRunNowIfScheduled=function(){this.$2?(clearTimeout(this.$2),this.$8()):this.$3&&(cancelAnimationFrame(this.$3),this.$8())};b.isScheduled=function(){return this.$2!==0||this.$3!==0};b.$10=function(a,b,c){var d=a+b,e=this.$6;if(e!==0&&d<e)return;e=this.ts;var f=this.$5;f!==0&&f<d?e<f&&this.$9(f,f-a,c):e<d&&this.$9(d,b,c)};b.$9=function(a,b,c){this.$3&&(cancelAnimationFrame(this.$3),this.$3=0);this.$7=c;this.ts=a;if(this.$2){c=a-this.$4;if(-16<c&&c<16)return;clearTimeout(this.$2)}this.$2=setTimeout(this.$8,b);this.$4=a};return a}();function h(a){if(!(a>=0))throw c("WAErr")("ShiftTimer must be given delayMs >= 0")}g.ShiftTimer=a}),98);
__d("encodeProtobuf",["WABinary","WAHex","WAProtoCompile","WAProtoConst","WAProtoUtils","WAProtoValidate"],(function(a,b,c,d,e,f,g){"use strict";var h=void 0,i=128;function a(a,b,c){c===void 0&&(c=new(d("WABinary").Binary)());d("WAProtoValidate").checkValid(a,b);o(c,b,a);h=void 0;return c}function b(){return h!==void 0?"Last encoded value for "+h:"No information known"}function c(a,b){a.writeVarInt(b)}function e(a,b){if(typeof b==="number"&&b<4503599627370496&&b>=-4503599627370496)a.writeVarInt(b>=0?2*b:2*-b-1);else{var c=new(d("WABinary").Binary)(),e;typeof b==="number"?(e=b<0,c.writeVarInt(e?-b:b)):(e=d("WAHex").hexLongIsNegative(b),c.writeVarIntFromHexLong(e?d("WAHex").negateHexLong(b):b));b=c.peek(function(){return c.readByteArray()});var f=b.byteLength;if(e){var g=0,h;do h=b[g],b[g]=h&i|(h&127)-1&127,g++;while(b[g-1]===255)}h=e?1:0;for(g=0;g<f;g++){e=b[g];var j=e&i|(e&63)<<1|h;h=(e&64)>>6;b[g]=j}h===1&&(b[f-1]|=i,c.writeInt8(1));a.writeBinary(c)}}function f(a,b){typeof b==="number"?a.writeVarInt(b):a.writeVarIntFromHexLong(b)}function j(a,b){a.writeVarInt(d("WABinary").numUtf8Bytes(b)),a.writeString(b)}function k(a,b){a.writeVarInt(b.byteLength),a.writeBuffer(b)}function l(a,b,c){a.writeWithVarIntLength(function(a,b){return o(a,b,c)},b)}var m=[void 0,c,f,c,f,e,e,function(a,b){a.writeVarInt(b?1:0)},c,function(a,b){typeof b==="number"?a.writeUint64(b,!0):a.writeHexLong(b,!0)},function(a,b){typeof b==="number"?a.writeInt64(b,!0):a.writeHexLong(b,!0)},function(a,b){a.writeFloat64(b,!0)},j,k,l,function(a,b){a.writeUint32(b,!0)},function(a,b){a.writeInt32(b,!0)},function(a,b){a.writeFloat32(b,!0)}];f=function(a){if(a==null)return void 0;var b=a;function c(a,c){for(var d=0;d<c.length;d++)b(a,c[d])}return function(a,b){a.writeWithVarIntLength(c,b)}};var n=m.map(f);function o(a,b,c){var e=d("WAProtoCompile").compileSpec(c),f=e.names,g=e.fields,i=e.types;e=e.meta;c=c.internalDefaults;for(var j=0;j<f.length;j++){var k=f[j],l=b[k];l==null&&c&&(l=c[k]);if(l!=null){h=k;k=g[j];var o=i[j],p=o&d("WAProtoConst").TYPE_MASK,q=e[j];k=k*8|d("WAProtoUtils").typeToEncType(o);if(o&d("WAProtoConst").FLAGS.PACKED){if(l.length>0){a.writeVarInt(k);var r=n[p];r(a,l,q)}}else if(o&d("WAProtoConst").FLAGS.REPEATED)for(r=0;r<l.length;r++){a.writeVarInt(k);o=m[p];o(a,l[r],q)}else if(p===d("WAProtoConst").TYPES.MAP)for(var o=l,r=Array.isArray(o),s=0,o=r?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=o.length)break;t=o[s++]}else{s=o.next();if(s.done)break;t=s.value}t=t;var u=t[0];t=t[1];a.writeVarInt(k);var v=q[0],w=q[1],x=typeof w==="object"?d("WAProtoConst").TYPES.MESSAGE:w,y=m[v],z=m[x];if(y==null||z==null)throw new Error("Invalid encoder for map key/value");var A=new(d("WABinary").Binary)(),B=1*8|d("WAProtoUtils").typeToEncType(v);A.writeVarInt(B);y(A,u,v);B=2*8|d("WAProtoUtils").typeToEncType(x);A.writeVarInt(B);z(A,t,w);a.writeVarInt(A.size());a.writeBinary(A)}else{a.writeVarInt(k);y=m[p];y(a,l,q)}}}}g.encodeProtobuf=a;g.encodeErrorInfo=b}),98);
__d("isInstamadilloEB",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("670")===!0}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSComputeOptimisticThreadCapabilities",["LSArrayGetObjectAt","LSComputeParticipantCapabilities","LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.createArray(),c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[1]=a[0],a})},function(e){return c.forEach(c.db.table(14).fetch([[[a[0],{lt:d[1]}],[a[0],{gt:d[1]}]]]),function(e){var f=e.item;return c.sequence([function(e){return c.storedProcedure(b("LSComputeParticipantCapabilities"),f.contactId,a[0]).then(function(a){return a=a,d[24]=a[0],a})},function(a){return d[25]=(d[0].push(d[24]),d[0])}])})},function(a){return d[2]=c.i64.cast([0,1073741823]),d[3]=c.i64.of_int32(d[0].length),c.i64.gt(d[3],c.i64.cast([0,0]))?c.loopAsync(d[3],function(a){return d[24]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[0],d[24]).then(function(a){return a=a,d[25]=a[0],d[26]=a[1],a})},function(a){return d[2]=c.i64.and_(d[2],d[25])}])}):c.resolve()},function(b){return d[4]=c.i64.of_int32(d[0].length),c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?c.sequence([function(b){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(b,e){var a=b.done;b=b.value;return a?d[24]=!1:(e=b.item,d[24]=c.i64.eq(e.contactTypeExact,c.i64.cast([0,16]))?!0:!1)})},function(a){return d[5]=d[24]}]):(e=b.item,d[5]=c.i64.eq(e.threadType,c.i64.cast([0,201]))?!0:!1)})},function(b){return d[7]=c.i64.cast([0,1083495711]),d[8]=c.i64.cast([0,1024]),d[9]=c.i64.cast([0,0]),d[10]=c.i64.cast([0,0]),d[11]=c.i64.cast([0,8650752]),d[12]=c.i64.cast([0,1024]),d[13]=c.i64.cast([0,0]),d[14]=c.i64.cast([0,0]),d[23]=d[5]?d[11]:d[7],c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[d[23],c.i64.cast([0,1])],d[15]=e[0],d[16]=e[1],e):(b=a.item,e=[d[23],b.threadType],d[15]=e[0],d[16]=e[1],e)})},function(a){return d[18]=c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,10]))),d[19]=c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,23]))),d[20]=c.createArray(),d[24]=(d[20].push(c.i64.eq(c.i64.cast([0,6]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,6]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,0]))):c.i64.cast([0,0])),d[20]),d[24]=(d[20].push(c.i64.eq(c.i64.cast([0,7]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,7]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,1]))):c.i64.cast([0,0])),d[20]),d[24]=(d[20].push(c.i64.eq(c.i64.cast([0,72]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,72]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,12]))):c.i64.cast([0,0])),d[20]),d[24]=(d[20].push(c.i64.eq(c.i64.cast([0,8]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,8]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,2]))):c.i64.cast([0,0])),d[20]),d[24]=(d[20].push(c.i64.eq(c.i64.cast([0,9]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,9]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,3]))):c.i64.cast([0,0])),d[20]),d[24]=(d[20].push(c.i64.eq(c.i64.cast([0,10]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,10]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,4]))):c.i64.cast([0,0])),d[20]),d[24]=(d[20].push(c.i64.eq(c.i64.cast([0,5]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,5]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,8]))):c.i64.cast([0,0])),d[20]),d[24]=(d[20].push(c.i64.eq(c.i64.cast([0,11]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,11]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,14]))):c.i64.cast([0,0])),d[20]),d[24]=(d[20].push(c.i64.eq(c.i64.cast([0,12]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,12]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,15]))):c.i64.cast([0,0])),d[20]),d[24]=(d[20].push(c.i64.eq(c.i64.cast([0,13]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,13]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,18]))):c.i64.cast([0,0])),d[20]),d[24]=(d[20].push(c.i64.eq(c.i64.cast([0,14]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,14]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,20]))):c.i64.cast([0,0])),d[20]),d[24]=(d[20].push(c.i64.eq(c.i64.cast([0,15]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,15]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,23]))):c.i64.cast([0,0])),d[20]),d[24]=(d[20].push(c.i64.eq(c.i64.cast([0,3]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,3]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,10]))):c.i64.cast([0,0])),d[20]),d[24]=(d[20].push(c.i64.eq(void 0,void 0)||c.i64.neq(c.i64.and_(c.i64.cast([0,0]),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,30]))):c.i64.cast([0,0])),d[20]),d[21]=c.i64.cast([0,0]),d[22]=c.i64.of_int32(d[20].length),c.i64.gt(d[22],c.i64.cast([0,0]))?c.loopAsync(d[22],function(a){return d[24]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[20],d[24]).then(function(a){return a=a,d[25]=a[0],d[26]=a[1],a})},function(a){return d[21]=c.i64.add(d[21],d[25])}])}):c.resolve()},function(a){return e[0]=c.i64.and_(d[21],c.i64.and_(c.i64.and_((c.i64.eq(d[16],c.i64.cast([0,1]))?c.i64.eq(d[4],c.i64.cast([0,0])):!0)?c.i64.eq(c.i64.and_(d[15],d[18]),c.i64.cast([0,0]))?d[15]:c.i64.sub(d[15],d[18]):d[15],c.i64.eq(d[16],c.i64.cast([0,2]))?c.i64.eq(c.i64.and_(d[15],d[19]),c.i64.cast([0,0]))?d[15]:c.i64.sub(d[15],d[19]):d[15]),(c.i64.eq(d[16],c.i64.cast([0,1]))?c.i64.neq(d[4],c.i64.cast([0,0])):!1)?d[15]:c.i64.xor(d[15],c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,12]))))))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxComputeOptimisticThreadCapabilitiesStoredProcedure";e.exports=a}),null);
__d("LSLocalApplyOptimisticGroupThread",["LSArrayGetObjectAt","LSCreateOfflineThreadingID","LSDeserializeFromJsonIntoDictionaryV2.nop","LSGetViewerFBID","LSInsertQuickReplyCTA","LSIssueNewTask","LSLocalApplyOptimisticMessage"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSCreateOfflineThreadingID"),d[0]).then(function(a){return a=a,d[1]=a[0],a})},function(e){return a[3]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),a[3]).then(function(a){return a=a,d[18]=a[0],a})},function(a){return d[19]=new c.Map(),d[25]="product_type",d[20]=d[18].get(d[25]),d[18],d[20]!==void 0?d[19].set(d[25],d[20]):0,d[26]="product_extras",d[21]=d[18].get(d[26]),d[18],d[21]?d[22]=!1:d[22]=!0,d[22]?c.resolve():c.sequence([function(a){return d[21]?d[27]=!1:d[27]=!0,d[27]?c.resolve(d[28]=void 0):c.sequence([function(a){return d[29]=d[21].get("__typename"),d[21],d[29]==="XMSGStoryReplyExtras"?c.resolve((d[31]=new c.Map(),d[34]="logging",d[32]=d[21].get(d[34]),d[21],d[32]?d[33]=!1:d[33]=!0,d[33]?0:(d[32]?d[35]=!1:d[35]=!0,d[35]?d[36]=void 0:(d[37]=new c.Map(),d[45]="story_author_fbid",d[38]=d[32].get(d[45]),d[32],d[38]!==void 0?d[37].set(d[45],d[38]):0,d[46]="camera_post_type",d[39]=d[32].get(d[46]),d[32],d[39]!==void 0?d[37].set(d[46],d[39]):0,d[47]="story_type",d[40]=d[32].get(d[47]),d[32],d[40]!==void 0?d[37].set(d[47],d[40]):0,d[48]="post_source",d[41]=d[32].get(d[48]),d[32],d[41]!==void 0?d[37].set(d[48],d[41]):0,d[49]="fb_post_type",d[42]=d[32].get(d[49]),d[32],d[42]!==void 0?d[37].set(d[49],d[42]):0,d[50]="conversation_starter_type",d[43]=d[32].get(d[50]),d[32],d[43]!==void 0?d[37].set(d[50],d[43]):0,d[51]="story_reply_type",d[44]=d[32].get(d[51]),d[32],d[44]!==void 0?d[37].set(d[51],d[44]):0,d[36]=d[37]),d[31].set(d[34],d[36])),d[30]=d[31])):c.sequence([function(a){return d[29]==="XMSGMarketplaceExtras"?c.sequence([function(a){return d[32]=new c.Map(),d[51]="listing_id",d[33]=d[21].get(d[51]),d[21],d[33]!==void 0?d[32].set(d[51],d[33]):0,d[52]="initial_clicked_component",d[34]=d[21].get(d[52]),d[21],d[34]!==void 0?d[32].set(d[52],d[34]):0,d[53]="initial_tracking",d[35]=d[21].get(d[53]),d[21],d[35]!==void 0?d[32].set(d[53],d[35]):0,d[54]="referral_surface",d[36]=d[21].get(d[54]),d[21],d[36]!==void 0?d[32].set(d[54],d[36]):0,d[55]="referral_story_type",d[37]=d[21].get(d[55]),d[21],d[37]!==void 0?d[32].set(d[55],d[37]):0,d[56]="referral_ui_component",d[38]=d[21].get(d[56]),d[21],d[38]!==void 0?d[32].set(d[56],d[38]):0,d[57]="surface",d[39]=d[21].get(d[57]),d[21],d[39]!==void 0?d[32].set(d[57],d[39]):0,d[58]="tracking",d[40]=d[21].get(d[58]),d[21],d[40]!==void 0?d[32].set(d[58],d[40]):0,d[59]="ui_component",d[41]=d[21].get(d[59]),d[21],d[41]!==void 0?d[32].set(d[59],d[41]):0,d[60]="ad_id",d[42]=d[21].get(d[60]),d[21],d[42]!==void 0?d[32].set(d[60],d[42]):0,d[61]="server_session_id",d[43]=d[21].get(d[61]),d[21],d[43]!==void 0?d[32].set(d[61],d[43]):0,d[62]="cf_page_id",d[44]=d[21].get(d[62]),d[21],d[44]!==void 0?d[32].set(d[62],d[44]):0,d[63]="live_shopping_video_id",d[45]=d[21].get(d[63]),d[21],d[45]!==void 0?d[32].set(d[63],d[45]):0,d[64]="logging_id",d[46]=d[21].get(d[64]),d[21],c.i64.neq(d[46],void 0)?d[32].set(d[64],d[46]):0,d[65]="photo_ids",d[47]=d[21].get(d[65]),d[21],d[47]?d[48]=!1:d[48]=!0,d[48]?c.resolve():c.sequence([function(a){return d[68]=c.createArray(),d[69]=c.i64.of_int32(d[47].length),c.i64.gt(d[69],c.i64.cast([0,0]))?c.loopAsync(d[69],function(a){return d[70]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[47],d[70]).then(function(a){return a=a,d[71]=a[0],d[72]=a[1],a})},function(a){return d[73]=(d[68].push(d[71]),d[68])}])}):c.resolve()},function(a){return d[32].set(d[65],d[68])}])},function(a){return d[66]="is_customized_message",d[49]=d[21].get(d[66]),d[21],d[49]!==void 0?d[32].set(d[66],d[49]):0,d[67]="referral_code",d[50]=d[21].get(d[67]),d[21],d[50]!==void 0?d[32].set(d[67],d[50]):0,d[31]=d[32]}]):c.sequence([function(a){return d[29]==="XMSGClickToMessengerAdExtras"?c.resolve((d[33]=new c.Map(),d[44]="encrypted_ads_token",d[34]=d[21].get(d[44]),d[21],d[34]!==void 0?d[33].set(d[44],d[34]):0,d[45]="product_type",d[35]=d[21].get(d[45]),d[21],d[35]!==void 0?d[33].set(d[45],d[35]):0,d[46]="post_id",d[36]=d[21].get(d[46]),d[21],d[36]!==void 0?d[33].set(d[46],d[36]):0,d[47]="ad_id",d[37]=d[21].get(d[47]),d[21],d[37]!==void 0?d[33].set(d[47],d[37]):0,d[48]="page_id",d[38]=d[21].get(d[48]),d[21],d[38]!==void 0?d[33].set(d[48],d[38]):0,d[49]="photo_id",d[39]=d[21].get(d[49]),d[21],d[39]!==void 0?d[33].set(d[49],d[39]):0,d[50]="photo_index",d[40]=d[21].get(d[50]),d[21],c.i64.neq(d[40],void 0)?d[33].set(d[50],d[40]):0,d[51]="fallback_url",d[41]=d[21].get(d[51]),d[21],d[41]!==void 0?d[33].set(d[51],d[41]):0,d[52]="product_id",d[42]=d[21].get(d[52]),d[21],d[42]!==void 0?d[33].set(d[52],d[42]):0,d[53]="user_id",d[43]=d[21].get(d[53]),d[21],d[43]!==void 0?d[33].set(d[53],d[43]):0,d[32]=d[33])):c.sequence([function(a){return d[29]==="XMSGZorroMessageExtras"?c.resolve((d[34]=new c.Map(),d[36]="is_enabled",d[35]=d[21].get(d[36]),d[21],d[35]!==void 0?d[34].set(d[36],d[35]):0,d[33]=d[34])):c.sequence([function(a){return d[29]==="XMSGGenAISuggestedPromptExtras"?c.resolve((d[35]=new c.Map(),d[38]="prompt_type",d[36]=d[21].get(d[38]),d[21],d[36]!==void 0?d[35].set(d[38],d[36]):0,d[39]="qpl_join_id",d[37]=d[21].get(d[39]),d[21],d[37]!==void 0?d[35].set(d[39],d[37]):0,d[34]=d[35])):c.sequence([function(a){return d[29]==="XMSGGenAIMultiModalExtras"?c.resolve((d[36]=new c.Map(),d[40]="should_skip_genai_eval",d[37]=d[21].get(d[40]),d[21],d[37]!==void 0?d[36].set(d[40],d[37]):0,d[41]="associated_multimodal_message_id",d[38]=d[21].get(d[41]),d[21],d[38]!==void 0?d[36].set(d[41],d[38]):0,d[42]="qpl_join_id",d[39]=d[21].get(d[42]),d[21],d[39]!==void 0?d[36].set(d[42],d[39]):0,d[35]=d[36])):c.sequence([function(a){return d[29]==="XMSGGenAIFlashImagineExtras"?c.resolve((d[37]=new c.Map(),d[40]="seed",d[38]=d[21].get(d[40]),d[21],c.i64.neq(d[38],void 0)?d[37].set(d[40],d[38]):0,d[41]="qpl_join_id",d[39]=d[21].get(d[41]),d[21],d[39]!==void 0?d[37].set(d[41],d[39]):0,d[36]=d[37])):c.sequence([function(a){return d[29]==="XMSGShareSheetExtras"?c.resolve((d[38]=new c.Map(),d[40]="recipient_selection_session_id",d[39]=d[21].get(d[40]),d[21],d[39]!==void 0?d[38].set(d[40],d[39]):0,d[37]=d[38])):c.sequence([function(a){return d[29]==="XMSGGenAIAssistantAPIExtras"?c.sequence([function(a){return d[39]=new c.Map(),d[65]="referrer_session_id",d[40]=d[21].get(d[65]),d[21],d[40]!==void 0?d[39].set(d[65],d[40]):0,d[66]="thread_session_id",d[41]=d[21].get(d[66]),d[21],d[41]!==void 0?d[39].set(d[66],d[41]):0,d[67]="prompt_id",d[42]=d[21].get(d[67]),d[21],d[42]!==void 0?d[39].set(d[67],d[42]):0,d[68]="prompt_type",d[43]=d[21].get(d[68]),d[21],d[43]!==void 0?d[39].set(d[68],d[43]):0,d[69]="qpl_join_id",d[44]=d[21].get(d[69]),d[21],d[44]!==void 0?d[39].set(d[69],d[44]):0,d[70]="meta_ai_prompt_type",d[45]=d[21].get(d[70]),d[21],d[45]!==void 0?d[39].set(d[70],d[45]):0,d[71]="is_subsequent_send",d[46]=d[21].get(d[71]),d[21],d[46]!==void 0?d[39].set(d[71],d[46]):0,d[72]="context_injection_type",d[47]=d[21].get(d[72]),d[21],d[47]!==void 0?d[39].set(d[72],d[47]):0,d[73]="context_injection_timestamp_ms",d[48]=d[21].get(d[73]),d[21],d[48]!==void 0?d[39].set(d[73],d[48]):0,d[74]="meta_ai_response_to_persist",d[49]=d[21].get(d[74]),d[21],d[49]?d[50]=!1:d[50]=!0,d[50]?c.resolve():c.sequence([function(a){return d[49]?d[84]=!1:d[84]=!0,d[84]?c.resolve(d[85]=void 0):c.sequence([function(a){return d[86]=new c.Map(),d[93]="text",d[87]=d[49].get(d[93]),d[49],d[87]!==void 0?d[86].set(d[93],d[87]):0,d[94]="bot_response_id",d[88]=d[49].get(d[94]),d[49],d[88]!==void 0?d[86].set(d[94],d[88]):0,d[95]="bot_request_id",d[89]=d[49].get(d[95]),d[49],d[89]!==void 0?d[86].set(d[95],d[89]):0,d[96]="external_search_params",d[90]=d[49].get(d[96]),d[49],d[90]?d[91]=!1:d[91]=!0,d[91]?c.resolve():c.sequence([function(a){return d[90]?d[98]=!1:d[98]=!0,d[98]?c.resolve(d[99]=void 0):c.sequence([function(a){return d[100]=new c.Map(),d[108]="search_result_uri",d[101]=d[90].get(d[108]),d[90],d[101]?d[102]=!1:d[102]=!0,d[102]?c.resolve():c.sequence([function(a){return d[101]?d[113]=!1:d[113]=!0,d[113]?c.resolve(d[114]=void 0):c.sequence([function(a){return d[115]=c.createArray(),d[116]=c.i64.of_int32(d[101].length),c.i64.gt(d[116],c.i64.cast([0,0]))?c.loopAsync(d[116],function(a){return d[117]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[101],d[117]).then(function(a){return a=a,d[118]=a[0],d[119]=a[1],a})},function(a){return d[120]=(d[115].push(d[118]),d[115])}])}):c.resolve()},function(a){return d[114]=d[115]}])},function(a){return d[100].set(d[108],d[114])}])},function(a){return d[109]="search_query",d[103]=d[90].get(d[109]),d[90],d[103]!==void 0?d[100].set(d[109],d[103]):0,d[110]="attribution_link",d[104]=d[90].get(d[110]),d[90],d[104]!==void 0?d[100].set(d[110],d[104]):0,d[111]="search_engine",d[105]=d[90].get(d[111]),d[90],d[105]!==void 0?d[100].set(d[111],d[105]):0,d[112]="references_title",d[106]=d[90].get(d[112]),d[90],d[106]?d[107]=!1:d[107]=!0,d[107]?c.resolve():c.sequence([function(a){return d[106]?d[113]=!1:d[113]=!0,d[113]?c.resolve(d[114]=void 0):c.sequence([function(a){return d[115]=c.createArray(),d[116]=c.i64.of_int32(d[106].length),c.i64.gt(d[116],c.i64.cast([0,0]))?c.loopAsync(d[116],function(a){return d[117]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[106],d[117]).then(function(a){return a=a,d[118]=a[0],d[119]=a[1],a})},function(a){return d[120]=(d[115].push(d[118]),d[115])}])}):c.resolve()},function(a){return d[114]=d[115]}])},function(a){return d[100].set(d[112],d[114])}])},function(a){return d[99]=d[100]}])},function(a){return d[86].set(d[96],d[99])}])},function(a){return d[97]="followup_prompt_text",d[92]=d[49].get(d[97]),d[49],d[92]!==void 0?d[86].set(d[97],d[92]):0,d[85]=d[86]}])},function(a){return d[39].set(d[74],d[85])}])},function(a){return d[75]="gql_dark_test_qpl_join_id",d[51]=d[21].get(d[75]),d[21],d[51]!==void 0?d[39].set(d[75],d[51]):0,d[76]="gql_dark_test_client_start_time",d[52]=d[21].get(d[76]),d[21],d[52]!==void 0?d[39].set(d[76],d[52]):0,d[77]="prompt_context",d[53]=d[21].get(d[77]),d[21],d[53]?d[54]=!1:d[54]=!0,d[54]?0:(d[53]?d[84]=!1:d[84]=!0,d[84]?d[85]=void 0:(d[86]=new c.Map(),d[89]="context_token",d[87]=d[53].get(d[89]),d[53],d[87]!==void 0?d[86].set(d[89],d[87]):0,d[90]="context_token_type",d[88]=d[53].get(d[90]),d[53],c.i64.neq(d[88],void 0)?d[86].set(d[90],d[88]):0,d[85]=d[86]),d[39].set(d[77],d[85])),d[78]="imagine_flash_extras",d[55]=d[21].get(d[78]),d[21],d[55]?d[56]=!1:d[56]=!0,d[56]?0:(d[55]?d[84]=!1:d[84]=!0,d[84]?d[85]=void 0:(d[86]=new c.Map(),d[89]="seed",d[87]=d[55].get(d[89]),d[55],c.i64.neq(d[87],void 0)?d[86].set(d[89],d[87]):0,d[90]="qpl_join_id",d[88]=d[55].get(d[90]),d[55],d[88]!==void 0?d[86].set(d[90],d[88]):0,d[85]=d[86]),d[39].set(d[78],d[85])),d[79]="conversation_marker_id",d[57]=d[21].get(d[79]),d[21],d[57]!==void 0?d[39].set(d[79],d[57]):0,d[80]="multi_modal_extras",d[58]=d[21].get(d[80]),d[21],d[58]?d[59]=!1:d[59]=!0,d[59]?0:(d[58]?d[84]=!1:d[84]=!0,d[84]?d[85]=void 0:(d[86]=new c.Map(),d[90]="should_skip_genai_eval",d[87]=d[58].get(d[90]),d[58],d[87]!==void 0?d[86].set(d[90],d[87]):0,d[91]="associated_multimodal_message_id",d[88]=d[58].get(d[91]),d[58],d[88]!==void 0?d[86].set(d[91],d[88]):0,d[92]="qpl_join_id",d[89]=d[58].get(d[92]),d[58],d[89]!==void 0?d[86].set(d[92],d[89]):0,d[85]=d[86]),d[39].set(d[80],d[85])),d[81]="ads_extras",d[60]=d[21].get(d[81]),d[21],d[60]?d[61]=!1:d[61]=!0,d[61]?0:(d[60]?d[84]=!1:d[84]=!0,d[84]?d[85]=void 0:(d[86]=new c.Map(),d[88]="context",d[87]=d[60].get(d[88]),d[60],d[87]!==void 0?d[86].set(d[88],d[87]):0,d[85]=d[86]),d[39].set(d[81],d[85])),d[82]="suggested_prompt_extras",d[62]=d[21].get(d[82]),d[21],d[62]?d[63]=!1:d[63]=!0,d[63]?0:(d[62]?d[84]=!1:d[84]=!0,d[84]?d[85]=void 0:(d[86]=new c.Map(),d[89]="prompt_type",d[87]=d[62].get(d[89]),d[62],d[87]!==void 0?d[86].set(d[89],d[87]):0,d[90]="qpl_join_id",d[88]=d[62].get(d[90]),d[62],d[88]!==void 0?d[86].set(d[90],d[88]):0,d[85]=d[86]),d[39].set(d[82],d[85])),d[83]="disable_server_mqtt_typing_indicator",d[64]=d[21].get(d[83]),d[21],d[64]!==void 0?d[39].set(d[83],d[64]):0,d[38]=d[39]}]):c.sequence([function(a){return d[29]==="XMSGProductHighlightExtras"?c.resolve((d[40]=new c.Map(),d[43]="product_highlight_type",d[41]=d[21].get(d[43]),d[21],d[41]!==void 0?d[40].set(d[43],d[41]):0,d[44]="conversation_marker",d[42]=d[21].get(d[44]),d[21],d[42]!==void 0?d[40].set(d[44],d[42]):0,d[39]=d[40])):c.sequence([function(a){return d[29]==="XMSGMagicMessengerExtras"?c.resolve((d[41]=new c.Map(),d[43]="is_magic_thread",d[42]=d[21].get(d[43]),d[21],d[42]!==void 0?d[41].set(d[43],d[42]):0,d[40]=d[41])):c.sequence([function(a){return d[29]==="XMSGAdsAIExtras"?c.resolve((d[42]=new c.Map(),d[44]="context",d[43]=d[21].get(d[44]),d[21],d[43]!==void 0?d[42].set(d[44],d[43]):0,d[41]=d[42])):c.sequence([function(a){return function(a){c.logger(a).warn(a)}(["Unknown subtype for LSXMSGMessageSendProductExtrasUnion: ","",d[29]].join("")),d[42]=new c.Map(),d[43]=d[21].keys(),d[44]=c.i64.of_int32(d[43].length),c.i64.gt(d[44],c.i64.cast([0,0]))?c.loopAsync(d[44],function(a){return d[45]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[43],d[45]).then(function(a){return a=a,d[46]=a[0],d[47]=a[1],a})},function(a){return d[48]=d[21].get(d[46]),d[21],d[42].set(d[46],d[48])}])}):c.resolve()},function(a){return d[41]=d[42]}])},function(a){return d[40]=d[41]}])},function(a){return d[39]=d[40]}])},function(a){return d[38]=d[39]}])},function(a){return d[37]=d[38]}])},function(a){return d[36]=d[37]}])},function(a){return d[35]=d[36]}])},function(a){return d[34]=d[35]}])},function(a){return d[33]=d[34]}])},function(a){return d[32]=d[33]}])},function(a){return d[31]=d[32]}])},function(a){return d[30]=d[31]}])},function(a){return d[30].set("__typename",d[29]),d[28]=d[30]}])},function(a){return d[19].set(d[26],d[28])}])},function(a){return d[23]=d[19].get("product_extras"),d[19],d[23]!==void 0?(d[27]=d[23].get("__typename"),d[23],d[27]==="XMSGClickToMessengerAdExtras"?(d[30]=new c.Map(),d[41]="encrypted_ads_token",d[31]=d[23].get(d[41]),d[23],d[31]!==void 0?d[30].set(d[41],d[31]):0,d[42]="product_type",d[32]=d[23].get(d[42]),d[23],d[32]!==void 0?d[30].set(d[42],d[32]):0,d[43]="post_id",d[33]=d[23].get(d[43]),d[23],d[33]!==void 0?d[30].set(d[43],d[33]):0,d[44]="ad_id",d[34]=d[23].get(d[44]),d[23],d[34]!==void 0?d[30].set(d[44],d[34]):0,d[45]="page_id",d[35]=d[23].get(d[45]),d[23],d[35]!==void 0?d[30].set(d[45],d[35]):0,d[46]="photo_id",d[36]=d[23].get(d[46]),d[23],d[36]!==void 0?d[30].set(d[46],d[36]):0,d[47]="photo_index",d[37]=d[23].get(d[47]),d[23],c.i64.neq(d[37],void 0)?d[30].set(d[47],d[37]):0,d[48]="fallback_url",d[38]=d[23].get(d[48]),d[23],d[38]!==void 0?d[30].set(d[48],d[38]):0,d[49]="product_id",d[39]=d[23].get(d[49]),d[23],d[39]!==void 0?d[30].set(d[49],d[39]):0,d[50]="user_id",d[40]=d[23].get(d[50]),d[23],d[40]!==void 0?d[30].set(d[50],d[40]):0,d[28]=d[30]):d[28]=void 0,d[28]!==void 0?(d[30]=d[28].get("page_id"),d[28],d[29]=d[30]):d[29]=void 0,d[24]=d[29]):d[24]=void 0,d[2]=d[24]}]):c.resolve(d[2]=void 0)},function(e){return a[3]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),a[3]).then(function(a){return a=a,d[18]=a[0],a})},function(a){return d[19]=new c.Map(),d[25]="product_type",d[20]=d[18].get(d[25]),d[18],d[20]!==void 0?d[19].set(d[25],d[20]):0,d[26]="product_extras",d[21]=d[18].get(d[26]),d[18],d[21]?d[22]=!1:d[22]=!0,d[22]?c.resolve():c.sequence([function(a){return d[21]?d[27]=!1:d[27]=!0,d[27]?c.resolve(d[28]=void 0):c.sequence([function(a){return d[29]=d[21].get("__typename"),d[21],d[29]==="XMSGStoryReplyExtras"?c.resolve((d[31]=new c.Map(),d[34]="logging",d[32]=d[21].get(d[34]),d[21],d[32]?d[33]=!1:d[33]=!0,d[33]?0:(d[32]?d[35]=!1:d[35]=!0,d[35]?d[36]=void 0:(d[37]=new c.Map(),d[45]="story_author_fbid",d[38]=d[32].get(d[45]),d[32],d[38]!==void 0?d[37].set(d[45],d[38]):0,d[46]="camera_post_type",d[39]=d[32].get(d[46]),d[32],d[39]!==void 0?d[37].set(d[46],d[39]):0,d[47]="story_type",d[40]=d[32].get(d[47]),d[32],d[40]!==void 0?d[37].set(d[47],d[40]):0,d[48]="post_source",d[41]=d[32].get(d[48]),d[32],d[41]!==void 0?d[37].set(d[48],d[41]):0,d[49]="fb_post_type",d[42]=d[32].get(d[49]),d[32],d[42]!==void 0?d[37].set(d[49],d[42]):0,d[50]="conversation_starter_type",d[43]=d[32].get(d[50]),d[32],d[43]!==void 0?d[37].set(d[50],d[43]):0,d[51]="story_reply_type",d[44]=d[32].get(d[51]),d[32],d[44]!==void 0?d[37].set(d[51],d[44]):0,d[36]=d[37]),d[31].set(d[34],d[36])),d[30]=d[31])):c.sequence([function(a){return d[29]==="XMSGMarketplaceExtras"?c.sequence([function(a){return d[32]=new c.Map(),d[51]="listing_id",d[33]=d[21].get(d[51]),d[21],d[33]!==void 0?d[32].set(d[51],d[33]):0,d[52]="initial_clicked_component",d[34]=d[21].get(d[52]),d[21],d[34]!==void 0?d[32].set(d[52],d[34]):0,d[53]="initial_tracking",d[35]=d[21].get(d[53]),d[21],d[35]!==void 0?d[32].set(d[53],d[35]):0,d[54]="referral_surface",d[36]=d[21].get(d[54]),d[21],d[36]!==void 0?d[32].set(d[54],d[36]):0,d[55]="referral_story_type",d[37]=d[21].get(d[55]),d[21],d[37]!==void 0?d[32].set(d[55],d[37]):0,d[56]="referral_ui_component",d[38]=d[21].get(d[56]),d[21],d[38]!==void 0?d[32].set(d[56],d[38]):0,d[57]="surface",d[39]=d[21].get(d[57]),d[21],d[39]!==void 0?d[32].set(d[57],d[39]):0,d[58]="tracking",d[40]=d[21].get(d[58]),d[21],d[40]!==void 0?d[32].set(d[58],d[40]):0,d[59]="ui_component",d[41]=d[21].get(d[59]),d[21],d[41]!==void 0?d[32].set(d[59],d[41]):0,d[60]="ad_id",d[42]=d[21].get(d[60]),d[21],d[42]!==void 0?d[32].set(d[60],d[42]):0,d[61]="server_session_id",d[43]=d[21].get(d[61]),d[21],d[43]!==void 0?d[32].set(d[61],d[43]):0,d[62]="cf_page_id",d[44]=d[21].get(d[62]),d[21],d[44]!==void 0?d[32].set(d[62],d[44]):0,d[63]="live_shopping_video_id",d[45]=d[21].get(d[63]),d[21],d[45]!==void 0?d[32].set(d[63],d[45]):0,d[64]="logging_id",d[46]=d[21].get(d[64]),d[21],c.i64.neq(d[46],void 0)?d[32].set(d[64],d[46]):0,d[65]="photo_ids",d[47]=d[21].get(d[65]),d[21],d[47]?d[48]=!1:d[48]=!0,d[48]?c.resolve():c.sequence([function(a){return d[68]=c.createArray(),d[69]=c.i64.of_int32(d[47].length),c.i64.gt(d[69],c.i64.cast([0,0]))?c.loopAsync(d[69],function(a){return d[70]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[47],d[70]).then(function(a){return a=a,d[71]=a[0],d[72]=a[1],a})},function(a){return d[73]=(d[68].push(d[71]),d[68])}])}):c.resolve()},function(a){return d[32].set(d[65],d[68])}])},function(a){return d[66]="is_customized_message",d[49]=d[21].get(d[66]),d[21],d[49]!==void 0?d[32].set(d[66],d[49]):0,d[67]="referral_code",d[50]=d[21].get(d[67]),d[21],d[50]!==void 0?d[32].set(d[67],d[50]):0,d[31]=d[32]}]):c.sequence([function(a){return d[29]==="XMSGClickToMessengerAdExtras"?c.resolve((d[33]=new c.Map(),d[44]="encrypted_ads_token",d[34]=d[21].get(d[44]),d[21],d[34]!==void 0?d[33].set(d[44],d[34]):0,d[45]="product_type",d[35]=d[21].get(d[45]),d[21],d[35]!==void 0?d[33].set(d[45],d[35]):0,d[46]="post_id",d[36]=d[21].get(d[46]),d[21],d[36]!==void 0?d[33].set(d[46],d[36]):0,d[47]="ad_id",d[37]=d[21].get(d[47]),d[21],d[37]!==void 0?d[33].set(d[47],d[37]):0,d[48]="page_id",d[38]=d[21].get(d[48]),d[21],d[38]!==void 0?d[33].set(d[48],d[38]):0,d[49]="photo_id",d[39]=d[21].get(d[49]),d[21],d[39]!==void 0?d[33].set(d[49],d[39]):0,d[50]="photo_index",d[40]=d[21].get(d[50]),d[21],c.i64.neq(d[40],void 0)?d[33].set(d[50],d[40]):0,d[51]="fallback_url",d[41]=d[21].get(d[51]),d[21],d[41]!==void 0?d[33].set(d[51],d[41]):0,d[52]="product_id",d[42]=d[21].get(d[52]),d[21],d[42]!==void 0?d[33].set(d[52],d[42]):0,d[53]="user_id",d[43]=d[21].get(d[53]),d[21],d[43]!==void 0?d[33].set(d[53],d[43]):0,d[32]=d[33])):c.sequence([function(a){return d[29]==="XMSGZorroMessageExtras"?c.resolve((d[34]=new c.Map(),d[36]="is_enabled",d[35]=d[21].get(d[36]),d[21],d[35]!==void 0?d[34].set(d[36],d[35]):0,d[33]=d[34])):c.sequence([function(a){return d[29]==="XMSGGenAISuggestedPromptExtras"?c.resolve((d[35]=new c.Map(),d[38]="prompt_type",d[36]=d[21].get(d[38]),d[21],d[36]!==void 0?d[35].set(d[38],d[36]):0,d[39]="qpl_join_id",d[37]=d[21].get(d[39]),d[21],d[37]!==void 0?d[35].set(d[39],d[37]):0,d[34]=d[35])):c.sequence([function(a){return d[29]==="XMSGGenAIMultiModalExtras"?c.resolve((d[36]=new c.Map(),d[40]="should_skip_genai_eval",d[37]=d[21].get(d[40]),d[21],d[37]!==void 0?d[36].set(d[40],d[37]):0,d[41]="associated_multimodal_message_id",d[38]=d[21].get(d[41]),d[21],d[38]!==void 0?d[36].set(d[41],d[38]):0,d[42]="qpl_join_id",d[39]=d[21].get(d[42]),d[21],d[39]!==void 0?d[36].set(d[42],d[39]):0,d[35]=d[36])):c.sequence([function(a){return d[29]==="XMSGGenAIFlashImagineExtras"?c.resolve((d[37]=new c.Map(),d[40]="seed",d[38]=d[21].get(d[40]),d[21],c.i64.neq(d[38],void 0)?d[37].set(d[40],d[38]):0,d[41]="qpl_join_id",d[39]=d[21].get(d[41]),d[21],d[39]!==void 0?d[37].set(d[41],d[39]):0,d[36]=d[37])):c.sequence([function(a){return d[29]==="XMSGShareSheetExtras"?c.resolve((d[38]=new c.Map(),d[40]="recipient_selection_session_id",d[39]=d[21].get(d[40]),d[21],d[39]!==void 0?d[38].set(d[40],d[39]):0,d[37]=d[38])):c.sequence([function(a){return d[29]==="XMSGGenAIAssistantAPIExtras"?c.sequence([function(a){return d[39]=new c.Map(),d[65]="referrer_session_id",d[40]=d[21].get(d[65]),d[21],d[40]!==void 0?d[39].set(d[65],d[40]):0,d[66]="thread_session_id",d[41]=d[21].get(d[66]),d[21],d[41]!==void 0?d[39].set(d[66],d[41]):0,d[67]="prompt_id",d[42]=d[21].get(d[67]),d[21],d[42]!==void 0?d[39].set(d[67],d[42]):0,d[68]="prompt_type",d[43]=d[21].get(d[68]),d[21],d[43]!==void 0?d[39].set(d[68],d[43]):0,d[69]="qpl_join_id",d[44]=d[21].get(d[69]),d[21],d[44]!==void 0?d[39].set(d[69],d[44]):0,d[70]="meta_ai_prompt_type",d[45]=d[21].get(d[70]),d[21],d[45]!==void 0?d[39].set(d[70],d[45]):0,d[71]="is_subsequent_send",d[46]=d[21].get(d[71]),d[21],d[46]!==void 0?d[39].set(d[71],d[46]):0,d[72]="context_injection_type",d[47]=d[21].get(d[72]),d[21],d[47]!==void 0?d[39].set(d[72],d[47]):0,d[73]="context_injection_timestamp_ms",d[48]=d[21].get(d[73]),d[21],d[48]!==void 0?d[39].set(d[73],d[48]):0,d[74]="meta_ai_response_to_persist",d[49]=d[21].get(d[74]),d[21],d[49]?d[50]=!1:d[50]=!0,d[50]?c.resolve():c.sequence([function(a){return d[49]?d[84]=!1:d[84]=!0,d[84]?c.resolve(d[85]=void 0):c.sequence([function(a){return d[86]=new c.Map(),d[93]="text",d[87]=d[49].get(d[93]),d[49],d[87]!==void 0?d[86].set(d[93],d[87]):0,d[94]="bot_response_id",d[88]=d[49].get(d[94]),d[49],d[88]!==void 0?d[86].set(d[94],d[88]):0,d[95]="bot_request_id",d[89]=d[49].get(d[95]),d[49],d[89]!==void 0?d[86].set(d[95],d[89]):0,d[96]="external_search_params",d[90]=d[49].get(d[96]),d[49],d[90]?d[91]=!1:d[91]=!0,d[91]?c.resolve():c.sequence([function(a){return d[90]?d[98]=!1:d[98]=!0,d[98]?c.resolve(d[99]=void 0):c.sequence([function(a){return d[100]=new c.Map(),d[108]="search_result_uri",d[101]=d[90].get(d[108]),d[90],d[101]?d[102]=!1:d[102]=!0,d[102]?c.resolve():c.sequence([function(a){return d[101]?d[113]=!1:d[113]=!0,d[113]?c.resolve(d[114]=void 0):c.sequence([function(a){return d[115]=c.createArray(),d[116]=c.i64.of_int32(d[101].length),c.i64.gt(d[116],c.i64.cast([0,0]))?c.loopAsync(d[116],function(a){return d[117]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[101],d[117]).then(function(a){return a=a,d[118]=a[0],d[119]=a[1],a})},function(a){return d[120]=(d[115].push(d[118]),d[115])}])}):c.resolve()},function(a){return d[114]=d[115]}])},function(a){return d[100].set(d[108],d[114])}])},function(a){return d[109]="search_query",d[103]=d[90].get(d[109]),d[90],d[103]!==void 0?d[100].set(d[109],d[103]):0,d[110]="attribution_link",d[104]=d[90].get(d[110]),d[90],d[104]!==void 0?d[100].set(d[110],d[104]):0,d[111]="search_engine",d[105]=d[90].get(d[111]),d[90],d[105]!==void 0?d[100].set(d[111],d[105]):0,d[112]="references_title",d[106]=d[90].get(d[112]),d[90],d[106]?d[107]=!1:d[107]=!0,d[107]?c.resolve():c.sequence([function(a){return d[106]?d[113]=!1:d[113]=!0,d[113]?c.resolve(d[114]=void 0):c.sequence([function(a){return d[115]=c.createArray(),d[116]=c.i64.of_int32(d[106].length),c.i64.gt(d[116],c.i64.cast([0,0]))?c.loopAsync(d[116],function(a){return d[117]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[106],d[117]).then(function(a){return a=a,d[118]=a[0],d[119]=a[1],a})},function(a){return d[120]=(d[115].push(d[118]),d[115])}])}):c.resolve()},function(a){return d[114]=d[115]}])},function(a){return d[100].set(d[112],d[114])}])},function(a){return d[99]=d[100]}])},function(a){return d[86].set(d[96],d[99])}])},function(a){return d[97]="followup_prompt_text",d[92]=d[49].get(d[97]),d[49],d[92]!==void 0?d[86].set(d[97],d[92]):0,d[85]=d[86]}])},function(a){return d[39].set(d[74],d[85])}])},function(a){return d[75]="gql_dark_test_qpl_join_id",d[51]=d[21].get(d[75]),d[21],d[51]!==void 0?d[39].set(d[75],d[51]):0,d[76]="gql_dark_test_client_start_time",d[52]=d[21].get(d[76]),d[21],d[52]!==void 0?d[39].set(d[76],d[52]):0,d[77]="prompt_context",d[53]=d[21].get(d[77]),d[21],d[53]?d[54]=!1:d[54]=!0,d[54]?0:(d[53]?d[84]=!1:d[84]=!0,d[84]?d[85]=void 0:(d[86]=new c.Map(),d[89]="context_token",d[87]=d[53].get(d[89]),d[53],d[87]!==void 0?d[86].set(d[89],d[87]):0,d[90]="context_token_type",d[88]=d[53].get(d[90]),d[53],c.i64.neq(d[88],void 0)?d[86].set(d[90],d[88]):0,d[85]=d[86]),d[39].set(d[77],d[85])),d[78]="imagine_flash_extras",d[55]=d[21].get(d[78]),d[21],d[55]?d[56]=!1:d[56]=!0,d[56]?0:(d[55]?d[84]=!1:d[84]=!0,d[84]?d[85]=void 0:(d[86]=new c.Map(),d[89]="seed",d[87]=d[55].get(d[89]),d[55],c.i64.neq(d[87],void 0)?d[86].set(d[89],d[87]):0,d[90]="qpl_join_id",d[88]=d[55].get(d[90]),d[55],d[88]!==void 0?d[86].set(d[90],d[88]):0,d[85]=d[86]),d[39].set(d[78],d[85])),d[79]="conversation_marker_id",d[57]=d[21].get(d[79]),d[21],d[57]!==void 0?d[39].set(d[79],d[57]):0,d[80]="multi_modal_extras",d[58]=d[21].get(d[80]),d[21],d[58]?d[59]=!1:d[59]=!0,d[59]?0:(d[58]?d[84]=!1:d[84]=!0,d[84]?d[85]=void 0:(d[86]=new c.Map(),d[90]="should_skip_genai_eval",d[87]=d[58].get(d[90]),d[58],d[87]!==void 0?d[86].set(d[90],d[87]):0,d[91]="associated_multimodal_message_id",d[88]=d[58].get(d[91]),d[58],d[88]!==void 0?d[86].set(d[91],d[88]):0,d[92]="qpl_join_id",d[89]=d[58].get(d[92]),d[58],d[89]!==void 0?d[86].set(d[92],d[89]):0,d[85]=d[86]),d[39].set(d[80],d[85])),d[81]="ads_extras",d[60]=d[21].get(d[81]),d[21],d[60]?d[61]=!1:d[61]=!0,d[61]?0:(d[60]?d[84]=!1:d[84]=!0,d[84]?d[85]=void 0:(d[86]=new c.Map(),d[88]="context",d[87]=d[60].get(d[88]),d[60],d[87]!==void 0?d[86].set(d[88],d[87]):0,d[85]=d[86]),d[39].set(d[81],d[85])),d[82]="suggested_prompt_extras",d[62]=d[21].get(d[82]),d[21],d[62]?d[63]=!1:d[63]=!0,d[63]?0:(d[62]?d[84]=!1:d[84]=!0,d[84]?d[85]=void 0:(d[86]=new c.Map(),d[89]="prompt_type",d[87]=d[62].get(d[89]),d[62],d[87]!==void 0?d[86].set(d[89],d[87]):0,d[90]="qpl_join_id",d[88]=d[62].get(d[90]),d[62],d[88]!==void 0?d[86].set(d[90],d[88]):0,d[85]=d[86]),d[39].set(d[82],d[85])),d[83]="disable_server_mqtt_typing_indicator",d[64]=d[21].get(d[83]),d[21],d[64]!==void 0?d[39].set(d[83],d[64]):0,d[38]=d[39]}]):c.sequence([function(a){return d[29]==="XMSGProductHighlightExtras"?c.resolve((d[40]=new c.Map(),d[43]="product_highlight_type",d[41]=d[21].get(d[43]),d[21],d[41]!==void 0?d[40].set(d[43],d[41]):0,d[44]="conversation_marker",d[42]=d[21].get(d[44]),d[21],d[42]!==void 0?d[40].set(d[44],d[42]):0,d[39]=d[40])):c.sequence([function(a){return d[29]==="XMSGMagicMessengerExtras"?c.resolve((d[41]=new c.Map(),d[43]="is_magic_thread",d[42]=d[21].get(d[43]),d[21],d[42]!==void 0?d[41].set(d[43],d[42]):0,d[40]=d[41])):c.sequence([function(a){return d[29]==="XMSGAdsAIExtras"?c.resolve((d[42]=new c.Map(),d[44]="context",d[43]=d[21].get(d[44]),d[21],d[43]!==void 0?d[42].set(d[44],d[43]):0,d[41]=d[42])):c.sequence([function(a){return function(a){c.logger(a).warn(a)}(["Unknown subtype for LSXMSGMessageSendProductExtrasUnion: ","",d[29]].join("")),d[42]=new c.Map(),d[43]=d[21].keys(),d[44]=c.i64.of_int32(d[43].length),c.i64.gt(d[44],c.i64.cast([0,0]))?c.loopAsync(d[44],function(a){return d[45]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[43],d[45]).then(function(a){return a=a,d[46]=a[0],d[47]=a[1],a})},function(a){return d[48]=d[21].get(d[46]),d[21],d[42].set(d[46],d[48])}])}):c.resolve()},function(a){return d[41]=d[42]}])},function(a){return d[40]=d[41]}])},function(a){return d[39]=d[40]}])},function(a){return d[38]=d[39]}])},function(a){return d[37]=d[38]}])},function(a){return d[36]=d[37]}])},function(a){return d[35]=d[36]}])},function(a){return d[34]=d[35]}])},function(a){return d[33]=d[34]}])},function(a){return d[32]=d[33]}])},function(a){return d[31]=d[32]}])},function(a){return d[30]=d[31]}])},function(a){return d[30].set("__typename",d[29]),d[28]=d[30]}])},function(a){return d[19].set(d[26],d[28])}])},function(a){return d[23]=d[19].get("product_extras"),d[19],d[23]!==void 0?(d[27]=d[23].get("__typename"),d[23],d[27]==="XMSGClickToMessengerAdExtras"?(d[30]=new c.Map(),d[41]="encrypted_ads_token",d[31]=d[23].get(d[41]),d[23],d[31]!==void 0?d[30].set(d[41],d[31]):0,d[42]="product_type",d[32]=d[23].get(d[42]),d[23],d[32]!==void 0?d[30].set(d[42],d[32]):0,d[43]="post_id",d[33]=d[23].get(d[43]),d[23],d[33]!==void 0?d[30].set(d[43],d[33]):0,d[44]="ad_id",d[34]=d[23].get(d[44]),d[23],d[34]!==void 0?d[30].set(d[44],d[34]):0,d[45]="page_id",d[35]=d[23].get(d[45]),d[23],d[35]!==void 0?d[30].set(d[45],d[35]):0,d[46]="photo_id",d[36]=d[23].get(d[46]),d[23],d[36]!==void 0?d[30].set(d[46],d[36]):0,d[47]="photo_index",d[37]=d[23].get(d[47]),d[23],c.i64.neq(d[37],void 0)?d[30].set(d[47],d[37]):0,d[48]="fallback_url",d[38]=d[23].get(d[48]),d[23],d[38]!==void 0?d[30].set(d[48],d[38]):0,d[49]="product_id",d[39]=d[23].get(d[49]),d[23],d[39]!==void 0?d[30].set(d[49],d[39]):0,d[50]="user_id",d[40]=d[23].get(d[50]),d[23],d[40]!==void 0?d[30].set(d[50],d[40]):0,d[28]=d[30]):d[28]=void 0,d[28]!==void 0?(d[30]=d[28].get("product_type"),d[28],d[29]=d[30]):d[29]=void 0,d[24]=d[29]):d[24]=void 0,d[3]=d[24]}]):c.resolve(d[3]=void 0)},function(a){return d[3]==="CTM"?(d[2]!==void 0?d[18]=c.i64.from_string(d[2]):d[18]=d[1],d[4]=d[18]):d[4]=d[1],d[5]=c.i64.cast([0,1083495711]),d[6]=c.i64.cast([0,1024]),d[7]=c.i64.cast([0,0]),d[8]=c.i64.cast([0,0]),void 0?d[9]=!1:d[9]=!0,d[9]?(a=["",void 0,void 0,void 0,void 0],d[10]=a[0],d[11]=a[1],d[12]=a[2],d[13]=a[3],d[14]=a[4],a):(d[18]=(void 0).get("nullstate_description_text1"),void 0,d[18]!==void 0?d[19]=d[18]:d[19]="",d[20]=(void 0).get("nullstate_description_text2"),void 0,d[21]=(void 0).get("nullstate_description_text3"),void 0,d[22]=(void 0).get("nullstate_description_text4"),void 0,d[23]=(void 0).get("nullstate_description_text5"),void 0,a=[d[19],d[20],d[21],d[22],d[23]],d[10]=a[0],d[11]=a[1],d[12]=a[2],d[13]=a[3],d[14]=a[4],a),c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[15]=a[0],a})},function(a){return c.forEach(c.filter(c.db.table(9).fetch([[[d[4]]]]),function(a){return c.i64.eq(a.threadKey,d[4])&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:d[4],mailboxType:c.i64.cast([0,0]),threadType:c.i64.cast([0,2]),clientThreadKey:d[4],folderName:"inbox",parentThreadKey:c.i64.cast([0,0]),lastActivityTimestampMs:c.i64.cast([0,0]),lastReadWatermarkTimestampMs:c.i64.cast([0,0]),snippetHasEmoji:!1,snippetSenderContactId:d[15],ongoingCallState:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),capabilities:d[5],capabilities2:d[6],capabilities3:d[7],capabilities4:d[8],nullstateDescriptionText1:d[10],nullstateDescriptionText2:d[11],nullstateDescriptionText3:d[12],threadName:a[2]})},function(a){return d[16]=c.createArray(),c.resolve()},function(b){return a[3]!==void 0?c.db.table(312).add({threadKey:d[4],metadata:a[3]}):c.resolve()},function(e){return d[17]=c.i64.of_int32(a[0].length),c.i64.gt(d[17],c.i64.cast([0,0]))?c.loopAsync(d[17],function(e){return d[18]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[0],d[18]).then(function(a){return a=a,d[19]=a[0],d[20]=a[1],a})},function(a){return c.forEach(c.filter(c.db.table(14).fetch([[[d[4],d[19]]]]),function(a){return c.i64.eq(a.threadKey,d[4])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(a.contactId,d[19])&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(a){return c.db.table(14).add({threadKey:d[4],contactId:d[19],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),isModerator:!1})}])}):c.resolve()},function(a){return e[0]=d[4]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxLocalApplyOptimisticGroupThreadStoredProcedure";e.exports=a}),null);
__d("LSCreateGroupThreadWithAdminText",["LSCreateOfflineThreadingID","LSIssueNewTask","LSLocalApplyOptimisticGroupThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return c.storedProcedure(b("LSLocalApplyOptimisticGroupThread"),a[0],a[1],a[2],void 0).then(function(a){return a=a,d[0]=a[0],a})},function(a){return d[1]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSCreateOfflineThreadingID"),d[1]).then(function(a){return a=a,d[2]=a[0],a})},function(a){return c.forEach(c.db.table(9).fetch([[[d[0]]]]),function(a){var b=a.update;a.item;return b({otidOfFirstMessage:c.i64.to_string(d[2])})})},function(e){return d[3]=new c.Map(),d[3].set("thread_id",d[0]),d[3].set("otid",c.i64.to_string(d[2])),d[3].set("source",c.i64.cast([0,0])),d[3].set("send_type",c.i64.cast([0,8])),a[3]!==void 0?d[3].set("text",a[3]):0,d[4]=new c.Map(),d[4].set("participants",a[0]),d[4].set("send_payload",d[3]),a[2]!==void 0?d[4].set("thread_name",a[2]):0,void 0!==void 0?d[4].set("thread_metadata",void 0):0,void 0===void 0||!1?(d[5]=d[4].get("send_payload"),d[4],d[6]=d[5].get("thread_id"),d[5],d[7]=c.toJSON(d[4]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[6]),c.i64.cast([0,130]),d[7],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):(d[5]=d[4].get("send_payload"),d[4],d[6]=d[5].get("thread_id"),d[5],d[7]=c.toJSON(d[4]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[6]),c.i64.cast([0,787]),d[7],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),void 0,c.i64.cast([0,0]),c.i64.cast([0,0])))},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxCreateGroupThreadWithAdminTextStoredProcedure";e.exports=a}),null);
__d("LSLocalCreateOptimisticGroupThread",["LSArrayGetObjectAt","LSGetViewerFBID","LSIssueNewTask","LSLocalApplyOptimisticGroupThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return void 0?d[0]=!1:d[0]=!0,d[0]?(e=["",void 0,void 0,void 0,void 0],d[1]=e[0],d[2]=e[1],d[3]=e[2],d[4]=e[3],d[5]=e[4],e):(d[8]=(void 0).get("nullstate_description_text1"),void 0,d[8]!==void 0?d[9]=d[8]:d[9]="",d[10]=(void 0).get("nullstate_description_text2"),void 0,d[11]=(void 0).get("nullstate_description_text3"),void 0,d[12]=(void 0).get("nullstate_description_text4"),void 0,d[13]=(void 0).get("nullstate_description_text5"),void 0,e=[d[9],d[10],d[11],d[12],d[13]],d[1]=e[0],d[2]=e[1],d[3]=e[2],d[4]=e[3],d[5]=e[4],e),d[6]=new c.Map(),d[6].set("nullstate_description_text1",d[1]),d[6].set("nullstate_description_text2",d[2]),d[6].set("nullstate_description_text3",d[3]),d[6].set("nullstate_description_text4",d[4]),d[6].set("nullstate_description_text5",d[5]),c.storedProcedure(b("LSLocalApplyOptimisticGroupThread"),a[0],void 0,a[2],a[4]).then(function(a){return a=a,d[7]=a[0],a})},function(e){return a[3]===!0?c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,5]))?a[4]!==void 0?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[8]=a[0],a})},function(e){return d[9]=c.i64.cast([0,0]),d[10]=c.i64.of_int32(a[0].length),c.i64.gt(d[10],c.i64.cast([0,0]))?c.loopAsync(d[10],function(e){return d[11]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[0],d[11]).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],a})},function(a){return c.i64.neq(d[12],d[8])?d[14]=d[12]:d[14]=d[9],d[9]=d[14]}])}):c.resolve()},function(e){return a[4]!==void 0?(d[11]=new c.Map(),d[11].set("seller_id",d[9]),d[11].set("thread_metadata",a[4]),d[11].set("client_thread_key",d[7]),d[12]=d[11].get("client_thread_key"),d[11],d[13]=c.toJSON(d[11]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[12]),c.i64.cast([0,646]),d[13],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve()}]):c.resolve(function(a){c.logger(a).mustfix(a)}("Marketplace thread metadata cannot be null")):(d[8]=new c.Map(),d[8].set("participants",a[0]),d[8].set("client_thread_key",d[7]),d[8].set("sync_group",c.i64.cast([0,1])),d[9]=d[8].get("client_thread_key"),d[8],d[10]=c.toJSON(d[8]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[9]),c.i64.cast([0,153]),d[10],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve()},function(a){return e[0]=d[7]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxLocalCreateOptimisticGroupThreadStoredProcedure";e.exports=a}),null);
__d("LSVerifyThreadRowExistsV2",["LSVerifyThreadExistsV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.i64.eq(a[1],c.i64.cast([0,5]))?d[0]=c.i64.cast([-1,4294967284]):d[0]=c.i64.cast([0,0]),c.storedProcedure(b("LSVerifyThreadExistsV2"),a[0],a[1],"inbox",d[0],a[3],!1,a[2],!1,!1)},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxVerifyThreadRowExistsV2StoredProcedure";e.exports=a}),null);
__d("LSVerifyThreadView",["LSArrayGetObjectAt","LSComputeOptimisticThreadCapabilities","LSCreateGroupThreadWithAdminText","LSCreateOfflineThreadingID","LSDeserializeFromJsonIntoDictionaryV2.nop","LSInsertNewMessageRange","LSIssueNewTask","LSLocalCreateOptimisticGroupThread","LSMessagePointQuery","LSVerifyContactRowExists","LSVerifyThreadRowExists","LSVerifyThreadRowExistsV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return a[8]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),a[8]).then(function(a){return a=a,d[3]=a[0],a})},function(a){return d[4]=new c.Map(),d[9]="product_type",d[5]=d[3].get(d[9]),d[3],d[5]!==void 0?d[4].set(d[9],d[5]):0,d[10]="product_extras",d[6]=d[3].get(d[10]),d[3],d[6]?d[7]=!1:d[7]=!0,d[7]?c.resolve():c.sequence([function(a){return d[6]?d[11]=!1:d[11]=!0,d[11]?c.resolve(d[12]=void 0):c.sequence([function(a){return d[13]=d[6].get("__typename"),d[6],d[13]==="XMSGStoryReplyExtras"?c.resolve((d[15]=new c.Map(),d[18]="logging",d[16]=d[6].get(d[18]),d[6],d[16]?d[17]=!1:d[17]=!0,d[17]?0:(d[16]?d[19]=!1:d[19]=!0,d[19]?d[20]=void 0:(d[21]=new c.Map(),d[29]="story_author_fbid",d[22]=d[16].get(d[29]),d[16],d[22]!==void 0?d[21].set(d[29],d[22]):0,d[30]="camera_post_type",d[23]=d[16].get(d[30]),d[16],d[23]!==void 0?d[21].set(d[30],d[23]):0,d[31]="story_type",d[24]=d[16].get(d[31]),d[16],d[24]!==void 0?d[21].set(d[31],d[24]):0,d[32]="post_source",d[25]=d[16].get(d[32]),d[16],d[25]!==void 0?d[21].set(d[32],d[25]):0,d[33]="fb_post_type",d[26]=d[16].get(d[33]),d[16],d[26]!==void 0?d[21].set(d[33],d[26]):0,d[34]="conversation_starter_type",d[27]=d[16].get(d[34]),d[16],d[27]!==void 0?d[21].set(d[34],d[27]):0,d[35]="story_reply_type",d[28]=d[16].get(d[35]),d[16],d[28]!==void 0?d[21].set(d[35],d[28]):0,d[20]=d[21]),d[15].set(d[18],d[20])),d[14]=d[15])):c.sequence([function(a){return d[13]==="XMSGMarketplaceExtras"?c.sequence([function(a){return d[16]=new c.Map(),d[35]="listing_id",d[17]=d[6].get(d[35]),d[6],d[17]!==void 0?d[16].set(d[35],d[17]):0,d[36]="initial_clicked_component",d[18]=d[6].get(d[36]),d[6],d[18]!==void 0?d[16].set(d[36],d[18]):0,d[37]="initial_tracking",d[19]=d[6].get(d[37]),d[6],d[19]!==void 0?d[16].set(d[37],d[19]):0,d[38]="referral_surface",d[20]=d[6].get(d[38]),d[6],d[20]!==void 0?d[16].set(d[38],d[20]):0,d[39]="referral_story_type",d[21]=d[6].get(d[39]),d[6],d[21]!==void 0?d[16].set(d[39],d[21]):0,d[40]="referral_ui_component",d[22]=d[6].get(d[40]),d[6],d[22]!==void 0?d[16].set(d[40],d[22]):0,d[41]="surface",d[23]=d[6].get(d[41]),d[6],d[23]!==void 0?d[16].set(d[41],d[23]):0,d[42]="tracking",d[24]=d[6].get(d[42]),d[6],d[24]!==void 0?d[16].set(d[42],d[24]):0,d[43]="ui_component",d[25]=d[6].get(d[43]),d[6],d[25]!==void 0?d[16].set(d[43],d[25]):0,d[44]="ad_id",d[26]=d[6].get(d[44]),d[6],d[26]!==void 0?d[16].set(d[44],d[26]):0,d[45]="server_session_id",d[27]=d[6].get(d[45]),d[6],d[27]!==void 0?d[16].set(d[45],d[27]):0,d[46]="cf_page_id",d[28]=d[6].get(d[46]),d[6],d[28]!==void 0?d[16].set(d[46],d[28]):0,d[47]="live_shopping_video_id",d[29]=d[6].get(d[47]),d[6],d[29]!==void 0?d[16].set(d[47],d[29]):0,d[48]="logging_id",d[30]=d[6].get(d[48]),d[6],c.i64.neq(d[30],void 0)?d[16].set(d[48],d[30]):0,d[49]="photo_ids",d[31]=d[6].get(d[49]),d[6],d[31]?d[32]=!1:d[32]=!0,d[32]?c.resolve():c.sequence([function(a){return d[52]=c.createArray(),d[53]=c.i64.of_int32(d[31].length),c.i64.gt(d[53],c.i64.cast([0,0]))?c.loopAsync(d[53],function(a){return d[54]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[31],d[54]).then(function(a){return a=a,d[55]=a[0],d[56]=a[1],a})},function(a){return d[57]=(d[52].push(d[55]),d[52])}])}):c.resolve()},function(a){return d[16].set(d[49],d[52])}])},function(a){return d[50]="is_customized_message",d[33]=d[6].get(d[50]),d[6],d[33]!==void 0?d[16].set(d[50],d[33]):0,d[51]="referral_code",d[34]=d[6].get(d[51]),d[6],d[34]!==void 0?d[16].set(d[51],d[34]):0,d[15]=d[16]}]):c.sequence([function(a){return d[13]==="XMSGClickToMessengerAdExtras"?c.resolve((d[17]=new c.Map(),d[28]="encrypted_ads_token",d[18]=d[6].get(d[28]),d[6],d[18]!==void 0?d[17].set(d[28],d[18]):0,d[29]="product_type",d[19]=d[6].get(d[29]),d[6],d[19]!==void 0?d[17].set(d[29],d[19]):0,d[30]="post_id",d[20]=d[6].get(d[30]),d[6],d[20]!==void 0?d[17].set(d[30],d[20]):0,d[31]="ad_id",d[21]=d[6].get(d[31]),d[6],d[21]!==void 0?d[17].set(d[31],d[21]):0,d[32]="page_id",d[22]=d[6].get(d[32]),d[6],d[22]!==void 0?d[17].set(d[32],d[22]):0,d[33]="photo_id",d[23]=d[6].get(d[33]),d[6],d[23]!==void 0?d[17].set(d[33],d[23]):0,d[34]="photo_index",d[24]=d[6].get(d[34]),d[6],c.i64.neq(d[24],void 0)?d[17].set(d[34],d[24]):0,d[35]="fallback_url",d[25]=d[6].get(d[35]),d[6],d[25]!==void 0?d[17].set(d[35],d[25]):0,d[36]="product_id",d[26]=d[6].get(d[36]),d[6],d[26]!==void 0?d[17].set(d[36],d[26]):0,d[37]="user_id",d[27]=d[6].get(d[37]),d[6],d[27]!==void 0?d[17].set(d[37],d[27]):0,d[16]=d[17])):c.sequence([function(a){return d[13]==="XMSGZorroMessageExtras"?c.resolve((d[18]=new c.Map(),d[20]="is_enabled",d[19]=d[6].get(d[20]),d[6],d[19]!==void 0?d[18].set(d[20],d[19]):0,d[17]=d[18])):c.sequence([function(a){return d[13]==="XMSGGenAISuggestedPromptExtras"?c.resolve((d[19]=new c.Map(),d[22]="prompt_type",d[20]=d[6].get(d[22]),d[6],d[20]!==void 0?d[19].set(d[22],d[20]):0,d[23]="qpl_join_id",d[21]=d[6].get(d[23]),d[6],d[21]!==void 0?d[19].set(d[23],d[21]):0,d[18]=d[19])):c.sequence([function(a){return d[13]==="XMSGGenAIMultiModalExtras"?c.resolve((d[20]=new c.Map(),d[24]="should_skip_genai_eval",d[21]=d[6].get(d[24]),d[6],d[21]!==void 0?d[20].set(d[24],d[21]):0,d[25]="associated_multimodal_message_id",d[22]=d[6].get(d[25]),d[6],d[22]!==void 0?d[20].set(d[25],d[22]):0,d[26]="qpl_join_id",d[23]=d[6].get(d[26]),d[6],d[23]!==void 0?d[20].set(d[26],d[23]):0,d[19]=d[20])):c.sequence([function(a){return d[13]==="XMSGGenAIFlashImagineExtras"?c.resolve((d[21]=new c.Map(),d[24]="seed",d[22]=d[6].get(d[24]),d[6],c.i64.neq(d[22],void 0)?d[21].set(d[24],d[22]):0,d[25]="qpl_join_id",d[23]=d[6].get(d[25]),d[6],d[23]!==void 0?d[21].set(d[25],d[23]):0,d[20]=d[21])):c.sequence([function(a){return d[13]==="XMSGShareSheetExtras"?c.resolve((d[22]=new c.Map(),d[24]="recipient_selection_session_id",d[23]=d[6].get(d[24]),d[6],d[23]!==void 0?d[22].set(d[24],d[23]):0,d[21]=d[22])):c.sequence([function(a){return d[13]==="XMSGGenAIAssistantAPIExtras"?c.sequence([function(a){return d[23]=new c.Map(),d[49]="referrer_session_id",d[24]=d[6].get(d[49]),d[6],d[24]!==void 0?d[23].set(d[49],d[24]):0,d[50]="thread_session_id",d[25]=d[6].get(d[50]),d[6],d[25]!==void 0?d[23].set(d[50],d[25]):0,d[51]="prompt_id",d[26]=d[6].get(d[51]),d[6],d[26]!==void 0?d[23].set(d[51],d[26]):0,d[52]="prompt_type",d[27]=d[6].get(d[52]),d[6],d[27]!==void 0?d[23].set(d[52],d[27]):0,d[53]="qpl_join_id",d[28]=d[6].get(d[53]),d[6],d[28]!==void 0?d[23].set(d[53],d[28]):0,d[54]="meta_ai_prompt_type",d[29]=d[6].get(d[54]),d[6],d[29]!==void 0?d[23].set(d[54],d[29]):0,d[55]="is_subsequent_send",d[30]=d[6].get(d[55]),d[6],d[30]!==void 0?d[23].set(d[55],d[30]):0,d[56]="context_injection_type",d[31]=d[6].get(d[56]),d[6],d[31]!==void 0?d[23].set(d[56],d[31]):0,d[57]="context_injection_timestamp_ms",d[32]=d[6].get(d[57]),d[6],d[32]!==void 0?d[23].set(d[57],d[32]):0,d[58]="meta_ai_response_to_persist",d[33]=d[6].get(d[58]),d[6],d[33]?d[34]=!1:d[34]=!0,d[34]?c.resolve():c.sequence([function(a){return d[33]?d[68]=!1:d[68]=!0,d[68]?c.resolve(d[69]=void 0):c.sequence([function(a){return d[70]=new c.Map(),d[77]="text",d[71]=d[33].get(d[77]),d[33],d[71]!==void 0?d[70].set(d[77],d[71]):0,d[78]="bot_response_id",d[72]=d[33].get(d[78]),d[33],d[72]!==void 0?d[70].set(d[78],d[72]):0,d[79]="bot_request_id",d[73]=d[33].get(d[79]),d[33],d[73]!==void 0?d[70].set(d[79],d[73]):0,d[80]="external_search_params",d[74]=d[33].get(d[80]),d[33],d[74]?d[75]=!1:d[75]=!0,d[75]?c.resolve():c.sequence([function(a){return d[74]?d[82]=!1:d[82]=!0,d[82]?c.resolve(d[83]=void 0):c.sequence([function(a){return d[84]=new c.Map(),d[92]="search_result_uri",d[85]=d[74].get(d[92]),d[74],d[85]?d[86]=!1:d[86]=!0,d[86]?c.resolve():c.sequence([function(a){return d[85]?d[97]=!1:d[97]=!0,d[97]?c.resolve(d[98]=void 0):c.sequence([function(a){return d[99]=c.createArray(),d[100]=c.i64.of_int32(d[85].length),c.i64.gt(d[100],c.i64.cast([0,0]))?c.loopAsync(d[100],function(a){return d[101]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[85],d[101]).then(function(a){return a=a,d[102]=a[0],d[103]=a[1],a})},function(a){return d[104]=(d[99].push(d[102]),d[99])}])}):c.resolve()},function(a){return d[98]=d[99]}])},function(a){return d[84].set(d[92],d[98])}])},function(a){return d[93]="search_query",d[87]=d[74].get(d[93]),d[74],d[87]!==void 0?d[84].set(d[93],d[87]):0,d[94]="attribution_link",d[88]=d[74].get(d[94]),d[74],d[88]!==void 0?d[84].set(d[94],d[88]):0,d[95]="search_engine",d[89]=d[74].get(d[95]),d[74],d[89]!==void 0?d[84].set(d[95],d[89]):0,d[96]="references_title",d[90]=d[74].get(d[96]),d[74],d[90]?d[91]=!1:d[91]=!0,d[91]?c.resolve():c.sequence([function(a){return d[90]?d[97]=!1:d[97]=!0,d[97]?c.resolve(d[98]=void 0):c.sequence([function(a){return d[99]=c.createArray(),d[100]=c.i64.of_int32(d[90].length),c.i64.gt(d[100],c.i64.cast([0,0]))?c.loopAsync(d[100],function(a){return d[101]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[90],d[101]).then(function(a){return a=a,d[102]=a[0],d[103]=a[1],a})},function(a){return d[104]=(d[99].push(d[102]),d[99])}])}):c.resolve()},function(a){return d[98]=d[99]}])},function(a){return d[84].set(d[96],d[98])}])},function(a){return d[83]=d[84]}])},function(a){return d[70].set(d[80],d[83])}])},function(a){return d[81]="followup_prompt_text",d[76]=d[33].get(d[81]),d[33],d[76]!==void 0?d[70].set(d[81],d[76]):0,d[69]=d[70]}])},function(a){return d[23].set(d[58],d[69])}])},function(a){return d[59]="gql_dark_test_qpl_join_id",d[35]=d[6].get(d[59]),d[6],d[35]!==void 0?d[23].set(d[59],d[35]):0,d[60]="gql_dark_test_client_start_time",d[36]=d[6].get(d[60]),d[6],d[36]!==void 0?d[23].set(d[60],d[36]):0,d[61]="prompt_context",d[37]=d[6].get(d[61]),d[6],d[37]?d[38]=!1:d[38]=!0,d[38]?0:(d[37]?d[68]=!1:d[68]=!0,d[68]?d[69]=void 0:(d[70]=new c.Map(),d[73]="context_token",d[71]=d[37].get(d[73]),d[37],d[71]!==void 0?d[70].set(d[73],d[71]):0,d[74]="context_token_type",d[72]=d[37].get(d[74]),d[37],c.i64.neq(d[72],void 0)?d[70].set(d[74],d[72]):0,d[69]=d[70]),d[23].set(d[61],d[69])),d[62]="imagine_flash_extras",d[39]=d[6].get(d[62]),d[6],d[39]?d[40]=!1:d[40]=!0,d[40]?0:(d[39]?d[68]=!1:d[68]=!0,d[68]?d[69]=void 0:(d[70]=new c.Map(),d[73]="seed",d[71]=d[39].get(d[73]),d[39],c.i64.neq(d[71],void 0)?d[70].set(d[73],d[71]):0,d[74]="qpl_join_id",d[72]=d[39].get(d[74]),d[39],d[72]!==void 0?d[70].set(d[74],d[72]):0,d[69]=d[70]),d[23].set(d[62],d[69])),d[63]="conversation_marker_id",d[41]=d[6].get(d[63]),d[6],d[41]!==void 0?d[23].set(d[63],d[41]):0,d[64]="multi_modal_extras",d[42]=d[6].get(d[64]),d[6],d[42]?d[43]=!1:d[43]=!0,d[43]?0:(d[42]?d[68]=!1:d[68]=!0,d[68]?d[69]=void 0:(d[70]=new c.Map(),d[74]="should_skip_genai_eval",d[71]=d[42].get(d[74]),d[42],d[71]!==void 0?d[70].set(d[74],d[71]):0,d[75]="associated_multimodal_message_id",d[72]=d[42].get(d[75]),d[42],d[72]!==void 0?d[70].set(d[75],d[72]):0,d[76]="qpl_join_id",d[73]=d[42].get(d[76]),d[42],d[73]!==void 0?d[70].set(d[76],d[73]):0,d[69]=d[70]),d[23].set(d[64],d[69])),d[65]="ads_extras",d[44]=d[6].get(d[65]),d[6],d[44]?d[45]=!1:d[45]=!0,d[45]?0:(d[44]?d[68]=!1:d[68]=!0,d[68]?d[69]=void 0:(d[70]=new c.Map(),d[72]="context",d[71]=d[44].get(d[72]),d[44],d[71]!==void 0?d[70].set(d[72],d[71]):0,d[69]=d[70]),d[23].set(d[65],d[69])),d[66]="suggested_prompt_extras",d[46]=d[6].get(d[66]),d[6],d[46]?d[47]=!1:d[47]=!0,d[47]?0:(d[46]?d[68]=!1:d[68]=!0,d[68]?d[69]=void 0:(d[70]=new c.Map(),d[73]="prompt_type",d[71]=d[46].get(d[73]),d[46],d[71]!==void 0?d[70].set(d[73],d[71]):0,d[74]="qpl_join_id",d[72]=d[46].get(d[74]),d[46],d[72]!==void 0?d[70].set(d[74],d[72]):0,d[69]=d[70]),d[23].set(d[66],d[69])),d[67]="disable_server_mqtt_typing_indicator",d[48]=d[6].get(d[67]),d[6],d[48]!==void 0?d[23].set(d[67],d[48]):0,d[22]=d[23]}]):c.sequence([function(a){return d[13]==="XMSGProductHighlightExtras"?c.resolve((d[24]=new c.Map(),d[27]="product_highlight_type",d[25]=d[6].get(d[27]),d[6],d[25]!==void 0?d[24].set(d[27],d[25]):0,d[28]="conversation_marker",d[26]=d[6].get(d[28]),d[6],d[26]!==void 0?d[24].set(d[28],d[26]):0,d[23]=d[24])):c.sequence([function(a){return d[13]==="XMSGMagicMessengerExtras"?c.resolve((d[25]=new c.Map(),d[27]="is_magic_thread",d[26]=d[6].get(d[27]),d[6],d[26]!==void 0?d[25].set(d[27],d[26]):0,d[24]=d[25])):c.sequence([function(a){return d[13]==="XMSGAdsAIExtras"?c.resolve((d[26]=new c.Map(),d[28]="context",d[27]=d[6].get(d[28]),d[6],d[27]!==void 0?d[26].set(d[28],d[27]):0,d[25]=d[26])):c.sequence([function(a){return function(a){c.logger(a).warn(a)}(["Unknown subtype for LSXMSGMessageSendProductExtrasUnion: ","",d[13]].join("")),d[26]=new c.Map(),d[27]=d[6].keys(),d[28]=c.i64.of_int32(d[27].length),c.i64.gt(d[28],c.i64.cast([0,0]))?c.loopAsync(d[28],function(a){return d[29]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[27],d[29]).then(function(a){return a=a,d[30]=a[0],d[31]=a[1],a})},function(a){return d[32]=d[6].get(d[30]),d[6],d[26].set(d[30],d[32])}])}):c.resolve()},function(a){return d[25]=d[26]}])},function(a){return d[24]=d[25]}])},function(a){return d[23]=d[24]}])},function(a){return d[22]=d[23]}])},function(a){return d[21]=d[22]}])},function(a){return d[20]=d[21]}])},function(a){return d[19]=d[20]}])},function(a){return d[18]=d[19]}])},function(a){return d[17]=d[18]}])},function(a){return d[16]=d[17]}])},function(a){return d[15]=d[16]}])},function(a){return d[14]=d[15]}])},function(a){return d[14].set("__typename",d[13]),d[12]=d[14]}])},function(a){return d[4].set(d[10],d[12])}])},function(a){return d[8]=d[4].get("product_type"),d[4],d[0]=d[8]}]):c.resolve(d[0]=void 0)},function(e){return c.i64.eq(a[1],c.i64.cast([0,7]))?c.resolve((e=[a[0],c.i64.cast([0,1024])],d[1]=e[0],d[2]=e[1],e)):c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?(c.i64.eq(a[0],c.i64.cast([0,0]))?d[12]=a[0]:d[12]=void 0,f=[d[12],void 0,c.i64.cast([0,20])],d[3]=f[0],d[4]=f[1],d[5]=f[2],f):(e=b.item,f=[e.threadKey,e.clientThreadKey,e.authorityLevel],d[3]=f[0],d[4]=f[1],d[5]=f[2],f)})},function(e){return d[12]=c.i64.of_int32(a[6].length),c.i64.eq(a[1],c.i64.cast([0,1]))&&c.i64.gt(d[12],c.i64.cast([0,0]))?(d[13]=c.i64.of_int32(a[6].length),c.i64.gt(d[13],c.i64.cast([0,0]))?c.loopAsync(d[13],function(e){return d[14]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[6],d[14]).then(function(a){return a=a,d[15]=a[0],d[16]=a[1],a})},function(a){return d[17]=d[15].get("contact_id"),d[15],d[18]=d[15].get("contact_type"),d[15],d[19]=d[15].get("contact_name"),d[15],d[20]=d[15].get("contact_profile_photo"),d[15],c.storedProcedure(b("LSVerifyContactRowExists"),d[17],c.i64.cast([0,0]),d[20],d[19],d[18],void 0,void 0,void 0,void 0,!1,!1,c.i64.cast([0,0]),void 0,!1,c.i64.cast([0,20]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,2]),c.i64.cast([0,0]),void 0)}])}):c.resolve()):c.resolve()},function(e){return a[5]!==void 0?c.sequence([function(d){return c.storedProcedure(b("LSMessagePointQuery"),a[0],a[5],a[1],void 0)},function(b){return b=[a[0],void 0],d[7]=b[0],d[8]=b[1],b}]):c.sequence([function(e){return(c.i64.eq(a[1],c.i64.cast([0,2]))||c.i64.eq(a[1],c.i64.cast([0,5]))||d[0]==="CTM")&&c.i64.eq(a[0],c.i64.cast([0,0]))?c.sequence([function(e){return d[14]=c.createArray(),d[15]=c.i64.of_int32(a[6].length),c.i64.gt(d[15],c.i64.cast([0,0]))?c.loopAsync(d[15],function(e){return d[28]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[6],d[28]).then(function(a){return a=a,d[29]=a[0],d[30]=a[1],a})},function(a){return d[31]=d[29].get("contact_id"),d[29],d[32]=d[29].get("contact_type"),d[29],d[33]=d[29].get("contact_name"),d[29],d[34]=d[29].get("contact_profile_photo"),d[29],d[35]=(d[14].push(d[31]),d[14])}])}):c.resolve()},function(a){return d[16]=c.i64.of_int32(d[14].length),d[17]=c.createArray(),c.sequence([function(a){return d[28]=c.createArray(),d[29]=c.i64.of_int32(d[14].length),c.i64.gt(d[29],c.i64.cast([0,0]))?c.loopAsync(d[29],function(a){return d[31]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[14],d[31]).then(function(a){return a=a,d[32]=a[0],d[33]=a[1],a})},function(a){return d[34]=(d[28].push(c.i64.to_string(d[32])),d[28])}])}):c.resolve()},function(a){return d[30]=d[28].join(","),d[18]=d[30]}])},function(a){return c.groupBy(c.filter(c.db.table(14).fetch(),function(a){return d[14].some(function(b){return c.i64.eq(a.contactId,b)})}),"threadKey").forEach(function(a){return c.i64.eq(a.group_count,d[16])?d[28]=(d[17].push(a.threadKey),d[17]):0})},function(a){return d[19]=c.createArray(),c.sequence([function(a){return d[28]=c.createArray(),d[29]=c.i64.of_int32(d[17].length),c.i64.gt(d[29],c.i64.cast([0,0]))?c.loopAsync(d[29],function(a){return d[31]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[17],d[31]).then(function(a){return a=a,d[32]=a[0],d[33]=a[1],a})},function(a){return d[34]=(d[28].push(c.i64.to_string(d[32])),d[28])}])}):c.resolve()},function(a){return d[30]=d[28].join(","),d[20]=d[30]}])},function(a){return c.groupBy(c.filter(c.db.table(14).fetch(),function(a){return d[17].some(function(b){return c.i64.eq(a.threadKey,b)})}),"threadKey").forEach(function(a){return c.i64.eq(a.group_count,d[16])?d[28]=(d[19].push(a.threadKey),d[19]):0})},function(a){return c.sequence([function(a){return d[28]=c.createArray(),d[29]=c.i64.of_int32(d[19].length),c.i64.gt(d[29],c.i64.cast([0,0]))?c.loopAsync(d[29],function(a){return d[31]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[19],d[31]).then(function(a){return a=a,d[32]=a[0],d[33]=a[1],a})},function(a){return d[34]=(d[28].push(c.i64.to_string(d[32])),d[28])}])}):c.resolve()},function(a){return d[30]=d[28].join(","),d[21]=d[30]}])},function(b){return c.islc(c.filter(c.db.table(9).fetchDesc([[[c.merge({lt:c.i64.cast([0,5])},a[1])],[c.merge({gt:c.i64.cast([0,5])},a[1])],[c.merge(c.i64.cast([0,5]),a[1])]],"threadTypeLastActivityTimestampMs"]),function(b){return d[19].some(function(a){return c.i64.eq(b.threadKey,a)})&&(c.i64.neq(b.threadType,c.i64.cast([0,5]))&&b.threadName===void 0||c.i64.eq(b.threadType,c.i64.cast([0,5]))&&b.threadName===a[2])&&c.i64.eq(b.threadType,a[1])}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[void 0,void 0,c.i64.cast([0,20])],d[22]=e[0],d[23]=e[1],d[24]=e[2],e):(b=a.item,e=[b.threadKey,b.clientThreadKey,b.authorityLevel],d[22]=e[0],d[23]=e[1],d[24]=e[2],e)})},function(e){return c.i64.neq(d[22],void 0)?c.sequence([function(e){return d[0]==="CTM"?c.sequence([function(e){return a[8]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),a[8]).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[39]=new c.Map(),d[45]="product_type",d[40]=d[38].get(d[45]),d[38],d[40]!==void 0?d[39].set(d[45],d[40]):0,d[46]="product_extras",d[41]=d[38].get(d[46]),d[38],d[41]?d[42]=!1:d[42]=!0,d[42]?c.resolve():c.sequence([function(a){return d[41]?d[47]=!1:d[47]=!0,d[47]?c.resolve(d[48]=void 0):c.sequence([function(a){return d[49]=d[41].get("__typename"),d[41],d[49]==="XMSGStoryReplyExtras"?c.resolve((d[51]=new c.Map(),d[54]="logging",d[52]=d[41].get(d[54]),d[41],d[52]?d[53]=!1:d[53]=!0,d[53]?0:(d[52]?d[55]=!1:d[55]=!0,d[55]?d[56]=void 0:(d[57]=new c.Map(),d[65]="story_author_fbid",d[58]=d[52].get(d[65]),d[52],d[58]!==void 0?d[57].set(d[65],d[58]):0,d[66]="camera_post_type",d[59]=d[52].get(d[66]),d[52],d[59]!==void 0?d[57].set(d[66],d[59]):0,d[67]="story_type",d[60]=d[52].get(d[67]),d[52],d[60]!==void 0?d[57].set(d[67],d[60]):0,d[68]="post_source",d[61]=d[52].get(d[68]),d[52],d[61]!==void 0?d[57].set(d[68],d[61]):0,d[69]="fb_post_type",d[62]=d[52].get(d[69]),d[52],d[62]!==void 0?d[57].set(d[69],d[62]):0,d[70]="conversation_starter_type",d[63]=d[52].get(d[70]),d[52],d[63]!==void 0?d[57].set(d[70],d[63]):0,d[71]="story_reply_type",d[64]=d[52].get(d[71]),d[52],d[64]!==void 0?d[57].set(d[71],d[64]):0,d[56]=d[57]),d[51].set(d[54],d[56])),d[50]=d[51])):c.sequence([function(a){return d[49]==="XMSGMarketplaceExtras"?c.sequence([function(a){return d[52]=new c.Map(),d[71]="listing_id",d[53]=d[41].get(d[71]),d[41],d[53]!==void 0?d[52].set(d[71],d[53]):0,d[72]="initial_clicked_component",d[54]=d[41].get(d[72]),d[41],d[54]!==void 0?d[52].set(d[72],d[54]):0,d[73]="initial_tracking",d[55]=d[41].get(d[73]),d[41],d[55]!==void 0?d[52].set(d[73],d[55]):0,d[74]="referral_surface",d[56]=d[41].get(d[74]),d[41],d[56]!==void 0?d[52].set(d[74],d[56]):0,d[75]="referral_story_type",d[57]=d[41].get(d[75]),d[41],d[57]!==void 0?d[52].set(d[75],d[57]):0,d[76]="referral_ui_component",d[58]=d[41].get(d[76]),d[41],d[58]!==void 0?d[52].set(d[76],d[58]):0,d[77]="surface",d[59]=d[41].get(d[77]),d[41],d[59]!==void 0?d[52].set(d[77],d[59]):0,d[78]="tracking",d[60]=d[41].get(d[78]),d[41],d[60]!==void 0?d[52].set(d[78],d[60]):0,d[79]="ui_component",d[61]=d[41].get(d[79]),d[41],d[61]!==void 0?d[52].set(d[79],d[61]):0,d[80]="ad_id",d[62]=d[41].get(d[80]),d[41],d[62]!==void 0?d[52].set(d[80],d[62]):0,d[81]="server_session_id",d[63]=d[41].get(d[81]),d[41],d[63]!==void 0?d[52].set(d[81],d[63]):0,d[82]="cf_page_id",d[64]=d[41].get(d[82]),d[41],d[64]!==void 0?d[52].set(d[82],d[64]):0,d[83]="live_shopping_video_id",d[65]=d[41].get(d[83]),d[41],d[65]!==void 0?d[52].set(d[83],d[65]):0,d[84]="logging_id",d[66]=d[41].get(d[84]),d[41],c.i64.neq(d[66],void 0)?d[52].set(d[84],d[66]):0,d[85]="photo_ids",d[67]=d[41].get(d[85]),d[41],d[67]?d[68]=!1:d[68]=!0,d[68]?c.resolve():c.sequence([function(a){return d[88]=c.createArray(),d[89]=c.i64.of_int32(d[67].length),c.i64.gt(d[89],c.i64.cast([0,0]))?c.loopAsync(d[89],function(a){return d[90]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[67],d[90]).then(function(a){return a=a,d[91]=a[0],d[92]=a[1],a})},function(a){return d[93]=(d[88].push(d[91]),d[88])}])}):c.resolve()},function(a){return d[52].set(d[85],d[88])}])},function(a){return d[86]="is_customized_message",d[69]=d[41].get(d[86]),d[41],d[69]!==void 0?d[52].set(d[86],d[69]):0,d[87]="referral_code",d[70]=d[41].get(d[87]),d[41],d[70]!==void 0?d[52].set(d[87],d[70]):0,d[51]=d[52]}]):c.sequence([function(a){return d[49]==="XMSGClickToMessengerAdExtras"?c.resolve((d[53]=new c.Map(),d[64]="encrypted_ads_token",d[54]=d[41].get(d[64]),d[41],d[54]!==void 0?d[53].set(d[64],d[54]):0,d[65]="product_type",d[55]=d[41].get(d[65]),d[41],d[55]!==void 0?d[53].set(d[65],d[55]):0,d[66]="post_id",d[56]=d[41].get(d[66]),d[41],d[56]!==void 0?d[53].set(d[66],d[56]):0,d[67]="ad_id",d[57]=d[41].get(d[67]),d[41],d[57]!==void 0?d[53].set(d[67],d[57]):0,d[68]="page_id",d[58]=d[41].get(d[68]),d[41],d[58]!==void 0?d[53].set(d[68],d[58]):0,d[69]="photo_id",d[59]=d[41].get(d[69]),d[41],d[59]!==void 0?d[53].set(d[69],d[59]):0,d[70]="photo_index",d[60]=d[41].get(d[70]),d[41],c.i64.neq(d[60],void 0)?d[53].set(d[70],d[60]):0,d[71]="fallback_url",d[61]=d[41].get(d[71]),d[41],d[61]!==void 0?d[53].set(d[71],d[61]):0,d[72]="product_id",d[62]=d[41].get(d[72]),d[41],d[62]!==void 0?d[53].set(d[72],d[62]):0,d[73]="user_id",d[63]=d[41].get(d[73]),d[41],d[63]!==void 0?d[53].set(d[73],d[63]):0,d[52]=d[53])):c.sequence([function(a){return d[49]==="XMSGZorroMessageExtras"?c.resolve((d[54]=new c.Map(),d[56]="is_enabled",d[55]=d[41].get(d[56]),d[41],d[55]!==void 0?d[54].set(d[56],d[55]):0,d[53]=d[54])):c.sequence([function(a){return d[49]==="XMSGGenAISuggestedPromptExtras"?c.resolve((d[55]=new c.Map(),d[58]="prompt_type",d[56]=d[41].get(d[58]),d[41],d[56]!==void 0?d[55].set(d[58],d[56]):0,d[59]="qpl_join_id",d[57]=d[41].get(d[59]),d[41],d[57]!==void 0?d[55].set(d[59],d[57]):0,d[54]=d[55])):c.sequence([function(a){return d[49]==="XMSGGenAIMultiModalExtras"?c.resolve((d[56]=new c.Map(),d[60]="should_skip_genai_eval",d[57]=d[41].get(d[60]),d[41],d[57]!==void 0?d[56].set(d[60],d[57]):0,d[61]="associated_multimodal_message_id",d[58]=d[41].get(d[61]),d[41],d[58]!==void 0?d[56].set(d[61],d[58]):0,d[62]="qpl_join_id",d[59]=d[41].get(d[62]),d[41],d[59]!==void 0?d[56].set(d[62],d[59]):0,d[55]=d[56])):c.sequence([function(a){return d[49]==="XMSGGenAIFlashImagineExtras"?c.resolve((d[57]=new c.Map(),d[60]="seed",d[58]=d[41].get(d[60]),d[41],c.i64.neq(d[58],void 0)?d[57].set(d[60],d[58]):0,d[61]="qpl_join_id",d[59]=d[41].get(d[61]),d[41],d[59]!==void 0?d[57].set(d[61],d[59]):0,d[56]=d[57])):c.sequence([function(a){return d[49]==="XMSGShareSheetExtras"?c.resolve((d[58]=new c.Map(),d[60]="recipient_selection_session_id",d[59]=d[41].get(d[60]),d[41],d[59]!==void 0?d[58].set(d[60],d[59]):0,d[57]=d[58])):c.sequence([function(a){return d[49]==="XMSGGenAIAssistantAPIExtras"?c.sequence([function(a){return d[59]=new c.Map(),d[85]="referrer_session_id",d[60]=d[41].get(d[85]),d[41],d[60]!==void 0?d[59].set(d[85],d[60]):0,d[86]="thread_session_id",d[61]=d[41].get(d[86]),d[41],d[61]!==void 0?d[59].set(d[86],d[61]):0,d[87]="prompt_id",d[62]=d[41].get(d[87]),d[41],d[62]!==void 0?d[59].set(d[87],d[62]):0,d[88]="prompt_type",d[63]=d[41].get(d[88]),d[41],d[63]!==void 0?d[59].set(d[88],d[63]):0,d[89]="qpl_join_id",d[64]=d[41].get(d[89]),d[41],d[64]!==void 0?d[59].set(d[89],d[64]):0,d[90]="meta_ai_prompt_type",d[65]=d[41].get(d[90]),d[41],d[65]!==void 0?d[59].set(d[90],d[65]):0,d[91]="is_subsequent_send",d[66]=d[41].get(d[91]),d[41],d[66]!==void 0?d[59].set(d[91],d[66]):0,d[92]="context_injection_type",d[67]=d[41].get(d[92]),d[41],d[67]!==void 0?d[59].set(d[92],d[67]):0,d[93]="context_injection_timestamp_ms",d[68]=d[41].get(d[93]),d[41],d[68]!==void 0?d[59].set(d[93],d[68]):0,d[94]="meta_ai_response_to_persist",d[69]=d[41].get(d[94]),d[41],d[69]?d[70]=!1:d[70]=!0,d[70]?c.resolve():c.sequence([function(a){return d[69]?d[104]=!1:d[104]=!0,d[104]?c.resolve(d[105]=void 0):c.sequence([function(a){return d[106]=new c.Map(),d[113]="text",d[107]=d[69].get(d[113]),d[69],d[107]!==void 0?d[106].set(d[113],d[107]):0,d[114]="bot_response_id",d[108]=d[69].get(d[114]),d[69],d[108]!==void 0?d[106].set(d[114],d[108]):0,d[115]="bot_request_id",d[109]=d[69].get(d[115]),d[69],d[109]!==void 0?d[106].set(d[115],d[109]):0,d[116]="external_search_params",d[110]=d[69].get(d[116]),d[69],d[110]?d[111]=!1:d[111]=!0,d[111]?c.resolve():c.sequence([function(a){return d[110]?d[118]=!1:d[118]=!0,d[118]?c.resolve(d[119]=void 0):c.sequence([function(a){return d[120]=new c.Map(),d[128]="search_result_uri",d[121]=d[110].get(d[128]),d[110],d[121]?d[122]=!1:d[122]=!0,d[122]?c.resolve():c.sequence([function(a){return d[121]?d[133]=!1:d[133]=!0,d[133]?c.resolve(d[134]=void 0):c.sequence([function(a){return d[135]=c.createArray(),d[136]=c.i64.of_int32(d[121].length),c.i64.gt(d[136],c.i64.cast([0,0]))?c.loopAsync(d[136],function(a){return d[137]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[121],d[137]).then(function(a){return a=a,d[138]=a[0],d[139]=a[1],a})},function(a){return d[140]=(d[135].push(d[138]),d[135])}])}):c.resolve()},function(a){return d[134]=d[135]}])},function(a){return d[120].set(d[128],d[134])}])},function(a){return d[129]="search_query",d[123]=d[110].get(d[129]),d[110],d[123]!==void 0?d[120].set(d[129],d[123]):0,d[130]="attribution_link",d[124]=d[110].get(d[130]),d[110],d[124]!==void 0?d[120].set(d[130],d[124]):0,d[131]="search_engine",d[125]=d[110].get(d[131]),d[110],d[125]!==void 0?d[120].set(d[131],d[125]):0,d[132]="references_title",d[126]=d[110].get(d[132]),d[110],d[126]?d[127]=!1:d[127]=!0,d[127]?c.resolve():c.sequence([function(a){return d[126]?d[133]=!1:d[133]=!0,d[133]?c.resolve(d[134]=void 0):c.sequence([function(a){return d[135]=c.createArray(),d[136]=c.i64.of_int32(d[126].length),c.i64.gt(d[136],c.i64.cast([0,0]))?c.loopAsync(d[136],function(a){return d[137]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[126],d[137]).then(function(a){return a=a,d[138]=a[0],d[139]=a[1],a})},function(a){return d[140]=(d[135].push(d[138]),d[135])}])}):c.resolve()},function(a){return d[134]=d[135]}])},function(a){return d[120].set(d[132],d[134])}])},function(a){return d[119]=d[120]}])},function(a){return d[106].set(d[116],d[119])}])},function(a){return d[117]="followup_prompt_text",d[112]=d[69].get(d[117]),d[69],d[112]!==void 0?d[106].set(d[117],d[112]):0,d[105]=d[106]}])},function(a){return d[59].set(d[94],d[105])}])},function(a){return d[95]="gql_dark_test_qpl_join_id",d[71]=d[41].get(d[95]),d[41],d[71]!==void 0?d[59].set(d[95],d[71]):0,d[96]="gql_dark_test_client_start_time",d[72]=d[41].get(d[96]),d[41],d[72]!==void 0?d[59].set(d[96],d[72]):0,d[97]="prompt_context",d[73]=d[41].get(d[97]),d[41],d[73]?d[74]=!1:d[74]=!0,d[74]?0:(d[73]?d[104]=!1:d[104]=!0,d[104]?d[105]=void 0:(d[106]=new c.Map(),d[109]="context_token",d[107]=d[73].get(d[109]),d[73],d[107]!==void 0?d[106].set(d[109],d[107]):0,d[110]="context_token_type",d[108]=d[73].get(d[110]),d[73],c.i64.neq(d[108],void 0)?d[106].set(d[110],d[108]):0,d[105]=d[106]),d[59].set(d[97],d[105])),d[98]="imagine_flash_extras",d[75]=d[41].get(d[98]),d[41],d[75]?d[76]=!1:d[76]=!0,d[76]?0:(d[75]?d[104]=!1:d[104]=!0,d[104]?d[105]=void 0:(d[106]=new c.Map(),d[109]="seed",d[107]=d[75].get(d[109]),d[75],c.i64.neq(d[107],void 0)?d[106].set(d[109],d[107]):0,d[110]="qpl_join_id",d[108]=d[75].get(d[110]),d[75],d[108]!==void 0?d[106].set(d[110],d[108]):0,d[105]=d[106]),d[59].set(d[98],d[105])),d[99]="conversation_marker_id",d[77]=d[41].get(d[99]),d[41],d[77]!==void 0?d[59].set(d[99],d[77]):0,d[100]="multi_modal_extras",d[78]=d[41].get(d[100]),d[41],d[78]?d[79]=!1:d[79]=!0,d[79]?0:(d[78]?d[104]=!1:d[104]=!0,d[104]?d[105]=void 0:(d[106]=new c.Map(),d[110]="should_skip_genai_eval",d[107]=d[78].get(d[110]),d[78],d[107]!==void 0?d[106].set(d[110],d[107]):0,d[111]="associated_multimodal_message_id",d[108]=d[78].get(d[111]),d[78],d[108]!==void 0?d[106].set(d[111],d[108]):0,d[112]="qpl_join_id",d[109]=d[78].get(d[112]),d[78],d[109]!==void 0?d[106].set(d[112],d[109]):0,d[105]=d[106]),d[59].set(d[100],d[105])),d[101]="ads_extras",d[80]=d[41].get(d[101]),d[41],d[80]?d[81]=!1:d[81]=!0,d[81]?0:(d[80]?d[104]=!1:d[104]=!0,d[104]?d[105]=void 0:(d[106]=new c.Map(),d[108]="context",d[107]=d[80].get(d[108]),d[80],d[107]!==void 0?d[106].set(d[108],d[107]):0,d[105]=d[106]),d[59].set(d[101],d[105])),d[102]="suggested_prompt_extras",d[82]=d[41].get(d[102]),d[41],d[82]?d[83]=!1:d[83]=!0,d[83]?0:(d[82]?d[104]=!1:d[104]=!0,d[104]?d[105]=void 0:(d[106]=new c.Map(),d[109]="prompt_type",d[107]=d[82].get(d[109]),d[82],d[107]!==void 0?d[106].set(d[109],d[107]):0,d[110]="qpl_join_id",d[108]=d[82].get(d[110]),d[82],d[108]!==void 0?d[106].set(d[110],d[108]):0,d[105]=d[106]),d[59].set(d[102],d[105])),d[103]="disable_server_mqtt_typing_indicator",d[84]=d[41].get(d[103]),d[41],d[84]!==void 0?d[59].set(d[103],d[84]):0,d[58]=d[59]}]):c.sequence([function(a){return d[49]==="XMSGProductHighlightExtras"?c.resolve((d[60]=new c.Map(),d[63]="product_highlight_type",d[61]=d[41].get(d[63]),d[41],d[61]!==void 0?d[60].set(d[63],d[61]):0,d[64]="conversation_marker",d[62]=d[41].get(d[64]),d[41],d[62]!==void 0?d[60].set(d[64],d[62]):0,d[59]=d[60])):c.sequence([function(a){return d[49]==="XMSGMagicMessengerExtras"?c.resolve((d[61]=new c.Map(),d[63]="is_magic_thread",d[62]=d[41].get(d[63]),d[41],d[62]!==void 0?d[61].set(d[63],d[62]):0,d[60]=d[61])):c.sequence([function(a){return d[49]==="XMSGAdsAIExtras"?c.resolve((d[62]=new c.Map(),d[64]="context",d[63]=d[41].get(d[64]),d[41],d[63]!==void 0?d[62].set(d[64],d[63]):0,d[61]=d[62])):c.sequence([function(a){return function(a){c.logger(a).warn(a)}(["Unknown subtype for LSXMSGMessageSendProductExtrasUnion: ","",d[49]].join("")),d[62]=new c.Map(),d[63]=d[41].keys(),d[64]=c.i64.of_int32(d[63].length),c.i64.gt(d[64],c.i64.cast([0,0]))?c.loopAsync(d[64],function(a){return d[65]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[63],d[65]).then(function(a){return a=a,d[66]=a[0],d[67]=a[1],a})},function(a){return d[68]=d[41].get(d[66]),d[41],d[62].set(d[66],d[68])}])}):c.resolve()},function(a){return d[61]=d[62]}])},function(a){return d[60]=d[61]}])},function(a){return d[59]=d[60]}])},function(a){return d[58]=d[59]}])},function(a){return d[57]=d[58]}])},function(a){return d[56]=d[57]}])},function(a){return d[55]=d[56]}])},function(a){return d[54]=d[55]}])},function(a){return d[53]=d[54]}])},function(a){return d[52]=d[53]}])},function(a){return d[51]=d[52]}])},function(a){return d[50]=d[51]}])},function(a){return d[50].set("__typename",d[49]),d[48]=d[50]}])},function(a){return d[39].set(d[46],d[48])}])},function(a){return d[43]=d[39].get("product_extras"),d[39],d[43]!==void 0?(d[47]=d[43].get("__typename"),d[43],d[47]==="XMSGClickToMessengerAdExtras"?(d[50]=new c.Map(),d[61]="encrypted_ads_token",d[51]=d[43].get(d[61]),d[43],d[51]!==void 0?d[50].set(d[61],d[51]):0,d[62]="product_type",d[52]=d[43].get(d[62]),d[43],d[52]!==void 0?d[50].set(d[62],d[52]):0,d[63]="post_id",d[53]=d[43].get(d[63]),d[43],d[53]!==void 0?d[50].set(d[63],d[53]):0,d[64]="ad_id",d[54]=d[43].get(d[64]),d[43],d[54]!==void 0?d[50].set(d[64],d[54]):0,d[65]="page_id",d[55]=d[43].get(d[65]),d[43],d[55]!==void 0?d[50].set(d[65],d[55]):0,d[66]="photo_id",d[56]=d[43].get(d[66]),d[43],d[56]!==void 0?d[50].set(d[66],d[56]):0,d[67]="photo_index",d[57]=d[43].get(d[67]),d[43],c.i64.neq(d[57],void 0)?d[50].set(d[67],d[57]):0,d[68]="fallback_url",d[58]=d[43].get(d[68]),d[43],d[58]!==void 0?d[50].set(d[68],d[58]):0,d[69]="product_id",d[59]=d[43].get(d[69]),d[43],d[59]!==void 0?d[50].set(d[69],d[59]):0,d[70]="user_id",d[60]=d[43].get(d[70]),d[43],d[60]!==void 0?d[50].set(d[70],d[60]):0,d[48]=d[50]):d[48]=void 0,d[48]!==void 0?(d[50]=d[48].get("page_id"),d[48],d[49]=d[50]):d[49]=void 0,d[44]=d[49]):d[44]=void 0,d[30]=d[44]}]):c.resolve(d[30]=void 0)},function(a){return d[31]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSCreateOfflineThreadingID"),d[31]).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[33]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSCreateOfflineThreadingID"),d[33]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[35]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSCreateOfflineThreadingID"),d[35]).then(function(a){return a=a,d[36]=a[0],a})},function(e){return d[30]!==void 0?d[37]=c.i64.from_string(d[30]):d[37]=d[32],a[8]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),a[8]).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[39]=new c.Map(),d[44]="product_type",d[40]=d[38].get(d[44]),d[38],d[40]!==void 0?d[39].set(d[44],d[40]):0,d[45]="product_extras",d[41]=d[38].get(d[45]),d[38],d[41]?d[42]=!1:d[42]=!0,d[42]?c.resolve():c.sequence([function(a){return d[41]?d[46]=!1:d[46]=!0,d[46]?c.resolve(d[47]=void 0):c.sequence([function(a){return d[48]=d[41].get("__typename"),d[41],d[48]==="XMSGStoryReplyExtras"?c.resolve((d[50]=new c.Map(),d[53]="logging",d[51]=d[41].get(d[53]),d[41],d[51]?d[52]=!1:d[52]=!0,d[52]?0:(d[51]?d[54]=!1:d[54]=!0,d[54]?d[55]=void 0:(d[56]=new c.Map(),d[64]="story_author_fbid",d[57]=d[51].get(d[64]),d[51],d[57]!==void 0?d[56].set(d[64],d[57]):0,d[65]="camera_post_type",d[58]=d[51].get(d[65]),d[51],d[58]!==void 0?d[56].set(d[65],d[58]):0,d[66]="story_type",d[59]=d[51].get(d[66]),d[51],d[59]!==void 0?d[56].set(d[66],d[59]):0,d[67]="post_source",d[60]=d[51].get(d[67]),d[51],d[60]!==void 0?d[56].set(d[67],d[60]):0,d[68]="fb_post_type",d[61]=d[51].get(d[68]),d[51],d[61]!==void 0?d[56].set(d[68],d[61]):0,d[69]="conversation_starter_type",d[62]=d[51].get(d[69]),d[51],d[62]!==void 0?d[56].set(d[69],d[62]):0,d[70]="story_reply_type",d[63]=d[51].get(d[70]),d[51],d[63]!==void 0?d[56].set(d[70],d[63]):0,d[55]=d[56]),d[50].set(d[53],d[55])),d[49]=d[50])):c.sequence([function(a){return d[48]==="XMSGMarketplaceExtras"?c.sequence([function(a){return d[51]=new c.Map(),d[70]="listing_id",d[52]=d[41].get(d[70]),d[41],d[52]!==void 0?d[51].set(d[70],d[52]):0,d[71]="initial_clicked_component",d[53]=d[41].get(d[71]),d[41],d[53]!==void 0?d[51].set(d[71],d[53]):0,d[72]="initial_tracking",d[54]=d[41].get(d[72]),d[41],d[54]!==void 0?d[51].set(d[72],d[54]):0,d[73]="referral_surface",d[55]=d[41].get(d[73]),d[41],d[55]!==void 0?d[51].set(d[73],d[55]):0,d[74]="referral_story_type",d[56]=d[41].get(d[74]),d[41],d[56]!==void 0?d[51].set(d[74],d[56]):0,d[75]="referral_ui_component",d[57]=d[41].get(d[75]),d[41],d[57]!==void 0?d[51].set(d[75],d[57]):0,d[76]="surface",d[58]=d[41].get(d[76]),d[41],d[58]!==void 0?d[51].set(d[76],d[58]):0,d[77]="tracking",d[59]=d[41].get(d[77]),d[41],d[59]!==void 0?d[51].set(d[77],d[59]):0,d[78]="ui_component",d[60]=d[41].get(d[78]),d[41],d[60]!==void 0?d[51].set(d[78],d[60]):0,d[79]="ad_id",d[61]=d[41].get(d[79]),d[41],d[61]!==void 0?d[51].set(d[79],d[61]):0,d[80]="server_session_id",d[62]=d[41].get(d[80]),d[41],d[62]!==void 0?d[51].set(d[80],d[62]):0,d[81]="cf_page_id",d[63]=d[41].get(d[81]),d[41],d[63]!==void 0?d[51].set(d[81],d[63]):0,d[82]="live_shopping_video_id",d[64]=d[41].get(d[82]),d[41],d[64]!==void 0?d[51].set(d[82],d[64]):0,d[83]="logging_id",d[65]=d[41].get(d[83]),d[41],c.i64.neq(d[65],void 0)?d[51].set(d[83],d[65]):0,d[84]="photo_ids",d[66]=d[41].get(d[84]),d[41],d[66]?d[67]=!1:d[67]=!0,d[67]?c.resolve():c.sequence([function(a){return d[87]=c.createArray(),d[88]=c.i64.of_int32(d[66].length),c.i64.gt(d[88],c.i64.cast([0,0]))?c.loopAsync(d[88],function(a){return d[89]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[66],d[89]).then(function(a){return a=a,d[90]=a[0],d[91]=a[1],a})},function(a){return d[92]=(d[87].push(d[90]),d[87])}])}):c.resolve()},function(a){return d[51].set(d[84],d[87])}])},function(a){return d[85]="is_customized_message",d[68]=d[41].get(d[85]),d[41],d[68]!==void 0?d[51].set(d[85],d[68]):0,d[86]="referral_code",d[69]=d[41].get(d[86]),d[41],d[69]!==void 0?d[51].set(d[86],d[69]):0,d[50]=d[51]}]):c.sequence([function(a){return d[48]==="XMSGClickToMessengerAdExtras"?c.resolve((d[52]=new c.Map(),d[63]="encrypted_ads_token",d[53]=d[41].get(d[63]),d[41],d[53]!==void 0?d[52].set(d[63],d[53]):0,d[64]="product_type",d[54]=d[41].get(d[64]),d[41],d[54]!==void 0?d[52].set(d[64],d[54]):0,d[65]="post_id",d[55]=d[41].get(d[65]),d[41],d[55]!==void 0?d[52].set(d[65],d[55]):0,d[66]="ad_id",d[56]=d[41].get(d[66]),d[41],d[56]!==void 0?d[52].set(d[66],d[56]):0,d[67]="page_id",d[57]=d[41].get(d[67]),d[41],d[57]!==void 0?d[52].set(d[67],d[57]):0,d[68]="photo_id",d[58]=d[41].get(d[68]),d[41],d[58]!==void 0?d[52].set(d[68],d[58]):0,d[69]="photo_index",d[59]=d[41].get(d[69]),d[41],c.i64.neq(d[59],void 0)?d[52].set(d[69],d[59]):0,d[70]="fallback_url",d[60]=d[41].get(d[70]),d[41],d[60]!==void 0?d[52].set(d[70],d[60]):0,d[71]="product_id",d[61]=d[41].get(d[71]),d[41],d[61]!==void 0?d[52].set(d[71],d[61]):0,d[72]="user_id",d[62]=d[41].get(d[72]),d[41],d[62]!==void 0?d[52].set(d[72],d[62]):0,d[51]=d[52])):c.sequence([function(a){return d[48]==="XMSGZorroMessageExtras"?c.resolve((d[53]=new c.Map(),d[55]="is_enabled",d[54]=d[41].get(d[55]),d[41],d[54]!==void 0?d[53].set(d[55],d[54]):0,d[52]=d[53])):c.sequence([function(a){return d[48]==="XMSGGenAISuggestedPromptExtras"?c.resolve((d[54]=new c.Map(),d[57]="prompt_type",d[55]=d[41].get(d[57]),d[41],d[55]!==void 0?d[54].set(d[57],d[55]):0,d[58]="qpl_join_id",d[56]=d[41].get(d[58]),d[41],d[56]!==void 0?d[54].set(d[58],d[56]):0,d[53]=d[54])):c.sequence([function(a){return d[48]==="XMSGGenAIMultiModalExtras"?c.resolve((d[55]=new c.Map(),d[59]="should_skip_genai_eval",d[56]=d[41].get(d[59]),d[41],d[56]!==void 0?d[55].set(d[59],d[56]):0,d[60]="associated_multimodal_message_id",d[57]=d[41].get(d[60]),d[41],d[57]!==void 0?d[55].set(d[60],d[57]):0,d[61]="qpl_join_id",d[58]=d[41].get(d[61]),d[41],d[58]!==void 0?d[55].set(d[61],d[58]):0,d[54]=d[55])):c.sequence([function(a){return d[48]==="XMSGGenAIFlashImagineExtras"?c.resolve((d[56]=new c.Map(),d[59]="seed",d[57]=d[41].get(d[59]),d[41],c.i64.neq(d[57],void 0)?d[56].set(d[59],d[57]):0,d[60]="qpl_join_id",d[58]=d[41].get(d[60]),d[41],d[58]!==void 0?d[56].set(d[60],d[58]):0,d[55]=d[56])):c.sequence([function(a){return d[48]==="XMSGShareSheetExtras"?c.resolve((d[57]=new c.Map(),d[59]="recipient_selection_session_id",d[58]=d[41].get(d[59]),d[41],d[58]!==void 0?d[57].set(d[59],d[58]):0,d[56]=d[57])):c.sequence([function(a){return d[48]==="XMSGGenAIAssistantAPIExtras"?c.sequence([function(a){return d[58]=new c.Map(),d[84]="referrer_session_id",d[59]=d[41].get(d[84]),d[41],d[59]!==void 0?d[58].set(d[84],d[59]):0,d[85]="thread_session_id",d[60]=d[41].get(d[85]),d[41],d[60]!==void 0?d[58].set(d[85],d[60]):0,d[86]="prompt_id",d[61]=d[41].get(d[86]),d[41],d[61]!==void 0?d[58].set(d[86],d[61]):0,d[87]="prompt_type",d[62]=d[41].get(d[87]),d[41],d[62]!==void 0?d[58].set(d[87],d[62]):0,d[88]="qpl_join_id",d[63]=d[41].get(d[88]),d[41],d[63]!==void 0?d[58].set(d[88],d[63]):0,d[89]="meta_ai_prompt_type",d[64]=d[41].get(d[89]),d[41],d[64]!==void 0?d[58].set(d[89],d[64]):0,d[90]="is_subsequent_send",d[65]=d[41].get(d[90]),d[41],d[65]!==void 0?d[58].set(d[90],d[65]):0,d[91]="context_injection_type",d[66]=d[41].get(d[91]),d[41],d[66]!==void 0?d[58].set(d[91],d[66]):0,d[92]="context_injection_timestamp_ms",d[67]=d[41].get(d[92]),d[41],d[67]!==void 0?d[58].set(d[92],d[67]):0,d[93]="meta_ai_response_to_persist",d[68]=d[41].get(d[93]),d[41],d[68]?d[69]=!1:d[69]=!0,d[69]?c.resolve():c.sequence([function(a){return d[68]?d[103]=!1:d[103]=!0,d[103]?c.resolve(d[104]=void 0):c.sequence([function(a){return d[105]=new c.Map(),d[112]="text",d[106]=d[68].get(d[112]),d[68],d[106]!==void 0?d[105].set(d[112],d[106]):0,d[113]="bot_response_id",d[107]=d[68].get(d[113]),d[68],d[107]!==void 0?d[105].set(d[113],d[107]):0,d[114]="bot_request_id",d[108]=d[68].get(d[114]),d[68],d[108]!==void 0?d[105].set(d[114],d[108]):0,d[115]="external_search_params",d[109]=d[68].get(d[115]),d[68],d[109]?d[110]=!1:d[110]=!0,d[110]?c.resolve():c.sequence([function(a){return d[109]?d[117]=!1:d[117]=!0,d[117]?c.resolve(d[118]=void 0):c.sequence([function(a){return d[119]=new c.Map(),d[127]="search_result_uri",d[120]=d[109].get(d[127]),d[109],d[120]?d[121]=!1:d[121]=!0,d[121]?c.resolve():c.sequence([function(a){return d[120]?d[132]=!1:d[132]=!0,d[132]?c.resolve(d[133]=void 0):c.sequence([function(a){return d[134]=c.createArray(),d[135]=c.i64.of_int32(d[120].length),c.i64.gt(d[135],c.i64.cast([0,0]))?c.loopAsync(d[135],function(a){return d[136]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[120],d[136]).then(function(a){return a=a,d[137]=a[0],d[138]=a[1],a})},function(a){return d[139]=(d[134].push(d[137]),d[134])}])}):c.resolve()},function(a){return d[133]=d[134]}])},function(a){return d[119].set(d[127],d[133])}])},function(a){return d[128]="search_query",d[122]=d[109].get(d[128]),d[109],d[122]!==void 0?d[119].set(d[128],d[122]):0,d[129]="attribution_link",d[123]=d[109].get(d[129]),d[109],d[123]!==void 0?d[119].set(d[129],d[123]):0,d[130]="search_engine",d[124]=d[109].get(d[130]),d[109],d[124]!==void 0?d[119].set(d[130],d[124]):0,d[131]="references_title",d[125]=d[109].get(d[131]),d[109],d[125]?d[126]=!1:d[126]=!0,d[126]?c.resolve():c.sequence([function(a){return d[125]?d[132]=!1:d[132]=!0,d[132]?c.resolve(d[133]=void 0):c.sequence([function(a){return d[134]=c.createArray(),d[135]=c.i64.of_int32(d[125].length),c.i64.gt(d[135],c.i64.cast([0,0]))?c.loopAsync(d[135],function(a){return d[136]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[125],d[136]).then(function(a){return a=a,d[137]=a[0],d[138]=a[1],a})},function(a){return d[139]=(d[134].push(d[137]),d[134])}])}):c.resolve()},function(a){return d[133]=d[134]}])},function(a){return d[119].set(d[131],d[133])}])},function(a){return d[118]=d[119]}])},function(a){return d[105].set(d[115],d[118])}])},function(a){return d[116]="followup_prompt_text",d[111]=d[68].get(d[116]),d[68],d[111]!==void 0?d[105].set(d[116],d[111]):0,d[104]=d[105]}])},function(a){return d[58].set(d[93],d[104])}])},function(a){return d[94]="gql_dark_test_qpl_join_id",d[70]=d[41].get(d[94]),d[41],d[70]!==void 0?d[58].set(d[94],d[70]):0,d[95]="gql_dark_test_client_start_time",d[71]=d[41].get(d[95]),d[41],d[71]!==void 0?d[58].set(d[95],d[71]):0,d[96]="prompt_context",d[72]=d[41].get(d[96]),d[41],d[72]?d[73]=!1:d[73]=!0,d[73]?0:(d[72]?d[103]=!1:d[103]=!0,d[103]?d[104]=void 0:(d[105]=new c.Map(),d[108]="context_token",d[106]=d[72].get(d[108]),d[72],d[106]!==void 0?d[105].set(d[108],d[106]):0,d[109]="context_token_type",d[107]=d[72].get(d[109]),d[72],c.i64.neq(d[107],void 0)?d[105].set(d[109],d[107]):0,d[104]=d[105]),d[58].set(d[96],d[104])),d[97]="imagine_flash_extras",d[74]=d[41].get(d[97]),d[41],d[74]?d[75]=!1:d[75]=!0,d[75]?0:(d[74]?d[103]=!1:d[103]=!0,d[103]?d[104]=void 0:(d[105]=new c.Map(),d[108]="seed",d[106]=d[74].get(d[108]),d[74],c.i64.neq(d[106],void 0)?d[105].set(d[108],d[106]):0,d[109]="qpl_join_id",d[107]=d[74].get(d[109]),d[74],d[107]!==void 0?d[105].set(d[109],d[107]):0,d[104]=d[105]),d[58].set(d[97],d[104])),d[98]="conversation_marker_id",d[76]=d[41].get(d[98]),d[41],d[76]!==void 0?d[58].set(d[98],d[76]):0,d[99]="multi_modal_extras",d[77]=d[41].get(d[99]),d[41],d[77]?d[78]=!1:d[78]=!0,d[78]?0:(d[77]?d[103]=!1:d[103]=!0,d[103]?d[104]=void 0:(d[105]=new c.Map(),d[109]="should_skip_genai_eval",d[106]=d[77].get(d[109]),d[77],d[106]!==void 0?d[105].set(d[109],d[106]):0,d[110]="associated_multimodal_message_id",d[107]=d[77].get(d[110]),d[77],d[107]!==void 0?d[105].set(d[110],d[107]):0,d[111]="qpl_join_id",d[108]=d[77].get(d[111]),d[77],d[108]!==void 0?d[105].set(d[111],d[108]):0,d[104]=d[105]),d[58].set(d[99],d[104])),d[100]="ads_extras",d[79]=d[41].get(d[100]),d[41],d[79]?d[80]=!1:d[80]=!0,d[80]?0:(d[79]?d[103]=!1:d[103]=!0,d[103]?d[104]=void 0:(d[105]=new c.Map(),d[107]="context",d[106]=d[79].get(d[107]),d[79],d[106]!==void 0?d[105].set(d[107],d[106]):0,d[104]=d[105]),d[58].set(d[100],d[104])),d[101]="suggested_prompt_extras",d[81]=d[41].get(d[101]),d[41],d[81]?d[82]=!1:d[82]=!0,d[82]?0:(d[81]?d[103]=!1:d[103]=!0,d[103]?d[104]=void 0:(d[105]=new c.Map(),d[108]="prompt_type",d[106]=d[81].get(d[108]),d[81],d[106]!==void 0?d[105].set(d[108],d[106]):0,d[109]="qpl_join_id",d[107]=d[81].get(d[109]),d[81],d[107]!==void 0?d[105].set(d[109],d[107]):0,d[104]=d[105]),d[58].set(d[101],d[104])),d[102]="disable_server_mqtt_typing_indicator",d[83]=d[41].get(d[102]),d[41],d[83]!==void 0?d[58].set(d[102],d[83]):0,d[57]=d[58]}]):c.sequence([function(a){return d[48]==="XMSGProductHighlightExtras"?c.resolve((d[59]=new c.Map(),d[62]="product_highlight_type",d[60]=d[41].get(d[62]),d[41],d[60]!==void 0?d[59].set(d[62],d[60]):0,d[63]="conversation_marker",d[61]=d[41].get(d[63]),d[41],d[61]!==void 0?d[59].set(d[63],d[61]):0,d[58]=d[59])):c.sequence([function(a){return d[48]==="XMSGMagicMessengerExtras"?c.resolve((d[60]=new c.Map(),d[62]="is_magic_thread",d[61]=d[41].get(d[62]),d[41],d[61]!==void 0?d[60].set(d[62],d[61]):0,d[59]=d[60])):c.sequence([function(a){return d[48]==="XMSGAdsAIExtras"?c.resolve((d[61]=new c.Map(),d[63]="context",d[62]=d[41].get(d[63]),d[41],d[62]!==void 0?d[61].set(d[63],d[62]):0,d[60]=d[61])):c.sequence([function(a){return function(a){c.logger(a).warn(a)}(["Unknown subtype for LSXMSGMessageSendProductExtrasUnion: ","",d[48]].join("")),d[61]=new c.Map(),d[62]=d[41].keys(),d[63]=c.i64.of_int32(d[62].length),c.i64.gt(d[63],c.i64.cast([0,0]))?c.loopAsync(d[63],function(a){return d[64]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[62],d[64]).then(function(a){return a=a,d[65]=a[0],d[66]=a[1],a})},function(a){return d[67]=d[41].get(d[65]),d[41],d[61].set(d[65],d[67])}])}):c.resolve()},function(a){return d[60]=d[61]}])},function(a){return d[59]=d[60]}])},function(a){return d[58]=d[59]}])},function(a){return d[57]=d[58]}])},function(a){return d[56]=d[57]}])},function(a){return d[55]=d[56]}])},function(a){return d[54]=d[55]}])},function(a){return d[53]=d[54]}])},function(a){return d[52]=d[53]}])},function(a){return d[51]=d[52]}])},function(a){return d[50]=d[51]}])},function(a){return d[49]=d[50]}])},function(a){return d[49].set("__typename",d[48]),d[47]=d[49]}])},function(a){return d[39].set(d[45],d[47])}])},function(a){return d[43]=d[39].get("product_extras"),d[39],d[43]!==void 0?(d[46]=d[43].get("__typename"),d[43],d[46]==="XMSGClickToMessengerAdExtras"?(d[48]=new c.Map(),d[59]="encrypted_ads_token",d[49]=d[43].get(d[59]),d[43],d[49]!==void 0?d[48].set(d[59],d[49]):0,d[60]="product_type",d[50]=d[43].get(d[60]),d[43],d[50]!==void 0?d[48].set(d[60],d[50]):0,d[61]="post_id",d[51]=d[43].get(d[61]),d[43],d[51]!==void 0?d[48].set(d[61],d[51]):0,d[62]="ad_id",d[52]=d[43].get(d[62]),d[43],d[52]!==void 0?d[48].set(d[62],d[52]):0,d[63]="page_id",d[53]=d[43].get(d[63]),d[43],d[53]!==void 0?d[48].set(d[63],d[53]):0,d[64]="photo_id",d[54]=d[43].get(d[64]),d[43],d[54]!==void 0?d[48].set(d[64],d[54]):0,d[65]="photo_index",d[55]=d[43].get(d[65]),d[43],c.i64.neq(d[55],void 0)?d[48].set(d[65],d[55]):0,d[66]="fallback_url",d[56]=d[43].get(d[66]),d[43],d[56]!==void 0?d[48].set(d[66],d[56]):0,d[67]="product_id",d[57]=d[43].get(d[67]),d[43],d[57]!==void 0?d[48].set(d[67],d[57]):0,d[68]="user_id",d[58]=d[43].get(d[68]),d[43],d[58]!==void 0?d[48].set(d[68],d[58]):0,d[47]=d[48]):d[47]=void 0,d[47]!==void 0?(d[48]=new c.Map(),d[48].set("product_extras",d[47]),d[48].set("client_thread_key",d[37]),d[48].set("offline_threading_id",c.i64.to_string(d[34])),d[48].set("admin_text_otid",c.i64.to_string(d[36])),d[49]=d[48].get("client_thread_key"),d[48],d[50]=c.toJSON(d[48]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[49]),c.i64.cast([0,1020]),d[50],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve()):c.resolve()}]):c.resolve()}]):c.resolve()},function(e){return c.i64.eq(d[24],c.i64.cast([0,20]))&&!1&&!1?c.sequence([function(e){return c.storedProcedure(b("LSCreateGroupThreadWithAdminText"),d[14],void 0,a[2],void 0).then(function(a){return a=a,d[30]=a[0],a})},function(a){return a=[d[30],c.i64.cast([0,80])],d[28]=a[0],d[29]=a[1],a}]):c.sequence([function(e){return c.i64.eq(a[1],c.i64.cast([0,5]))?c.sequence([function(e){return c.storedProcedure(b("LSVerifyThreadRowExistsV2"),d[22],a[1],c.i64.cast([0,1]),c.i64.cast([0,20]))},function(a){return d[30]=c.i64.cast([0,20])}]):c.sequence([function(e){return c.i64.eq(d[24],c.i64.cast([0,80]))&&!1&&!1?d[31]=d[24]:d[31]=c.i64.cast([0,40]),c.storedProcedure(b("LSVerifyThreadRowExists"),d[22],a[1],c.i64.cast([0,1]))},function(a){return d[30]=d[31]}])},function(a){return a=[d[22],d[30]],d[28]=a[0],d[29]=a[1],a}])},function(a){return a=[d[28],d[29]],d[26]=a[0],d[27]=a[1],a}]):c.sequence([function(e){return d[36]=c.i64.of_int32(a[6].length),c.i64.gt(d[36],c.i64.cast([0,0]))?c.loopAsync(d[36],function(e){return d[37]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[6],d[37]).then(function(a){return a=a,d[38]=a[0],d[39]=a[1],a})},function(a){return d[40]=d[38].get("contact_id"),d[38],d[41]=d[38].get("contact_type"),d[38],d[42]=d[38].get("contact_name"),d[38],d[43]=d[38].get("contact_profile_photo"),d[38],c.storedProcedure(b("LSVerifyContactRowExists"),d[40],c.i64.cast([0,0]),d[43],d[42],d[41],void 0,void 0,void 0,void 0,!1,!1,c.i64.cast([0,0]),void 0,!1,c.i64.cast([0,20]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,2]),c.i64.cast([0,0]),void 0)}])}):c.resolve()},function(e){return void 0?d[28]=!1:d[28]=!0,d[28]?(e=["",void 0,void 0,void 0,void 0],d[29]=e[0],d[30]=e[1],d[31]=e[2],d[32]=e[3],d[33]=e[4],e):(d[36]=(void 0).get("nullstate_description_text1"),void 0,d[36]!==void 0?d[37]=d[36]:d[37]="",d[38]=(void 0).get("nullstate_description_text2"),void 0,d[39]=(void 0).get("nullstate_description_text3"),void 0,d[40]=(void 0).get("nullstate_description_text4"),void 0,d[41]=(void 0).get("nullstate_description_text5"),void 0,e=[d[37],d[38],d[39],d[40],d[41]],d[29]=e[0],d[30]=e[1],d[31]=e[2],d[32]=e[3],d[33]=e[4],e),c.sequence([function(e){return d[36]=new c.Map(),d[36].set("nullstate_description_text1",d[29]),d[36].set("nullstate_description_text2",d[30]),d[36].set("nullstate_description_text3",d[31]),d[36].set("nullstate_description_text4",d[32]),d[36].set("nullstate_description_text5",d[33]),c.storedProcedure(b("LSLocalCreateOptimisticGroupThread"),d[14],"",a[2],!0,a[8]).then(function(a){return a=a,d[37]=a[0],a})},function(a){return c.storedProcedure(b("LSInsertNewMessageRange"),d[37],c.i64.cast([0,0]),c.i64.cast([2328,1316134911]),"","",c.i64.cast([0,0]),c.i64.cast([0,0]),!1,!1,void 0)},function(a){return a=[d[37],void 0],d[34]=a[0],d[35]=a[1],a}])},function(a){return a=[d[34],d[35]],d[26]=a[0],d[27]=a[1],a}])},function(a){return a=[d[26],d[27]],d[12]=a[0],d[13]=a[1],a}]):c.sequence([function(e){return c.i64.eq(a[1],c.i64.cast([0,19]))?c.sequence([function(e){return d[16]=new c.Map(),d[16].set("thread_fbid",a[0]),d[16].set("force_upsert",!1),d[16].set("use_open_messenger_transport",!1),d[16].set("sync_group",c.i64.cast([0,104])),d[16].set("metadata_only",!1),d[16].set("preview_only",!0),d[17]=d[16].get("thread_fbid"),d[16],d[18]=c.toJSON(d[16]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[17]),c.i64.cast([0,209]),d[18],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(b){return b=[a[0],void 0],d[14]=b[0],d[15]=b[1],b}]):c.sequence([function(d){return c.i64.eq(a[1],c.i64.cast([0,5]))?c.storedProcedure(b("LSVerifyThreadRowExistsV2"),a[0],a[1],c.i64.cast([0,1]),c.i64.cast([0,20])):c.storedProcedure(b("LSVerifyThreadRowExists"),a[0],a[1],c.i64.cast([0,1]))},function(e){return c.i64.lt(d[5],c.i64.cast([0,60]))?c.storedProcedure(b("LSInsertNewMessageRange"),a[0],c.i64.cast([0,0]),c.i64.cast([2328,1316134911]),"","",c.i64.cast([0,0]),c.i64.cast([0,0]),!1,!1,void 0):c.resolve()},function(b){return b=[a[0],void 0],d[14]=b[0],d[15]=b[1],b}])},function(a){return a=[d[14],d[15]],d[12]=a[0],d[13]=a[1],a}])},function(a){return a=[d[12],d[13]],d[7]=a[0],d[8]=a[1],a}])},function(e){return c.i64.eq(d[8]==null?d[5]:d[8],c.i64.cast([0,20]))?c.sequence([function(e){return c.i64.neq(a[4],void 0)?c.resolve(d[12]=a[4]):c.sequence([function(a){return c.storedProcedure(b("LSComputeOptimisticThreadCapabilities"),d[7]).then(function(a){return a=a,d[13]=a[0],a})},function(a){return d[12]=d[13]}])},function(a){return c.forEach(c.db.table(9).fetch([[[d[7]]]]),function(a){var b=a.update;a.item;return b({capabilities:d[12]})})}]):c.resolve()},function(a){return c.db.table(9).fetch([[[d[7]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[d[7],c.i64.cast([0,0])],d[9]=e[0],d[10]=e[1],e):(b=a.item,b.isDisappearingMode?(e=[b.disappearingThreadKey,c.i64.cast([0,1024])],d[12]=e[0],d[13]=e[1],e):(a=[d[7],b.mailboxType],d[12]=a[0],d[13]=a[1],a),e=[d[12],d[13]],d[9]=e[0],d[10]=e[1],e)})},function(a){return a=[d[9],d[10]],d[1]=a[0],d[2]=a[1],a}])},function(a){return a=[d[1],d[2]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxVerifyThreadViewStoredProcedure";e.exports=a}),null);
__d("LSVerifyThreadViewStoredProcedure",["LSVerifyThreadView","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.threadType;d[2]=b.threadName;d[3]=b.threadPictureUrl;d[4]=b.threadCapabilities;d[5]=b.messageId;d[6]=b.contacts;d[7]=b.mailboxType;d[8]=b.threadMetadata;d[9]=b.enableCcThreadMetadataFix;return c("LSVerifyThreadView").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MAWMiActLoadExistingThread",["FBLogger","I64","LSAuthorityLevel","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSVerifyE2EEMetadataThreadExistsV2StoredProcedure","MAWMiActCreateThreadInActWithMiData","MAWMiActGetThreadLifecycleState","MAWMiActThreadLifecycleState","WALoggerDeferred","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Running verify thread exists sproc for state "," threadKey: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Retry ACT thread creation for threadKey: ",""]);k=function(){return a};return a}function l(a,b){return a.runInTransaction(function(a){return c("LSVerifyE2EEMetadataThreadExistsV2StoredProcedure")(c("LSFactory")(a),{authorityLevel:(h||(h=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),threadKey:b,threadType:h.ofNumber(15)}).then(function(){})},"readwrite",void 0,void 0,f.id+":31")}function m(a,b){return d("MAWMiActCreateThreadInActWithMiData").miActCreateThreadInActWithMiData({description:b,fbid:a.serverThreadKey,isGroupThread:d("LSMessagingThreadTypeUtil").isGroup(a.thread.threadType),jid:a.jidInt64,lastActivityTimestampMs:a.thread.lastActivityTimestampMs,lastReadWatermarkTimestampMs:a.thread.lastReadWatermarkTimestampMs}).then(function(){})}function a(a,b,c){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=(yield d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByThreadKey(a.tables,b,"loadExistingThread"));switch(f.type){case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:c("promiseDone")(d("WALoggerDeferred").LOG(k(),(i||(i=d("I64"))).to_string(b)));return m(f,e);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:c("promiseDone")(d("WALoggerDeferred").LOG(j(),f.type,(i||(i=d("I64"))).to_string(b)));return l(a,b);default:f.type;throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unreachable miActThreadState.type: %s",f.type)}});return n.apply(this,arguments)}g["default"]=a}),98);
__d("verifyChatTabContactExists",["LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSVerifyContactRowExistsStoredProcedure","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var e=a.db,g=a.threadKey;a=a.threadType;if(d("LSMessagingThreadTypeUtil").isOpenOneToOne(a))return e.runInTransaction(function(a){return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:i.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:i.ofNumber(c("LSContactIdType").FBID),contactType:i.ofNumber(c("LSContactType").USER),contactViewerRelationship:i.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:i.ofNumber(c("LSContactGender").UNKNOWN),id:g,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:i.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)})},"readwrite",void 0,void 0,f.id+":40");else return(h||(h=b("Promise"))).resolve()}g["default"]=a}),98);
__d("verifyChatTabThreadExists",["I64","LSFactory","LSIntEnum","LSMailboxType","LSMessagingThreadTypeUtil","LSVec","LSVerifyThreadRowExistsStoredProcedure","LSVerifyThreadViewStoredProcedure","ReQL","asyncToGeneratorRuntime","cr:8531","useIsChatPreviewsEnabled","verifyChatTabContactExists"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.db,g=a.threadKey,j=a.threadType;yield c("verifyChatTabContactExists")({db:e,threadKey:g,threadType:j});a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(g)));var k=a==null?null:yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.community_folders).getKeyRange(a.parentThreadKey));if(b("cr:8531")!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(j)&&((a==null?void 0:a.clientThreadKey)==null||!(h||(h=d("I64"))).equal(g,a.clientThreadKey)))return b("cr:8531")(e,g,"verifyChatTabThreadExists");a=a==null?!1:d("useIsChatPreviewsEnabled").isChatPreviewsEnabled(a,k==null?void 0:k.communityType);if(a)return e.runInTransaction(function(a){return c("LSVerifyThreadViewStoredProcedure")(c("LSFactory")(a),{contacts:c("LSVec").ofArray([]),mailboxType:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMailboxType").MESSENGER),threadKey:g,threadType:j})},"readwrite",void 0,void 0,f.id+":74").then(function(){});else return e.runInTransaction(function(a){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(a),{syncGroup:(i||(i=d("LSIntEnum"))).ofNumber(1),threadKey:g,threadType:j})},"readwrite",void 0,void 0,f.id+":87")});return j.apply(this,arguments)}g["default"]=a}),98);
__d("MWV2EnsureThatChatTabExists",["I64","Int64Hooks","LSMessagingThreadTypeUtil","Promise","promiseDone","useReStore","verifyChatTabThreadExists"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,d,e,f){return l(d,e,f)?(j||(j=b("Promise"))).resolve():c("verifyChatTabThreadExists")({db:a,threadKey:d,threadType:e})}function a(a,b,e){var f=(i||(i=c("useReStore")))();d("Int64Hooks").useEffectInt64(function(){c("promiseDone")(k(f,a,b,e))},[e,f,a,b])}function l(a,b,c){return d("LSMessagingThreadTypeUtil").isArmadilloSecure(b)&&c!=null&&(h||(h=d("I64"))).equal(a,c)}g.ensureThatChatTabExists=k;g.useMWV2EnsureThatChatTabExists=a;g.isOptimisticSecureThread=l}),98);
__d("useEnsureContactsExistAndUpdated",["Int64Hooks","LSFactory","LSRefetchContactRowIfExistsStoredProcedure","LSVerifyContactExistsWithID","Promise","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var e=(i||(i=c("useReStore")))();d("Int64Hooks").useEffectInt64(function(){if(a==null)return;c("promiseDone")((h||(h=b("Promise"))).allSettled([d("LSVerifyContactExistsWithID").runInTransaction(e,a,!1,void 0,f.id+":39"),e.runInTransaction(function(b){return c("LSRefetchContactRowIfExistsStoredProcedure")(c("LSFactory")(b),{id:a})},"readwrite",void 0,void 0,f.id+":40")]))},[e,a])}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BaseTypeaheadLayoutContextualStrategyStateContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("useBaseTypeaheadLayoutContextualStrategyStateContext",["BaseTypeaheadLayoutContextualStrategyStateContext","FBLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(c("BaseTypeaheadLayoutContextualStrategyStateContext"));if(a==null)throw c("FBLogger")("typeahead_framework").mustfixThrow("Contextual Layout Strategy State is not found");return a}g["default"]=a}),98);
__d("useCometInternalTypeaheadFetchHandler",["react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadFetch","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect;function a(a){var b=a.loggingProvider,d=a.queryString,e=a.traceProvider;a=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();var f=a.isOpened;a=c("useCometInternalTypeaheadState")();var g=a.activeEntries;a=c("useCometInternalTypeaheadFetch")();var h=a.fetch;a=i(function(){function a(a,c){var d=null;b!=null&&(d=b.addEvent({action:"keystroke",entries:g,queryString:a},"useCometInternalTypeaheadFetchHandler"));d=d!=null?{loggingEventTrace:d,perfTraceAPI:c,query:a}:{perfTraceAPI:c,query:a};h(d)}var c=d.trimLeft().replace(/\s+/g," ");if(!f)return;e?e.trace(function(b){return a(c,b)},c):a(c)},[g,h,f,b,d,e]);j(a,[f,d])}g["default"]=a}),98);
__d("BaseTypeaheadDataFetchTrigger.react",["react","useCometInternalTypeaheadFetchHandler"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(a){var b=i(4),d=a.loggingProvider,e=a.queryString;a=a.traceProvider;var f;b[0]!==d||b[1]!==e||b[2]!==a?(f={loggingProvider:d,queryString:e,traceProvider:a},b[0]=d,b[1]=e,b[2]=a,b[3]=f):f=b[3];c("useCometInternalTypeaheadFetchHandler")(f);return null}g["default"]=a}),98);
__d("cometTypeaheadMouseUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a!=null&&(a.ctrlKey||a.metaKey||a.shiftKey)}f.hasModifierKeyPressed=a}),66);
__d("useCometInternalTypeaheadOnAbandonLoggingHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.c;function a(a){var b=i(5),d=a.callback,e=a.loggingProvider,f=a.queryString;a=c("useCometInternalTypeaheadState")();var g=a.activeEntries;b[0]!==e||b[1]!==g||b[2]!==f||b[3]!==d?(a=function(){e!=null&&e.isSessionActive()&&(e.addEvent({action:"abandon",entries:g,queryString:f},"useCometInternalTypeaheadOnAbandonLoggingHandler"),e.endSession()),d&&d()},b[0]=e,b[1]=g,b[2]=f,b[3]=d,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("useCometInternalTypeaheadOnEnterLoggingHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.c;function a(a){var b=i(6),d=a.loggingProvider,e=a.onEnter,f=a.queryString;a=c("useCometInternalTypeaheadState")();var g=a.activeEntries,h=a.highlightedEntry;b[0]!==h||b[1]!==d||b[2]!==g||b[3]!==f||b[4]!==e?(a=function(){h!=null&&(d&&d.addEvent({action:"click",entries:g,entry:h,queryString:f},"useCometInternalTypeaheadOnEnterLoggingHandler:without_highlightedEntry")),h==null&&(d&&d.addEvent({action:"enter",entries:g,queryString:f},"useCometInternalTypeaheadOnEnterLoggingHandler:with_highlightedEntry")),d&&d.endSession(),e&&e()},b[0]=h,b[1]=d,b[2]=g,b[3]=f,b[4]=e,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("useCometInternalTypeaheadOnFocusLoggingHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.c;function a(a){var b=i(5),d=a.loggingProvider,e=a.onFocus,f=a.queryString;a=c("useCometInternalTypeaheadState")();var g=a.activeEntries;b[0]!==d||b[1]!==g||b[2]!==f||b[3]!==e?(a=function(){d!=null&&(d.startSession(),d.addEvent({action:"typeahead_appeared",entries:g,queryString:f},"useCometInternalTypeaheadOnFocusLoggingHandler")),e&&e()},b[0]=d,b[1]=g,b[2]=f,b[3]=e,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("useCometInternalTypeaheadOnPressEntryLoggingHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.c;function a(a){var b=i(5),d=a.loggingProvider,e=a.onPressEntry,f=a.queryString;a=c("useCometInternalTypeaheadState")();var g=a.activeEntries;b[0]!==d||b[1]!==g||b[2]!==f||b[3]!==e?(a=function(a,b){d!=null&&(d.addEvent({action:"click",entries:g,entry:a,queryString:f},"useCometInternalTypeaheadOnPressEntryLoggingHandler"),d.endSession()),e&&e(a,b)},b[0]=d,b[1]=g,b[2]=f,b[3]=e,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("useCometTypeaheadInputRefs",["mergeRefs","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useMemo,j=b.useRef;function a(a){var b=j(null),d=i(function(){return c("mergeRefs")(b,a)},[b,a]);return{composedRef:d,inputRef:b}}g["default"]=a}),98);
__d("CometInternalTypeahead.react",["BaseTypeaheadDataFetchTrigger.react","cometTypeaheadMouseUtils","emptyFunction","react","useCometInternalTypeaheadOnAbandonLoggingHandler","useCometInternalTypeaheadOnEnterLoggingHandler","useCometInternalTypeaheadOnFocusLoggingHandler","useCometInternalTypeaheadOnPressEntryLoggingHandler","useCometInternalTypeaheadState","useCometTypeaheadInputRefs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback;function a(a){var b,e=a.inputRef,f=a.layoutStrategyRenderer,g=a.loggingProvider,h=a.onEnter,k=a.onFocus,l=a.onPressEntry,m=a.onSelectFreeformQuery,n=a.onShiftTab,o=a.onTab,p=a.queryString,q=a.traceProvider;a=babelHelpers.objectWithoutPropertiesLoose(a,["inputRef","layoutStrategyRenderer","loggingProvider","onEnter","onFocus","onPressEntry","onSelectFreeformQuery","onShiftTab","onTab","queryString","traceProvider"]);e=c("useCometTypeaheadInputRefs")(e);var r=e.composedRef,s=e.inputRef;e=c("useCometInternalTypeaheadState")();var t=e.highlightedEntry,u=e.secondaryActionHighlighted;e=c("useCometInternalTypeaheadOnEnterLoggingHandler")({loggingProvider:g,onEnter:j(function(){t!=null?l==null?void 0:l(t,u):m&&m(p),h&&h()},[t,h,l,m,p,u]),queryString:p});k=c("useCometInternalTypeaheadOnFocusLoggingHandler")({loggingProvider:g,onFocus:k,queryString:p});var v=c("useCometInternalTypeaheadOnPressEntryLoggingHandler")({loggingProvider:g,onPressEntry:j(function(a,b){if(d("cometTypeaheadMouseUtils").hasModifierKeyPressed(b)){s.current&&s.current.focus();return}l&&l(a)},[s,l]),queryString:p});n=(b=c("useCometInternalTypeaheadOnAbandonLoggingHandler"))({callback:n,loggingProvider:g,queryString:p});o=b({callback:o,loggingProvider:g,queryString:p});var w=b({callback:c("emptyFunction"),loggingProvider:g,queryString:p});b=b({callback:c("emptyFunction"),loggingProvider:g,queryString:p});return i.jsxs(i.Fragment,{children:[i.jsx(c("BaseTypeaheadDataFetchTrigger.react"),{loggingProvider:g,queryString:p,traceProvider:q}),i.jsx(f,babelHelpers["extends"]({},a,{inputRef:r,onAbandonTypeahead_DO_NOT_USE:b,onClick:c("emptyFunction"),onEnter:e,onFocus:k,onHighlightEntry:a.onHighlightEntry,onOutsideClick:w,onPressEntry:v,onShiftTab:n,onTab:o,queryString:p,traceProvider:q,xstyles:a.xstyles}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometInternalTypeaheadEmptyFetchContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(!1);g["default"]=b}),98);
__d("CometInternalTypeaheadEmptyFetchProvider",["CometInternalTypeaheadEmptyFetchContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useLayoutEffect,k=b.useState;function a(a){var b=a.children,d=a.isLoading;a=a.source;var e=k(!0),f=e[0],g=e[1];j(function(){d&&g(!1)},[d]);e=["all","network"].includes(a);a=!(e&&f||d);return i.jsx(c("CometInternalTypeaheadEmptyFetchContext").Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometInternalTypeaheadStateDispatcherContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext();g["default"]=b}),98);
__d("useCometInternalTypeaheadStateDispatcher",["CometInternalTypeaheadStateDispatcherContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("CometInternalTypeaheadStateDispatcherContext"))}g["default"]=a}),98);
__d("CometInternalTypeaheadFetchProvider",["CometInternalTypeaheadEmptyFetchProvider","CometInternalTypeaheadFetchContext","react","useBaseTypeaheadDataSourceFetch","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo;function a(a){var b=a.children,d=a.dataSource,e=a.dataSourceFetchConfigParams;a.loggingContext;var f=a.onFetchEntries_DO_NOT_USE,g=a.traceProvider;a=c("useCometInternalTypeaheadStateDispatcher")();var h=a.dispatchActiveEntries;a=c("useBaseTypeaheadDataSourceFetch")({dataSource:d,dataSourceFetchConfigParams:e,onResolvePayload:j(function(a,b){var c;a=a.entries;var d=b.isTraceComplete;b=b.source;h((c=a)!=null?c:[]);f&&f(a);g&&!g.isResolved()&&(d&&(b==="cache"&&a.length>=g.getEntriesCountForVisualComplete()?g.setEndReason("max_suggestions_reached"):b==="network"?g.setEndReason("all_queries_completed"):b==="network-no-results"&&g.setEndReason("all_queries_completed_no_network_results"),g.resolve()))},[h,f,g])});d=a[0];var l=d.isLoading,m=d.source,n=a[1],o=a[2];e=k(function(){return{fetch:n,isLoading:l,refetch:o,source:m}},[n,l,o,m]);return i.jsx(c("CometInternalTypeaheadFetchContext").Provider,{value:e,children:i.jsx(c("CometInternalTypeaheadEmptyFetchProvider"),{isLoading:l,source:m,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseTypeaheadLayoutContextualStrategyStateContextProvider.react",["BaseTypeaheadLayoutContextualStrategyStateContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo,l=b.useState;function a(a){var b=a.children,d=a.autoOpen,e=a.onClose,f=a.onOpen;a=l(d);var g=a[0],h=a[1],m=j(function(a){if(a===g)return;h(a);a?f():e()},[g,e,f]);d=k(function(){return{dispatchIsOpened:m,isOpened:g}},[m,g]);return i.jsx(c("BaseTypeaheadLayoutContextualStrategyStateContext").Provider,{value:d,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometInternalTypeaheadStateProvider",["BaseTypeaheadLayoutContextualStrategyStateContextProvider.react","CometInternalTypeaheadStateContext","CometInternalTypeaheadStateDispatcherContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useMemo,m=b.useRef,n=b.useState,o=[];function a(a){var b=a.autoOpen,d=a.children,e=a.emptyEntries_DO_NOT_USE,f=e===void 0?o:e;e=a.onClose;a=a.onOpen;var g=n(null),h=g[0],p=g[1];g=n(null);var q=g[0],r=g[1];g=n(null);var s=g[0],t=g[1];g=n(f);var u=g[0],v=g[1],w=m(f);k(function(){if(w.current===f)return;w.current=f;v(function(a){return a.length?a:f})},[v,w,f]);var x=j(function(a){v(function(b){b=Array.isArray(a)?a:a(b);return b.length>0?b:w.current})},[v,w]),y=j(function(a){var b=a.entry,c=a.secondaryActionHighlighted;a=a.source;p(b);t(a);r(c)},[]);g=l(function(){return{dispatchActiveEntries:x,dispatchHighlightedEntry:y}},[x,y]);var z=l(function(){return{activeEntries:u,highlightedEntry:h,highlightedEntrySource:s,secondaryActionHighlighted:q}},[u,h,s,q]);return i.jsx(c("CometInternalTypeaheadStateDispatcherContext").Provider,{value:g,children:i.jsx(c("CometInternalTypeaheadStateContext").Provider,{value:z,children:i.jsx(c("BaseTypeaheadLayoutContextualStrategyStateContextProvider.react"),{autoOpen:b,onClose:e,onOpen:a,children:d})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a,b){var d=b.shouldQueryStringFollowHighlightedEntry;b=j.forwardRef(e);function e(b,e){var f=i(7),g,h;f[0]!==b?(g=b.queryString,h=babelHelpers.objectWithoutPropertiesLoose(b,["queryString"]),f[0]=b,f[1]=g,f[2]=h):(g=f[1],h=f[2]);b=c("useCometInternalTypeaheadState")();var k=b.highlightedEntry;b=b.highlightedEntrySource;b=d&&b==="keyboard"&&k!=null?k.label:g;f[3]!==h||f[4]!==b||f[5]!==e?(k=j.jsx(a,babelHelpers["extends"]({},h,{queryString:b,ref:e})),f[3]=h,f[4]=b,f[5]=e,f[6]=k):k=f[6];return k}return b}g["default"]=a}),98);
__d("BaseTypeahead.react",["CometHeroInteractionContextPassthrough.react","CometInternalTypeahead.react","CometInternalTypeaheadFetchProvider","CometInternalTypeaheadStateProvider","emptyFunction","react","withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useId;b.useMemo;var k=b.c;function a(a){var b=k(76),d,e,f,g,h,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J;b[0]!==a?(d=a.autoOpen,e=a.autoFocus,z=a.inputStrategyRenderer,F=a.dataSource,G=a.dataSourceFetchConfigParams,f=a.decorators,J=a.emptyEntries_DO_NOT_USE,A=a.id,g=a.isDisabled,h=a.label,H=a.loggingContext,l=a.onBackspace,m=a.onBlur,x=a.onChange,n=a.onClose,o=a.onEnter,p=a.onEscape,I=a.onFetchEntries_DO_NOT_USE,q=a.onFocus,r=a.onOpen,y=a.onPressEntry,s=a.placeholder,t=a.shouldQueryStringFollowHighlightedEntry,u=a.shouldQueryStringUpdateFromSelectedEntryOnClick,v=a.testid,D=a.traceProvider,w=a.viewRole,E=a.viewStrategyRenderer,C=a.inputRef,B=babelHelpers.objectWithoutPropertiesLoose(a,["autoOpen","autoFocus","inputStrategyRenderer","dataSource","dataSourceFetchConfigParams","decorators","emptyEntries_DO_NOT_USE","id","isDisabled","label","loggingContext","onBackspace","onBlur","onChange","onClose","onEnter","onEscape","onFetchEntries_DO_NOT_USE","onFocus","onOpen","onPressEntry","placeholder","shouldQueryStringFollowHighlightedEntry","shouldQueryStringUpdateFromSelectedEntryOnClick","testid","traceProvider","viewRole","viewStrategyRenderer","inputRef"]),b[0]=a,b[1]=d,b[2]=e,b[3]=f,b[4]=g,b[5]=h,b[6]=l,b[7]=m,b[8]=n,b[9]=o,b[10]=p,b[11]=q,b[12]=r,b[13]=s,b[14]=t,b[15]=u,b[16]=v,b[17]=w,b[18]=x,b[19]=y,b[20]=z,b[21]=A,b[22]=B,b[23]=C,b[24]=D,b[25]=E,b[26]=F,b[27]=G,b[28]=H,b[29]=I,b[30]=J):(d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],l=b[6],m=b[7],n=b[8],o=b[9],p=b[10],q=b[11],r=b[12],s=b[13],t=b[14],u=b[15],v=b[16],w=b[17],x=b[18],y=b[19],z=b[20],A=b[21],B=b[22],C=b[23],D=b[24],E=b[25],F=b[26],G=b[27],H=b[28],I=b[29],J=b[30]);a=d===void 0?!1:d;d=e===void 0?!1:e;b[31]!==f?(e=f===void 0?[]:f,b[31]=f,b[32]=e):e=b[32];f=e;e=g===void 0?!1:g;g=h===void 0?"":h;h=l===void 0?c("emptyFunction"):l;l=m===void 0?c("emptyFunction"):m;m=n===void 0?c("emptyFunction"):n;n=o===void 0?c("emptyFunction"):o;o=p===void 0?c("emptyFunction"):p;p=q===void 0?c("emptyFunction"):q;q=r===void 0?c("emptyFunction"):r;r=s===void 0?"":s;s=t===void 0?!0:t;var K=u===void 0?!0:u;t=v===void 0?"":v;u=w===void 0?"listbox":w;v=j();var L;b[33]!==f?(L=c("CometInternalTypeahead.react"),f.forEach(function(a){var b=a.decorate;a=a.params;L=b(L,a)}),b[33]=f,b[34]=L):L=b[34];w=L;f=w;b[35]!==K||b[36]!==x||b[37]!==y?(w=function(a,b){K&&x(a.label),y==null?void 0:y(a,b)},b[35]=K,b[36]=x,b[37]=y,b[38]=w):w=b[38];w=w;var M;b[39]!==s||b[40]!==z?(M=c("withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry")(z,{shouldQueryStringFollowHighlightedEntry:s}),b[39]=s,b[40]=z,b[41]=M):M=b[41];s=M;z=s;M=g||r;g=(s=A)!=null?s:v;if(b[42]!==f||b[43]!==B||b[44]!==d||b[45]!==g||b[46]!==C||b[47]!==z||b[48]!==e||b[49]!==M||b[50]!==h||b[51]!==l||b[52]!==x||b[53]!==n||b[54]!==o||b[55]!==p||b[56]!==w||b[57]!==r||b[58]!==t||b[59]!==D||b[60]!==u||b[61]!==E){s=i.jsx(f,babelHelpers["extends"]({},B,{autoFocus:d,id:g,inputRef:C,inputStrategyRenderer:z,isDisabled:e,label:M,onBackspace:h,onBlur:l,onChange:x,onDownArrow:A=c("emptyFunction"),onEnter:n,onEscape:o,onFocus:p,onHighlightEntry:A,onPressEntry:w,onShiftTab:A,onTab:A,onUpArrow:A,placeholder:r,testid:void 0,traceProvider:D,viewRole:u,viewStrategyRenderer:E}));b[42]=f;b[43]=B;b[44]=d;b[45]=g;b[46]=C;b[47]=z;b[48]=e;b[49]=M;b[50]=h;b[51]=l;b[52]=x;b[53]=n;b[54]=o;b[55]=p;b[56]=w;b[57]=r;b[58]=t;b[59]=D;b[60]=u;b[61]=E;b[62]=s}else s=b[62];b[63]!==F||b[64]!==G||b[65]!==H||b[66]!==I||b[67]!==D||b[68]!==s?(v=i.jsx(c("CometInternalTypeaheadFetchProvider"),{dataSource:F,dataSourceFetchConfigParams:G,loggingContext:H,onFetchEntries_DO_NOT_USE:I,traceProvider:D,children:s}),b[63]=F,b[64]=G,b[65]=H,b[66]=I,b[67]=D,b[68]=s,b[69]=v):v=b[69];b[70]!==a||b[71]!==J||b[72]!==m||b[73]!==q||b[74]!==v?(A=i.jsx(c("CometHeroInteractionContextPassthrough.react"),{clear:!0,children:i.jsx(c("CometInternalTypeaheadStateProvider"),{autoOpen:a,emptyEntries_DO_NOT_USE:J,onClose:m,onOpen:q,children:v})}),b[70]=a,b[71]=J,b[72]=m,b[73]=q,b[74]=v,b[75]=A):A=b[75];return A}g["default"]=a}),98);
__d("CometSearchBaseTypeaheadTitleSnippetViewItem.react",["FDSTextPairing.react","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(10),d=a.isBadged,e=a.level,f=a.reduceEmphasis,g=a.snippet;a=a.title;d=d===void 0?!1:d;f=f===void 0?!1:f;g=g===void 0?null:g;if(c("qex")._("281")){var h=!0,k=e;e===1?k=2:e===2?k=3:e===3&&(k=4);d&&c("qex")._("293")&&(h=!1);b[0]!==g||b[1]!==a||b[2]!==k||b[3]!==h?(d=j.jsx(c("FDSTextPairing.react"),{body:g,bodyColor:"secondary",bodyLineLimit:1,headline:a,headlineLineLimit:2,level:k,reduceEmphasis:h}),b[0]=g,b[1]=a,b[2]=k,b[3]=h,b[4]=d):d=b[4];return d}b[5]!==a||b[6]!==e||b[7]!==g||b[8]!==f?(k=j.jsx(c("FDSTextPairing.react"),{body:a,bodyLineLimit:2,level:e,meta:g,metaLineLimit:1,reduceEmphasis:f}),b[5]=a,b[6]=e,b[7]=g,b[8]=f,b[9]=k):k=b[9];return k}g["default"]=a}),98);
__d("useCometTypeaheadEmptyState",["CometInternalTypeaheadEmptyFetchContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("CometInternalTypeaheadEmptyFetchContext"))}g["default"]=a}),98);
__d("CometTypeaheadViewEmptyState.react",["FDSText.react","react","stylex","useCometTypeaheadEmptyState"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={root:{alignItems:"x6s0dn4",display:"x78zum5",height:"xc9qbxq",justifyContent:"xl56j7k",$$css:!0}};function a(a){var b=j(5),d=a.children,e=a.color;a=a.xstyle;e=e===void 0?"tertiary":e;var f=c("useCometTypeaheadEmptyState")(),g;b[0]!==f||b[1]!==a||b[2]!==e||b[3]!==d?(g=f?k.jsx("div",{"aria-live":"polite","aria-selected":!1,className:(h||(h=c("stylex")))(l.root,a),"data-testid":void 0,role:"option",children:k.jsx(c("FDSText.react"),{color:e,numberOfLines:1,type:"body3",children:d})}):null,b[0]=f,b[1]=a,b[2]=e,b[3]=d,b[4]=g):g=b[4];return g}g["default"]=a}),98);
__d("CometSearchTypeaheadBaseViewRecentEmptyState.react",["fbt","CometTypeaheadViewEmptyState.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(){var a=j(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(c("CometTypeaheadViewEmptyState.react"),{children:h._("__JHASH__H5N-2GNjT0N__JHASH__")}),a[0]=b):b=a[0];return b}g["default"]=a}),226);
__d("CometTypeaheadFocusLockRegion.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.c;function a(a){var b=k(5),d=a.children;a=a.xstyle;var e=l,f;b[0]!==a?(f=(h||(h=c("stylex")))(a),b[0]=a,b[1]=f):f=b[1];b[2]!==f||b[3]!==d?(a=j.jsx("div",{className:f,onMouseDown:e,children:d}),b[2]=f,b[3]=d,b[4]=a):a=b[4];return a}function l(a){a.preventDefault()}g["default"]=a}),98);
__d("CometTypeaheadHelperText.react",["FDSTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3);a=a.text;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d="x1xmf6yo",b[0]=d):d=b[0];b[1]!==a?(d=j.jsx("div",{className:d,children:j.jsx(c("FDSTextPairing.react"),{level:4,meta:a,metaColor:"secondary"})}),b[1]=a,b[2]=d):d=b[2];return d}g["default"]=a}),98);
__d("CometTypeaheadHightlightBoldTransform.react",["FDSText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(2);a=a.segment;a=a.content;var d;b[0]!==a?(d=j.jsx(c("FDSText.react"),{type:"bodyLink3",children:a}),b[0]=a,b[1]=d):d=b[1];return d}g["default"]=a}),98);
__d("CometTypeaheadHightlightNormalTransform.react",["FDSText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(2);a=a.segment;a=a.content;var d;b[0]!==a?(d=j.jsx(c("FDSText.react"),{type:"body3",children:a}),b[0]=a,b[1]=d):d=b[1];return d}g["default"]=a}),98);
__d("mayHaveConnectedCharacters",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.match(/[\u0900-\u097F\u0980-\u09FF\u0A00-\u0A7F\u0A80-\u0AFF\u0B00-\u0B7F\u0B80-\u0BFF\u0C00-\u0C7F\u0C80-\u0CFF\u0D00-\u0D7F\u0D80-\u0DFF\u0E00-\u0E7F\u0E80-\u0EFF\u0F00-\u0FFF\u1000-\u109F\u1700-\u171F\u1720-\u173F\u1740-\u175F\u1760-\u177F\u1780-\u17FF\u1900-\u194F\u1950-\u197F\u1980-\u19DF\u19E0-\u19FF\u1A00-\u1A1F\u1A20-\u1AAF\u1B00-\u1B7F\u1B80-\u1BBF\u1BC0-\u1BFF\u1C00-\u1C4F\u1CC0-\u1CCF\uA800-\uA82F\uA840-\uA87F\uA880-\uA8DF\uA8E0-\uA8FF\uA930-\uA95F\uA980-\uA9DF\uA9E0-\uA9FF\uAA00-\uAA5F\uAA60-\uAA7F\uAA80-\uAADF\uAAE0-\uAAFF\uABC0-\uABFF\u0600-\u06FF\u0750–\u077F\u08A0–\u08FF\uFB50–\uFDFF\uFE70–\uFEFF\u4e00-\u9faf\u0D80-\u0DFF\u0E80-\u0EFF]/)!=null}f["default"]=a}),66);
__d("cometTypeaheadHighlightUtils",["escapeRegex","mayHaveConnectedCharacters"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,d,e){if(c("mayHaveConnectedCharacters")(b))return[{content:b,isMatched:!1}];a=c("escapeRegex")(e==="prefix"?a:a.trim());e=e==="prefix"?new RegExp("( "+a.split(/\s+/).join("| ")+")","gi"):new RegExp("("+a.split(/\s+/).join("|")+")","gi");a=" "+b;b=[];var f=0,g=null;while(!0){g=e.exec(a);if(g==null)break;var h=a.substring(f,g.index);f===0&&(h=h.trimLeft());b.push({content:h,isMatched:!d});h=g[0];g.index===0&&(h=h.trimLeft());f=g.index+g[0].length;b.push({content:h,isMatched:d})}h=a.substring(f,a.length);b.push({content:h,isMatched:!d});return b}function a(a,b,c){c===void 0&&(c="prefix");return h(a,b,!0,c)}function b(a,b,c){c===void 0&&(c="prefix");return h(a,b,!1,c)}g.highlightMatch=a;g.highlightNonMatch=b}),98);
__d("CometTypeaheadHighlight.react",["CometTypeaheadHightlightBoldTransform.react","CometTypeaheadHightlightNormalTransform.react","cometTypeaheadHighlightUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(14),e=a.children,f=a.content,g=a.query;a=a.strategy;if(g==null||f==null)return null;var h=null;bb0:switch(a){case"match":h=d("cometTypeaheadHighlightUtils").highlightMatch;break bb0;case"non-match":h=d("cometTypeaheadHighlightUtils").highlightNonMatch;break bb0;default:}if(h&&g.length!==0){b[0]!==h||b[1]!==g||b[2]!==f?(a=h(g,f).map(k),b[0]=h,b[1]=g,b[2]=f,b[3]=a):a=b[3];b[4]!==a?(h=j.jsx(j.Fragment,{children:a}),b[4]=a,b[5]=h):h=b[5];b[6]!==e||b[7]!==h?(g=e(h),b[6]=e,b[7]=h,b[8]=g):g=b[8];return g}b[9]!==f?(a=j.jsx(c("CometTypeaheadHightlightNormalTransform.react"),{segment:{content:f,isMatched:!1}}),b[9]=f,b[10]=a):a=b[10];b[11]!==e||b[12]!==a?(h=e(a),b[11]=e,b[12]=a,b[13]=h):h=b[13];return h}function k(a,b){return a.isMatched?j.jsx(c("CometTypeaheadHightlightBoldTransform.react"),{segment:a},String(b)):j.jsx(c("CometTypeaheadHightlightNormalTransform.react"),{segment:a},String(b))}g["default"]=a}),98);
__d("useCometTypeaheadInputStrategyOnBlurHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.c;function a(a){var b=i(2),c=a.onBlur;b[0]!==c?(a=function(){c&&c()},b[0]=c,b[1]=a):a=b[1];return a}g["default"]=a}),98);
__d("useCometTypeaheadInputStrategyOnFocusHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.inputRef,c=a.onFocus;return i(function(){b.current!=null&&b.current.select(),c&&c()},[b,c])}g["default"]=a}),98);
__d("useCometTypeaheadInputHandlers",["react","useCometTypeaheadInputStrategyOnBlurHandler","useCometTypeaheadInputStrategyOnFocusHandler"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(a){var b=i(14),d,e,f,g;b[0]!==a?(d=a.inputRef,f=a.onBlur,e=a.onFocus,g=babelHelpers.objectWithoutPropertiesLoose(a,["inputRef","onBlur","onFocus"]),b[0]=a,b[1]=d,b[2]=e,b[3]=f,b[4]=g):(d=b[1],e=b[2],f=b[3],g=b[4]);b[5]!==d||b[6]!==e?(a={inputRef:d,onFocus:e},b[5]=d,b[6]=e,b[7]=a):a=b[7];d=c("useCometTypeaheadInputStrategyOnFocusHandler")(a);b[8]!==f?(e={onBlur:f},b[8]=f,b[9]=e):e=b[9];a=c("useCometTypeaheadInputStrategyOnBlurHandler")(e);b[10]!==g||b[11]!==a||b[12]!==d?(f=babelHelpers["extends"]({},g,{onBlur:a,onFocus:d}),b[10]=g,b[11]=a,b[12]=d,b[13]=f):f=b[13];return f}g["default"]=a}),98);
__d("useCometTypeaheadInputRefsWebOnly",["react","useCometTypeaheadInputRefs","xplatToDOMRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(a){var b=i(2),e;b[0]!==a?(e=a!=null?d("xplatToDOMRef").xplatToInputRef(a):null,b[0]=a,b[1]=e):e=b[1];return c("useCometTypeaheadInputRefs")(e)}g["default"]=a}),98);
__d("CometTypeaheadInputStrategyEventListener.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","react","useCometTypeaheadInputHandlers","useCometTypeaheadInputRefsWebOnly"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useMemo,l={root:{width:"xh8yej3",$$css:!0}};b=j.forwardRef(a);function a(a,b){var d=a.children,e=a.isInline,f=a.omitEscape,g=f===void 0?!1:f,i=a.onBackspace,m=a.onDownArrow,n=a.onEnter,o=a.onEscape,p=a.onLeftArrow,q=a.onRightArrow,r=a.onShiftTab,s=a.onTab,t=a.onUpArrow;f=babelHelpers.objectWithoutPropertiesLoose(a,["children","isInline","omitEscape","onBackspace","onDownArrow","onEnter","onEscape","onLeftArrow","onRightArrow","onShiftTab","onTab","onUpArrow"]);a=k(function(){return[{command:{key:c("CometKeys").DELETE},description:h._("__JHASH__2XTxAX3qgrF__JHASH__"),handler:function(){return i&&i()},isHiddenCommand:!0,shouldPreventDefault:!1,triggerFromInputs:!0},{command:{key:c("CometKeys").DOWN},description:h._("__JHASH__CqK0EeqSMhz__JHASH__"),handler:function(){return m&&m()},triggerFromInputs:!0},{command:{key:c("CometKeys").UP},description:h._("__JHASH__iUKjo5X2a54__JHASH__"),handler:function(){return t&&t()},triggerFromInputs:!0},g?null:{command:{key:c("CometKeys").ESCAPE},description:h._("__JHASH__wwSVh79-oc2__JHASH__"),handler:function(){return o&&o()},triggerFromInputs:!0},{command:{key:c("CometKeys").ENTER},description:h._("__JHASH__mihpnKYilqe__JHASH__"),handler:function(){return n&&n()},triggerFromInputs:!0},{command:{key:c("CometKeys").TAB},description:h._("__JHASH__Z6s23TRj9Pk__JHASH__"),handler:function(){return s&&s()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0},{command:{key:c("CometKeys").TAB,shift:!0},description:h._("__JHASH__Z6s23TRj9Pk__JHASH__"),handler:function(){return r&&r()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0},p!=null?{command:{key:c("CometKeys").LEFT},description:h._("__JHASH__1sCLmeZcned__JHASH__"),handler:p,triggerFromInputs:!0}:null,q!=null?{command:{key:c("CometKeys").RIGHT},description:h._("__JHASH__01-Oxa-x2ap__JHASH__"),handler:q,triggerFromInputs:!0}:null].filter(Boolean)},[i,g,m,n,o,p,q,r,s,t]);b=c("useCometTypeaheadInputRefsWebOnly")(b);var u=b.composedRef;b=b.inputRef;b=c("useCometTypeaheadInputHandlers")(babelHelpers["extends"]({inputRef:b},f));return j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:a,elementType:e===!0?"span":"div",xstyle:l.root,children:d(u,b)})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),226);
__d("useCometTypeaheadViewStrategyOutsideClickListener",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect;function a(a,b){var c=i(function(c){var d=a.current;c=c.target;d!=null&&c instanceof Node&&!d.contains(c)&&b()},[a,b]);j(function(){document.addEventListener("click",c);return function(){document.removeEventListener("click",c)}},[c])}g["default"]=a}),98);
__d("CometTypeaheadViewStrategyEventListener.react",["react","useCometTypeaheadViewStrategyOutsideClickListener"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));var i=h.useRef;function a(a){var b=a.children;a=a.onOutsideClick;var d=i(null);c("useCometTypeaheadViewStrategyOutsideClickListener")(d,a);return b(d)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometHandleHighlightDropOnMouseLeave",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(){a(null,"mouse",!1)}}f["default"]=a}),66);
__d("CometTypeaheadInternalLayoutContextualStrategy.react",["CometContextualLayer.react","CometTypeaheadInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","cometHandleHighlightDropOnMouseLeave","react","stylex","useCometInternalTypeaheadState","xplatToDOMRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useRef,l=b.c;function a(a){var b=l(96),e,f,g,i,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;b[0]!==a?(e=a.contextualProps,o=a.description,p=a.errorMessage,f=a.extraLayoutProps,n=a.inputStrategyRenderer,q=a.label,r=a.onBackspace,s=a.onBlur,x=a.onFocus,t=a.onClick,u=a.onDownArrow,y=a.onLeftArrow,z=a.onRightArrow,v=a.onEnter,w=a.onEscape,A=a.onShiftTab,B=a.onTab,C=a.onUpArrow,m=a.queryString,D=a.inputRef,E=a.viewStrategyRenderer,i=a.xstyles,g=babelHelpers.objectWithoutPropertiesLoose(a,["contextualProps","description","errorMessage","extraLayoutProps","inputStrategyRenderer","label","onBackspace","onBlur","onFocus","onClick","onDownArrow","onLeftArrow","onRightArrow","onEnter","onEscape","onShiftTab","onTab","onUpArrow","queryString","inputRef","viewStrategyRenderer","xstyles"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=m,b[6]=n,b[7]=o,b[8]=p,b[9]=q,b[10]=r,b[11]=s,b[12]=t,b[13]=u,b[14]=v,b[15]=w,b[16]=x,b[17]=y,b[18]=z,b[19]=A,b[20]=B,b[21]=C,b[22]=D,b[23]=E):(e=b[1],f=b[2],g=b[3],i=b[4],m=b[5],n=b[6],o=b[7],p=b[8],q=b[9],r=b[10],s=b[11],t=b[12],u=b[13],v=b[14],w=b[15],x=b[16],y=b[17],z=b[18],A=b[19],B=b[20],C=b[21],D=b[22],E=b[23]);b[24]!==e?(a=e===void 0?{}:e,b[24]=e,b[25]=a):a=b[25];var F,G;if(b[26]!==a){e=a;F=e.align;G=e.position;e=babelHelpers.objectWithoutPropertiesLoose(e,["align","position"]);b[26]=a;b[27]=F;b[28]=G;b[29]=e}else F=b[27],G=b[28],e=b[29];a=F===void 0?"stretch":F;F=G===void 0?"below":G;G=f;f=G.ariaProps;var H=G.helperTextComponent,I=G.isAlwaysOpened,J=G.isLoading;G=G.isOpened;var K=f.ariaDescribedByProps,L=f.ariaInputProps,M=f.ariaViewProps;f=k(null);var N=k(null),O=c("useCometInternalTypeaheadState")(),P=O.activeEntries,Q=O.highlightedEntry;b[30]!==g.onHighlightEntry?(O=c("cometHandleHighlightDropOnMouseLeave")(g.onHighlightEntry),b[30]=g.onHighlightEntry,b[31]=O):O=b[31];var R=O;O=(O=i)==null?void 0:O.layoutXStyle;var S;b[32]!==O?(S=(h||(h=c("stylex")))(O),b[32]=O,b[33]=S):S=b[33];O=(O=i)==null?void 0:O.inputXStyle;var T;b[34]!==O?(T=(h||(h=c("stylex")))(O),b[34]=O,b[35]=T):T=b[35];O=G===!1&&m==="";var U;b[36]!==n||b[37]!==L||b[38]!==g.autoFocus||b[39]!==g.id||b[40]!==g.inputEndContent||b[41]!==g.inputExtraProps||b[42]!==g.inputStartContent||b[43]!==g.isDisabled||b[44]!==g.placeholder||b[45]!==g.testid||b[46]!==o||b[47]!==p||b[48]!==q||b[49]!==m?(U=function(a,b){return j.jsx(n,babelHelpers["extends"]({},b,{ariaProps:L,autoFocus:g.autoFocus,description:o,errorMessage:p,id:g.id,inputEndContent:g.inputEndContent,inputExtraProps:g.inputExtraProps,inputStartContent:g.inputStartContent,isDisabled:g.isDisabled,label:q,placeholder:g.placeholder,queryString:m,ref:d("xplatToDOMRef").xplatToInputRef(a),testid:void 0}))},b[36]=n,b[37]=L,b[38]=g.autoFocus,b[39]=g.id,b[40]=g.inputEndContent,b[41]=g.inputExtraProps,b[42]=g.inputStartContent,b[43]=g.isDisabled,b[44]=g.placeholder,b[45]=g.testid,b[46]=o,b[47]=p,b[48]=q,b[49]=m,b[50]=U):U=b[50];var V;b[51]!==O||b[52]!==r||b[53]!==s||b[54]!==g.onChange||b[55]!==t||b[56]!==u||b[57]!==v||b[58]!==w||b[59]!==x||b[60]!==y||b[61]!==z||b[62]!==A||b[63]!==B||b[64]!==C||b[65]!==D||b[66]!==U?(V=j.jsx(c("CometTypeaheadInputStrategyEventListener.react"),{omitEscape:O,onBackspace:r,onBlur:s,onChange:g.onChange,onClick:t,onDownArrow:u,onEnter:v,onEscape:w,onFocus:x,onLeftArrow:y,onRightArrow:z,onShiftTab:A,onTab:B,onUpArrow:C,ref:D,children:U}),b[51]=O,b[52]=r,b[53]=s,b[54]=g.onChange,b[55]=t,b[56]=u,b[57]=v,b[58]=w,b[59]=x,b[60]=y,b[61]=z,b[62]=A,b[63]=B,b[64]=C,b[65]=D,b[66]=U,b[67]=V):V=b[67];b[68]!==T||b[69]!==V?(O=j.jsx("div",{className:T,children:V}),b[68]=T,b[69]=V,b[70]=O):O=b[70];b[71]!==S||b[72]!==O?(r=j.jsx("div",{className:S,ref:N,children:O}),b[71]=S,b[72]=O,b[73]=r):r=b[73];b[74]!==H||b[75]!==K?(s=H!=null&&j.jsx("div",babelHelpers["extends"]({className:"x1xmf6yo"},K,{children:H})),b[74]=H,b[75]=K,b[76]=s):s=b[76];b[77]!==G||b[78]!==I||b[79]!==i||b[80]!==R||b[81]!==E||b[82]!==M||b[83]!==P||b[84]!==Q||b[85]!==J||b[86]!==g||b[87]!==m||b[88]!==e||b[89]!==a||b[90]!==F?(t=(G===!0||I===!0)&&j.jsx(c("CometContextualLayer.react"),babelHelpers["extends"]({},e,{align:a,contextRef:N,position:F,ref:f,children:j.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:g.onOutsideClick,children:function(a){var b;return j.jsx("div",{className:(h||(h=c("stylex")))((b=i)==null?void 0:b.viewXStyle_DO_NOT_USE),onMouseLeave:R,ref:a,children:j.jsx(E,{ariaProps:M,entries:P,highlightedEntry:Q,isLoading:J,onAbandonTypeahead_DO_NOT_USE:g.onAbandonTypeahead_DO_NOT_USE,onHighlightEntry:g.onHighlightEntry,onPressEntry:g.onPressEntry,queryString:m})})}})})),b[77]=G,b[78]=I,b[79]=i,b[80]=R,b[81]=E,b[82]=M,b[83]=P,b[84]=Q,b[85]=J,b[86]=g,b[87]=m,b[88]=e,b[89]=a,b[90]=F,b[91]=t):t=b[91];b[92]!==r||b[93]!==s||b[94]!==t?(u=j.jsxs(j.Fragment,{children:[r,s,t]}),b[92]=r,b[93]=s,b[94]=t,b[95]=u):u=b[95];return u}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyStyles",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo,j={defaultLayout:{boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",width:"xh8yej3",$$css:!0},stateDisabled:{$$css:!0},stateError:{$$css:!0},stateOpened:{$$css:!0},stateWarning:{$$css:!0}};function a(a){var b=a.isDisabled,c=b===void 0?!1:b;b=a.isError;var d=b===void 0?!1:b;b=a.isOpened;var e=b===void 0?!1:b;b=a.isWarning;var f=b===void 0?!1:b;b=a.xstyles;var g=b.inputXStyle,h=b.layoutOpenedXStyle,k=b.layoutXStyle,l=b.viewXStyle_DO_NOT_USE;return i(function(){return{inputXStyle:g,layoutXStyle:[j.defaultLayout,k,e&&h,c&&j.stateDisabled,e&&j.stateOpened,d&&j.stateError,f&&j.stateWarning],viewXStyle_DO_NOT_USE:[l]}},[g,c,d,e,f,h,k,l])}g["default"]=a}),98);
__d("CometTypeaheadInternalLayoutInlineStrategy.react",["CometTypeaheadInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","cometHandleHighlightDropOnMouseLeave","react","react-strict-dom","useCometInternalTypeaheadState","useCometTypeaheadLayoutStrategyStyles"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={helperText:{marginTop:"x1xmf6yo",$$css:!0}};function a(a){var b=a.extraLayoutProps,e=b.ariaProps,f=e.ariaDescribedByProps,g=e.ariaInputProps,h=e.ariaViewProps;e=b.helperTextComponent;var k=b.isAlwaysOpened,l=b.isLoading;b=b.isOpened;var m=a.description,n=a.errorMessage,o=a.extraViewProps,p=a.id,q=a.inputStrategyRenderer,r=a.label,s=a.onBackspace,t=a.onBlur,u=a.onChange,v=a.onClick,w=a.onDownArrow,x=a.onLeftArrow,y=a.onRightArrow,z=a.onEnter,A=a.onEscape,B=a.onFocus,C=a.onShiftTab,D=a.onTab,E=a.onUpArrow,F=a.queryString,G=a.inputRef,H=a.viewStrategyRenderer,I=a.xstyles;I=I===void 0?{}:I;var J=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","description","errorMessage","extraViewProps","id","inputStrategyRenderer","label","onBackspace","onBlur","onChange","onClick","onDownArrow","onLeftArrow","onRightArrow","onEnter","onEscape","onFocus","onShiftTab","onTab","onUpArrow","queryString","inputRef","viewStrategyRenderer","xstyles"]);a=c("useCometInternalTypeaheadState")();var K=a.activeEntries,L=a.highlightedEntry;a=c("useCometTypeaheadLayoutStrategyStyles")({isOpened:b,xstyles:I});I=a.inputXStyle;var M=a.layoutXStyle,N=a.viewXStyle_DO_NOT_USE,O=c("cometHandleHighlightDropOnMouseLeave")(J.onHighlightEntry);return i.jsxs(d("react-strict-dom").html.div,{style:M,children:[i.jsx(d("react-strict-dom").html.div,{style:I,children:i.jsx(c("CometTypeaheadInputStrategyEventListener.react"),{omitEscape:k===!0?F==="":b===!1&&F==="",onBackspace:s,onBlur:t,onChange:u,onClick:v,onDownArrow:w,onEnter:z,onEscape:A,onFocus:B,onLeftArrow:x,onRightArrow:y,onShiftTab:C,onTab:D,onUpArrow:E,ref:G,children:function(a,b){return i.jsx(q,babelHelpers["extends"]({},b,{ariaProps:g,autoFocus:J.autoFocus,description:m,errorMessage:n,id:p,inputEndContent:J.inputEndContent,inputExtraProps:J.inputExtraProps,inputStartContent:J.inputStartContent,isDisabled:J.isDisabled,label:r,placeholder:J.placeholder,queryString:F,ref:a,testid:void 0}))}})}),e!=null&&i.jsx(d("react-strict-dom").html.div,babelHelpers["extends"]({style:j.helperText},f,{children:e})),(b===!0||k===!0)&&i.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:J.onOutsideClick,children:function(a){return i.jsx(d("react-strict-dom").html.div,{onMouseLeave:O,ref:a,style:N,children:i.jsx(H,{ariaProps:h,entries:K,extraViewProps:o,highlightedEntry:L,isLoading:l,onAbandonTypeahead_DO_NOT_USE:J.onAbandonTypeahead_DO_NOT_USE,onHighlightEntry:J.onHighlightEntry,onPressEntry:J.onPressEntry,queryString:F})})}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("SearchCometInterestsDeepDiveUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.trim();var b=a.match(/^#(\S+)$/);a=a.split("#").length>2;return!a&&b!=null?b[1]:null}f.getHashtagTag=a}),66);
__d("CometTypeaheadViewItemIcon.react",["ix","SearchCometInterestsDeepDiveUtil","TetraIcon.react","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m={icon:{alignItems:"x6s0dn4",backgroundColor:"x443n21",borderTopStartRadius:"x1o1ewxj",borderTopEndRadius:"x3x9cwd",borderBottomEndRadius:"x1e5q0jg",borderBottomStartRadius:"x13rtm0m",display:"x78zum5",height:"xc9qbxq",justifyContent:"xl56j7k",width:"x14qfxbe",$$css:!0},iconActive:{backgroundColor:"x1jx94hy",$$css:!0}};function n(a){var b=k(5),d=a.children;a=a.isActive;a=a&&m.iconActive;var e;b[0]!==a?(e=(i||(i=c("stylex")))(m.icon,a),b[0]=a,b[1]=e):e=b[1];b[2]!==e||b[3]!==d?(a=l.jsx("div",{className:e,children:d}),b[2]=e,b[3]=d,b[4]=a):a=b[4];return a}function a(a){var b=k(5),c=a.label;a=a.isActive;var d;b[0]!==c?(d=l.jsx(o,{isRecent:!0,label:c}),b[0]=c,b[1]=d):d=b[1];b[2]!==a||b[3]!==d?(c=l.jsx(n,{isActive:a,children:d}),b[2]=a,b[3]=d,b[4]=c):c=b[4];return c}function b(a){var b=k(3);a=a.isActive;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=l.jsx(c("TetraIcon.react"),{color:"secondary",icon:d("fbicon")._(h("688945"),16),size:16}),b[0]=e):e=b[0];b[1]!==a?(e=l.jsx(n,{isActive:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}function e(a){var b=k(5),c=a.label;a=a.isActive;var d;b[0]!==c?(d=l.jsx(o,{isRecent:!1,label:c}),b[0]=c,b[1]=d):d=b[1];b[2]!==a||b[3]!==d?(c=l.jsx(n,{isActive:a,children:d}),b[2]=a,b[3]=d,b[4]=c):c=b[4];return c}function f(a){var b=k(3);a=a.isActive;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=l.jsx(c("TetraIcon.react"),{color:"secondary",icon:d("fbicon")._(h("495586"),16),size:16}),b[0]=e):e=b[0];b[1]!==a?(e=l.jsx(n,{isActive:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}function o(a){var b=k(3),e=a.isRecent;a=a.label;if(d("SearchCometInterestsDeepDiveUtil").getHashtagTag(a)!=null){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=l.jsx(c("TetraIcon.react"),{color:"secondary",icon:d("fbicon")._(h("1179025"),16),size:16}),b[0]=a):a=b[0];return a}else if(e){b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=l.jsx(c("TetraIcon.react"),{color:"secondary",icon:d("fbicon")._(h("478801"),20),size:20}),b[1]=a):a=b[1];return a}else{b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=l.jsx(c("TetraIcon.react"),{color:"secondary",icon:d("fbicon")._(h("491282"),16),size:16}),b[2]=e):e=b[2];return e}}g.CometTypeaheadViewRecentIcon=a;g.CometTypeaheadViewTrophyIcon=b;g.CometTypeaheadViewTypedIcon=e;g.CometTypeaheadViewSavedContentIcon=f}),98);
__d("CometTypeaheadKeywordViewItem.react",["CometTypeaheadHighlight.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","FDSText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(17),e,f,g,h;b[0]!==a?(f=a.entry,e=a.isActive,g=a.queryString,h=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);b[5]!==e||b[6]!==f.label?(a=j.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewTypedIcon,{isActive:e,label:f.label}),b[5]=e,b[6]=f.label,b[7]=a):a=b[7];var l;b[8]!==f.label||b[9]!==g?(l=j.jsx(c("CometTypeaheadHighlight.react"),{content:f.label,query:g,strategy:"non-match",children:k}),b[8]=f.label,b[9]=g,b[10]=l):l=b[10];b[11]!==h||b[12]!==f||b[13]!==e||b[14]!==a||b[15]!==l?(g=j.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},h,{entry:f,isActive:e,itemStartContent:a,testid:void 0,children:l})),b[11]=h,b[12]=f,b[13]=e,b[14]=a,b[15]=l,b[16]=g):g=b[16];return g}function k(a){return j.jsx(c("FDSText.react"),{numberOfLines:2,type:"body3",children:a})}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnBlurHandler",["react","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.onBlur;a=c("useCometInternalTypeaheadStateDispatcher")();var d=a.dispatchHighlightedEntry;return i(function(){d({entry:null,secondaryActionHighlighted:!1,source:null}),b&&b()},[d,b])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnChangeHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.onChange,d=a.onHighlightEntry;a=c("useCometInternalTypeaheadState")();var e=a.highlightedEntry;return i(function(a,c){e!=null&&d(null,"keyboard",!1),b&&b(a,c)},[e,b,d])}g["default"]=a}),98);
__d("useCometInternalTypeaheadKeyboardNavigation",["baseTypeaheadFlattenEntries","cometTypeaheadKeyboardNavigationUtils","react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useMemo;function a(){var a=c("useCometInternalTypeaheadState")(),b=a.activeEntries,e=a.highlightedEntry,f=a.secondaryActionHighlighted,g=c("baseTypeaheadFlattenEntries")(b),h=g.every(function(a){return a.hasSecondaryAction===!0}),k=e!=null?e.key:null;a=i(function(a){return d("cometTypeaheadKeyboardNavigationUtils").moveDown(g,k,function(b,c){a(b,"keyboard",c)},f)},[k,f,g]);b=i(function(a){return d("cometTypeaheadKeyboardNavigationUtils").moveUp(g,k,function(b,c){a(b,"keyboard",c)},f)},[k,f,g]);e=j(function(){return h?function(a){return d("cometTypeaheadKeyboardNavigationUtils").moveLeft(g,k,function(b,c){a(b,"keyboard",c)},f)}:void 0},[k,f,g,h]);var l=j(function(){return h?function(a){d("cometTypeaheadKeyboardNavigationUtils").moveRight(g,k,function(b,c){a(b,"keyboard",c)},f)}:void 0},[k,f,g,h]);return{onKeyboardDownArrow:a,onKeyboardLeftArrow:e,onKeyboardRightArrow:l,onKeyboardUpArrow:b}}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnDownArrowHandler",["react","useCometInternalTypeaheadKeyboardNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.onDownArrow,d=a.onHighlightEntry;a=c("useCometInternalTypeaheadKeyboardNavigation")();var e=a.onKeyboardDownArrow;return i(function(){e(d),b&&b()},[b,d,e])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnEnterHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.inputRef,d=a.onEnter;a=c("useCometInternalTypeaheadState")();var e=a.highlightedEntry,f=a.highlightedEntrySource,g=b.current;return i(function(){var a;a=(a=g==null?void 0:g.value)!=null?a:"";var b=e!=null&&f==="keyboard";if(a.trim().length===0&&!b)return;d&&d()},[g,e,f,d])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnHighlightEntryHandler",["react","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.onHighlightEntry;a=c("useCometInternalTypeaheadStateDispatcher")();var d=a.dispatchHighlightedEntry;return i(function(a,c,e){d({entry:a,secondaryActionHighlighted:e,source:c}),b&&b(a,c,e)},[d,b])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnLeftArrowHandler",["react","useCometInternalTypeaheadKeyboardNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){var b=a.onHighlightEntry,d=a.onLeftArrow;a=c("useCometInternalTypeaheadKeyboardNavigation")();var e=a.onKeyboardLeftArrow;return i(function(){return e!=null||d!=null?function(){e==null?void 0:e(b),d==null?void 0:d()}:void 0},[d,b,e])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnOutsideClickHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.inputRef,c=a.onOutsideClick;return i(function(){if(b.current===document.activeElement)return;c&&c()},[b,c])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnPressEntryHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.onPressEntry;return i(function(a,c){b(a,c)},[b])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnRightArrowHandler",["react","useCometInternalTypeaheadKeyboardNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){var b=a.onHighlightEntry,d=a.onRightArrow;a=c("useCometInternalTypeaheadKeyboardNavigation")();var e=a.onKeyboardRightArrow;return i(function(){return e!=null||d!=null?function(){e==null?void 0:e(b),d==null?void 0:d()}:void 0},[d,b,e])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnUpArrowHandler",["react","useCometInternalTypeaheadKeyboardNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.onHighlightEntry,d=a.onUpArrow;a=c("useCometInternalTypeaheadKeyboardNavigation")();var e=a.onKeyboardUpArrow;return i(function(){e(b),d&&d()},[b,e,d])}g["default"]=a}),98);
__d("useCometTypeaheadInternalLayoutInlineStrategyHandlers",["react","useCometTypeaheadLayoutStrategyOnBlurHandler","useCometTypeaheadLayoutStrategyOnChangeHandler","useCometTypeaheadLayoutStrategyOnDownArrowHandler","useCometTypeaheadLayoutStrategyOnEnterHandler","useCometTypeaheadLayoutStrategyOnHighlightEntryHandler","useCometTypeaheadLayoutStrategyOnLeftArrowHandler","useCometTypeaheadLayoutStrategyOnOutsideClickHandler","useCometTypeaheadLayoutStrategyOnPressEntryHandler","useCometTypeaheadLayoutStrategyOnRightArrowHandler","useCometTypeaheadLayoutStrategyOnUpArrowHandler"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.inputRef,d=a.onBlur,e=a.onChange,f=a.onDownArrow,g=a.onEnter,h=a.onEscape,j=a.onHighlightEntry,k=a.onLeftArrow,l=a.onOutsideClick,m=a.onPressEntry,n=a.onRightArrow;a=a.onUpArrow;j=c("useCometTypeaheadLayoutStrategyOnHighlightEntryHandler")({onHighlightEntry:j});d=c("useCometTypeaheadLayoutStrategyOnBlurHandler")({onBlur:d});var o=c("useCometTypeaheadLayoutStrategyOnChangeHandler")({onChange:e,onHighlightEntry:j});e=c("useCometTypeaheadLayoutStrategyOnEnterHandler")({inputRef:b,onEnter:g});g=i(function(){o(""),h&&h()},[o,h]);f=c("useCometTypeaheadLayoutStrategyOnDownArrowHandler")({onDownArrow:f,onHighlightEntry:j});a=c("useCometTypeaheadLayoutStrategyOnUpArrowHandler")({onHighlightEntry:j,onUpArrow:a});m=c("useCometTypeaheadLayoutStrategyOnPressEntryHandler")({onPressEntry:m});b=c("useCometTypeaheadLayoutStrategyOnOutsideClickHandler")({inputRef:b,onOutsideClick:l});l=c("useCometTypeaheadLayoutStrategyOnLeftArrowHandler")({onHighlightEntry:j,onLeftArrow:k});k=c("useCometTypeaheadLayoutStrategyOnRightArrowHandler")({onHighlightEntry:j,onRightArrow:n});return{onBlur:d,onChange:o,onDownArrow:f,onEnter:e,onEscape:g,onHighlightEntry:j,onLeftArrow:l,onOutsideClick:b,onPressEntry:m,onRightArrow:k,onUpArrow:a}}g["default"]=a}),98);
__d("useCometTypeaheadInternalLayoutContextualStrategyHandlers",["react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadState","useCometTypeaheadInternalLayoutInlineStrategyHandlers"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;b.useMemo;var i=b.c;function a(a){var b=i(76),d=a.handlers,e=a.inputRef,f=a.shouldCloseOnEnter;a=a.shouldHandleCloseAfterHandlePressEntry;var g,h,j,k,l,m;b[0]!==d?(j=d.onAbandonTypeahead_DO_NOT_USE,k=d.onClick,g=d.onOutsideClick,l=d.onShiftTab,m=d.onTab,h=babelHelpers.objectWithoutPropertiesLoose(d,["onAbandonTypeahead_DO_NOT_USE","onClick","onOutsideClick","onShiftTab","onTab"]),b[0]=d,b[1]=g,b[2]=h,b[3]=j,b[4]=k,b[5]=l,b[6]=m):(g=b[1],h=b[2],j=b[3],k=b[4],l=b[5],m=b[6]);var n=f===void 0?!0:f,o=a===void 0?!1:a;d=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();var p=d.dispatchIsOpened,q=d.isOpened;f=c("useCometInternalTypeaheadState")();var r=f.highlightedEntry,s=f.secondaryActionHighlighted;b[7]!==p||b[8]!==g?(a=function(){p(!1),g&&g()},b[7]=p,b[8]=g,b[9]=a):a=b[9];d=a;b[10]!==e||b[11]!==d||b[12]!==h?(f=babelHelpers["extends"]({inputRef:e,onOutsideClick:d},h),b[10]=e,b[11]=d,b[12]=h,b[13]=f):f=b[13];a=c("useCometTypeaheadInternalLayoutInlineStrategyHandlers")(f);e=a.onBlur;var t=a.onChange,u=a.onDownArrow,v=a.onEnter,w=a.onEscape;d=a.onHighlightEntry;var x=a.onLeftArrow;f=a.onOutsideClick;var y=a.onPressEntry,z=a.onRightArrow,A=a.onUpArrow;b[14]!==p||b[15]!==j?(a=function(){p(!1),j&&j()},b[14]=p,b[15]=j,b[16]=a):a=b[16];a=a;var B;b[17]!==p||b[18]!==k?(B=function(){p(!0),k&&k()},b[17]=p,b[18]=k,b[19]=B):B=b[19];B=B;var C;b[20]!==p||b[21]!==t?(C=function(a,b){p(!0),t&&t(a,b)},b[20]=p,b[21]=t,b[22]=C):C=b[22];C=C;var D;b[23]!==q||b[24]!==u||b[25]!==p?(D=function(){q?u&&u():p(!0)},b[23]=q,b[24]=u,b[25]=p,b[26]=D):D=b[26];D=D;var E;b[27]!==x||b[28]!==q||b[29]!==p?(E=x!=null?function(){x!=null&&(q?x():p(!0))}:void 0,b[27]=x,b[28]=q,b[29]=p,b[30]=E):E=b[30];E=E;E=E;var F;b[31]!==z||b[32]!==q||b[33]!==p?(F=z!=null?function(){z!=null&&(q?z():p(!0))}:void 0,b[31]=z,b[32]=q,b[33]=p,b[34]=F):F=b[34];F=F;F=F;var G;b[35]!==s||b[36]!==n||b[37]!==r||b[38]!==p||b[39]!==v?(G=function(){s!==!0&&((n||r!=null&&!n)&&p(!1)),v&&v()},b[35]=s,b[36]=n,b[37]=r,b[38]=p,b[39]=v,b[40]=G):G=b[40];G=G;var H;b[41]!==q||b[42]!==p||b[43]!==h||b[44]!==w?(H=function(){q?(p(!1),h.onEscape&&h.onEscape()):w&&w()},b[41]=q,b[42]=p,b[43]=h,b[44]=w,b[45]=H):H=b[45];H=H;var I;b[46]!==o||b[47]!==p||b[48]!==y?(I=function(a,b){o||p(!1),y&&y(a,b),o&&p(!1)},b[46]=o,b[47]=p,b[48]=y,b[49]=I):I=b[49];I=I;var J;b[50]!==p||b[51]!==l?(J=function(){p(!1),l&&l()},b[50]=p,b[51]=l,b[52]=J):J=b[52];J=J;var K;b[53]!==p||b[54]!==m?(K=function(){p(!1),m&&m()},b[53]=p,b[54]=m,b[55]=K):K=b[55];K=K;var L;b[56]!==q||b[57]!==p||b[58]!==A?(L=function(){!q?p(!0):A&&A()},b[56]=q,b[57]=p,b[58]=A,b[59]=L):L=b[59];L=L;var M;b[60]!==a||b[61]!==e||b[62]!==C||b[63]!==B||b[64]!==D||b[65]!==G||b[66]!==H||b[67]!==d||b[68]!==E||b[69]!==f||b[70]!==I||b[71]!==F||b[72]!==J||b[73]!==K||b[74]!==L?(M={onAbandonTypeahead_DO_NOT_USE:a,onBlur:e,onChange:C,onClick:B,onDownArrow:D,onEnter:G,onEscape:H,onHighlightEntry:d,onLeftArrow:E,onOutsideClick:f,onPressEntry:I,onRightArrow:F,onShiftTab:J,onTab:K,onUpArrow:L},b[60]=a,b[61]=e,b[62]=C,b[63]=B,b[64]=D,b[65]=G,b[66]=H,b[67]=d,b[68]=E,b[69]=f,b[70]=I,b[71]=F,b[72]=J,b[73]=K,b[74]=L,b[75]=M):M=b[75];return M}g["default"]=a}),98);
__d("CometTypeaheadLayoutContextualStrategy.react",["CometTypeaheadHelperText.react","CometTypeaheadInternalLayoutContextualStrategy.react","react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadFetch","useCometInternalTypeaheadState","useCometTypeaheadInputRefs","useCometTypeaheadInternalLayoutContextualStrategyHandlers","useCometTypeaheadLayoutContextualStrategyARIAProps","useCometTypeaheadLayoutStrategyStyles"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={view:{backgroundColor:"x1jx94hy",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"xbsqzb3",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",marginTop:"xr9ek0c",width:"xh8yej3",$$css:!0}};function a(a){var b=i(82),d,e,f,g,h,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;b[0]!==a?(d=a.extraLayoutProps,y=a.helperText,z=a.label,l=a.onAbandonTypeahead_DO_NOT_USE,m=a.onBlur,n=a.onChange,o=a.onClick,p=a.onDownArrow,q=a.onEnter,r=a.onEscape,s=a.onHighlightEntry,t=a.onOutsideClick,u=a.onPressEntry,v=a.onShiftTab,w=a.onTab,x=a.onUpArrow,A=a.viewRole,h=a.inputRef,e=a.shouldHandleCloseAfterHandlePressEntry,f=a.shouldCloseOnEnter,g=a.xstyles,B=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","helperText","label","onAbandonTypeahead_DO_NOT_USE","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onHighlightEntry","onOutsideClick","onPressEntry","onShiftTab","onTab","onUpArrow","viewRole","inputRef","shouldHandleCloseAfterHandlePressEntry","shouldCloseOnEnter","xstyles"]),b[0]=a,b[1]=d,b[2]=e,b[3]=f,b[4]=g,b[5]=h,b[6]=l,b[7]=m,b[8]=n,b[9]=o,b[10]=p,b[11]=q,b[12]=r,b[13]=s,b[14]=t,b[15]=u,b[16]=v,b[17]=w,b[18]=x,b[19]=y,b[20]=z,b[21]=A,b[22]=B):(d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],l=b[6],m=b[7],n=b[8],o=b[9],p=b[10],q=b[11],r=b[12],s=b[13],t=b[14],u=b[15],v=b[16],w=b[17],x=b[18],y=b[19],z=b[20],A=b[21],B=b[22]);b[23]!==d?(a=d===void 0?{}:d,b[23]=d,b[24]=a):a=b[24];d=a;a=d.afterViewContent;d=d.beforeViewContent;e=e===void 0?!1:e;f=f===void 0?!0:f;var C;b[25]!==g?(C=g===void 0?{}:g,b[25]=g,b[26]=C):C=b[26];var D;if(b[27]!==C){g=C;D=g.viewXStyle_DO_NOT_USE;g=babelHelpers.objectWithoutPropertiesLoose(g,["viewXStyle_DO_NOT_USE"]);b[27]=C;b[28]=D;b[29]=g}else D=b[28],g=b[29];C=c("useCometInternalTypeaheadFetch")();C=C.isLoading;var E=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();E=E.isOpened;var F=c("useCometInternalTypeaheadState")(),G=F.activeEntries;F=F.highlightedEntry;h=c("useCometTypeaheadInputRefs")(h);var H=h.composedRef;h=h.inputRef;var I;b[30]!==l||b[31]!==m||b[32]!==n||b[33]!==o||b[34]!==p||b[35]!==q||b[36]!==r||b[37]!==s||b[38]!==t||b[39]!==u||b[40]!==v||b[41]!==w||b[42]!==x?(I={onAbandonTypeahead_DO_NOT_USE:l,onBlur:m,onChange:n,onClick:o,onDownArrow:p,onEnter:q,onEscape:r,onHighlightEntry:s,onOutsideClick:t,onPressEntry:u,onShiftTab:v,onTab:w,onUpArrow:x},b[30]=l,b[31]=m,b[32]=n,b[33]=o,b[34]=p,b[35]=q,b[36]=r,b[37]=s,b[38]=t,b[39]=u,b[40]=v,b[41]=w,b[42]=x,b[43]=I):I=b[43];b[44]!==I||b[45]!==h||b[46]!==f||b[47]!==e?(l={handlers:I,inputRef:h,shouldCloseOnEnter:f,shouldHandleCloseAfterHandlePressEntry:e},b[44]=I,b[45]=h,b[46]=f,b[47]=e,b[48]=l):l=b[48];m=c("useCometTypeaheadInternalLayoutContextualStrategyHandlers")(l);b[49]!==G||b[50]!==y||b[51]!==F||b[52]!==z||b[53]!==E||b[54]!==A?(n={activeEntries:G,helperText:y,highlightedEntry:F,inputLabel:z,isOpened:E,viewRole:A},b[49]=G,b[50]=y,b[51]=F,b[52]=z,b[53]=E,b[54]=A,b[55]=n):n=b[55];o=c("useCometTypeaheadLayoutContextualStrategyARIAProps")(n);b[56]!==D?(p=[k.view,D],b[56]=D,b[57]=p):p=b[57];b[58]!==p||b[59]!==g?(q=babelHelpers["extends"]({viewXStyle_DO_NOT_USE:p},g),b[58]=p,b[59]=g,b[60]=q):q=b[60];b[61]!==E||b[62]!==q?(r={isOpened:E,xstyles:q},b[61]=E,b[62]=q,b[63]=r):r=b[63];s=c("useCometTypeaheadLayoutStrategyStyles")(r);b[64]!==y?(t=y!=null?j.jsx(c("CometTypeaheadHelperText.react"),{text:y}):null,b[64]=y,b[65]=t):t=b[65];b[66]!==a||b[67]!==o||b[68]!==d||b[69]!==t||b[70]!==C||b[71]!==E?(u={afterViewContent:a,ariaProps:o,beforeViewContent:d,helperTextComponent:t,isLoading:C,isOpened:E},b[66]=a,b[67]=o,b[68]=d,b[69]=t,b[70]=C,b[71]=E,b[72]=u):u=b[72];b[73]!==B||b[74]!==m||b[75]!==u||b[76]!==y||b[77]!==H||b[78]!==z||b[79]!==A||b[80]!==s?(v=j.jsx(c("CometTypeaheadInternalLayoutContextualStrategy.react"),babelHelpers["extends"]({},B,m,{extraLayoutProps:u,helperText:y,inputRef:H,label:z,viewRole:A,xstyles:s})),b[73]=B,b[74]=m,b[75]=u,b[76]=y,b[77]=H,b[78]=z,b[79]=A,b[80]=s,b[81]=v):v=b[81];return v}g["default"]=a}),98);
__d("CometTypeaheadRecentViewItem.react",["CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(17);if(b[0]!==a){var e=a.entry,f=a.isActive;a.queryString;var g=a.testid,h=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString","testid"]);e=e;f=f;g=g;h=h;b[0]=a;b[1]=e;b[2]=f;b[3]=h;b[4]=g}else e=b[1],f=b[2],h=b[3],g=b[4];a=e;a=a.label;var k;b[5]!==f||b[6]!==a?(k=j.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewRecentIcon,{isActive:f,label:a}),b[5]=f,b[6]=a,b[7]=k):k=b[7];a=(a=a)!=null?a:"";var l;b[8]!==a?(l=j.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{level:3,snippet:null,title:a}),b[8]=a,b[9]=l):l=b[9];b[10]!==h||b[11]!==e||b[12]!==f||b[13]!==k||b[14]!==g||b[15]!==l?(a=j.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},h,{entry:e,isActive:f,itemStartContent:k,testid:void 0,children:l})),b[10]=h,b[11]=e,b[12]=f,b[13]=k,b[14]=g,b[15]=l,b[16]=a):a=b[16];return a}g["default"]=a}),98);
__d("SearchGeminiGlobalResultPageTracePolicy",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT_TAB:"gemini.search_results.default",HASHTAG:"gemini.search_results.hashtag"});f["default"]=a}),66);
__d("XCometSearchResultsControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/search/{?searchtype}/{?*bqf}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("cometTypeaheadInputWebkitStyles",[],(function(a,b,c,d,e,f,g){"use strict";a={"default":{WebkitAppearance:"xo6swyp","::-webkit-search-cancel-button_appearance":"x1ad04t7","::-webkit-search-decoration_appearance":"x1glnyev","::-webkit-search-results-button_appearance":"x1ix68h3","::-webkit-search-results-decoration_appearance":"x19gujb8",$$css:!0}};b=a;g["default"]=b}),98);
__d("findCometScrollableLayoutActiveNode",[],(function(a,b,c,d,e,f){"use strict";function g(a){if(a==null)return null;if(a.tagName==="LI")return a.getAttribute("aria-selected")==="true"?a:null;return a.children==null?null:Array.from(a.children).reduce(function(a,b){return(a=a)!=null?a:g(b)},null)}f["default"]=g}),66);
__d("isSearchGeminiGlobalResultPageTracePolicy",["SearchGeminiGlobalResultPageTracePolicy"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return Object.values(c("SearchGeminiGlobalResultPageTracePolicy")).includes(a)}g["default"]=a}),98);
__d("useCometTypeaheadInputStrategyOnChangeHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.c;function a(a){var b=i(2),c=a.onChange;b[0]!==c?(a=function(a){var b=a.target.value;c&&c(b,a)},b[0]=c,b[1]=a):a=b[1];return a}g["default"]=a}),98);
__d("useCometTypeaheadKeyboardForScrollableArea",["findCometScrollableLayoutActiveNode","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.c;function a(a){var b=k(3),d=j(null),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(){var a;(a=c("findCometScrollableLayoutActiveNode")((a=d.current)==null?void 0:a.getDOMNode()))==null?void 0:a.scrollIntoView({behavior:"smooth",block:"nearest"})},b[0]=e):e=b[0];var f;b[1]!==a?(f=[a],b[1]=a,b[2]=f):f=b[2];i(e,f);return d}g["default"]=a}),98);
__d("useCometTypeaheadNavigate",["CometProductAttributionContext","goForceFullPageRedirectTo","isCometRouterUrl","react","useCometRouterDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useContext;function a(a){var b=c("useCometRouterDispatcher")(),d=j(c("CometProductAttributionContext"));return i(function(e,f){if(e==null)return;if(b!=null){var g;g={fromLink:{tap_point:(g=a==null?void 0:a.tapPoint)!=null?g:"tap_scoped_search_bar"},linkContext:d};c("isCometRouterUrl")(e)?b.go(e,{productAttributionUpdateProps:g}):(a==null?void 0:a.openNewTabForExternalLink)===!0?b.go(e,{}):c("goForceFullPageRedirectTo")(e)}else f&&f(e)},[b,d,a==null?void 0:a.openNewTabForExternalLink,a==null?void 0:a.tapPoint])}g["default"]=a}),98);
__d("useCometTypeaheadStateQueryString",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState,k=b.c;function a(a){var b=k(5),c=j(a),d=c[0],e=c[1],f;b[0]!==a?(c=function(){return e(a)},f=[a],b[0]=a,b[1]=c,b[2]=f):(c=b[1],f=b[2]);i(c,f);b[3]!==d?(c=[d,e],b[3]=d,b[4]=c):c=b[4];return c}g["default"]=a}),98);
__d("useSearchCometResultsEntryPointSurface",["isSearchCometGlobalResultPageTracePolicy","isSearchCometScopedResultPageTracePolicy","isSearchGeminiGlobalResultPageTracePolicy","react","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c,j=new Map([["apps","SERP_APPS_TAB"],["events","SERP_EVENTS_TAB"],["groups","SERP_GROUPS_TAB"],["links","SERP_NEWS_LINK_TAB"],["pages","SERP_PAGES_TAB"],["people","SERP_PEOPLE_TAB"],["photos","SERP_PHOTOS_TAB"],["places","SERP_PLACES_TAB"],["posts","SERP_POSTS_TAB"],["top","SERP_TOP_TAB"],["videos","SERP_VIDEOS_TAB"]]),k=new Map([["groups_home","GROUPS_HOME_SERP_ALL_TAB"],["groups","GROUPS_HOME_SERP_GROUPS_TAB"],["posts","GROUPS_HOME_SERP_GROUP_POSTS_TAB"]]);function a(a){var b=i(9);if(b[0]!==a){var d;d=(d=a)!=null?d:{};b[0]=a;b[1]=d}else d=b[1];a=d;d=a.currentSearchType;a=a.entryPointSurface;var e=c("useCometRouterState")();if(a!=null)return a;b[2]!==e?(a=(e==null?void 0:e.pushViewStack)||[],b[2]=e,b[3]=a):a=b[3];a=a;if(a.length>0){a=(a=a[a.length-1])==null?void 0:a.route}else a=e==null?void 0:e.main.route;e=(e=a)==null?void 0:e.tracePolicy;a=(a=a)==null?void 0:(a=a.params)==null?void 0:a.searchtype;a=typeof a==="string"?a:null;d=(d=d)!=null?d:a;if(d!=null&&e!=null&&(c("isSearchCometGlobalResultPageTracePolicy")(e)||c("isSearchGeminiGlobalResultPageTracePolicy")(e)||e==="comet.groups.search")){a=e==="comet.groups.search"?k:j;var f;b[4]!==a||b[5]!==d?(f=a.get(d),b[4]=a,b[5]=d,b[6]=f):f=b[6];return f}var g;if(e!=null&&!c("isSearchCometScopedResultPageTracePolicy")(e)&&!c("isSearchCometGlobalResultPageTracePolicy")(e)&&!c("isSearchGeminiGlobalResultPageTracePolicy")(e)){b[7]!==e?(a=e.match(/^((comet|gemini)\.[a-zA-Z_]+).*$/),b[7]=e,b[8]=a):a=b[8];d=a;d!=null&&(g=d[1])}return(f=g)!=null?f:e}g["default"]=a}),98);
__d("useSearchCometResultsCommonRouteParamBuilder",["Base64","CometRouteParams","react","useSearchCometResultsEntryPointSurface"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useMemo;var i=b.c;function a(a){var b=i(8);if(b[0]!==a){var e;e=(e=a)!=null?e:{};b[0]=a;b[1]=e}else e=b[1];a=e;e=a.currentSearchType;a=a.entryPointSurface;var f=d("CometRouteParams").useRouteParams(),g=f.__tsid__;b[2]!==e||b[3]!==a?(f={currentSearchType:e,entryPointSurface:a},b[2]=e,b[3]=a,b[4]=f):f=b[4];var h=c("useSearchCometResultsEntryPointSurface")(f);b[5]!==g||b[6]!==h?(e={build:function(a){var b=a.disableAutocorrect,d=a.encryptedQueryFunction,e=a.encryptedServerDefinedExperience,f=a.entryPointAction,i=a.filters,j=a.highConfidenceResult,k=a.query,l=a.stsDisambiguation;a=a.typeaheadSessionID;k={q:k};d!=null&&(k.f=d);e!=null&&(k.sde=e);a!=null?k.__tsid__=a:typeof g==="string"&&(k.__tsid__=g);f!=null&&(k.__epa__=f);h!=null&&(k.__eps__=h);b===!0&&(k.spell="1");i!=null&&(k.filters=c("Base64").encode(JSON.stringify(i)));l!=null&&(k.__stsd__=c("Base64").encode(JSON.stringify(l)));if(j!=null){d=j.id;e=j.source;k.__hcr__=c("Base64").encode(JSON.stringify({id:d,source:e}))}return k}},b[5]=g,b[6]=h,b[7]=e):e=b[7];a=e;return a}g["default"]=a}),98);
__d("useSearchCometResultsURLBuilder",["react","useSearchCometResultsCommonRouteParamBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.c;function a(a){var b=i(7),d,e;b[0]!==a?(e=a.routeBuilder,d=babelHelpers.objectWithoutPropertiesLoose(a,["routeBuilder"]),b[0]=a,b[1]=d,b[2]=e):(d=b[1],e=b[2]);a=d;var f=a.currentSearchType,g=c("useSearchCometResultsCommonRouteParamBuilder")(d);b[3]!==e||b[4]!==g||b[5]!==f?(a=function(a){var b=a.searchType;return e.buildURL(babelHelpers["extends"]({},g.build(babelHelpers["extends"]({},a)),{searchtype:(b=(a=b)!=null?a:f)!=null?b:"top"}))},b[3]=e,b[4]=g,b[5]=f,b[6]=a):a=b[6];return a}g["default"]=a}),98);
__d("withSearchCometTypeaheadBaseNavigationDecorator",["react","useCometTypeaheadInputRefs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback;function a(a){function b(b){var d=b.inputRef,e=b.onPressEntry,f=b.onSelectFreeformQuery;b=babelHelpers.objectWithoutPropertiesLoose(b,["inputRef","onPressEntry","onSelectFreeformQuery"]);d=c("useCometTypeaheadInputRefs")(d);var g=d.composedRef,h=d.inputRef;d=j(function(a,b){b!==!0&&(h.current&&h.current.blur()),e==null?void 0:e(a,b)},[h,e]);var k=j(function(a){h.current&&h.current.blur(),f&&f(a)},[h,f]);return i.jsx(a,babelHelpers["extends"]({},b,{inputRef:g,onPressEntry:d,onSelectFreeformQuery:k}))}b.displayName=b.name+" [from "+f.id+"]";return b}g["default"]=a}),98);
__d("withSearchCometTypeaheadSERPWarmCallDecoratorQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="10027731370600885"}),null);
__d("withSearchCometTypeaheadSERPWarmCallDecoratorQuery.graphql",["withSearchCometTypeaheadSERPWarmCallDecoratorQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"InitiateWarmSearchResponse",kind:"LinkedField",name:"initiate_warm_search",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"withSearchCometTypeaheadSERPWarmCallDecoratorQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"withSearchCometTypeaheadSERPWarmCallDecoratorQuery",selections:a},params:{id:b("withSearchCometTypeaheadSERPWarmCallDecoratorQuery_facebookRelayOperation"),metadata:{},name:"withSearchCometTypeaheadSERPWarmCallDecoratorQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("withSearchCometTypeaheadSERPWarmCallDecorator",["CometRelay","CometRelayErrorHandling","react","withSearchCometTypeaheadSERPWarmCallDecoratorQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));c=i;c.useCallback;var k=c.c;function a(a){function c(c){var e=k(9),f,g;e[0]!==c?(f=c.onFocus,g=babelHelpers.objectWithoutPropertiesLoose(c,["onFocus"]),e[0]=c,e[1]=f,e[2]=g):(f=e[1],g=e[2]);var i=d("CometRelay").useRelayEnvironment();e[3]!==i||e[4]!==f?(c=function(){d("CometRelay").fetchQuery(i,h!==void 0?h:h=b("withSearchCometTypeaheadSERPWarmCallDecoratorQuery.graphql"),{},{fetchPolicy:"store-or-network"}).subscribe({error:function(a){d("CometRelayErrorHandling").markErrorAsHandled(a)}}),f&&f()},e[3]=i,e[4]=f,e[5]=c):c=e[5];c=c;var l;e[6]!==g||e[7]!==c?(l=j.jsx(a,babelHelpers["extends"]({},g,{onFocus:c})),e[6]=g,e[7]=c,e[8]=l):l=e[8];return l}return c}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("ClickToMessagingAdsAdoptionLoggingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6643");b=d("FalcoLoggerInternal").create("click_to_messaging_ads_adoption_logging",a);e=b;g["default"]=e}),98);
__d("ProfileCometAd4AdSectionMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6645181398894193"}),null);
__d("ProfileCometAd4AdSectionMutation.graphql",["ProfileCometAd4AdSectionMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"profile_ad4ad_opt_out",storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileCometAd4AdSectionMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"ProfileCometAd4AdSectionMutation",selections:a},params:{id:b("ProfileCometAd4AdSectionMutation_facebookRelayOperation"),metadata:{},name:"ProfileCometAd4AdSectionMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("ProfileCometAd4adStringsUtils",["fbt","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||c("react");function a(a){a===void 0&&(a=!0);return a?h._("__JHASH__UQ528pyggZe__JHASH__"):h._("__JHASH__bv33eJ0AUg2__JHASH__")}function b(a){return h._("__JHASH__zi4DCPEUY0J__JHASH__",[h._param("page name",j.jsx("b",{children:a}))])}b.displayName=b.name+" [from "+f.id+"]";function d(){return h._("__JHASH__vdZVytRwhvS__JHASH__")}d.displayName=d.name+" [from "+f.id+"]";function e(a){return a==="CTWA_AD4AD"||a==="CTWA_AD4AD_V2"?h._("__JHASH__RDukmjgHmra__JHASH__"):h._("__JHASH__ej6-fwGoIZO__JHASH__")}function k(a){return h._("__JHASH__4gmVqLTuWlc__JHASH__",[h._param("post caption",a)])}k.displayName=k.name+" [from "+f.id+"]";function l(a){a===void 0&&(a=!0);return a?h._("__JHASH__jGwsRszuf7h__JHASH__"):h._("__JHASH__cC5JdR0mw67__JHASH__")}function m(a){return h._("__JHASH__0BbkJ9PC2S9__JHASH__",[h._param("page name",j.jsx("b",{children:a}))])}m.displayName=m.name+" [from "+f.id+"]";function n(a){return a==="CTWA_AD4AD"||a==="CTWA_AD4AD_V2"?h._("__JHASH__oG_103CwNkS__JHASH__"):h._("__JHASH__Udfs5O3Bk51__JHASH__")}function o(){return h._("__JHASH__e5ZvPwWaa1z__JHASH__")}o.displayName=o.name+" [from "+f.id+"]";g.getConnectPeopleWithWhatsAppTitle=a;g.getConnectPeopleWithWhatsAppOnCreateAdsBody=b;g.getConnectPeopleOnCreateAdsBody=d;g.getConnectPeopleOnBoostPostBody=e;g.getPostCaption=k;g.getConnectPeopleWithMessengerTitle=l;g.getConnectPeopleWithMessengerOnCreateAdsBody=m;g.getConnectPeopleOnCreateAdsButtonLabel=n;g.getBoostPostButtonLabel=o}),226);
__d("ProfileCometAd4AdSectionPreview.react",["fbt","ix","BaseMiddot.react","CometCard.react","CometColumn.react","CometColumnItem.react","CometImage.react","CometRow.react","CometRowItem.react","CometStoryAttachmentFooter.react","CometStoryAttachmentFooterCTA.react","FDSIcon.react","FDSText.react","ProfileCometAd4adStringsUtils","TetraIcon.react","TetraProfilePhoto.react","fbicon","isTruthy","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=(j||(j=d("react"))).c,l=j;function a(a){var b=k(29),e=a.adPreviewCaption,f=a.adPreviewPictureAlt,g=a.adPreviewPictureUri,j=a.categoryName,n=a.coverPhotoUri,o=a.ctaType,p=a.globeIcon,q=a.pageName;a=a.profilePictureUri;o=o===void 0?"messenger":o;var r;b[0]!==a?(r=l.jsx(c("CometRowItem.react"),{children:l.jsx(c("TetraProfilePhoto.react"),{size:36,source:{uri:a}})}),b[0]=a,b[1]=r):r=b[1];b[2]!==q?(a=l.jsx(c("CometColumnItem.react"),{children:l.jsx(c("FDSText.react"),{align:"start",color:"primary",numberOfLines:1,type:"bodyLink3",children:q})}),b[2]=q,b[3]=a):a=b[3];var s,t;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(s=h._("__JHASH__ZNlniaVwQ8w__JHASH__"),t=l.jsx(c("BaseMiddot.react"),{}),b[4]=s,b[5]=t):(s=b[4],t=b[5]);b[6]!==p?(s=l.jsx(c("CometColumnItem.react"),{children:l.jsxs(c("FDSText.react"),{align:"start",color:"secondary",numberOfLines:1,type:"meta3",children:[s,t,l.jsx(c("FDSIcon.react"),{color:"secondary",icon:p,size:12})]})}),b[6]=p,b[7]=s):s=b[7];b[8]!==a||b[9]!==s?(t=l.jsx(c("CometRowItem.react"),{expanding:!0,children:l.jsxs(c("CometColumn.react"),{spacing:8,children:[a,s]})}),b[8]=a,b[9]=s,b[10]=t):t=b[10];b[11]!==r||b[12]!==t?(p=l.jsxs(c("CometRow.react"),{paddingHorizontal:8,paddingVertical:8,verticalAlign:"center",children:[r,t]}),b[11]=r,b[12]=t,b[13]=p):p=b[13];a=p;b[14]!==e?(s=c("isTruthy")(e)?l.jsx("div",{className:"x7a106z x78zum5 xexx8yu x4uap5 xx6bls6 x5ib6vp",children:l.jsx(c("FDSText.react"),{align:"start",color:"primary",numberOfLines:1,type:"body3",children:d("ProfileCometAd4adStringsUtils").getPostCaption(e)})}):null,b[14]=e,b[15]=s):s=b[15];r=s;t=m;p=g===""?n:g;b[16]!==f||b[17]!==p?(e=l.jsx(c("CometImage.react"),{alt:f,height:350,objectFit:"cover",src:p,width:"100%"}),b[16]=f,b[17]=p,b[18]=e):e=b[18];b[19]!==o||b[20]!==q||b[21]!==j?(s=o==="messenger"?l.jsx(c("CometStoryAttachmentFooter.react"),{cta:l.jsx(c("CometStoryAttachmentFooterCTA.react"),{icon:d("fbicon")._(i("505616"),16),label:h._("__JHASH__2l4fd0drEeo__JHASH__")}),headline:q,meta:j}):l.jsx(c("CometStoryAttachmentFooter.react"),{cta:l.jsx(c("CometStoryAttachmentFooterCTA.react"),{icon:d("fbicon")._(i("686157"),16),label:h._("__JHASH__x7ihC6cjETg__JHASH__")}),headline:q,meta:j}),b[19]=o,b[20]=q,b[21]=j,b[22]=s):s=b[22];b[23]===Symbol["for"]("react.memo_cache_sentinel")?(n=l.jsxs("div",{className:"x6s0dn4 x8cjs6t x13fuv20 x178xt8z x78zum5 x1q0g3np x1iyjqo2 x21xpn4 x1iorvi4 x1pi30zi xjkvuk6 x1swvt13",children:[t(h._("__JHASH__AbxaNYPGL3c__JHASH__"),d("fbicon")._(i("509925"),16)),t(h._("__JHASH__37-94uxpzY7__JHASH__"),d("fbicon")._(i("508557"),16)),t(h._("__JHASH__OD3nsrg9boa__JHASH__"),d("fbicon")._(i("484398"),16))]}),b[23]=n):n=b[23];b[24]!==a||b[25]!==r||b[26]!==e||b[27]!==s?(g=l.jsxs(c("CometCard.react"),{border:"solid",dropShadow:1,expanding:!0,children:[a,r,e,s,n]}),b[24]=a,b[25]=r,b[26]=e,b[27]=s,b[28]=g):g=b[28];return g}function m(a,b){return l.jsxs("div",{className:"x6s0dn4 x78zum5 x1q0g3np x1iyjqo2 x2lah0s xl56j7k",children:[l.jsx("div",{className:"xsyo7zv xxymvpz",children:l.jsx(c("TetraIcon.react"),{color:"secondary",icon:b,size:16})}),l.jsx(c("FDSText.react"),{color:"secondary",numberOfLines:1,type:"bodyLink3",children:a})]})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("ProfileCometAd4AdSection_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileCometAd4AdSection_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"ctx_profile_ad4ad_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promote_uri_for_ctx_profile_ad4ad",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_image_and_caption_profile_ad4ad",storageKey:null},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"delegate_page",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_picture_uri",storageKey:null},{alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"best_description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useCometFocusedGlobeFilled12_viewer"}],storageKey:null}],storageKey:null}],type:"User",abstractKey:null};e.exports=a}),null);
__d("ProfileCometAd4AdSection.react",["fbt","ix","ClickToMessagingAdsAdoptionLoggingFalcoEvent","CometCard.react","CometColumn.react","CometColumnItem.react","CometPageAdminCTWAEventLoggingUtils","CometRelay","CometRow.react","CometRowItem.react","FDSButton.react","FDSCircleButton.react","FDSText.react","FDSTextPairing.react","FDSTintedIcon.react","MetaLockupPrimary.react","ODS","ProfileCometAd4AdSectionMutation.graphql","ProfileCometAd4AdSectionPreview.react","ProfileCometAd4AdSection_user.graphql","ProfileCometAd4adStringsUtils","fbicon","qex","react","translatedServerString","useCometFocusedGlobeFilled12"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=l||(l=d("react"));e=l;var o=e.useRef,p=e.useState;function a(a){var e,f,g,l,q,r,s;a=a.user;var t=d("CometRelay").useRelayEnvironment(),u=p(!1),v=u[0],w=u[1];u=o(!1);var x="";a=d("CometRelay").useFragment(j!==void 0?j:j=b("ProfileCometAd4AdSection_user.graphql"),a);var y=k!==void 0?k:k=b("ProfileCometAd4AdSectionMutation.graphql");function z(){d("CometRelay").commitMutation(t,{mutation:y,onCompleted:function(a){w((a=a.profile_ad4ad_opt_out)!=null?a:!0);c("ClickToMessagingAdsAdoptionLoggingFalcoEvent").log(function(){var a;return{event:"profile_ad4ad_opt_out",extra_data:(a={},a[x]="_opt_out",a),page_id:C}})},variables:{}})}var A=a==null?void 0:a.delegate_page,B=A==null?void 0:A.viewer;if(A==null||B==null)return null;B=c("useCometFocusedGlobeFilled12")(B);e=(e=A==null?void 0:A.category_name)!=null?e:"";f=(f=A==null?void 0:(f=A.best_description)==null?void 0:f.text)!=null?f:"";g=(g=A==null?void 0:A.name)!=null?g:"";var C=(l=A==null?void 0:A.id)!=null?l:"";l=(l=A==null?void 0:A.profile_picture_uri)!=null?l:"";A=(A=A==null?void 0:(A=A.cover_photo)==null?void 0:(A=A.photo)==null?void 0:(A=A.image)==null?void 0:A.uri)!=null?A:"";q=(q=a==null?void 0:a.promote_uri_for_ctx_profile_ad4ad)!=null?q:"";r=(r=a==null?void 0:a.post_image_and_caption_profile_ad4ad)!=null?r:[];s=(s=r[0])!=null?s:"";r=(r=r[1])!=null?r:"";var D=!1,E=(a=a==null?void 0:a.ctx_profile_ad4ad_type)!=null?a:"NONE";if(E==="NONE"||E==="CTM_AD4AD"||E==="CTD_AD4AD"||v)return null;if(s===""){if(A==="")return null;D=!0}if(E==="CTWA_AD4AD")(m||(m=d("ODS"))).bumpEntityKey(68,"ctx_ctwa_profile_ad4ad","is_eligible_for_ctwa");else if(E==="CTWA_AD4AD_V2"){(m||(m=d("ODS"))).bumpEntityKey(68,"ctx_ctwa_profile_ad4ad","is_eligible_for_ctwa_v2");if(c("qex")._("1414")===!1)return null}else if(E==="CTM_AD4AD"){(m||(m=d("ODS"))).bumpEntityKey(68,"ctx_ctwa_profile_ad4ad","is_eligible_for_ctx");if(c("qex")._("442")===!1)return null}if(u.current===!1){u.current=!0;if(E==="CTWA_AD4AD"||E==="CTWA_AD4AD_V2"){x=D?"ctwa_ad4ad_create":"ctwa_ad4ad_boost";d("CometPageAdminCTWAEventLoggingUtils").logCTWAEvent((a=C)!=null?a:"","profile_plus_ctwa_ad4ad_upsell_comet","impression",x)}else x=D?"ctx_ad4ad_create":"ctx_ad4ad_boost",c("ClickToMessagingAdsAdoptionLoggingFalcoEvent").log(function(){var a;return{event:"profile_ad4ad_impression",extra_data:(a={},a[x]="_impression",a),page_id:C}})}v=E==="CTWA_AD4AD"||E==="CTWA_AD4AD_V2"?d("ProfileCometAd4adStringsUtils").getConnectPeopleWithWhatsAppOnCreateAdsBody(g):d("ProfileCometAd4adStringsUtils").getConnectPeopleOnCreateAdsBody();u=D?v:d("ProfileCometAd4adStringsUtils").getConnectPeopleOnBoostPostBody(E);a=E==="CTWA_AD4AD"||E==="CTWA_AD4AD_V2"?d("ProfileCometAd4adStringsUtils").getConnectPeopleWithWhatsAppTitle(D):d("ProfileCometAd4adStringsUtils").getConnectPeopleWithMessengerTitle(D);v=D?f===""?e:f:r;f=E==="CTM_AD4AD"||E==="CTWA_AD4AD_V2"?v:null;r=E==="CTM_AD4AD"||E==="CTWA_AD4AD_V2"?s:"";v=E==="CTWA_AD4AD"||E==="CTWA_AD4AD_V2"?"whatsapp":"messenger";return n.jsx("div",{className:"x1yztbdb",children:n.jsx(c("CometCard.react"),{background:"white",dropShadow:1,children:n.jsx(c("CometColumn.react"),{paddingHorizontal:4,children:n.jsxs(c("CometColumnItem.react"),{paddingVertical:8,children:[n.jsxs(c("CometRow.react"),{paddingVertical:8,verticalAlign:"center",children:[n.jsx(c("CometRowItem.react"),{children:n.jsx(c("MetaLockupPrimary.react"),{size:16})}),n.jsx(c("CometRowItem.react"),{children:n.jsx(c("FDSCircleButton.react"),{color:"secondary",icon:d("fbicon")._(i("478233"),20),label:"hide",onPress:function(){z();if(E==="CTWA_AD4AD"||E==="CTWA_AD4AD_V2"){var a;d("CometPageAdminCTWAEventLoggingUtils").logCTWAEvent((a=C)!=null?a:"","profile_plus_ctwa_ad4ad_upsell_comet","click_cross_out",x)}},size:36,type:"deemphasized"})})]}),n.jsx(c("CometRow.react"),{paddingVertical:8,verticalAlign:"center",children:n.jsx(c("CometRowItem.react"),{children:n.jsx(c("FDSTextPairing.react"),{body:n.jsx(c("FDSText.react"),{numberOfLines:2,type:"body4",children:u}),headline:n.jsx(c("FDSText.react"),{numberOfLines:1,type:"headlineEmphasized3",children:a}),level:3})})}),n.jsx(c("CometRow.react"),{paddingVertical:16,verticalAlign:"center",children:n.jsx(c("ProfileCometAd4AdSectionPreview.react"),{adPreviewCaption:f,adPreviewPictureAlt:c("translatedServerString")("Connect with more customers on Messenger"),adPreviewPictureUri:r,categoryName:e,coverPhotoUri:A,ctaType:v,globeIcon:B,pageName:g,profilePictureUri:l})}),n.jsx(c("CometRow.react"),{paddingVertical:8,verticalAlign:"center",children:n.jsx(c("FDSButton.react"),{label:D?d("ProfileCometAd4adStringsUtils").getConnectPeopleOnCreateAdsButtonLabel(E):d("ProfileCometAd4adStringsUtils").getBoostPostButtonLabel(),linkProps:{url:q},onPress:function(){E==="CTM_AD4AD"&&c("ClickToMessagingAdsAdoptionLoggingFalcoEvent").log(function(){var a;return{event:"profile_ad4ad_opt_in",extra_data:(a={},a[x]="_opt_in",a),page_id:C}});if(E==="CTWA_AD4AD"||E==="CTWA_AD4AD_V2"){var a;d("CometPageAdminCTWAEventLoggingUtils").logCTWAEvent((a=C)!=null?a:"","profile_plus_ctwa_ad4ad_upsell_comet","click",x)}}})}),n.jsxs(c("CometRow.react"),{paddingVertical:8,verticalAlign:"center",children:[n.jsx(c("CometRowItem.react"),{children:n.jsx(c("FDSTintedIcon.react"),{color:"placeholder",icon:d("fbicon")._(i("497243"),12)})}),n.jsx(c("CometRowItem.react"),{expanding:!0,children:n.jsx(c("FDSText.react"),{numberOfLines:2,type:"meta3",children:h._("__JHASH___2uE-m-Jo8y__JHASH__")})})]})]})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("ProfileCometInfoReviewUnitGlimmer.react",["FDSGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={button:{borderTopStartRadius:"xyi19xy",borderTopEndRadius:"x1ccrb07",borderBottomEndRadius:"xtf3nb5",borderBottomStartRadius:"x1pc53ja",height:"xc9qbxq",width:"x13oubkp",$$css:!0},ctaButton:{borderTopStartRadius:"xyi19xy",borderTopEndRadius:"x1ccrb07",borderBottomEndRadius:"xtf3nb5",borderBottomStartRadius:"x1pc53ja",height:"xc9qbxq",width:"x1247r65",$$css:!0},ctaSpacing:{marginEnd:"xq8finb",$$css:!0},formContent:{borderTopStartRadius:"xyi19xy",borderTopEndRadius:"x1ccrb07",borderBottomEndRadius:"xtf3nb5",borderBottomStartRadius:"x1pc53ja",display:"x78zum5",height:"xpyat2d",marginBottom:"x1yztbdb",$$css:!0},title:{borderTopStartRadius:"xyi19xy",borderTopEndRadius:"x1ccrb07",borderBottomEndRadius:"xtf3nb5",borderBottomStartRadius:"x1pc53ja",height:"xxk0z11",marginBottom:"x1yztbdb",width:"x2pejg6",$$css:!0}};function a(){var a=i(7),b,d,e,f,g,h;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b="xyamay9 x1pi30zi x1l90r2v x1swvt13",d=j.jsx(c("FDSGlimmer.react"),{index:0,xstyle:k.title}),e=j.jsx(c("FDSGlimmer.react"),{index:1,xstyle:k.formContent}),f="x78zum5 x1qughib",g=j.jsx(c("FDSGlimmer.react"),{index:2,xstyle:k.button}),h="x78zum5 x13a6bvl x3hqpx7",a[0]=b,a[1]=d,a[2]=e,a[3]=f,a[4]=g,a[5]=h):(b=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5]);a[6]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsxs("div",{className:b,children:[d,e,j.jsxs("div",{className:f,children:[g,j.jsxs("div",{className:h,children:[j.jsx(c("FDSGlimmer.react"),{index:3,xstyle:[k.ctaButton,k.ctaSpacing]}),j.jsx(c("FDSGlimmer.react"),{index:4,xstyle:k.ctaButton})]})]})]}),a[6]=b):b=a[6];return b}g["default"]=a}),98);
__d("ProfileCometInfoReviewUnit_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileCometInfoReviewUnit_user",selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1TeACA"}],concreteType:null,kind:"LinkedField",name:"profile_info_review_unit",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometInfoReviewUnit_user",fragmentName:"ProfileCometWizardNUX_unit",fragmentPropName:"unit",kind:"ModuleImport"}],type:"ProfileWizardNUX",abstractKey:null}],storageKey:'profile_info_review_unit(supported:"1TeACA")'}],type:"User",abstractKey:null};e.exports=a}),null);
__d("ProfileCometInfoReviewUnit.react",["CometCard.react","CometPlaceholder.react","CometRelay","ProfileCometInfoReviewUnitGlimmer.react","ProfileCometInfoReviewUnit_user.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useState,l=e.c;function a(a){var e=l(6);a=a.user;var f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=h!==void 0?h:h=b("ProfileCometInfoReviewUnit_user.graphql"),e[0]=f):f=e[0];f=d("CometRelay").useFragment(f,a);a=k(!0);var g=a[0];a=a[1];f=f==null?void 0:f.profile_info_review_unit;if(f==null||!g)return null;e[1]===Symbol["for"]("react.memo_cache_sentinel")?(g="x1yztbdb",e[1]=g):g=e[1];var i;e[2]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx(c("ProfileCometInfoReviewUnitGlimmer.react"),{}),e[2]=i):i=e[2];e[3]===Symbol["for"]("react.memo_cache_sentinel")?(a={setIsVisible:a},e[3]=a):a=e[3];e[4]!==f?(g=j.jsx("div",{className:g,children:j.jsx(c("CometCard.react"),{background:"white",dropShadow:1,children:j.jsx(c("CometPlaceholder.react"),{fallback:i,children:j.jsx(d("CometRelay").MatchContainer,{match:f,props:a})})})}),e[4]=f,e[5]=g):g=e[5];return g}g["default"]=a}),98);
__d("ProfileCometTileSection_profileTileSection.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"site",value:"comet"}],b={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileCometTileSection_profileTileSection",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ProfileTileViewsConnection",kind:"LinkedField",name:"profile_tile_views",plural:!1,selections:[{alias:null,args:null,concreteType:"ProfileTileView",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProfileCometTileView_profileTileView"}],storageKey:null}],storageKey:null},action:"THROW",path:"profile_tile_views"},{alias:null,args:null,kind:"ScalarField",name:"profile_tile_section_type",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_link",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:a,kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_pinned_profile_feature",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{kind:"RequiredField",field:b,action:"THROW",path:"title.text"}],storageKey:null},action:"THROW",path:"title"},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:[b],storageKey:null},{alias:null,args:null,concreteType:"ProfileCardNuxTooltip",kind:"LinkedField",name:"nux_tooltip",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProfileCometTile_profileCardNuxTooltip"}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"action_menu",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProfileCometTile_actionMenu"}],storageKey:'action_menu(site:"comet")'}],type:"ProfileTileSection",abstractKey:null}}();e.exports=a}),null);
__d("ProfileCometTileView_profileTileView.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileCometTileView_profileTileView",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:"43ki2H"}],concreteType:null,kind:"LinkedField",name:"view_style_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileIntroBioView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewIntroBioRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileContextListView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewContextListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTilePhotoGridView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewPhotoGridRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileFriendGridView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewFriendGridRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileFundraisersView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewFundraisersRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileLifeEventsView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewLifeEventsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileFunFactsView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewFunFactsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileFeaturedHighlightsView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewFeaturedHighlightsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileFallbackView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewFallbackRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileShopCardView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewShopCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileMenuGridView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewMenuGridRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileSameNameListView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewSameNameListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileCellListView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewCellListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileEventsListView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewEventsListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileVideoView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewVideoRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileVideoListView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewVideoListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTilePremiumContentView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewPremiumContentRenderer",abstractKey:null}],storageKey:'view_style_renderer(supported:"43ki2H")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"3Q4C5F"}],concreteType:null,kind:"LinkedField",name:"view_style_edit_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView__view_style_edit_renderer",fragmentName:"ProfileCometIntroBioAddButton_viewStyleEditRenderer",fragmentPropName:"viewStyleEditRenderer",kind:"ModuleImport"}],type:"ProfileTileEditIntroBioRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView__view_style_edit_renderer",fragmentName:"ProfileCometIntroDetailsEditButton_viewStyleEditRenderer",fragmentPropName:"viewStyleEditRenderer",kind:"ModuleImport"}],type:"ProfileTileEditAboutContextListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView__view_style_edit_renderer",fragmentName:"ProfileCometFeaturedHighlightsEditButton_viewStyleEditRenderer",fragmentPropName:"viewStyleEditRenderer",kind:"ModuleImport"}],type:"ProfileTileEditFeaturedHighlightsRenderer",abstractKey:null}],storageKey:'view_style_edit_renderer(supported:"3Q4C5F")'}],type:"ProfileTileView",abstractKey:null};e.exports=a}),null);
__d("ProfileCometTileView.react",["CometRelay","CometRow.react","CometRowItem.react","ProfileCometTileView_profileTileView.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function a(a){var e=j(13),f=a.hasDisabledInteractivity;a=a.profileTileView;f=f===void 0?!1:f;var g;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h!==void 0?h:h=b("ProfileCometTileView_profileTileView.graphql"),e[0]=g):g=e[0];g=d("CometRelay").useFragment(g,a);a=g.view_style_edit_renderer;var i=g.view_style_renderer,l=null;if(i!=null){var m;e[1]!==f?(m={hasDisabledInteractivity:f},e[1]=f,e[2]=m):m=e[2];e[3]!==i||e[4]!==m?(f=k.jsx(d("CometRelay").MatchContainer,{match:i,props:m}),e[3]=i,e[4]=m,e[5]=f):f=e[5];l=f}else if(a!=null){e[6]!==g.id?(i={profileTileViewID:g.id},e[6]=g.id,e[7]=i):i=e[7];e[8]!==a||e[9]!==i?(m=k.jsx(d("CometRelay").MatchContainer,{match:a,props:i}),e[8]=a,e[9]=i,e[10]=m):m=e[10];l=m}e[11]!==l?(f=l&&k.jsx(c("CometRow.react"),{paddingHorizontal:16,children:k.jsx(c("CometRowItem.react"),{expanding:!0,children:l})}),e[11]=l,e[12]=f):f=e[12];return f}g["default"]=a}),98);
__d("ProfileCometTileSection.react",["fbt","ix","CometErrorBoundary.react","CometLink.react","CometRelay","ProfileCometContext","ProfileCometEngagementLoggingContext","ProfileCometTile.react","ProfileCometTileSection_profileTileSection.graphql","ProfileCometTileView.react","ProfileCometUtils","TetraIcon.react","fbicon","mergeRefs","react","react-forget-runtime","useCometDisplayTimingTracker","useProfileCometEngagementEventsClickCallback","useProfileCometEngagementEventsImpression","useProfileEngagementClickCallback","useProfileEngagementImpression"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));e=k;e.useContext;e.useMemo;var m=e.c;function n(a){switch(a){case"CHANNELS":return"channels";case"FRIENDS":return"friends";case"INTRO":return"intro_card";case"LIFE_EVENTS":return"life_events";case"MUSIC":return"music";case"PHOTOS":return"photos";case"THINGS_IN_COMMON":return"things_in_common";default:return"unknown"}}function o(a){switch(a){case"ADMINED_GROUPS":return"groups";case"FRIENDS":return"friends";case"FUNDRAISERS":return"fundraisers";case"INTRO":return"intro_card";case"LIFE_EVENTS":return"life_events";case"MUSIC":return"music";case"PHOTOS":return"photos";case"THINGS_IN_COMMON":return"things_in_common";case"UPCOMING_HOSTED_EVENTS":return"events";default:return"unknown"}}function a(a){var e=m(70);a=a.profileTileSection;var f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=j!==void 0?j:j=b("ProfileCometTileSection_profileTileSection.graphql"),e[0]=f):f=e[0];f=d("CometRelay").useFragment(f,a);a=f.action_link;var g=f.action_menu,k=f.is_pinned_profile_feature,s=f.nux_tooltip,t=f.profile_tile_section_type,u=f.profile_tile_views,v=f.subtitle,w=f.title;f=f.url;var x=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(c("ProfileCometContext"),r),y=x.profileID;x=x.viewerID;y=d("ProfileCometUtils").isViewingSelfProfile(y,x);e[1]!==t?(x=n(t),e[1]=t,e[2]=x):x=e[2];var z;e[3]!==x?(z={profile_product_bucket:x,profile_subsurface:"protile",profile_surface:"timeline"},e[3]=x,e[4]=z):z=e[4];x=z;z=x;x=c("useProfileEngagementImpression")(z);var A=c("useCometDisplayTimingTracker")("ProfileTile"),B;e[5]!==z?(B=babelHelpers["extends"]({},z,{profile_item_subtype:"see_all"}),e[5]=z,e[6]=B):B=e[6];var C=c("useProfileEngagementClickCallback")(B);e[7]!==k||e[8]!==t?(B=k===!0?"pinned_feature":o(t),e[7]=k,e[8]=t,e[9]=B):B=e[9];var D;e[10]!==B?(D={profile_feature:B,profile_section:"posts_tab"},e[10]=B,e[11]=D):D=e[11];B=D;D=B;e[12]!==t?(B=o(t),e[12]=t,e[13]=B):B=e[13];var E;e[14]!==B?(E={unit_name:B},e[14]=B,e[15]=E):E=e[15];e[16]!==D||e[17]!==E?(B=babelHelpers["extends"]({},D,{event_metadata:E,feature_item:"see_all"}),e[16]=D,e[17]=E,e[18]=B):B=e[18];var F=c("useProfileCometEngagementEventsClickCallback")(B);E=y?"true":"false";e[19]!==t?(B=o(t),e[19]=t,e[20]=B):B=e[20];e[21]!==E||e[22]!==B?(y={is_self_view:E,unit_name:B},e[21]=E,e[22]=B,e[23]=y):y=e[23];t=k===!0?"pinned_protile":"protile";e[24]!==D||e[25]!==y||e[26]!==t?(E=babelHelpers["extends"]({},D,{event_metadata:y,event_type:"vpv",feature_item:t}),e[24]=D,e[25]=y,e[26]=t,e[27]=E):E=e[27];B=c("useProfileCometEngagementEventsImpression")(E);e[28]!==x||e[29]!==A||e[30]!==B?(D=c("mergeRefs")(x,A,B),e[28]=x,e[29]=A,e[30]=B,e[31]=D):D=e[31];y=D;t=y;E=w.text;if(k===!0){e[32]===Symbol["for"]("react.memo_cache_sentinel")?(x="x6s0dn4 x78zum5",A="x6s0dn4 x78zum5 x1emribx",e[32]=x,e[33]=A):(x=e[32],A=e[33]);e[34]===Symbol["for"]("react.memo_cache_sentinel")?(B=l.jsx("div",{className:A,children:l.jsx(c("TetraIcon.react"),{color:"primary",icon:d("fbicon")._(i("511755"),16)})}),e[34]=B):B=e[34];e[35]!==B||e[36]!==w.text?(D=l.jsxs("div",{className:x,children:[B,w.text]}),e[35]=B,e[36]=w.text,e[37]=D):D=e[37];E=D}y=null;k=q;A=void 0;if(f!=null||(a==null?void 0:a.url)!=null){e[38]!==f||e[39]!==C||e[40]!==E?(x=l.jsx(c("CometLink.react"),{href:f,onClick:C,routeTarget:"self",children:E}),e[38]=f,e[39]=C,e[40]=E,e[41]=x):x=e[41];E=x;if(e[42]!==a){D=(B=a==null?void 0:a.title)!=null?B:h._("__JHASH__7GaMAm2TOqG__JHASH__");e[42]=a;e[43]=D}else D=e[43];y=D;e[44]!==C?(x={onClick:C},e[44]=C,e[45]=x):x=e[45];D=(B=f)!=null?B:a==null?void 0:a.url;e[46]!==x||e[47]!==D?(f={passthroughProps:x,routeTarget:"self",url:D},e[46]=x,e[47]=D,e[48]=f):f=e[48];A=f;e[49]!==C||e[50]!==F?(B=function(){C(),F()},e[49]=C,e[50]=F,e[51]=B):B=e[51];k=B}e[52]!==u.nodes?(a=u.nodes.map(p),e[52]=u.nodes,e[53]=a):a=e[53];x=a;D="ProfileCometTileSection-"+w.text.replace(" ","");f=v==null?void 0:v.text;e[54]!==y||e[55]!==A||e[56]!==g||e[57]!==f||e[58]!==E||e[59]!==s||e[60]!==k||e[61]!==t||e[62]!==x?(B=l.jsx(c("ProfileCometTile.react"),{action:y,actionLinkProps:A,actionMenu:g,body:f,headline:E,nuxRef:s,onActionPress:k,ref:t,children:x}),e[54]=y,e[55]=A,e[56]=g,e[57]=f,e[58]=E,e[59]=s,e[60]=k,e[61]=t,e[62]=x,e[63]=B):B=e[63];e[64]!==D||e[65]!==B?(u=l.jsx("div",{"data-testid":void 0,children:B}),e[64]=D,e[65]=B,e[66]=u):u=e[66];e[67]!==z||e[68]!==u?(a=l.jsx(c("CometErrorBoundary.react"),{children:l.jsx(c("ProfileCometEngagementLoggingContext").Provider,{value:z,children:u})}),e[67]=z,e[68]=u,e[69]=a):a=e[69];return a}function p(a){return l.jsx(c("ProfileCometTileView.react"),{profileTileView:a},a.id)}p.displayName=p.name+" [from "+f.id+"]";function q(){}function r(a){return[a.profileID,a.viewerID]}g["default"]=a}),226);
__d("ProfileCometTilesFeedPaginationQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7972326449480480"}),null);
__d("ProfileCometTilesFeedPaginationQuery.graphql",["ProfileCometTilesFeedPaginationQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:2,kind:"LocalArgument",name:"count"},c={defaultValue:null,kind:"LocalArgument",name:"cursor"},d={defaultValue:null,kind:"LocalArgument",name:"id"},e={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},f={defaultValue:null,kind:"LocalArgument",name:"scale"},g={defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"},h=[{kind:"Variable",name:"id",variableName:"id"}],i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},k=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Literal",name:"can_show_presence_info",value:!0},{kind:"Variable",name:"first",variableName:"count"},{kind:"Variable",name:"render_location",variableName:"renderLocation"}],l=[{kind:"Literal",name:"site",value:"comet"}],m={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},n=[m];return{fragment:{argumentDefinitions:[a,c,d,e,f,g],kind:"Fragment",metadata:null,name:"ProfileCometTilesFeedPaginationQuery",selections:[{alias:null,args:h,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"},{kind:"Variable",name:"renderLocation",variableName:"renderLocation"}],kind:"FragmentSpread",name:"ProfileCometTilesFeed_user"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,e,f,g,d],kind:"Operation",name:"ProfileCometTilesFeedPaginationQuery",selections:[{alias:null,args:h,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,j,{kind:"InlineFragment",selections:[{alias:null,args:k,concreteType:"ProfileTileSectionsConnection",kind:"LinkedField",name:"profile_tile_sections",plural:!1,selections:[{alias:null,args:null,concreteType:"ProfileTileSectionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProfileTileSection",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"profile_tile_section_type",storageKey:null},{alias:null,args:null,concreteType:"ProfileTileViewsConnection",kind:"LinkedField",name:"profile_tile_views",plural:!1,selections:[{alias:null,args:null,concreteType:"ProfileTileView",kind:"LinkedField",name:"nodes",plural:!0,selections:[j,{alias:null,args:[{kind:"Literal",name:"supported",value:"43ki2H"}],concreteType:null,kind:"LinkedField",name:"view_style_renderer",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileIntroBioView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewIntroBioRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileContextListView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewContextListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTilePhotoGridView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewPhotoGridRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileFriendGridView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewFriendGridRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileFundraisersView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewFundraisersRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileLifeEventsView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewLifeEventsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileFunFactsView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewFunFactsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileFeaturedHighlightsView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewFeaturedHighlightsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileFallbackView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewFallbackRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileShopCardView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewShopCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileMenuGridView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewMenuGridRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileSameNameListView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewSameNameListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileCellListView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewCellListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileEventsListView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewEventsListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileVideoView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewVideoRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTileVideoListView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewVideoListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView",fragmentName:"ProfileCometTilePremiumContentView_viewStyleRenderer",fragmentPropName:"viewStyleRenderer",kind:"ModuleImport"}],type:"ProfileTileViewPremiumContentRenderer",abstractKey:null}],storageKey:'view_style_renderer(supported:"43ki2H")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"3Q4C5F"}],concreteType:null,kind:"LinkedField",name:"view_style_edit_renderer",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView__view_style_edit_renderer",fragmentName:"ProfileCometIntroBioAddButton_viewStyleEditRenderer",fragmentPropName:"viewStyleEditRenderer",kind:"ModuleImport"}],type:"ProfileTileEditIntroBioRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView__view_style_edit_renderer",fragmentName:"ProfileCometIntroDetailsEditButton_viewStyleEditRenderer",fragmentPropName:"viewStyleEditRenderer",kind:"ModuleImport"}],type:"ProfileTileEditAboutContextListRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTileView_profileTileView__view_style_edit_renderer",fragmentName:"ProfileCometFeaturedHighlightsEditButton_viewStyleEditRenderer",fragmentPropName:"viewStyleEditRenderer",kind:"ModuleImport"}],type:"ProfileTileEditFeaturedHighlightsRenderer",abstractKey:null}],storageKey:'view_style_edit_renderer(supported:"3Q4C5F")'}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_link",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:l,kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_pinned_profile_feature",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"ProfileCardNuxTooltip",kind:"LinkedField",name:"nux_tooltip",plural:!1,selections:[m,{alias:null,args:null,kind:"ScalarField",name:"nux_id",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"action_menu",plural:!1,selections:[i,{kind:"TypeDiscriminator",abstractKey:"__isProfileTileActionMenu"},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTile_actionMenu",fragmentName:"ProfileCometTileShopActionMenuPopoverTrigger_actionMenu",fragmentPropName:"actionMenu",kind:"ModuleImport"}],type:"ShopProfileTileActionMenu",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTile_actionMenu",fragmentName:"ProfileCometTileAdminedGroupsActionMenuPopoverTrigger_actionMenu",fragmentPropName:"actionMenu",kind:"ModuleImport"}],type:"AdminedGroupsProfileTileActionMenu",abstractKey:null}],storageKey:'action_menu(site:"comet")'},i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:k,filters:["render_location","can_show_presence_info"],handle:"connection",key:"ProfileCometTilesFeed_profile_tile_sections",kind:"LinkedHandle",name:"profile_tile_sections"}],type:"User",abstractKey:null}],storageKey:null}]},params:{id:b("ProfileCometTilesFeedPaginationQuery_facebookRelayOperation"),metadata:{},name:"ProfileCometTilesFeedPaginationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("ProfileCometTilesFeed_user.graphql",["ProfileCometTilesFeedPaginationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=["profile_tile_sections"];return{argumentDefinitions:[{defaultValue:2,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"renderLocation"},{kind:"RootArgument",name:"scale"},{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:a}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:a},fragmentPathInResult:["node"],operation:b("ProfileCometTilesFeedPaginationQuery.graphql"),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"ProfileCometTilesFeed_user",selections:[{alias:"profile_tile_sections",args:[{kind:"Literal",name:"can_show_presence_info",value:!0},{kind:"Variable",name:"render_location",variableName:"renderLocation"}],concreteType:"ProfileTileSectionsConnection",kind:"LinkedField",name:"__ProfileCometTilesFeed_profile_tile_sections_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ProfileTileSectionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"ProfileTileSection",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"profile_tile_section_type",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProfileCometTileSection_profileTileSection"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"User",abstractKey:null}}();e.exports=a}),null);
__d("ProfileCometTilesFeed_userIsPage.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileCometTilesFeed_userIsPage",selections:[{alias:null,args:null,kind:"ScalarField",name:"profile_plus_should_show_page_insights_disclaimer_link",storageKey:null}],type:"User",abstractKey:null};e.exports=a}),null);
__d("ProfileCometTilesFeed.react",["CometHero.react","CometHeroHoldTrigger.react","CometHeroInteractionContextPassthrough.react","CometInfiniteScrollTrigger.react","CometPageletWithDiv.react","CometPlaceholder.react","CometRelay","ProfileCometTileSection.react","ProfileCometTileSectionGlimmer.react","ProfileCometTilesFeed_user.graphql","ProfileCometTilesFeed_userIsPage.graphql","deferredLoadComponent","react","recoverableViolation","requireDeferred","useHasDemonstratedScrollIntent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.c,m=c("deferredLoadComponent")(c("requireDeferred")("CometLegalFooter.react").__setRef("ProfileCometTilesFeed.react")),n=2,o=h!==void 0?h:h=b("ProfileCometTilesFeed_user.graphql"),p=i!==void 0?i:i=b("ProfileCometTilesFeed_userIsPage.graphql");function a(a){var b=l(19),e=a.shouldShowFooter,f=a.user;a=a.userPageInfo;e=e===void 0?!0:e;f=d("CometRelay").usePaginationFragment(o,f);var g=f.data,h=f.hasNext,i=f.isLoadingNext,j=f.loadNext;f=d("CometRelay").useFragment(p,a);a=d("CometRelay").useIsParentQueryActive(o,a);g=g==null?void 0:g.profile_tile_sections;var r=g==null?void 0:g.edges;g=(g=g==null?void 0:(g=g.page_info)==null?void 0:g.has_next_page)!=null?g:!1;i=i||a;b[0]!==j?(a=function(a){j(n)},b[0]=j,b[1]=a):a=b[1];a=a;var s=c("useHasDemonstratedScrollIntent")();if(r==null||r.length===0)return null;var t;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(t=k.jsx(c("CometHero.react"),{description:"TileSection"}),b[2]=t):t=b[2];var u;b[3]!==r?(u=r.map(q).filter(Boolean),b[3]=r,b[4]=u):u=b[4];b[5]!==g||b[6]!==s||b[7]!==i||b[8]!==h||b[9]!==a?(r=g&&k.jsxs(c("CometInfiniteScrollTrigger.react"),{hasMore:h,isLoading:i,onLoadMore:a,rootMargin:s?2500:0,children:[k.jsx(c("CometHeroHoldTrigger.react"),{description:"Tiles Pagination",hold:i}),k.jsx(c("ProfileCometTileSectionGlimmer.react"),{})]},"loader"),b[5]=g,b[6]=s,b[7]=i,b[8]=h,b[9]=a,b[10]=r):r=b[10];b[11]!==g||b[12]!==e||b[13]!==f?(s=!g&&e===!0&&k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(m,{isPage:(f==null?void 0:f.profile_plus_should_show_page_insights_disclaimer_link)===!0})}),b[11]=g,b[12]=e,b[13]=f,b[14]=s):s=b[14];b[15]!==u||b[16]!==r||b[17]!==s?(i=k.jsxs("div",{"data-testid":void 0,children:[t,u,r,s]}),b[15]=u,b[16]=r,b[17]=s,b[18]=i):i=b[18];return i}function q(a,b){a=a.node;if(!a)return null;var e=a.profile_tile_section_type;if(e===null){c("recoverableViolation")("Expected a profile tile section type","profile_comet");return null}return k.jsx(c("CometHeroInteractionContextPassthrough.react"),{clear:b>=2,children:k.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:k.jsx(c("ProfileCometTileSectionGlimmer.react"),{}),name:"ProfileTilesFeed",position:b,children:k.jsx(c("ProfileCometTileSection.react"),{profileTileSection:a})})},e!=null?e:b)}q.displayName=q.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ProfileCometTimelineFeed_aux.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"should_show_profile_pinned_post"}],kind:"Fragment",metadata:null,name:"ProfileCometTimelineFeed_aux",selections:[{condition:"should_show_profile_pinned_post",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"ProfilePinnedPost",kind:"LinkedField",name:"profile_pinned_post",plural:!1,selections:[{args:null,documentName:"ProfileCometTimelineFeed_aux",fragmentName:"ProfileCometPinnedPostSection_profile_pinned_post",fragmentPropName:"profile_pinned_post",kind:"ModuleImport"}],storageKey:null}]},{args:null,kind:"FragmentSpread",name:"ProfileCometAd4AdSection_user"}],type:"User",abstractKey:null};e.exports=a}),null);
__d("ProfileCometTimelineFeedRefetchQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8903188946380349"}),null);
__d("ProfileCometTimelineFeedRefetchQuery.graphql",["ProfileCometTimelineFeedRefetchQuery_facebookRelayOperation","CometImmersivePhotoCanUserDisable3DMotion.relayprovider","IsWorkUser.relayprovider","IsMergQAPolls.relayprovider","CometUFIReactionsEnableShortName.relayprovider","CometUFIShareActionMigration.relayprovider","IncludeCommentWithAttachment.relayprovider","StoriesArmadilloReplyEnabled.relayprovider","EventCometCardImage_prefetchEventImage.relayprovider"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"afterTime"},c={defaultValue:null,kind:"LocalArgument",name:"beforeTime"},d={defaultValue:3,kind:"LocalArgument",name:"count"},e={defaultValue:null,kind:"LocalArgument",name:"cursor"},f={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},g={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},h={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},i={defaultValue:null,kind:"LocalArgument",name:"id"},j={defaultValue:null,kind:"LocalArgument",name:"memorializedSplitTimeFilter"},k={defaultValue:null,kind:"LocalArgument",name:"omitPinnedPost"},l={defaultValue:null,kind:"LocalArgument",name:"postedBy"},m={defaultValue:null,kind:"LocalArgument",name:"privacy"},n={defaultValue:null,kind:"LocalArgument",name:"privacySelectorRenderLocation"},o={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},p={defaultValue:null,kind:"LocalArgument",name:"scale"},q={defaultValue:1,kind:"LocalArgument",name:"stream_count"},r={defaultValue:null,kind:"LocalArgument",name:"taggedInOnly"},s={defaultValue:null,kind:"LocalArgument",name:"trackingCode"},t={defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"},u=[{kind:"Variable",name:"id",variableName:"id"}],v={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},x=[{kind:"Variable",name:"ads_tracking_code",variableName:"trackingCode"},{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"after_time",variableName:"afterTime"},{kind:"Variable",name:"before_time",variableName:"beforeTime"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Variable",name:"memorialized_split_time_filter",variableName:"memorializedSplitTimeFilter"},{kind:"Variable",name:"omit_pinned_post",variableName:"omitPinnedPost"},{kind:"Variable",name:"posted_by",variableName:"postedBy"},{kind:"Variable",name:"privacy",variableName:"privacy"},{kind:"Variable",name:"tagged_in_only",variableName:"taggedInOnly"}],y=[w],z={alias:null,args:null,concreteType:"QuickPromotionFeedUnitItem",kind:"LinkedField",name:"quick_promotion_items",plural:!0,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"quick_promotion",plural:!1,selections:y,storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t],kind:"Fragment",metadata:null,name:"ProfileCometTimelineFeedRefetchQuery",selections:[{alias:null,args:u,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"},{kind:"Variable",name:"stream_count",variableName:"stream_count"}],kind:"FragmentSpread",name:"ProfileCometTimelineFeed_user"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,d,e,f,g,h,j,k,l,m,n,o,p,q,r,s,t,i,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsWorkUserrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsMergQAPollsrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFIShareActionMigrationrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IncludeCommentWithAttachmentrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__EventCometCardImage_prefetchEventImagerelayprovider"}],kind:"Operation",name:"ProfileCometTimelineFeedRefetchQuery",selections:[{alias:null,args:u,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[v,w,{kind:"InlineFragment",selections:[{alias:"timeline_list_feed_units",args:x,concreteType:"TimelineFeedUnitsConnection",kind:"LinkedField",name:"timeline_feed_units",plural:!1,selections:[{"if":null,kind:"Stream",label:"ProfileCometTimelineFeed_user$stream$ProfileCometTimelineFeed_user_timeline_list_feed_units",selections:[{alias:null,args:null,concreteType:"TimelineFeedUnitsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[v,{kind:"TypeDiscriminator",abstractKey:"__isFeedUnit"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null},w,{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"brs_filter_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_rendering_loggers",storageKey:null},v],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"context_actor_hovercard",storageKey:null},w],storageKey:null},w],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_story_civic",storageKey:null},{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitStoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitGoodwillMemoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GoodwillCometStory",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometPYMKQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PaginatedPeopleYouMayKnowFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometReelsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"ShowcaseFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFriendRequestsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"FriendRequestsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[z,{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitQuickPromotionStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"QuickPromotionNativeTemplateFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"GroupsCometGYSJFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupsYouShouldJoinFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupsSuggestionFeedUnitStrategy_unit",fragmentPropName:"unit",kind:"ModuleImport"}],type:"GroupsSuggestionUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometPYMIQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PaginatedGroupsPeopleYouMayInviteFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"GeminiPYSFQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PeopleYouShouldFollowAtWorkFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometSPFFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"SuggestedPublicEntitiesToFollowFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CoronavirusCommunityHelpFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"CoronavirusCommunityHelpFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometEndOfFeedUpsellStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"EndOfFeedUpsellFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupRelatedGroupsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupRelatedGroupsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupRelatedKeywordsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupRelatedKeywordsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometStoriesSingleBucketFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"StoriesSingleBucketInlineViewerFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[z],type:"QuickPromotionFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TrackingData",kind:"LinkedField",name:"trackingdata",plural:!1,selections:y,storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewability_config",storageKey:null},{alias:null,args:null,concreteType:"CometClientViewConfig",kind:"LinkedField",name:"client_view_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_delay_log_impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_signal_imp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_vital_imp",storageKey:null}],storageKey:null}],type:"Story",abstractKey:null}],type:"TrackableFeedUnit",abstractKey:"__isTrackableFeedUnit"},{kind:"InlineFragment",selections:y,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:y,type:"CommunityTabTrendingPOGFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:y,type:"FBShortsMidCardFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:y,type:"GroupsMultiGYSJStoryUnit",abstractKey:null},{kind:"InlineFragment",selections:y,type:"GroupsTabCategoriesUnit",abstractKey:null},{kind:"InlineFragment",selections:y,type:"PagesYouMayLikeFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:y,type:"StoriesTrayFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:y,type:"XFBDummyReelsInWatchIFU",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null}]},{"if":null,kind:"Defer",label:"ProfileCometTimelineFeed_user$defer$ProfileCometTimelineFeed_user_timeline_list_feed_units$page_info",selections:[{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null}],storageKey:null}]}],storageKey:null},{alias:"timeline_list_feed_units",args:x,filters:["after_time","before_time","posted_by","privacy","tagged_in_only","memorialized_split_time_filter","omit_pinned_post","ads_tracking_code"],handle:"connection",key:"ProfileCometTimelineFeed_user_timeline_list_feed_units",kind:"LinkedHandle",name:"timeline_feed_units"}],type:"User",abstractKey:null}],storageKey:null}]},params:{id:b("ProfileCometTimelineFeedRefetchQuery_facebookRelayOperation"),metadata:{},name:"ProfileCometTimelineFeedRefetchQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider:b("CometImmersivePhotoCanUserDisable3DMotion.relayprovider"),__relay_internal__pv__IsWorkUserrelayprovider:b("IsWorkUser.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:b("IsMergQAPolls.relayprovider"),__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider:b("CometUFIReactionsEnableShortName.relayprovider"),__relay_internal__pv__CometUFIShareActionMigrationrelayprovider:b("CometUFIShareActionMigration.relayprovider"),__relay_internal__pv__IncludeCommentWithAttachmentrelayprovider:b("IncludeCommentWithAttachment.relayprovider"),__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider:b("StoriesArmadilloReplyEnabled.relayprovider"),__relay_internal__pv__EventCometCardImage_prefetchEventImagerelayprovider:b("EventCometCardImage_prefetchEventImage.relayprovider")}}}}();e.exports=a}),null);
__d("ProfileCometTimelineFeed_user.graphql",["ProfileCometTimelineFeedRefetchQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=["timeline_list_feed_units"],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"afterTime"},{kind:"RootArgument",name:"beforeTime"},{defaultValue:3,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{kind:"RootArgument",name:"feedLocation"},{kind:"RootArgument",name:"feedbackSource"},{kind:"RootArgument",name:"focusCommentID"},{kind:"RootArgument",name:"memorializedSplitTimeFilter"},{kind:"RootArgument",name:"omitPinnedPost"},{kind:"RootArgument",name:"postedBy"},{kind:"RootArgument",name:"privacy"},{kind:"RootArgument",name:"privacySelectorRenderLocation"},{kind:"RootArgument",name:"renderLocation"},{kind:"RootArgument",name:"scale"},{defaultValue:1,kind:"LocalArgument",name:"stream_count"},{kind:"RootArgument",name:"taggedInOnly"},{kind:"RootArgument",name:"trackingCode"},{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:a,stream:!0}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:a},fragmentPathInResult:["node"],operation:b("ProfileCometTimelineFeedRefetchQuery.graphql"),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"ProfileCometTimelineFeed_user",selections:[{kind:"RequiredField",field:c,action:"LOG",path:"id"},{kind:"RequiredField",field:{alias:"timeline_list_feed_units",args:[{kind:"Variable",name:"ads_tracking_code",variableName:"trackingCode"},{kind:"Variable",name:"after_time",variableName:"afterTime"},{kind:"Variable",name:"before_time",variableName:"beforeTime"},{kind:"Variable",name:"memorialized_split_time_filter",variableName:"memorializedSplitTimeFilter"},{kind:"Variable",name:"omit_pinned_post",variableName:"omitPinnedPost"},{kind:"Variable",name:"posted_by",variableName:"postedBy"},{kind:"Variable",name:"privacy",variableName:"privacy"},{kind:"Variable",name:"tagged_in_only",variableName:"taggedInOnly"}],concreteType:"TimelineFeedUnitsConnection",kind:"LinkedField",name:"__ProfileCometTimelineFeed_user_timeline_list_feed_units_connection",plural:!1,selections:[{kind:"Stream",selections:[{alias:null,args:null,concreteType:"TimelineFeedUnitsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometFeedUnit_feedUnit"},{kind:"InlineFragment",selections:[c],type:"Story",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null}]},{kind:"Defer",selections:[{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null}],storageKey:null}]}],storageKey:null},action:"THROW",path:"timeline_list_feed_units"}],type:"User",abstractKey:null}}();e.exports=a}),null);
__d("ProfileCometTimelineFeed.react",["fbt","CometDOMOnlyBoundary.react","CometFeedInfiniteScrollSuspenseList.react","CometFeedSection.react","CometFeedUnit.react","CometHeroFeedItem.react","CometRelay","ProfileCometAd4AdSection.react","ProfileCometTimelineEmptyState.react","ProfileCometTimelineFeed_aux.graphql","ProfileCometTimelineFeed_user.graphql","react","useCometFeedKeyCommands","useNullthrowsViolation","useProfileCometTimelineFeedQueryRefetcherForFilters","useProfileEngagementImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));e=k;var m=e.useCallback,n=e.useRef,o=3;function p(a){var b=a.node,d=a.position;a=a.variables;var e={profile_item_type:"story",profile_product_bucket:"timeline",profile_subsurface:"feed",profile_surface:"timeline"};e=c("useProfileEngagementImpression")(e);return l.jsx("div",{ref:e,children:l.jsx(c("CometFeedUnit.react"),{feedUnit:b,position:d,variables:a})})}p.displayName=p.name+" [from "+f.id+"]";var q=i!==void 0?i:i=b("ProfileCometTimelineFeed_user.graphql");function a(a){var e=a.user,f=a.variables;a=d("CometRelay").usePaginationFragment(q,e);var g=a.data,i=a.hasNext,k=a.isLoadingNext,r=a.loadNext;a=a.refetch;var s=d("CometRelay").useFragment(j!==void 0?j:j=b("ProfileCometTimelineFeed_aux.graphql"),e);e=d("CometRelay").useIsParentQueryActive(q,e);var t=i||e,u=n({dispose:function(){}}),v=c("useProfileCometTimelineFeedQueryRefetcherForFilters")({fetchCount:o,refetch:a,variables:f});v&&u.current.dispose();a=k||e||v;e=m(function(a){if(!i||k||v)return;u.current=r(o)},[i,k,v,r]);g=c("useNullthrowsViolation")(g==null?void 0:g.timeline_list_feed_units.edges);c("useCometFeedKeyCommands")(g.length,"timeline");var w=s==null?void 0:s.profile_pinned_post,x=l.jsx(c("CometDOMOnlyBoundary.react"),{fallback:null,children:l.jsx(d("CometRelay").MatchContainer,{match:w,props:{variables:f}})});if(g.length===0)return(s==null?void 0:s.profile_pinned_post)!=null?x:l.jsx(c("ProfileCometTimelineEmptyState.react"),{});var y=0;t=l.jsx(c("CometFeedInfiniteScrollSuspenseList.react"),{hasMore:t,interactionSource:3,isLoading:a,onLoadMore:e,waitOnScrollIntent:!0,children:g.map(function(a,b){var d;a=a.node;return a!=null?l.jsx(c("CometHeroFeedItem.react"),{position:y,children:l.jsx(p,{node:a,position:y++,variables:f},(d=a.id)!=null?d:b)},a.id!=null?a.id:b):null})});return l.jsxs(l.Fragment,{children:[l.jsx(c("ProfileCometAd4AdSection.react"),{user:s}),x,w?l.jsx(c("CometFeedSection.react"),{sectionContents:t,title:h._("__JHASH__4565CAjCg0X__JHASH__")}):t]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("ProfileCometTimelineFeedQuery.graphql",["ProfileCometTimelineFeedQuery_facebookRelayOperation","CometImmersivePhotoCanUserDisable3DMotion.relayprovider","IsWorkUser.relayprovider","IsMergQAPolls.relayprovider","CometUFIReactionsEnableShortName.relayprovider","CometUFIShareActionMigration.relayprovider","IncludeCommentWithAttachment.relayprovider","StoriesArmadilloReplyEnabled.relayprovider","EventCometCardImage_prefetchEventImage.relayprovider","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"afterTime"},c={defaultValue:null,kind:"LocalArgument",name:"beforeTime"},d={defaultValue:3,kind:"LocalArgument",name:"count"},e={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},f={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},g={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},h={defaultValue:null,kind:"LocalArgument",name:"memorializedSplitTimeFilter"},i={defaultValue:null,kind:"LocalArgument",name:"omitPinnedPost"},j={defaultValue:null,kind:"LocalArgument",name:"postedBy"},k={defaultValue:null,kind:"LocalArgument",name:"privacy"},l={defaultValue:null,kind:"LocalArgument",name:"privacySelectorRenderLocation"},m={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},n={defaultValue:null,kind:"LocalArgument",name:"scale"},o={defaultValue:!0,kind:"LocalArgument",name:"shouldShowProfilePinnedPost"},p={defaultValue:1,kind:"LocalArgument",name:"stream_count"},q={defaultValue:null,kind:"LocalArgument",name:"taggedInOnly"},r={defaultValue:null,kind:"LocalArgument",name:"trackingCode"},s={defaultValue:!1,kind:"LocalArgument",name:"useDefaultActor"},t={defaultValue:null,kind:"LocalArgument",name:"userID"},u=[{kind:"Variable",name:"id",variableName:"userID"}],v={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},w=[{kind:"Variable",name:"ads_tracking_code",variableName:"trackingCode"},{kind:"Variable",name:"after_time",variableName:"afterTime"},{kind:"Variable",name:"before_time",variableName:"beforeTime"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Variable",name:"memorialized_split_time_filter",variableName:"memorializedSplitTimeFilter"},{kind:"Variable",name:"omit_pinned_post",variableName:"omitPinnedPost"},{kind:"Variable",name:"posted_by",variableName:"postedBy"},{kind:"Variable",name:"privacy",variableName:"privacy"},{kind:"Variable",name:"tagged_in_only",variableName:"taggedInOnly"}],x={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},y=[v],z={alias:null,args:null,concreteType:"QuickPromotionFeedUnitItem",kind:"LinkedField",name:"quick_promotion_items",plural:!0,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"quick_promotion",plural:!1,selections:y,storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t],kind:"Fragment",metadata:null,name:"ProfileCometTimelineFeedQuery",selections:[{kind:"RequiredField",field:{alias:null,args:u,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"stream_count",variableName:"stream_count"}],kind:"FragmentSpread",name:"ProfileCometTimelineFeed_user"},{args:[{kind:"Variable",name:"should_show_profile_pinned_post",variableName:"shouldShowProfilePinnedPost"}],kind:"FragmentSpread",name:"ProfileCometTimelineFeed_aux"}],storageKey:null},action:"THROW",path:"user"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,d,e,f,g,h,j,k,l,n,p,q,i,m,o,s,t,r,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsWorkUserrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsMergQAPollsrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFIShareActionMigrationrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IncludeCommentWithAttachmentrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__EventCometCardImage_prefetchEventImagerelayprovider"}],kind:"Operation",name:"ProfileCometTimelineFeedQuery",selections:[{alias:null,args:u,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[v,{alias:"timeline_list_feed_units",args:w,concreteType:"TimelineFeedUnitsConnection",kind:"LinkedField",name:"timeline_feed_units",plural:!1,selections:[{"if":null,kind:"Stream",label:"ProfileCometTimelineFeed_user$stream$ProfileCometTimelineFeed_user_timeline_list_feed_units",selections:[{alias:null,args:null,concreteType:"TimelineFeedUnitsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[x,{kind:"TypeDiscriminator",abstractKey:"__isFeedUnit"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null},v,{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"brs_filter_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_rendering_loggers",storageKey:null},x],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"context_actor_hovercard",storageKey:null},v],storageKey:null},v],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_story_civic",storageKey:null},{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitStoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitGoodwillMemoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GoodwillCometStory",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometPYMKQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PaginatedPeopleYouMayKnowFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometReelsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"ShowcaseFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFriendRequestsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"FriendRequestsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[z,{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitQuickPromotionStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"QuickPromotionNativeTemplateFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"GroupsCometGYSJFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupsYouShouldJoinFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupsSuggestionFeedUnitStrategy_unit",fragmentPropName:"unit",kind:"ModuleImport"}],type:"GroupsSuggestionUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometPYMIQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PaginatedGroupsPeopleYouMayInviteFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"GeminiPYSFQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PeopleYouShouldFollowAtWorkFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometSPFFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"SuggestedPublicEntitiesToFollowFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CoronavirusCommunityHelpFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"CoronavirusCommunityHelpFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometEndOfFeedUpsellStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"EndOfFeedUpsellFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupRelatedGroupsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupRelatedGroupsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupRelatedKeywordsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupRelatedKeywordsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometStoriesSingleBucketFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"StoriesSingleBucketInlineViewerFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[z],type:"QuickPromotionFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TrackingData",kind:"LinkedField",name:"trackingdata",plural:!1,selections:y,storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewability_config",storageKey:null},{alias:null,args:null,concreteType:"CometClientViewConfig",kind:"LinkedField",name:"client_view_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_delay_log_impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_signal_imp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_vital_imp",storageKey:null}],storageKey:null}],type:"Story",abstractKey:null}],type:"TrackableFeedUnit",abstractKey:"__isTrackableFeedUnit"},{kind:"InlineFragment",selections:y,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:y,type:"CommunityTabTrendingPOGFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:y,type:"FBShortsMidCardFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:y,type:"GroupsMultiGYSJStoryUnit",abstractKey:null},{kind:"InlineFragment",selections:y,type:"GroupsTabCategoriesUnit",abstractKey:null},{kind:"InlineFragment",selections:y,type:"PagesYouMayLikeFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:y,type:"StoriesTrayFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:y,type:"XFBDummyReelsInWatchIFU",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null}]},{"if":null,kind:"Defer",label:"ProfileCometTimelineFeed_user$defer$ProfileCometTimelineFeed_user_timeline_list_feed_units$page_info",selections:[{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null}],storageKey:null}]}],storageKey:null},{alias:"timeline_list_feed_units",args:w,filters:["after_time","before_time","posted_by","privacy","tagged_in_only","memorialized_split_time_filter","omit_pinned_post","ads_tracking_code"],handle:"connection",key:"ProfileCometTimelineFeed_user_timeline_list_feed_units",kind:"LinkedHandle",name:"timeline_feed_units"},{alias:null,args:null,kind:"ScalarField",name:"ctx_profile_ad4ad_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promote_uri_for_ctx_profile_ad4ad",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_image_and_caption_profile_ad4ad",storageKey:null},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"delegate_page",plural:!1,selections:[v,{alias:null,args:null,kind:"ScalarField",name:"category_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_picture_uri",storageKey:null},{alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},v],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"best_description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"globe_focus",storageKey:null}],storageKey:null}],storageKey:null},{condition:"shouldShowProfilePinnedPost",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"ProfilePinnedPost",kind:"LinkedField",name:"profile_pinned_post",plural:!1,selections:[v,{args:null,documentName:"ProfileCometTimelineFeed_aux",fragmentName:"ProfileCometPinnedPostSection_profile_pinned_post",fragmentPropName:"profile_pinned_post",kind:"ModuleImport"}],storageKey:null}]}],storageKey:null}]},params:{id:b("ProfileCometTimelineFeedQuery_facebookRelayOperation"),metadata:{},name:"ProfileCometTimelineFeedQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider:b("CometImmersivePhotoCanUserDisable3DMotion.relayprovider"),__relay_internal__pv__IsWorkUserrelayprovider:b("IsWorkUser.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:b("IsMergQAPolls.relayprovider"),__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider:b("CometUFIReactionsEnableShortName.relayprovider"),__relay_internal__pv__CometUFIShareActionMigrationrelayprovider:b("CometUFIShareActionMigration.relayprovider"),__relay_internal__pv__IncludeCommentWithAttachmentrelayprovider:b("IncludeCommentWithAttachment.relayprovider"),__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider:b("StoriesArmadilloReplyEnabled.relayprovider"),__relay_internal__pv__EventCometCardImage_prefetchEventImagerelayprovider:b("EventCometCardImage_prefetchEventImage.relayprovider")}}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("ProfileCometTimeline.react",["CometErrorBoundary.react","CometFeedUnitSetDebugInfoContextProvider.react","CometHero.react","CometRelay","ProfileCometTimelineError.react","ProfileCometTimelineFeed.react","ProfileCometTimelineFeedQuery.graphql","VideoAutoplayLocalScopeProvider.react","VideoPlayerAutoplayRulesProvider","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l=d("VideoPlayerAutoplayRulesProvider").provideAutoplayRules("default_feed");function a(a){var e=j(5);a=a.timelineFeedQueryReference;var f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=h!==void 0?h:h=b("ProfileCometTimelineFeedQuery.graphql"),e[0]=f):f=e[0];f=d("CometRelay").usePreloadedQuery(f,a);f=f.user;var g;e[1]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx(c("CometHero.react"),{description:"ProfileFeed"}),e[1]=g):g=e[1];e[2]!==f||e[3]!==a.variables?(g=k.jsx(c("CometErrorBoundary.react"),{fallback:m,children:k.jsxs(c("VideoAutoplayLocalScopeProvider.react"),{autoplayLocalRules:l,children:[g,k.jsx(c("CometFeedUnitSetDebugInfoContextProvider.react"),{location:"timeline",children:k.jsx(c("ProfileCometTimelineFeed.react"),{user:f,variables:a.variables})})]})}),e[2]=f,e[3]=a.variables,e[4]=g):g=e[4];return g}function m(){return k.jsx(c("ProfileCometTimelineError.react"),{})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ProfileCometTimelineViewSwitcherTab.react",["CometTab.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={tab:{height:"x1vqgdyp",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0},tabOverlayPressed:{backgroundColor:"x1281ex9",$$css:!0}};function a(a){var b=i(7),d=a.icon,e=a.label,f=a.linkProps,g=a.selected;a=a.testid;g=g===void 0?!1:g;var h;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(h={bottom:-4,left:0,right:0,top:-4},b[0]=h):h=b[0];b[1]!==d||b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==a?(h=j.jsx(c("CometTab.react"),{icon:d,iconLocation:"left",label:e,linkProps:f,overlayDisabled:g,overlayOffset:h,overlayPressedStyle:k.tabOverlayPressed,overlayRadius:6,selected:g,testid:void 0,underlineColor:"var(--accent)",xstyle:k.tab}),b[1]=d,b[2]=e,b[3]=f,b[4]=g,b[5]=a,b[6]=h):h=b[6];return h}g["default"]=a}),98);
__d("ProfileCometTimelineControls.react",["fbt","ix","BaseRow.react","BaseRowItem.react","CometCard.react","CometLazyDialogTrigger.react","CometRow.react","CometRowItem.react","CometTransientDialogProvider.react","FDSButton.react","FDSCardedDialogLoadingStateLegacy.react","FDSTextPairing.react","JSResourceForInteraction","ProfileCometPostFiltersDialogContext","ProfileCometPostFiltersDialogReducer","ProfileCometTimelineViewSwitcherTab.react","ProfileCometURIUtils","fbicon","react","useProfileEngagementClickCallback","useProfileEngagementImpression"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;b.useCallback;b.useMemo;var l=b.useReducer,m=b.useRef,n=b.c,o=c("JSResourceForInteraction")("ProfileCometPostFiltersDialog.react").__setRef("ProfileCometTimelineControls.react"),p=c("JSResourceForInteraction")("ProfileCometManagePostsDialog.react").__setRef("ProfileCometTimelineControls.react"),q={viewSwitcherTabContainer:{marginStart:"x1d52u69",marginLeft:null,marginRight:null,marginEnd:"xktsk01",$$css:!0}};function a(a){var b=n(39),e=a.instructions,f=a.isViewingSelf,g=a.managePostsTimelineRootRenderer,j=a.shouldHideAllFilters,t=a.shouldHideFilterPostsButton,u=a.shouldHideManagePostsButton,v=a.shouldHidePostedByFilters,w=a.shouldHidePrivacyFilter,x=a.shouldHideViewSwitcher,y=a.shouldHideVisitorContent;a=a.viewType;g=g===void 0?null:g;var z=m(null),A=m(null),B=s,C=r,D;b[0]!==y?(D=d("ProfileCometPostFiltersDialogReducer").getInitialState(y),b[0]=y,b[1]=D):D=b[1];y=l(d("ProfileCometPostFiltersDialogReducer").reducer,D);D=y[0];y=y[1];var E=d("ProfileCometURIUtils").useURIForProfile(),F=d("ProfileCometURIUtils").useURIForProfileSection("grid");b[2]!==D?(y={dispatchAction:y,state:D},b[2]=D,b[3]=y):y=b[3];D=y;y=D;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(D={entry_point:"comet"},b[4]=D):D=b[4];f=f?"self":"nonself";b[5]!==f||b[6]!==a?(D={event_metadata:D,profile_item_subtype:f,profile_item_type:"post_filters_button",profile_product_bucket:"profile_core",profile_subsurface:a,profile_surface:"timeline"},b[5]=f,b[6]=a,b[7]=D):D=b[7];f=D;D=c("useProfileEngagementImpression")(f);var G=c("useProfileEngagementClickCallback")(f);b[8]===Symbol["for"]("react.memo_cache_sentinel")?(f="x1yztbdb",b[8]=f):f=b[8];var H;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(H=k.jsx(c("CometRowItem.react"),{verticalAlign:"center",children:k.jsx(c("FDSTextPairing.react"),{headline:h._("__JHASH__niVYqKrrTPw__JHASH__"),isSemanticHeading:!0,level:2})}),b[9]=H):H=b[9];var I;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(I="x78zum5 xwib8y2 x1y1aw1k",b[10]=I):I=b[10];b[11]!==t||b[12]!==e||b[13]!==v||b[14]!==w||b[15]!==G||b[16]!==D?(B=!t&&k.jsx("div",{ref:D,children:k.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{instructions:e,shouldHidePostedByFilters:v,shouldHidePrivacyFilter:w},dialogResource:o,fallback:B,children:function(a,b){return k.jsx(c("FDSButton.react"),{icon:d("fbicon")._(i("500218"),16),label:h._("__JHASH__iu_z6bstabX__JHASH__"),onHoverIn:b,onPress:function(){G(),a()},ref:z,type:"secondary"})}})}),b[11]=t,b[12]=e,b[13]=v,b[14]=w,b[15]=G,b[16]=D,b[17]=B):B=b[17];b[18]!==u||b[19]!==g||b[20]!==e||b[21]!==j||b[22]!==v||b[23]!==w?(t=!u&&g&&k.jsx("div",{className:"x1i64zmx",children:k.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{instructions:e,managePostsTimelineRootRenderer:g,shouldHideAllFilters:j,shouldHidePostedByFilters:v,shouldHidePrivacyFilter:w},dialogResource:p,fallback:C,children:function(a,b){return k.jsx(c("FDSButton.react"),{icon:d("fbicon")._(i("497566"),16),label:h._("__JHASH__jAl1tIJjWrm__JHASH__"),onHoverIn:b,onPress:a,ref:A,testid:void 0,type:"secondary"})}})}),b[18]=u,b[19]=g,b[20]=e,b[21]=j,b[22]=v,b[23]=w,b[24]=t):t=b[24];b[25]!==B||b[26]!==t?(D=k.jsxs(c("CometTransientDialogProvider.react"),{children:[B,t]}),b[25]=B,b[26]=t,b[27]=D):D=b[27];b[28]!==y||b[29]!==D?(C=k.jsxs(c("CometRow.react"),{paddingHorizontal:16,paddingTop:0,children:[H,k.jsx(c("CometRowItem.react"),{verticalAlign:"center",children:k.jsx("div",{className:I,children:k.jsx(c("ProfileCometPostFiltersDialogContext").Provider,{value:y,children:D})})})]}),b[28]=y,b[29]=D,b[30]=C):C=b[30];b[31]!==x||b[32]!==E||b[33]!==a||b[34]!==F?(u=!x&&k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"x1n2xptk"}),k.jsxs(c("BaseRow.react"),{role:"tablist",xstyle:q.viewSwitcherTabContainer,children:[k.jsx(c("BaseRowItem.react"),{expanding:!0,children:k.jsx(c("ProfileCometTimelineViewSwitcherTab.react"),{icon:d("fbicon")._(i("533527"),16),label:h._("__JHASH__kvHGjp42f6I__JHASH__"),linkProps:{routeTarget:"self",url:E},selected:a==="list",testid:void 0})}),k.jsx(c("BaseRowItem.react"),{expanding:!0,children:k.jsx(c("ProfileCometTimelineViewSwitcherTab.react"),{icon:d("fbicon")._(i("531309"),16),label:h._("__JHASH__4RuGFd27GaI__JHASH__"),linkProps:{routeTarget:"self",url:F},selected:a==="grid",testid:void 0})})]})]}),b[31]=x,b[32]=E,b[33]=a,b[34]=F,b[35]=u):u=b[35];b[36]!==C||b[37]!==u?(g=k.jsx("div",{className:f,children:k.jsxs(c("CometCard.react"),{background:"white",dropShadow:1,children:[C,u]})}),b[36]=C,b[37]=u,b[38]=g):g=b[38];return g}function r(a){return k.jsx(c("FDSCardedDialogLoadingStateLegacy.react"),{onClose:a,title:h._("__JHASH__jAl1tIJjWrm__JHASH__"),withCloseButton:!0})}r.displayName=r.name+" [from "+f.id+"]";function s(a){return k.jsx(c("FDSCardedDialogLoadingStateLegacy.react"),{onClose:a,title:h._("__JHASH__pHmTluglNgu__JHASH__"),withCloseButton:!0})}s.displayName=s.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("ProfileCometTimelineTabAuxBannerRefetchQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7769871119733176"}),null);
__d("ProfileCometTimelineTabAuxBannerRefetchQuery.graphql",["ProfileCometTimelineTabAuxBannerRefetchQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"id"},c={defaultValue:null,kind:"LocalArgument",name:"scale"},d=[{kind:"Variable",name:"id",variableName:"id"}],e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"ProfileCometTimelineTabAuxBannerRefetchQuery",selections:[{alias:null,args:d,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProfileCometTimelineTabAuxBanner_user"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"ProfileCometTimelineTabAuxBannerRefetchQuery",selections:[{alias:null,args:d,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[e,f,{kind:"InlineFragment",selections:[{alias:"aux_banner",args:[{kind:"Literal",name:"render_location",value:"TIMELINE_TAB_AUX_COLUMN"},{kind:"Literal",name:"supported",value:"gP3AW"}],concreteType:null,kind:"LinkedField",name:"comet_profile_banner",plural:!1,selections:[e,{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabAuxBanner_user",fragmentName:"ProfileCometProfilePlusCompletionMeterBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileCometProfilePlusCompletionMeterBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabAuxBanner_user",fragmentName:"ProfileCometSOAPBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileCometSOAPBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabAuxBanner_user",fragmentName:"ProfileCommunityQPBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileCommunityQPBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabAuxBanner_user",fragmentName:"ProfileCometProfilePlusCommunityQPBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileCometProfilePlusCommunityQPBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabAuxBanner_user",fragmentName:"ProfilePlusPinEventsBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfilePlusPinEventsBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabAuxBanner_user",fragmentName:"ProfilePlusCometAdminlessOnboardingBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfilePlusCometAdminlessOnboardingBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabAuxBanner_user",fragmentName:"ProfileCometCreateBroadcastChannelQPBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileCreateBroadcastChannelProfilePageQPBanner",abstractKey:null},{kind:"InlineFragment",selections:[f],type:"Node",abstractKey:"__isNode"}],storageKey:'comet_profile_banner(render_location:"TIMELINE_TAB_AUX_COLUMN",supported:"gP3AW")'}],type:"User",abstractKey:null}],storageKey:null}]},params:{id:b("ProfileCometTimelineTabAuxBannerRefetchQuery_facebookRelayOperation"),metadata:{},name:"ProfileCometTimelineTabAuxBannerRefetchQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("ProfileCometTimelineTabAuxBanner_user.graphql",["ProfileCometTimelineTabAuxBannerRefetchQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["node"],operation:b("ProfileCometTimelineTabAuxBannerRefetchQuery.graphql"),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"ProfileCometTimelineTabAuxBanner_user",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"id"},{alias:"aux_banner",args:[{kind:"Literal",name:"render_location",value:"TIMELINE_TAB_AUX_COLUMN"},{kind:"Literal",name:"supported",value:"gP3AW"}],concreteType:null,kind:"LinkedField",name:"comet_profile_banner",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabAuxBanner_user",fragmentName:"ProfileCometProfilePlusCompletionMeterBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileCometProfilePlusCompletionMeterBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabAuxBanner_user",fragmentName:"ProfileCometSOAPBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileCometSOAPBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabAuxBanner_user",fragmentName:"ProfileCommunityQPBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileCommunityQPBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabAuxBanner_user",fragmentName:"ProfileCometProfilePlusCommunityQPBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileCometProfilePlusCommunityQPBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabAuxBanner_user",fragmentName:"ProfilePlusPinEventsBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfilePlusPinEventsBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabAuxBanner_user",fragmentName:"ProfilePlusCometAdminlessOnboardingBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfilePlusCometAdminlessOnboardingBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabAuxBanner_user",fragmentName:"ProfileCometCreateBroadcastChannelQPBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileCreateBroadcastChannelProfilePageQPBanner",abstractKey:null}],storageKey:'comet_profile_banner(render_location:"TIMELINE_TAB_AUX_COLUMN",supported:"gP3AW")'}],type:"User",abstractKey:null};e.exports=a}),null);
__d("ProfileCometTimelineTabAuxBanner.react",["CometRelay","ProfileCometTimelineTabAuxBanner_user.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));c=i;var k=c.startTransition,l=c.c;function a(a){var c=l(7);a=a.user;var e;c[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h!==void 0?h:h=b("ProfileCometTimelineTabAuxBanner_user.graphql"),c[0]=e):e=c[0];e=d("CometRelay").useRefetchableFragment(e,a);var f=e[0],g=e[1];a=f==null?void 0:f.aux_banner;c[1]!==f||c[2]!==g?(e={refetchProfileTopOfSideColumnBanner:function(){if(f==null)return;k(function(){g({id:f.id},{fetchPolicy:"network-only"})})}},c[1]=f,c[2]=g,c[3]=e):e=c[3];var i;c[4]!==a||c[5]!==e?(i=j.jsx(d("CometRelay").MatchContainer,{match:a,props:e}),c[4]=a,c[5]=e,c[6]=i):i=c[6];return i}g["default"]=a}),98);
__d("ProfileCometTimelineTabFeedBanner_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileCometTimelineTabFeedBanner_user",selections:[{alias:"feed_banner",args:[{kind:"Literal",name:"render_location",value:"TIMELINE_TAB_FEED_COLUMN"},{kind:"Literal",name:"supported",value:"3Bo1n8"}],concreteType:null,kind:"LinkedField",name:"comet_profile_banner",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabFeedBanner_user",fragmentName:"ProfileCometTabFeedTransparencyInformBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"TransparencyInformContent",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabFeedBanner_user",fragmentName:"ProfileCometLockedProfileTryItBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"LockedProfileTryItBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabFeedBanner_user",fragmentName:"ProfileCometProfilePlusAdminComposer_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfilePlusAdminComposer",abstractKey:null}],storageKey:'comet_profile_banner(render_location:"TIMELINE_TAB_FEED_COLUMN",supported:"3Bo1n8")'}],type:"User",abstractKey:null};e.exports=a}),null);
__d("ProfileCometTimelineTabFeedBanner.react",["CometRelay","ProfileCometTimelineTabFeedBanner_user.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){a=a.user;a=d("CometRelay").useFragment(h!==void 0?h:h=b("ProfileCometTimelineTabFeedBanner_user.graphql"),a);return j.jsx(d("CometRelay").MatchContainer,{match:a==null?void 0:a.feed_banner})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ProfileCometTimelineTabTopBanner_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileCometTimelineTabTopBanner_user",selections:[{alias:null,args:[{kind:"Literal",name:"render_location",value:"TIMELINE_TAB_TOP"},{kind:"Literal",name:"supported",value:"10EN4t"}],concreteType:null,kind:"LinkedField",name:"comet_profile_banner",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabTopBanner_user",fragmentName:"ProfilePlusCometAdminNotice_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfilePlusAdminNoticeRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabTopBanner_user",fragmentName:"ProfileCometTransparencyInformBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"TransparencyInformContent",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabTopBanner_user",fragmentName:"ProfileCometAppealBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileAppealBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabTopBanner_user",fragmentName:"ProfileCometBannerGeneric_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfileBanner",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabTopBanner_user",fragmentName:"FriendingCometProfilePYMKHScroll_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfilePYMKBanner",abstractKey:null}],storageKey:'comet_profile_banner(render_location:"TIMELINE_TAB_TOP",supported:"10EN4t")'}],type:"User",abstractKey:null};e.exports=a}),null);
__d("ProfileCometTimelineTabTopBanner.react",["CometErrorBoundary.react","CometRelay","ProfileCometTimelineTabTopBanner_user.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function a(a){var e=j(3);a=a.user;var f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=h!==void 0?h:h=b("ProfileCometTimelineTabTopBanner_user.graphql"),e[0]=f):f=e[0];f=d("CometRelay").useFragment(f,a);e[1]!==f.comet_profile_banner?(a=k.jsx(c("CometErrorBoundary.react"),{children:k.jsx(d("CometRelay").MatchContainer,{match:f.comet_profile_banner})}),e[1]=f.comet_profile_banner,e[2]=a):a=e[2];return a}g["default"]=a}),98);
__d("ProfileCometTimelineTabTopOfMallBanner_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileCometTimelineTabTopOfMallBanner_user",selections:[{alias:"top_of_mall_banner",args:[{kind:"Literal",name:"render_location",value:"TIMELINE_TAB_TOP_OF_MALL"},{kind:"Literal",name:"supported",value:"3A264O"}],concreteType:null,kind:"LinkedField",name:"comet_profile_banner",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometTimelineTabTopOfMallBanner_user",fragmentName:"ProfilePlusTimelineTabTopOfMallQPBanner_cometProfileBanner",fragmentPropName:"cometProfileBanner",kind:"ModuleImport"}],type:"ProfilePlusTimelineTabTopOfMallQPBanner",abstractKey:null}],storageKey:'comet_profile_banner(render_location:"TIMELINE_TAB_TOP_OF_MALL",supported:"3A264O")'}],type:"User",abstractKey:null};e.exports=a}),null);
__d("ProfileCometTimelineTabTopOfMallBanner.react",["CometRelay","ProfileCometTimelineTabTopOfMallBanner_user.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function a(a){var c=j(3);a=a.user;var e;c[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h!==void 0?h:h=b("ProfileCometTimelineTabTopOfMallBanner_user.graphql"),c[0]=e):e=c[0];e=d("CometRelay").useFragment(e,a);a=e==null?void 0:e.top_of_mall_banner;c[1]!==a?(e=k.jsx(d("CometRelay").MatchContainer,{match:a}),c[1]=a,c[2]=e):e=c[2];return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("AsyncDataPreloader",["AsyncData","isEmptyObject"],(function(a,b,c,d,e,f,g){var h=new Map();a=function(){function a(a){var b=this;a=a.id;this.$1=a;this.$2=d("AsyncData").getPreloaderRef_INTERNAL(this.$1);this.$2.onLoaded(function(a){c("isEmptyObject")(a)&&h.set(b.getPreloaderName(),!0)});h.set(this.getPreloaderName(),!1)}var b=a.prototype;b.getID=function(){return this.$1};b.peek=function(){return this.$2.peek()};b.onLoaded=function(a){h.set(this.getPreloaderName(),!0);this.$2.onLoaded(a);return this};b.onError=function(a){h.set(this.getPreloaderName(),!0);this.$2.onError(a);return this};b.cleanup=function(){d("AsyncData").cleanup(this.$1)};b.getContextProvider=function(){return null};b.getPreloaderName=function(){return this.$1.replace(/^adp_(.*)_[a-z0-9]+$/,"$1")};a.getUsageMap=function(){return h};return a}();g["default"]=a}),98);
__d("MAWBundleResource",["MAWMainWebWorkerV2Resource"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("MAWMainWebWorkerV2Resource")}),98);
__d("MAWInit",["MAWCurrentUser","MAWEBSwitch","MAWInitError","MAWMIC","MWQPLJoinId","MultipleTabsLogger","QPLUserFlow","QuickPerformanceLogger","WAGetStorageQplAnnotations","asyncToGeneratorRuntime","gkx","qpl","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("qpl")._(25310776,"6155"),j=!1,k=[],l=[],m=!1;function n(){if(m)return;m=!0;c("QPLUserFlow").addAnnotations(i,{bool:{armadillo_init_sync_api_improvements:c("gkx")("24025"),is_eb_enabled:c("MAWEBSwitch").isEnabled(),isArmadilloPublicLaunchUser:c("gkx")("23405"),isTlcPublicUser:d("MAWCurrentUser").isTlcPublicUser(),useSharedWorker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()}})}var o=!1,p=function(){return document.visibilityState!==void 0?document.visibilityState==="hidden":document.hidden},q=function(){r("visibility_change_"+(p()?"hidden":"visible"))};function a(){if(o)return;d("MAWMIC").markEvent("maw_init_start");o=!0;c("QPLUserFlow").start(i,babelHelpers["extends"]({annotations:{bool:{initiallyHidden:p()},string:{hostname:window.location.hostname}},cancelOnUnload:!0},d("MWQPLJoinId").allowJoinId?{joinOptions:{joinId:d("MWQPLJoinId").MWQPLJoinId}}:{}));c("QPLUserFlow").addAlignmentPointForJoin(i,0,{requestId:d("MWQPLJoinId").MWQPLJoinId});d("MultipleTabsLogger").addAnnotationToQPLEvent(i);void d("WAGetStorageQplAnnotations").getStorageQplAnnotations().then(function(a){c("QPLUserFlow").addAnnotations(i,a)});n();document.addEventListener("visibilitychange",q);k.forEach(function(a){return a()});l.forEach(function(a){return a()});k.splice(0,k.length);l.splice(0,l.length)}function r(a,b){if(!o||j){if(!o&&(b==null?void 0:b.allowEarlyLogPoints)){var d=(h||(h=c("QuickPerformanceLogger"))).currentTimestamp();l.push(function(){c("QPLUserFlow").addPoint(i,a,{timestamp:d})})}return}n();c("QPLUserFlow").addPoint(i,a)}function e(a,b,d){if(!o||j){!o&&(d==null?void 0:d.allowEarlyAnnotations)&&k.push(function(){var d;c("QPLUserFlow").addAnnotations(i,{bool:(d={},d[a]=b,d)})});return}c("QPLUserFlow").addAnnotations(i,{bool:(d={},d[a]=b,d)})}function f(a,b,d){if(!o||j){!o&&(d==null?void 0:d.allowEarlyAnnotations)&&k.push(function(){var d;c("QPLUserFlow").addAnnotations(i,{string:(d={},d[a]=b,d)})});return}c("QPLUserFlow").addAnnotations(i,{string:(d={},d[a]=b,d)})}function s(a,b,d){if(!o||j){!o&&(d==null?void 0:d.allowEarlyAnnotations)&&k.push(function(){var d;c("QPLUserFlow").addAnnotations(i,{"int":(d={},d[a]=b,d)})});return}c("QPLUserFlow").addAnnotations(i,{"int":(d={},d[a]=b,d)})}function t(){n(),j=!0,m=!1,document.removeEventListener("visibilitychange",q)}function u(a,b){t();b=b instanceof d("MAWInitError").MAWInitError&&b.error?b.error:b;c("QPLUserFlow").addAnnotations(i,{string:{errorDescription:b==null?void 0:b.message,failReason:a}});c("QPLUserFlow").endFailure(i,"maw_init_fail",{error:b});d("MAWMIC").fail(a,b)}function v(a,b){t(),c("QPLUserFlow").addAnnotations(i,{string:{cancelReason:a}}),b&&c("QPLUserFlow").markError(i,"maw_init_cancel_with_error",{error:b}),c("QPLUserFlow").endCancel(i),d("MAWMIC").addStringAnnotation("mawInitCancelReason",a),d("MAWMIC").cancel("maw_init_cancel",b),c("QPLUserFlow").addAnnotations(c("qpl")._(29818881,"6702"),{string:{maw_cancel_reason:a,maw_error_message:b==null?void 0:b.message}})}function w(a){if(j)return;t();d("MAWMIC").addStringAnnotation("mawInitDropReason",a);(h||(h=c("QuickPerformanceLogger"))).markerDrop(i)}function x(){t(),c("QPLUserFlow").endSuccess(i),d("MAWMIC").markEvent("maw_init_end")}function y(a,b){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a+"_start";a=a+"_end";r(c);c=(yield b());r(a);return c});return z.apply(this,arguments)}e={addBoolAnnotation:e,addIntAnnotation:s,addStringAnnotation:f,cancel:v,drop:w,endSuccess:x,fail:u,logPoint:r,measurePerformance:y,start:a};g.MAWInit=e}),98);
__d("WebAsyncStorage",["Deferred","Promise","gkx","mergeDeepInto","mergeHelpers"],(function(a,b,c,d,e,f,g){"use strict";var h;a=typeof window!=="undefined"?window:self;var i=a.indexedDB,j=1,k="data",l=!1,m;d=Date.now();var n=new(c("Deferred"))(),o=3;function p(){var a=i.open("AsyncStorage",j),b=c("gkx")("4585");a.onerror=function(c){c=(c=a.error)!=null?c:new Error("Failed to open AsyncStorage IndexedDB instance.");if(b&&c.name==="UnknownError"&&o>0){o--;return p()}n.reject(c)};a.onsuccess=function(a){l&&!1,m=a.target.result,n.resolve({db:m}),m.onerror=function(a){a=new Error("AsyncStorage error: "+a.target.error.message);n.reject(a)}};a.onupgradeneeded=function(a){a=a.currentTarget.result;if(a.objectStoreNames&&a.objectStoreNames.contains(k))return;a.createObjectStore(k,{keyPath:"key"})}}i&&p();function q(a,b){if(m)try{a()}catch(a){b&&b(a)}else n.getPromise().then(function(){l&&!1,q(a,b)},function(a){b&&b(a)})}e={setItem:function(a,b,c){this.multiSet([[a,b]],function(a){c(a&&a[0]||null)})},getItem:function(a,b){this.multiGet([a],function(a,c){c=c!==void 0&&c[0]!==void 0&&c[0][1]!==void 0?c[0][1]:null;b(a&&a[0]||null,c)})},removeItem:function(a,b){this.multiRemove([a],function(a){b(a&&a[0]||null)})},multiGet:function(a,b){var c=[];this._multiOp(a,"readonly",function(a){return b(a,c)},function(a){return a},function(a,b,d){b&&a===b.key?(l&&!1,c.push([a,b.value.value])):c.push([a,null])})},multiSet:function(a,b){if(this._persistentWritesDisabled){b(new Array(a.length).fill("writes disabled"));return}this._multiOp(a,"readwrite",b,function(a){return a[0]},function(a,b,c){if(b&&a[0]===b.key){var d=b.value;d.value=a[1];l&&!1;b.update(d)}else c.push(a)})},multiMerge:function(a,b){this._multiOp(a,"readwrite",b,function(a){return a[0]},function(a,b,d){if(b&&a[0]===b.key){var e=b.value,f=JSON.parse(e.value);c("mergeDeepInto")(f,JSON.parse(a[1]),c("mergeHelpers").ArrayStrategies.Clobber);l&&!1;e.value=JSON.stringify(f);b.update(e)}else l&&!1,d.push(a)})},multiRemove:function(a,b){this._multiOp(a,"readwrite",b,function(a){return a},function(a,b,c){b&&a===b.key&&(l&&!1,b["delete"]())})},getAllKeys:function(a){q(function(){var b=m.transaction([k],"readonly");b=b.objectStore(k).openCursor();var c=[];b.onsuccess=function(b){b=b.target.result;if(!b){a(null,c);return}c.push(b.key);b["continue"]()}},function(b){return a(null,[])})},clear:function(a){q(function(){var b=m.transaction([k],"readwrite");b=b.objectStore(k).openCursor();b.onsuccess=function(b){b=b.target.result;if(!b){a(null);return}b["delete"]();b["continue"]()}},function(b){return a(null)})},_multiOp:function(a,b,c,d,e){q(function(){var f=!1,g=a.slice().sort(function(a,b){a=d(a);b=d(b);if(a===b){var e=new Error("AsyncStorage._multiOp cannot process duplicate keys.");c&&c([e]);f=!0;return 0}return a<b?-1:1});if(f)return;var h=m.transaction([k],b),i=h.objectStore(k).openCursor(),j=[],n=0;i.onsuccess=function(a){a=a.target.result;if(!a){while(n<g.length)e(g[n],a,j),n++;o();return}var b=a.key;l&&!1;while(d(g[n])<=b){l&&!1;e(g[n],a,j);n++;if(n===g.length){o();return}}b=d(g[n]);a["continue"](b)};function o(){var a=h.objectStore(k);j.forEach(function(b){l&&!1,a.add({key:b[0],value:b[1]})})}h.oncomplete=function(){c&&c(null)};h.onerror=function(a){a=new Error("IndexedDB error: "+a.target.error.message);c&&c([a])};l&&!1},function(a){c&&c([a])})},_persistentWritesDisabled:!1,disablePersistentWrites:function(){this._persistentWritesDisabled=!0},isOpenPromiseSettled:function(){return n.isSettled()},isOperational:function(){return i==null?(h||(h=b("Promise"))).resolve(!1):n.getPromise().then(function(){return!0})["catch"](function(){return!1})}};f=e;g["default"]=f}),98);
__d("MAWIsIDBOperational",["Promise","WebAsyncStorage","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useEffect,k=e.useState;function l(a){a===void 0&&(a=!1);return a&&!c("WebAsyncStorage").isOpenPromiseSettled()?(h||(h=b("Promise"))).resolve(!1):c("WebAsyncStorage").isOperational()}var m=!1;function a(){var a=k(m),b=a[0],d=a[1];j(function(){c("promiseDone")(l().then(function(a){d(a),m=a}))},[d]);return b}g.isIDBOperational=l;g.useIsIDBOperational=a}),98);
__d("MAWStartupLoggingUtils",["FBLogger","MAWInit","err","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f;f=(f=b==null?void 0:b.message)!=null?f:"";f.indexOf("Failed to execute 'importScripts'")>=0?d("MAWInit").MAWInit.fail("import_scripts_failure",c("getErrorSafe")(b)):d("MAWInit").MAWInit.fail("worker_error",c("getErrorSafe")(b));c("FBLogger")("messenger_e2ee_web").mustfix("[MAWWebWorkerSingletonAsync: "+a+"]: %s:%s:%s:%s:%s:%s:%s",JSON.stringify(b==null?void 0:b.message),b==null?void 0:b.lineno,b==null?void 0:b.colno,b==null?void 0:b.filename,JSON.stringify(b,window.Object.getOwnPropertyNames(b)),b==null?void 0:b.name,e)}function b(a){var b=function b(d){d=d==null?void 0:d.data;if(typeof d==="object")if((d==null?void 0:d.type)==="importScripts_error"){var e,f;a.removeEventListener("message",b);var g=c("FBLogger")("messenger_e2ee_web");g=g.addMetadata("FBLOGGER","ERROR_STACK",(e=typeof (d==null?void 0:d.stack)==="string"?d==null?void 0:d.stack:JSON.stringify(d==null?void 0:d.stack))!=null?e:"no_stack");e=(e=d)!=null?e:{};var h=e.error_code,i=e.error_msg,j=e.error_name;e=e.source;f=(f=d==null?void 0:d.perfEntry)!=null?f:{};var k=f.duration,l=f.encodedBodySize,m=f.responseStatus;f=f.transferSize;g.mustfix("[MAWWebWorkerSingletonAsync Script Import Error Details]: %s:%s:%s || errCode:%s || respStatus:%s || encBodySize:%s || duration:%s || transferSize:%s",e!=null&&JSON.stringify(e)||"no_source",j!=null&&JSON.stringify(j)||"no_name",i!=null&&JSON.stringify(i)||"no_msg",h!=null&&JSON.stringify(h)||"none",(g=JSON.stringify(m))!=null?g:"none",(e=JSON.stringify(l))!=null?e:"none",(j=JSON.stringify(k))!=null?j:"none",(i=JSON.stringify(f))!=null?i:"none")}else(d==null?void 0:d.type)==="importScripts_success"&&a.removeEventListener("message",b)};a.addEventListener("message",b)}function e(a){var b=a.data.annotations;if(b!=null){var e={allowEarlyAnnotations:!0};Object.keys(b).forEach(function(a){var c;c=(c=b[a])!=null?c:{};Object.entries(c).forEach(function(b){var c=b[0];b=b[1];c="sharedWorkerInit"+c.charAt(0).toUpperCase()+c.substring(1);a==="int"&&typeof b==="number"?d("MAWInit").MAWInit.addIntAnnotation(c,b,e):a==="string"&&typeof b==="string"?d("MAWInit").MAWInit.addStringAnnotation(c,b,e):a==="bool"&&typeof b==="boolean"&&d("MAWInit").MAWInit.addBoolAnnotation(c,b,e)})})}var f={allowEarlyLogPoints:!0};switch(a.type){case"start":d("MAWInit").MAWInit.logPoint("shared_worker_init_start",f);break;case"end":var g;g=(g=a.data)==null?void 0:g.errorName;g!=null?d("MAWInit").MAWInit.fail("shared_worker_init_failure",c("err")(g)):d("MAWInit").MAWInit.logPoint("shared_worker_init_end",f);break;case"point":g="shared_worker_init_"+a.data.event;d("MAWInit").MAWInit.logPoint(g,f);break}}g.logWorkerError=a;g.setImportScriptsErrorListener=b;g.logSharedWorkerQPLEvents=e}),98);
__d("SharedWorkerDevChangeManager",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=!1,i=new Set();function a(a,b){var c=b.storageWorkerResource;b=b.tabResource;if(!h)return!0;if(i.has(a))return!0;if(new URLSearchParams(window.location.search).has("force_shared_worker_updates"))return!1;if(c.version===2&&b.version===2&&c.sandboxOnlyChecksum!=null)return c.sandboxOnlyChecksum===b.sandboxOnlyChecksum;return c.version===2&&c.rsrcBundleUrl==null||b.version===2&&b.getJSModuleBundleResource().url==null?!1:c.rsrcBundleUrl===b.getJSModuleBundleResource().url}function b(a){h&&i.add(a)}g.shouldUseStorageWorkerForDev=a;g.trackCreatedWorker=b}),98);
__d("SharedWorkerEventManager",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){a.port.addEventListener("message",function(a){var d;if(typeof a.data==="object"&&((d=a.data)==null?void 0:d.type)==="console"&&typeof ((d=a.data)==null?void 0:d.response)==="object"&&((d=a.data)==null?void 0:d.response)!=null){d=a.data.response;a=d.method;d=d.args;if(typeof a!=="string"||!["log","error","info","debug","warn"].includes(a)){c("FBLogger")("worker").mustfix("Unexpected console method: %s",String(a));return}if(!Array.isArray(d)){c("FBLogger")("worker").mustfix('Expected console args "%s" to be an array',JSON.stringify(d));return}b({method:a,args:d})}})}function i(a,b){a.port.addEventListener("message",function(a){var c;if(typeof a.data==="object"&&((c=a.data)==null?void 0:c.type)==="sw-uncaught-error"){a=typeof ((c=a.data)==null?void 0:c.e)==="object"?(c=a.data.e)!=null?c:{}:{};c=a.error;var d=a.lineno,e=a.colno,f=a.filename;a=a.message;b({error:c instanceof Error?c:null,errorObject:{lineno:typeof d==="number"?d:null,colno:typeof e==="number"?e:null,filename:typeof f==="string"?f:null,message:typeof a==="string"?a:null}})}})}function a(a,b,d){a.port.addEventListener("message",function(a){var e;if(typeof a.data==="object"&&((e=a.data)==null?void 0:e.type)==="sw-get-rev"&&typeof a.data.response==="object"){b==null?void 0:b.markPoint("get_worker_rev_ack_received");a=typeof a.data==="object"&&typeof ((e=a.data)==null?void 0:e.response)==="object"?(e=a.data)==null?void 0:e.response:{};e=a==null?void 0:a.workerRevision;a=a==null?void 0:a.spinTime;if(e==null||typeof e!=="number"){b==null?void 0:b.addAnnotations({string:{malformedData:"rev is non-number"}});c("FBLogger")("worker").mustfix("Expected worker rev to be non-null number, but instead received: %s",String(e));return}if(a==null||typeof a!=="number"){b==null?void 0:b.addAnnotations({string:{malformedData:"spin_time is non-number"}});c("FBLogger")("worker").mustfix("Expected worker spin time to be non-null number, but instead received: %s",String(a));return}d({rev:e,spinTime:a})}})}function b(a,b,c){var d=function d(e){var f;if(typeof e.data==="object"&&((f=e.data)==null?void 0:f.type)==="sw-shutdown"&&typeof e.data.response==="object"){var g,h;f=typeof ((f=e.data.response)==null?void 0:f.reason)==="string"?(f=e.data.response)==null?void 0:f.reason:null;g=typeof ((g=e.data.response)==null?void 0:g.workerID)==="string"?(g=e.data.response)==null?void 0:g.workerID:null;e=typeof ((h=e.data.response)==null?void 0:h.isInitialized)==="boolean"?(h=e.data.response)==null?void 0:h.isInitialized:null;b({reason:f,workerID:g,isInitialized:e});(c==null?void 0:c.once)===!0&&a.port.removeEventListener("message",d)}};a.port.addEventListener("message",d);return function(){return a.port.removeEventListener("message",d)}}function d(a,b){a.port.addEventListener("message",function(a){var c;typeof a.data==="object"&&((c=a.data)==null?void 0:c.type)==="sw-uptime-tracking"&&typeof ((c=a.data)==null?void 0:c.response)==="object"&&typeof ((c=a.data)==null?void 0:(c=c.response)==null?void 0:c.trackerID)==="number"&&b({trackerID:a.data.response.trackerID})})}function e(a,b,d){var e=function(a){var e;if(typeof a.data==="object"&&((e=a.data)==null?void 0:e.type)==="execute-worker-ack"&&typeof ((e=a.data)==null?void 0:e.response)==="object"){b==null?void 0:b.markPoint("execute_worker_ack_received");e=typeof a.data==="object"&&typeof ((e=a.data)==null?void 0:e.response)==="object"?(a=(e=a.data)==null?void 0:e.response)!=null?a:{}:{};a=e.workerRevision;var f=e.spinMode,g=e.spinTime,h=e.firstInit,i=e.errorGettingSiteData;e=e.error;if(typeof h!=="boolean"){b==null?void 0:b.addAnnotations({string:{malformedData:"firstInit is non-boolean"}});c("FBLogger")("worker").mustfix("Expected firstInit to be a boolean, but instead received: %s",String(h));return}i=(i=i)!=null?i:e;if(typeof i==="string")return d({err:i,isFirstInit:h});if(typeof a==="number"&&typeof f==="number"&&typeof g==="number")return d({workerRev:a,workerSpinTime:g,workerSpinMode:f,isFirstInit:h});else b==null?void 0:b.addAnnotations({string:{malformedData:"workerRevision, spinMode, and/or spinTime are non-numbers"}}),c("FBLogger")("worker").mustfix("Expected workerRevision, spinMode, and spinTime to be non-null number, but instead received: %s %s %s",String(a),String(f),String(g))}};a.port.addEventListener("message",e);return function(){return a.port.removeEventListener("message",e)}}function f(a,b,d,e){var f=function f(g){var h;if(typeof g.data==="object"&&((h=g.data)==null?void 0:h.type)==="execute-worker-imports"&&typeof ((h=g.data)==null?void 0:h.response)==="object"){(e==null?void 0:e.once)===!0&&a.port.removeEventListener("message",f);b==null?void 0:b.markPoint("bundle_imports_ack");h=typeof g.data==="object"&&typeof ((h=g.data)==null?void 0:h.response)==="object"?(g=(h=g.data)==null?void 0:h.response)!=null?g:{}:{};g=h.err;h=h.attempts;if(g!=null&&typeof g!=="string"){b==null?void 0:b.addAnnotations({string:{malformedData:"err is neither null or a string"}});c("FBLogger")("worker").mustfix("Expected err to be null or a string, but instead receieved: %s",String(g));return}if(h!=null&&typeof h!=="number"){b==null?void 0:b.addAnnotations({string:{malformedData:"attempts is neither null or a number"}});c("FBLogger")("worker").mustfix("Expected attempts to be a number or null, but instead receieved: %s",String(h));return}d({err:g,attempts:h})}};a.port.addEventListener("message",f);return function(){return a.port.removeEventListener("message",f)}}function j(a,b,d){a.port.addEventListener("message",function(a){var e;if(typeof a.data==="object"&&((e=a.data)==null?void 0:e.type)==="ww-hrp-init"){b==null?void 0:b.markEventEnd("hrp_init");e=typeof a.data==="object"&&typeof ((e=a.data)==null?void 0:e.response)==="object"?(a=(e=a.data)==null?void 0:e.response)!=null?a:{}:{};a=e.err;if(a!=null&&typeof a!=="string"){b==null?void 0:b.addAnnotations({string:{malformedData:"err is neither null or a string"}});c("FBLogger")("worker").mustfix("Expected err to be null or a string, but instead receieved: %s",String(a));return}d({err:a})}})}function k(a,b){a.port.addEventListener("message",function(a){var c;if(typeof a.data==="object"&&((c=a.data)==null?void 0:c.type)==="worker-init-mark"&&typeof ((c=a.data)==null?void 0:c.response)==="object"&&typeof ((c=a.data)==null?void 0:(c=c.response)==null?void 0:c.point)==="string"){b((c=a.data)==null?void 0:(a=c.response)==null?void 0:a.point)}})}function l(a,b,c){var d=function d(e){var f;if(typeof e.data==="object"&&((f=e.data)==null?void 0:f.type)==="self-terminate"&&typeof ((f=e.data)==null?void 0:f.response)==="object"&&typeof ((f=e.data)==null?void 0:(f=f.response)==null?void 0:f.from)==="string"){var g,h,i;f=(f=e.data)==null?void 0:(f=f.response)==null?void 0:f.from;g=typeof ((g=e.data)==null?void 0:(g=g.response)==null?void 0:g.reason)==="string"?(g=e.data)==null?void 0:(g=g.response)==null?void 0:g.reason:"unknown";h=typeof ((h=e.data)==null?void 0:(h=h.response)==null?void 0:h.workerID)==="string"?(h=e.data)==null?void 0:(h=h.response)==null?void 0:h.workerID:"unknown";i=typeof ((i=e.data)==null?void 0:(i=i.response)==null?void 0:i.error)==="string"?(i=e.data)==null?void 0:(e=i.response)==null?void 0:e.error:void 0;(c==null?void 0:c.once)===!0&&a.port.removeEventListener("message",d);b(f,g,h,i)}};a.port.addEventListener("message",d);return function(){return a.port.removeEventListener("message",d)}}function m(a,b){b=(b=b)!=null?b:{};var c=b.reason;b=b.upgrade;a.port.postMessage({type:"sw-shutdown",args:[{reason:c,upgrade:b}]})}function n(a){a.port.postMessage({type:"sw-get-rev",args:[]})}function o(a,b){b=(b=b)!=null?b:{};var c=b.jsModuleResource;b=b.isDev;a.port.postMessage({type:"execute-worker",args:[(a=c)!=null?a:{},b]})}function p(a,b,c){var d=function d(e){var f;if(typeof e.data==="object"&&((f=e.data)==null?void 0:f.type)==="connection-ack"&&typeof ((f=e.data)==null?void 0:f.response)==="object"&&typeof ((f=e.data)==null?void 0:(f=f.response)==null?void 0:f.from)==="string"){f=typeof ((f=e.data)==null?void 0:(f=f.response)==null?void 0:f.workerID)==="string"?(f=e.data)==null?void 0:(f=f.response)==null?void 0:f.workerID:void 0;b((e=e.data)==null?void 0:(e=e.response)==null?void 0:e.from,f);(c==null?void 0:c.once)===!0&&a.port.removeEventListener("message",d)}};a.port.addEventListener("message",d);return function(){return a.port.removeEventListener("message",d)}}function q(a,b){var c=function(a){b(a.data)};a.port.addEventListener("message",c);return function(){return a.port.removeEventListener("message",c)}}function r(a,b){a.port.postMessage({type:"ww-connection-ack"}),b==null?void 0:b.markPoint("worker_connection_ack_requested")}function s(a,b,c){c=b.isDev;var d=b.hrp;b=b.js_env;a.port.postMessage({type:"ww-hrp-init",hrp:d,is_dev:c,js_env:b,tiered:!0})}function t(a,b){b=b.trackerID;a.port.postMessage({type:"sw-uptime-tracking",args:{trackerID:b}})}function u(a){h(a,function(a){var b,c=a.args;a=a.method;(b=console)[a].apply(b,c)}),i(a,function(a){var b=a.error;a=a.errorObject;b!=null?c("FBLogger")("worker").catching(b).mustfix("Shared Worker uncaught error."):c("FBLogger")("worker").mustfix("Shared Worker uncaught error with no Error object. %s:%d:%d:%s",a.message,a.lineno,a.colno,a.filename)})}g.registerLogFowardingListener=h;g.registerUncaughtErrorForwardingListener=i;g.registerGetWorkerRevListener=a;g.registerWorkerShutdownListener=b;g.registerUptimeTrackerListener=d;g.registerExecuteWorkerAckListener=e;g.registerExecuteWorkerImportsListener=f;g.registerHrpInitListener=j;g.registerWorkerInitPointsListener=k;g.registerWorkerSelfTerminationListener=l;g.emitWorkerShutdown=m;g.emitGetRev=n;g.emitExecuteWorker=o;g.registerConnectionAckListener=p;g.registerAnyMessageListener=q;g.emitConnectionAckRequest=r;g.emitHrpInit=s;g.emitUptimeTracking=t;g.registerForwardListeners=u}),98);
__d("supportsNativeWebLock",[],(function(a,b,c,d,e,f){"use strict";function a(){return self.LockManager!=null&&self.navigator.locks instanceof self.LockManager}f["default"]=a}),66);
__d("SharedWorkerLockManager",["Deferred","FBLogger","WebStorageLockManager","emptyFunction","pageID","promiseDone","setTimeout","supportsNativeWebLock"],(function(a,b,c,d,e,f,g){"use strict";var h="shared_worker_mutex",i=12e4;function j(a){var b;b=(b=window)==null?void 0:(b=b.navigator)==null?void 0:b.locks;if(b!=null)return b;var e=d("WebStorageLockManager").make(c("pageID"));if(e!=null){a==null?void 0:a.addAnnotations({bool:{fallback_lock_manager:!0}});return{request:function(a,b){return e.request(a,b)}}}return null}function k(a,b,d){c("setTimeout")(function(){a.isSettled()||(b==null?void 0:b.endFailure("lock_timeout"),c("FBLogger")("worker").warn("[SharedWorkerLockManager]: lock timed out in %s ms",i),a.resolve(),d==null?void 0:d())},i)}function a(a,b){var d=b.workerQPLLogger,e=b.onLockTimeout;b=b.onLockFail;var f=j(d);d==null?void 0:d.addAnnotations({bool:{native_locks:f!=null?c("supportsNativeWebLock")():null}});if(f==null){c("FBLogger")("worker").warn("Unable to initialize lock manager");a(c("emptyFunction"));return}var g=new(c("Deferred"))();c("promiseDone")(f.request(h,function(){d==null?void 0:d.markPoint("lock_obtained");k(g,d,e);a(function(){d==null?void 0:d.markPoint("lock_released"),g.resolve()});return g.getPromise()}),void 0,b)}g.withWorkerLock=a}),98);
__d("SharedWorkerLoggingUtils",["ErrorSerializer","FBLogger","ODS","QPLUserFlow","WebStorage","checkForIndexedDbSupported","getErrorSafe","gkx","pageID","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,c,e){(i||(i=d("ODS"))).bumpEntityKey(6653,"shared_worker_infra","worker_self_termination."+b+"."+a),j(a,b,c,e,!0)}function j(a,b,d,e,f){f===void 0&&(f=!1);var g=c("qpl")._(931600201,"1438");c("QPLUserFlow").start(g);c("QPLUserFlow").endSuccess(g,{annotations:{string:{workerName:a,workerID:e,reason:d,location:b,pageID:c("pageID")},bool:{isSelfTermination:f}}})}function b(a,b,c,d,e,f){a==null?void 0:a.markEventEnd("execute_worker"),a==null?void 0:a.addAnnotations({"int":{runningWorkerRev:e,runningWorkerSpinTime:b,runningWorkerSpinMode:f},string:{executeWorkerErr:c},bool:{isFirstInit:d}})}function e(a,b,d){var e;e=c("getErrorSafe")((e=b instanceof ErrorEvent&&(b==null?void 0:b.error))!=null?e:b);c("FBLogger")("worker").catching(e).warn("Worker %s onerror: %s type, %s message",d,String(b.type),c("ErrorSerializer").toReadableMessage(e));a==null?void 0:a.addAnnotations({string_array:{onErrorHandler:[(a=JSON.stringify((d=e==null?void 0:e.message)!=null?d:b==null?void 0:b.message))!=null?a:"undefined",String((d=b==null?void 0:b.lineno)!=null?d:e==null?void 0:e.lineno),String((a=b==null?void 0:b.colno)!=null?a:e==null?void 0:e.colno),String((d=b==null?void 0:b.filename)!=null?d:e==null?void 0:e.filename)]}})}function f(){if(c("gkx")("21113")&&!c("checkForIndexedDbSupported")()){var a=(h||(h=c("WebStorage"))).getLocalStorage();if(a!=null){var b="afab0ea5-8ede-41bd-9933-dca4eea1e9b4009b1647-9c95-448c-b5f5-bcc6653853c49a83be9e-1e94-40be-a23b-c8ac74114c1e9fad1a9b-d2b3-4cf8-8751-22cc16cd96fde876fbf6-b739-4871-8586-55b51c4332a97606adc6-f4dc-4935-bb80-07e2b12a77533ae5ef90-dbc4-4003-ba54-2450fff94bbce0542942-228e-4f14-a41e-b3eef321a126eb8a6b22-a915-487f-aae7-b1a042f80274116403b4-8cdf-466a-afc7-1fc481fe95bac9585547-5693-4c3a-aba6-c8b5eec23e2cd3c74809-ef4d-4157-bf02-e0693e105906559a86c2-66a4-407c-8c45-126ff24dab57bba15e7d-da70-4d46-bff1-b4deaa9e328788a7ae98-7313-4158-97ee-5f1349d5f3b8b3a889b2-7c53-4443-8be3-9ff617a09503b13d6954-e863-40d6-b831-a24c81eae3a0099c6236-d6af-4c99-a104-61a7afe99d22";a=(h||(h=c("WebStorage"))).setItemGuarded(a,"shw_t",b);a!=null?(i||(i=d("ODS"))).bumpEntityKey(6653,"shared_worker_infra","local_storage_write_fail"):(i||(i=d("ODS"))).bumpEntityKey(6653,"shared_worker_infra","local_storage_write_success")}}}g.logSelfTermination=a;g.logShutdown=j;g.logExecuteAck=b;g.logSharedWorkerError=e;g.logLocalStorageWriteAttempt=f}),98);
__d("validateSharedWorkerReference",["ConstUriUtils","isRelativeURL","isSameOrigin","memoize"],(function(a,b,c,d,e,f,g){"use strict";var h=c("memoize")(function(){return d("ConstUriUtils").getUri(window.location.href)});function i(a){var b=h(),e=d("ConstUriUtils").getUri(a);e=b!=null&&e!=null?c("isSameOrigin")(e,b):!1;return e||c("isRelativeURL")(a)}function a(a){if(a==null||typeof a!=="object")return null;var b=a.rev,c=a.spin_time,d=a.url,e=a.version,f=a.rsrcBundleUrl;a=a.sandboxOnlyChecksum;return typeof b!=="number"||typeof c!=="number"||e!=null&&e!==1&&e!==2||!Number.isInteger(b)||!Number.isInteger(c)||typeof d!=="string"||!i(d)||f!=null&&typeof f!=="string"||a!=null&&typeof a!=="string"?null:{rev:b,spin_time:c,url:d,version:(b=e)!=null?b:1,rsrcBundleUrl:f,sandboxOnlyChecksum:a}}g["default"]=a}),98);
__d("SharedWorkerStorageManager",["Deferred","FBLogger","Promise","WebAsyncStorage","validateSharedWorkerReference"],(function(a,b,c,d,e,f,g){"use strict";var h,i="__swbundle__",j={};function k(a){return""+i+a}function l(a){var b=new(c("Deferred"))();c("WebAsyncStorage").removeItem(k(a),function(c){if(c)return b.reject(c);j[a]=null;b.resolve()});return b.getPromise()}function m(a,b){var d=new(c("Deferred"))();c("WebAsyncStorage").setItem(k(a),b,function(c){if(c!=null)return d.reject(c);j[a]=b;d.resolve()});return d.getPromise()}function n(a){var b=new(c("Deferred"))();c("WebAsyncStorage").getItem(k(a),function(c,d){if(c)return b.reject(c);j[a]=d;b.resolve(d)});return b.getPromise()}function a(){return j}function d(a){return n(a).then(function(a){a=c("validateSharedWorkerReference")(a);return a==null?null:a})}function e(a){return l(a)}function f(a,d){var e=c("validateSharedWorkerReference")(d);if(e==null){c("FBLogger")("worker").mustfix('Failed to save worker reference for bundle "%s". Invalid reference: %s',a,JSON.stringify(d));return(h||(h=b("Promise"))).resolve()}return m(a,e)}g.SHARED_WORKER_STORAGE_KEY_BASE=i;g.getDebugState=a;g.getSharedWorkerReference=d;g.removeSharedWorkerReference=e;g.saveSharedWorkerReference=f}),98);
__d("SharedWorkerUptimeTracker",["FBLogger","ODS","SharedWorkerEventManager","clearInterval","performanceNow","setInterval","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=1e4,k=45e3,l=new Map();function m(a){return Math.floor(((i||(i=c("performanceNow")))()-a)/1e3)}function n(a,b){var e=0,f={};d("SharedWorkerEventManager").registerUptimeTrackerListener(a,function(a){a=a.trackerID;var c=f[a];if(c==null)return;(h||(h=d("ODS"))).bumpFraction(6653,"shared_worker_infra","worker_uptime."+b,1,0);h.bumpEntityKey(6653,"shared_worker_infra","worker_uptime_elapsed_time_to_response_sec."+m(c.createdMs)+"."+b);delete f[a]});return c("setInterval")(function(){var g=e++;c("setTimeout")(function(){var a=f[g];if(a==null)return;delete f[g]},k);f[g]={createdMs:(i||(i=c("performanceNow")))()};(h||(h=d("ODS"))).bumpFraction(6653,"shared_worker_infra","worker_uptime."+b,0,1);d("SharedWorkerEventManager").emitUptimeTracking(a,{trackerID:g})},j)}function a(a,b){if(l.has(b)){c("FBLogger")("worker").mustfix('Uptime tracking for worker "%s" already started.',b);return}l.set(b,{intervalID:n(a,b)})}function b(a){var b=l.get(a);b!=null&&(c("clearInterval")(b.intervalID),l["delete"](a))}g.startUptimeTracking=a;g.stopUptimeTracking=b}),98);
__d("XCometFBMultiSiteWebWorkerV2HasteResponseControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/static_resources/webworker/rsrc/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("WebWorkerV2DynamicData",["Promise","XCometFBMultiSiteWebWorkerV2HasteResponseControllerRouteBuilder","cometAsyncFetchShared","err","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map();function a(a){var b=a.name,c=i.get(b);c==null&&(c=j(a),i.set(b,c));return c}function j(a){var d=a.name,e=a.v2HasteResponsePreloader;if(e==null)return k(d);var f=null;a=new(h||(h=b("Promise")))(function(a,b){e.onLoaded(function(b){b=b.data;f=b;a(b)}).onError(b)});return h.race([a,new h(function(a,b){window.setTimeout(function(){f==null?c("promiseDone")(k(d),a,b):a(f)},1e4)})])}function k(a){return c("cometAsyncFetchShared")(c("XCometFBMultiSiteWebWorkerV2HasteResponseControllerRouteBuilder").buildUri({worker_module:a}).toString(),{data:{},getFullPayload:!0,method:"POST",skipSRState:!0}).then(function(b){if(b!=null&&typeof b==="object"&&Object.prototype.hasOwnProperty.call(b,"hrp")&&typeof b.hrp==="object")return b;throw c("err")("Unexpected data from WorkerInitResourceDeliveryController for worker %s",a)})}g.readDynamicDataForWorker=a}),98);
__d("buildSharedWorkerInitQPLLogger",["QPLUserFlow","SiteData","checkForIndexedDbSupported","pageID","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(931595918,"2062"),i=0;function a(a){var b=!1,d=!1,e=i++;function f(f){var g=f.version,i=f.workerName,j=f.callReason;f=f.experimental_init;if(b||d)return;b=!0;f={"int":{version:g,clientRev:c("SiteData").client_revision},bool:{isDev:!1,supportsIDB:c("checkForIndexedDbSupported")(),experimental_init:(g=f)!=null?g:!1},string:{workerName:i,hostname:window.location.hostname,callReason:j,pageID:c("pageID")}};c("QPLUserFlow").start(h,{onFlowTimeout:function(){c("QPLUserFlow").addAnnotations(h,{bool:{setupTimeout:!0}},{instanceKey:e}),d=!0},cancelOnUnload:!0,annotations:f,timeoutInMs:16e4,instanceKey:e});a==null?void 0:a({type:"start",data:{annotations:f}})}function g(f,g){if(!b||d)return;f=f+"_start";c("QPLUserFlow").addPoint(h,f,{data:g,instanceKey:e});a==null?void 0:a({type:"point",data:{annotations:g,event:f}})}function j(f,g){if(!b||d)return;f=f+"_end";c("QPLUserFlow").addPoint(h,f,{data:g,instanceKey:e});a==null?void 0:a({type:"point",data:{annotations:g,event:f}})}function k(f,g){if(!b||d)return;c("QPLUserFlow").addPoint(h,f,{data:g,instanceKey:e});a==null?void 0:a({type:"point",data:{annotations:g,event:f}})}function l(f){if(!b||d)return;c("QPLUserFlow").endSuccess(h,{annotations:f,instanceKey:e});a==null?void 0:a({type:"end",data:{annotations:f}});d=!0}function m(f,g){if(!b||d)return;c("QPLUserFlow").endFailure(h,f,{annotations:g,instanceKey:e});a==null?void 0:a({type:"end",data:{errorName:f,annotations:g}});d=!0}function n(f){if(!b||d)return;c("QPLUserFlow").endCancel(h,{annotations:f,instanceKey:e});a==null?void 0:a({type:"end",data:{annotations:f,cancel:!0}});d=!0}function o(f){if(!b||d)return;c("QPLUserFlow").addAnnotations(h,f,{instanceKey:e});a==null?void 0:a({type:"annotate",data:{annotations:f}})}return{start:f,endFailure:m,addAnnotations:o,endSuccess:l,endCancel:n,markEventStart:g,markEventEnd:j,markPoint:k}}g["default"]=a}),98);
__d("buildSharedWorkerTerminateQPLLogger",["QPLUserFlow","SiteData","pageID","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(931600201,"1438"),i=0;function a(a){var b=!1,d=!1,e=i++;function f(f){var g=f.workerName;f=f.callReason;if(b||d)return;b=!0;g={"int":{clientRev:c("SiteData").client_revision},bool:{isDev:!1},string:{workerName:g,hostname:window.location.hostname,callReason:f,pageID:c("pageID")}};c("QPLUserFlow").start(h,{onFlowTimeout:function(){c("QPLUserFlow").addAnnotations(h,{bool:{setupTimeout:!0}},{instanceKey:e}),d=!0},cancelOnUnload:!0,annotations:g,timeoutInMs:3e4,instanceKey:e});a==null?void 0:a({type:"start",data:{annotations:g}})}function g(f,g){if(!b||d)return;f=f+"_start";c("QPLUserFlow").addPoint(h,f,{data:g,instanceKey:e});a==null?void 0:a({type:"point",data:{annotations:g,event:f}})}function j(f,g){if(!b||d)return;f=f+"_end";c("QPLUserFlow").addPoint(h,f,{data:g,instanceKey:e});a==null?void 0:a({type:"point",data:{annotations:g,event:f}})}function k(f,g){if(!b||d)return;c("QPLUserFlow").addPoint(h,f,{data:g,instanceKey:e});a==null?void 0:a({type:"point",data:{annotations:g,event:f}})}function l(f){if(!b||d)return;c("QPLUserFlow").endSuccess(h,{annotations:f,instanceKey:e});a==null?void 0:a({type:"end",data:{annotations:f}});d=!0}function m(f,g){if(!b||d)return;c("QPLUserFlow").endFailure(h,f,{annotations:g,instanceKey:e});a==null?void 0:a({type:"end",data:{errorName:f,annotations:g}});d=!0}function n(f){if(!b||d)return;c("QPLUserFlow").endCancel(h,{annotations:f,instanceKey:e});a==null?void 0:a({type:"end",data:{annotations:f,cancel:!0}});d=!0}function o(f){if(!b||d)return;c("QPLUserFlow").addAnnotations(h,f,{instanceKey:e});a==null?void 0:a({type:"annotate",data:{annotations:f}})}return{start:f,endFailure:m,addAnnotations:o,endSuccess:l,endCancel:n,markEventStart:g,markEventEnd:j,markPoint:k}}g["default"]=a}),98);
__d("XCometFBMultiSiteSharedWorkerStaticInitScriptControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/static_resources/sharedworker/init_script/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("getSharedWorkerHash",["uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("uuidv4")()}g["default"]=a}),98);
__d("createSharedWorkerBundleUrl",["XCometFBMultiSiteSharedWorkerStaticInitScriptControllerRouteBuilder","getSharedWorkerHash","getWorkerInitScriptSPINParams","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a;return c("nullthrows")((a=c("XCometFBMultiSiteSharedWorkerStaticInitScriptControllerRouteBuilder").buildUri({hash:c("getSharedWorkerHash")()}).addQueryParams(c("getWorkerInitScriptSPINParams")()))==null?void 0:a.toString())}g["default"]=a}),98);
__d("XCometFBMultiSiteWebWorkerV2InitScriptControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/static_resources/webworker/init_script/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("supportsModuleWorker",["UserAgent"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function a(a){if(h!=null)return h;if(h!=null)return h;if(c("UserAgent").isEngine("Blink")){h=a?c("UserAgent").isEngine("Blink > 83"):c("UserAgent").isEngine("Blink > 80.1");return h}if(c("UserAgent").isBrowser("Safari")){h=c("UserAgent").isBrowser("Safari > 14.9");return h}if(c("UserAgent").isBrowser("Firefox")){h=c("UserAgent").isBrowser("Firefox > 113");return h}if(c("UserAgent").isEngine("WebKit")){h=c("UserAgent").isEngine("WebKit > 606");return h}if(c("UserAgent").isBrowser("IE")){h=!1;return h}var b={get type(){h=!0}};try{a?new SharedWorker("blob://",b):new Worker("blob://",b)}finally{h=(a=h)!=null?a:!1;return h}}g["default"]=a}),98);
__d("createSharedWorkerV2BundleUrl",["XCometFBMultiSiteWebWorkerV2InitScriptControllerRouteBuilder","getSharedWorkerHash","getWorkerInitScriptSPINParams","nullthrows","supportsModuleWorker"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("supportsModuleWorker")(!0),b=c("getWorkerInitScriptSPINParams")();b.set("hash",c("getSharedWorkerHash")());return c("nullthrows")((a=c("XCometFBMultiSiteWebWorkerV2InitScriptControllerRouteBuilder").buildUri({worker_type:a?"MODULE":"CLASSIC"}))==null?void 0:(a=a.addQueryParams(b))==null?void 0:a.toString())}g["default"]=a}),98);
__d("handleWorkerWriteError",["FBLogger","WebStorageCleanupReason"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a instanceof Error){c("FBLogger")("worker").catching(a).mustfix("Error occured checking in shared worker reference");return}if(a==="writes disabled"){var b;c("FBLogger")("worker").warn("Writes to WebAsyncStorage is disabled. Unable to save shared worker reference. Reason: %s",(b=d("WebStorageCleanupReason").getLastCleanupReason())!=null?b:"n/a");return}c("FBLogger")("worker").mustfix("Error occured checking in shared worker reference: %s",JSON.stringify(a))}g["default"]=a}),98);
__d("SharedWorkerInitFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4266");b=d("FalcoLoggerInternal").create("shared_worker_init",a);e=b;g["default"]=e}),98);
__d("logSharedWorkerInitStep",["SharedWorkerInitFalcoEvent","SiteData","gkx","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=c("uuidv4")();function a(a,b,d,e){if(!c("gkx")("21115"))return;c("SharedWorkerInitFalcoEvent").log(function(){return{client_id:h,bundle_name:a,client_rev:String(c("SiteData").client_revision),local_shared_worker_ref:b!=null?{bundle_url:b.url,rev:String(b.rev),spin_time:String(b.spin_time)}:null,new_shared_worker_ref:d!=null?{bundle_url:d}:null,init_step:e}})}g["default"]=a}),98);
__d("SharedWorkerBundleResource",["BootloaderPreloader","Deferred","FBLogger","Promise","SharedWorkerDevChangeManager","SharedWorkerEventManager","SharedWorkerLockManager","SharedWorkerLoggingUtils","SharedWorkerStatusLock","SharedWorkerStorageManager","SharedWorkerUptimeTracker","SiteData","StaticSiteData","TrustedTypesWebWorkerScriptURLPolicy","WebWorkerV2DynamicData","buildSharedWorkerInitQPLLogger","buildSharedWorkerTerminateQPLLogger","clearTimeout","createSharedWorkerBundleUrl","createSharedWorkerV2BundleUrl","err","getErrorSafe","gkx","handleWorkerWriteError","justknobx","logSharedWorkerInitStep","promiseDone","regeneratorRuntime","setTimeout","supportsModuleWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i=5e3,j=12e3,k="no-post-message-from-worker",l=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var c;c=b.call(this)||this;c.name="SelfTerminationError";c.message="Worker self terminated with the reason: "+a;c.reason=a;return c}return a}(babelHelpers.wrapNativeSuper(Error));function m(a,b,e,f){f==null?void 0:f.markEventStart("shared_worker_construct");var g=new SharedWorker(c("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(a),b);f==null?void 0:f.markEventEnd("shared_worker_construct");g.addEventListener("error",function(a){d("SharedWorkerLoggingUtils").logSharedWorkerError(f,a,b)});var h=new Set();d("SharedWorkerEventManager").registerWorkerSelfTerminationListener(g,function(a,c,e){d("SharedWorkerLoggingUtils").logSelfTermination(b,a,c,e)},{once:!0});var i=0;d("SharedWorkerEventManager").registerConnectionAckListener(g,function(a,b){i++;if(h.has("worker_connection_established")){f==null?void 0:f.addAnnotations({"int":{connectionAckNum:i}});return}h.add("worker_connection_established");f==null?void 0:f.addAnnotations({string:{connectedFrom:a,workerID:b}});f==null?void 0:f.markPoint("worker_connection_established")});d("SharedWorkerEventManager").registerWorkerInitPointsListener(g,function(a){if(h.has(a))return;h.add(a);f==null?void 0:f.markPoint("worker_init_point_"+a)});g.port.start();d("SharedWorkerEventManager").registerExecuteWorkerImportsListener(g,f,function(a){var b=a.err;a=a.attempts;f==null?void 0:f.addAnnotations({string:{importsError:b},"int":{importAttempts:a}});f==null?void 0:f.markPoint(b==null?"bundle_imports_success":"bundle_imports_failure")});var j=new(c("Deferred"))();d("SharedWorkerEventManager").registerExecuteWorkerAckListener(g,f,function(a){var b=a.workerSpinTime,e=a.err,g=a.isFirstInit,h=a.workerRev;a=a.workerSpinMode;d("SharedWorkerLoggingUtils").logExecuteAck(f,b,e,g,h,a);if(e!=null||b==null||h==null){j.reject(c("err")((g=e)!=null?g:"no worker rev or spin time"))}else j.resolve({rev:h,spinTime:b})});f==null?void 0:f.markEventStart("execute_worker");d("SharedWorkerEventManager").emitExecuteWorker(g,{jsModuleResource:e,isDev:!1});return j.getPromise().then(function(a){var b=a.rev;a=a.spinTime;return{worker:g,rev:b,spinTime:a}})}function n(a,e,f,g,h){var i,m,n,o,p,q;return b("regeneratorRuntime").async(function(r){while(1)switch(r.prev=r.next){case 0:i=c("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(a);if(!c("gkx")("4129")){r.next=13;break}g==null?void 0:g.markEventStart("url_fetch");r.prev=3;r.next=6;return b("regeneratorRuntime").awrap(window.fetch(i.toString()));case 6:g==null?void 0:g.markEventEnd("url_fetch");r.next=13;break;case 9:r.prev=9,r.t0=r["catch"](3),m=c("getErrorSafe")(r.t0),g==null?void 0:g.markPoint("url_fetch_fail",{string:{urlFetchError:m.toString()}});case 13:g==null?void 0:g.markEventStart("shared_worker_construct");n=c("supportsModuleWorker")(!0)?new SharedWorker(i,{name:e,type:"module"}):new SharedWorker(i,e);g==null?void 0:g.markEventEnd("shared_worker_construct");g==null?void 0:g.addAnnotations({string:{workerUrl:i.toString()}});d("SharedWorkerEventManager").registerConnectionAckListener(n,function(a,b){g==null?void 0:g.addAnnotations({string:{connectedFrom:a,workerID:b}}),g==null?void 0:g.markPoint("worker_connection_established")});n.addEventListener("error",function(a){d("SharedWorkerLoggingUtils").logSharedWorkerError(g,a,e)});o=new(c("Deferred"))();c("gkx")("3995")&&h&&(p=c("setTimeout")(function(){d("SharedWorkerEventManager").emitWorkerShutdown(n,{reason:k}),o.reject(new l(k))},j),d("SharedWorkerEventManager").registerAnyMessageListener(n,function(){c("clearTimeout")(p)}));d("SharedWorkerEventManager").registerWorkerSelfTerminationListener(n,function(b,c,f,a){g==null?void 0:g.addAnnotations({string:{selfTerminationError:a}}),d("SharedWorkerLoggingUtils").logSelfTermination(e,b,c,f),o.reject(new l(c))},{once:!0});q=new Set();d("SharedWorkerEventManager").registerWorkerInitPointsListener(n,function(a){if(q.has(a))return;q.add(a);g==null?void 0:g.markPoint("worker_init_point_"+a)});n.port.start();d("SharedWorkerEventManager").emitConnectionAckRequest(n,g);d("SharedWorkerEventManager").registerHrpInitListener(n,g,function(){});g==null?void 0:g.markPoint("read_dynamic_data");c("promiseDone")(d("WebWorkerV2DynamicData").readDynamicDataForWorker(f).then(function(a){g==null?void 0:g.markEventStart("hrp_init");try{var b=c("justknobx")._("1979");b&&d("BootloaderPreloader").preloadWorkerJSFromHRP(a.hrp);g==null?void 0:g.addAnnotations({bool:{prefetchWorkerScripts:b}})}catch(a){b=c("getErrorSafe")(a);g==null?void 0:g.addAnnotations({string:{hrpInitErr:b.toString()}});c("FBLogger")("worker").catching(a).warn("Failed to preload worker %s JS from HRP",e)}d("SharedWorkerEventManager").emitHrpInit(n,{hrp:a.hrp,js_env:a.js_env,isDev:!1},g)},function(a){a=c("getErrorSafe")(a);g==null?void 0:g.addAnnotations({string:{hrpInitErr:a.toString()}})}));d("SharedWorkerEventManager").registerExecuteWorkerAckListener(n,g,function(b){var e=b.workerSpinTime,a=b.err,f=b.isFirstInit,h=b.workerRev;b=b.workerSpinMode;d("SharedWorkerLoggingUtils").logExecuteAck(g,e,a,f,h,b);if(a!=null||h==null||e==null){o.reject(c("err")((f=a)!=null?f:"no worker rev or spin time"))}else o.resolve({rev:h,spinTime:e})});g==null?void 0:g.markEventStart("execute_worker");d("SharedWorkerEventManager").emitExecuteWorker(n);return r.abrupt("return",o.getPromise().then(function(a){var b=a.rev;a=a.spinTime;return{worker:n,rev:b,spinTime:a}}));case 33:case"end":return r.stop()}},null,this,[[3,9]])}function o(a,b,e,f,g,h){var i=new(c("Deferred"))();d("SharedWorkerEventManager").registerGetWorkerRevListener(a,h,function(a){var j=a.rev;a=a.spinTime;c("promiseDone")(d("SharedWorkerStorageManager").saveSharedWorkerReference(e,{url:b,rev:j,spin_time:a,version:g.version,rsrcBundleUrl:g.getJSModuleBundleResource().url,sandboxOnlyChecksum:g.sandboxOnlyChecksum}).then(function(){return d("SharedWorkerStorageManager").getSharedWorkerReference(e)}).then(function(a){c("logSharedWorkerInitStep")(e,a,g.resourceUrlForLogging,"after_worker_reference_save")}),function(){h.markEventEnd("get_worker_rev",{bool:{successfullySavedWorkerRef:!0}}),i.resolve(),f()},function(a){h.markEventEnd("get_worker_rev",{bool:{successfullySavedWorkerRef:!1}}),i.reject(a),c("handleWorkerWriteError")(a),f()})});h.markEventStart("get_worker_rev");d("SharedWorkerEventManager").emitGetRev(a);return i.getPromise()}function p(a,b,e){d("SharedWorkerEventManager").registerForwardListeners(a),d("SharedWorkerEventManager").registerWorkerShutdownListener(a,function(a){var c=a.reason;a=a.workerID;d("SharedWorkerLoggingUtils").logShutdown(e,null,c,a);c==="requested-upgrade"&&(b==null?void 0:b());d("SharedWorkerUptimeTracker").stopUptimeTracking(e)}),d("SharedWorkerDevChangeManager").trackCreatedWorker(e),d("SharedWorkerUptimeTracker").startUptimeTracking(a,e),c("logSharedWorkerInitStep")(e,null,null,"create_worker_end")}function q(a,d,e,f,g,h){var i,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:h.addAnnotations({string:{initFlow:"use_existing_ref"}});c("logSharedWorkerInitStep")(a,null,null,"using_existing_worker_ref");k.next=4;return b("regeneratorRuntime").awrap(d.version===2?n(d.url,a,e.getJSModuleBundleResource(),h,e.version===2?e.withPostMessageTimeout:!1):m(d.url,a,e.getJSModuleBundleResource(),h));case 4:i=k.sent;j=i.worker;f();p(j,g,a);return k.abrupt("return",j);case 9:case"end":return k.stop()}},null,this)}function r(){return self.LockManager!=null&&self.navigator.locks instanceof self.LockManager}function s(a){var c;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:if(r()){e.next=2;break}return e.abrupt("return",!0);case 2:e.next=4;return b("regeneratorRuntime").awrap(self.navigator.locks.query());case 4:c=e.sent;return e.abrupt("return",c.held.some(function(b){return b.name===d("SharedWorkerStatusLock").getStatusLockName(a)}));case 6:case"end":return e.stop()}},null,this)}function t(a,e,f,g,h,j){var k,l,m;return b("regeneratorRuntime").async(function(n){while(1)switch(n.prev=n.next){case 0:j.addAnnotations({string:{initFlow:"upgrade_worker_ref"}});k=new(c("Deferred"))();n.next=4;return b("regeneratorRuntime").awrap(s(a));case 4:if(!n.sent){n.next=12;break}e.version===2&&c("supportsModuleWorker")(!0)?l=new SharedWorker(e.url,{name:a,type:"module"}):l=new SharedWorker(e.url,a);d("SharedWorkerEventManager").registerWorkerShutdownListener(l,function(a){var b=a.workerID;a=a.isInitialized;k.resolve();j.markEventEnd("old_worker_shutdown",{string:{oldWorkerID:b},bool:{oldWorkerWasInitialized:a}});j.addAnnotations({string:{oldWorkerShutdown:"success"}})},{once:!0});j.markEventStart("old_worker_shutdown");d("SharedWorkerEventManager").emitWorkerShutdown(l,{upgrade:!0});l.port.start();n.next=14;break;case 12:k.resolve(),j.addAnnotations({string:{oldWorkerShutdown:"not_needed"}});case 14:if(!c("gkx")("4471")){n.next=21;break}m=c("setTimeout")(function(){j.addAnnotations({string:{oldWorkerShutdown:"timeout"}}),k.reject(c("err")("Worker shutdown timeout on upgrade"))},i);n.next=18;return b("regeneratorRuntime").awrap(k.getPromise());case 18:c("clearTimeout")(m);n.next=22;break;case 21:k.resolve();case 22:return n.abrupt("return",v(a,f,g,h,j,"upgrading_worker_ref"));case 23:case"end":return n.stop()}},null,this)}function u(a,b,c,d,e){e.addAnnotations({string:{initFlow:"new_worker_ref"}});return v(a,b,c,d,e,"new_worker_ref")}function v(a,e,f,g,h,i){var j,k,l;return b("regeneratorRuntime").async(function(m){while(1)switch(m.prev=m.next){case 0:c("logSharedWorkerInitStep")(a,null,null,i);m.next=3;return b("regeneratorRuntime").awrap(s(a));case 3:if(!m.sent){m.next=5;break}c("FBLogger")("worker").info("Trying to create a worker %s while old one is still running",a);case 5:m.next=7;return b("regeneratorRuntime").awrap(e.createSharedWorker());case 7:j=m.sent;k=j[0];l=j[1].worker;if(!(i==="upgrading_worker_ref")){m.next=13;break}m.next=13;return b("regeneratorRuntime").awrap(d("SharedWorkerStorageManager").removeSharedWorkerReference(a));case 13:m.next=15;return b("regeneratorRuntime").awrap(o(l,k,a,f,e,h));case 15:p(l,g,a);return m.abrupt("return",l);case 17:case"end":return m.stop()}},null,this)}function w(a,e,f,g){var h,i,j,k,l,m;return b("regeneratorRuntime").async(function(n){while(1)switch(n.prev=n.next){case 0:g.markEventStart("create_worker");h=a.name;d("SharedWorkerUptimeTracker").stopUptimeTracking(h);n.t0=g;if(!r()){n.next=10;break}n.next=7;return b("regeneratorRuntime").awrap(s(h));case 7:n.t1=n.sent;n.next=11;break;case 10:n.t1=null;case 11:n.t2=n.t1;n.t3={workerAlreadyRunning:n.t2};n.t4={bool:n.t3};n.t0.addAnnotations.call(n.t0,n.t4);n.next=17;return b("regeneratorRuntime").awrap(d("SharedWorkerStorageManager").getSharedWorkerReference(h));case 17:i=n.sent;c("logSharedWorkerInitStep")(h,i,a.resourceUrlForLogging,"create_worker_start");if(!(i==null)){n.next=21;break}return n.abrupt("return",u(h,a,e,f,g));case 21:j=i.spin_time,k=i.version,l=i.rev;g.addAnnotations({"int":{storageWorkerSpinTime:j,storageWorkerVersion:k,storageWorkerRev:l}});m=d("SharedWorkerDevChangeManager").shouldUseStorageWorkerForDev(h,{storageWorkerResource:i,tabResource:a});if(!(l>=c("SiteData").client_revision&&(a.version===k||j>=c("SiteData")[c("StaticSiteData").spin_time_key])&&m)){n.next=28;break}return n.abrupt("return",q(h,i,a,e,f,g));case 28:return n.abrupt("return",t(h,i,a,e,f,g));case 29:case"end":return n.stop()}},null,this)}function a(a,e,f){f=(f=f)!=null?f:{};var g=f.onQPLEvent;f=f.reason;var h=a.name,i=c("buildSharedWorkerInitQPLLogger")(g);i.start({version:1,workerName:h,callReason:f});d("SharedWorkerLoggingUtils").logLocalStorageWriteAttempt();var j=new(c("Deferred"))();d("SharedWorkerLockManager").withWorkerLock(function(d){var f;c("promiseDone")(w({name:h,version:1,resourceUrlForLogging:(f=a.url)!=null?f:"",getJSModuleBundleResource:function(){return a},createSharedWorker:function(){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:d=c("createSharedWorkerBundleUrl")();e.t0=d;e.next=4;return b("regeneratorRuntime").awrap(m(d,h,a,i));case 4:e.t1=e.sent;return e.abrupt("return",[e.t0,e.t1]);case 6:case"end":return e.stop()}},null,this)}},d,e,i),function(a){i.markEventEnd("create_worker"),i.endSuccess(),j.resolve(a)},function(a){a=typeof a==="string"?c("err")(a):a;i.endFailure("worker_init_failure",{string:{workerInitFailureReason:a.message,errorName:a.name}});j.reject(a);d()})},{workerQPLLogger:i,onLockTimeout:function(){return j.reject(c("err")("Worker lock timeout"))}});return j.getPromise()}function x(a,e,f,g){var i;g===void 0&&(g=0);var j=a.name;i=(i=f)!=null?i:{};var k=i.onQPLEvent;i=i.reason;var m=c("buildSharedWorkerInitQPLLogger")(k);m.start({version:2,workerName:j,callReason:i});d("SharedWorkerLoggingUtils").logLocalStorageWriteAttempt();m.addAnnotations({bool:{usingModuleWorker:c("supportsModuleWorker")(!0)}});var o=new(c("Deferred"))(),p=g===0;d("SharedWorkerLockManager").withWorkerLock(function(d){c("promiseDone")(w({name:j,version:2,getJSModuleBundleResource:function(){return a},sandboxOnlyChecksum:a.sandboxOnlyChecksum,createSharedWorker:function(){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:d=c("createSharedWorkerV2BundleUrl")();e.t0=d;e.next=4;return b("regeneratorRuntime").awrap(n(d,j,a,m,p));case 4:e.t1=e.sent;return e.abrupt("return",[e.t0,e.t1]);case 6:case"end":return e.stop()}},null,this)},withPostMessageTimeout:p},d,e,m),function(a){m.markEventEnd("create_worker"),m.endSuccess(),o.resolve(a)},function(a){a=typeof a==="string"?c("err")(a):a;o.reject(a);d()})},{workerQPLLogger:m,onLockTimeout:function(){return o.reject(c("err")("Worker lock timeout"))},onLockFail:function(a){o.reject(a)}});return o.getPromise()["catch"](function(d){if(d instanceof l&&g<2){m.endCancel({string:{workerInitCancelReason:d.message},"int":{workerInitRetry:g}});return new(h||(h=b("Promise")))(function(b,d){c("setTimeout")(function(){c("promiseDone")(x(a,e,f,g+1),b,d)},g===0?200:500)})}m.endFailure("worker_init_failure",{string:{workerInitFailureReason:d.message,errorName:d.name}});throw d})}function e(a,b,e){var f=(b=b)!=null?b:a.name,g=new(c("Deferred"))(),h=c("buildSharedWorkerTerminateQPLLogger")();h.start({workerName:f});h.addAnnotations({string:{reason:e}});d("SharedWorkerLockManager").withWorkerLock(function(b){c("promiseDone")(d("SharedWorkerStorageManager").getSharedWorkerReference(f).then(function(b){h.markPoint("read_worker_reference",{"int":{storageWorkerVersion:b==null?void 0:b.version},bool:{storageReferenceExists:b!=null}});if(b!=null){var c;b.version===2?c=n(b.url,f,a,void 0,!1).then(function(a){a=a.worker;return a}):c=m(b.url,f,a).then(function(a){a=a.worker;return a});return d("SharedWorkerStorageManager").removeSharedWorkerReference(f).then(function(){h.markPoint("removed_worker_reference");return c})}return null}),function(a){try{b(),d("SharedWorkerUptimeTracker").stopUptimeTracking(f),a!=null?(d("SharedWorkerEventManager").registerWorkerShutdownListener(a,function(a){var b=a.workerID;a=a.isInitialized;g.resolve();h.endSuccess({string:{workerID:b},bool:{wasInitialized:a}})},{once:!0}),d("SharedWorkerEventManager").emitWorkerShutdown(a,{reason:e})):(h.endSuccess(),g.resolve())}catch(a){h.endFailure("terminate_worker_failure",{string:{workerTerminateFailReason:a.message}}),g.reject(a.message)}},function(a){c("FBLogger")("worker").catching(c("getErrorSafe")(a)).mustfix("Failed to terminate worker"),h.endFailure("terminate_worker_failure",{string:{workerTerminateFailReason:a.message}}),g.reject(a.message),b()})},{workerQPLLogger:h});c("setTimeout")(function(){return g.reject()},i);return g.getPromise()}function f(a){var c;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(d("SharedWorkerStorageManager").getSharedWorkerReference(a.name));case 2:c=e.sent;return e.abrupt("return",c!=null);case 4:case"end":return e.stop()}},null,this)}g.SelfTerminationError=l;g.createPushSafeSharedWebWorkerAsync=a;g.createPushSafeSharedWebWorkerV2Async=x;g.terminateSharedWorker=e;g.doesSharedWorkerReferenceExist=f}),98);
__d("WebWorkerV2Resource",["TrustedTypesWebWorkerScriptURLPolicy","WebWorkerV2DynamicData","XCometFBMultiSiteWebWorkerV2InitScriptControllerRouteBuilder","forEachObject","getAsyncParamsFromCurrentPageURI","getWorkerInitScriptSPINParams","nullthrows","promiseDone","supportsModuleWorker"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=(b=b)!=null?b:a.name;var e=c("supportsModuleWorker")(!1)?"module":"classic",f=c("getWorkerInitScriptSPINParams")();c("forEachObject")(c("getAsyncParamsFromCurrentPageURI")(),function(a,b){f.set(b,a)});var g=c("nullthrows")(c("XCometFBMultiSiteWebWorkerV2InitScriptControllerRouteBuilder").buildUri({worker_type:c("supportsModuleWorker")(!1)?"MODULE":"CLASSIC"}).addQueryParams(f)).toString();g=c("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(g);var h=new Worker(g,{name:b,type:e});c("promiseDone")(d("WebWorkerV2DynamicData").readDynamicDataForWorker(a).then(function(a){h.postMessage({type:"ww-hrp-init",hrp:a.hrp,js_env:a.js_env,is_dev:!1,tiered:!0})}));return{worker:h,url:g.toString()}}g.createDedicatedV2WebWorker=a}),98);
__d("MAWWebWorkerSingleton",["MAWMICSafe","MAWStartupLoggingUtils","MAWWebWorkerInstance","Promise","SharedWorkerBundleResource","WAResolvable","WebWorkerV2Resource","cr:6600","promiseDone","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("MAWWebWorkerInstance").destroyWorkerInstance,j=new(d("WAResolvable").Resolvable)();function a(a){var e=d("MAWWebWorkerInstance").getWorkerInstancePromise();if(e)return e;d("MAWMICSafe").markEvent("maw_worker_create_start");var f=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();if(f){f=d("SharedWorkerBundleResource").createPushSafeSharedWebWorkerV2Async;e=f(b("cr:6600"),function(){c("promiseDone")(j.promise.then(function(){return i()}))},{onQPLEvent:d("MAWStartupLoggingUtils").logSharedWorkerQPLEvents,reason:a}).then(function(a){a.addEventListener("error",function(a){d("MAWStartupLoggingUtils").logWorkerError("Shared Worker",a,"")});return a.port})}else e=(h||(h=b("Promise"))).resolve(d("WebWorkerV2Resource").createDedicatedV2WebWorker(b("cr:6600"))).then(function(a){var b=a.url;a=a.worker;a.onerror=function(a){return d("MAWStartupLoggingUtils").logWorkerError("Dedicated Worker",a,b)};d("MAWStartupLoggingUtils").setImportScriptsErrorListener(a);return a});e=e.then(function(a){d("MAWMICSafe").markEvent("maw_worker_create_end");return a});d("MAWWebWorkerInstance").setWorkerInstancePromise(e);return e}function e(a){i=a,j.resolve()}g.createWorkerIfNone=a;g.setOnCloseForWorkerInstance=e}),98);
__d("MWEncryptedBackupsDetermineInitialEBState",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("23914");function a(a){var b=a.clientStateData,c=a.hasArmadilloError;a=a.xfb_backup;if(!h||c)return 0;if(a==null)return 2;return b.length>0?3:4}g.determineInitialEBState=a}),98);
__d("MWInChatTabContextProvider.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=e(!1);function a(){return j(k)}function b(a){a=a.children;return i.jsx(k.Provider,{value:!0,children:a})}b.displayName=b.name+" [from "+f.id+"]";g.useInChatTab=a;g.InChatTabContextProvider=b}),98);
__d("useEncryptedBackupsProcessStatePreLoaded_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useEncryptedBackupsProcessStatePreLoaded_query",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]}],storageKey:null},action:"THROW",path:"viewer"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useMAWHasUserVisibleErrors",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=(h||(h=c("useReStore")))(),b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(a.tables.user_visible_errors).filter(function(a){a=a.presentationStyle;return a==="banner"})},[a],f.id+":24");return b!=null}g["default"]=a}),98);
__d("useMAWUnsupportedBrowserNUX",["MAWIsIDBOperational","WebStorage","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("MAWIsIDBOperational").useIsIDBOperational();a=!a||(h||(h=c("WebStorage"))).getLocalStorage()==null;var b=c("gkx")("1778")||a;a=c("gkx")("24101")||a;return{shouldHideEBFlow:a,shouldShowQP:b}}g.useMAWUnsupportedBrowserNUX=a}),98);
__d("useEncryptedBackupsProcessStatePreLoaded",["CometRelay","I64","LSAuthorityLevel","LSIntEnum","MWEncryptedBackupsDetermineInitialEBState","ReQL","ReQLSuspense","isMWEBEntrypointEnabled","useEncryptedBackupsProcessStatePreLoaded_query.graphql","useMAWHasUserVisibleErrors","useMAWUnsupportedBrowserNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function a(a){var e=a.entrypoint;a=a.query;var g=d("CometRelay").useFragment(h!==void 0?h:h=b("useEncryptedBackupsProcessStatePreLoaded_query.graphql"),a),l=(k||(k=c("useReStore")))();a=d("ReQLSuspense").useArray(function(){return(g==null?void 0:g.viewer.backup_state)==null?d("ReQL").fromTableAscending(l.tables.secure_encrypted_backups_client_state).filter(function(a){a=a.authorityLevel;return(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))}):d("ReQL").empty()},[l,g==null?void 0:g.viewer.backup_state],f.id+":57");var m=d("useMAWUnsupportedBrowserNUX").useMAWUnsupportedBrowserNUX();m=m.shouldHideEBFlow;var n=c("useMAWHasUserVisibleErrors")();m=m||n;return!c("isMWEBEntrypointEnabled")(e)?0:(g==null?void 0:g.viewer.backup_state)!=null?g.viewer.backup_state:d("MWEncryptedBackupsDetermineInitialEBState").determineInitialEBState({clientStateData:a,hasArmadilloError:m,xfb_backup:g==null?void 0:g.xfb_backup})}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CheckmarkCircleFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx("path",{d:"m459.3 1078.26-3.718 4a.75.75 0 0 1-1.099 0l-1.79-1.925a.75.75 0 0 1 1.1-1.022l1.24 1.335 3.168-3.409a.75.75 0 0 1 1.098 1.022m-3.3-4.76c-3.308 0-6 2.69-6 6 0 3.308 2.692 6 6 6 3.31 0 6-2.692 6-6 0-3.31-2.69-6-6-6"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("LSAddMessengerContact",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("contact_id",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"add_messenger_contact",c.i64.cast([0,308]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSContactAddMessengerContactStoredProcedure";e.exports=a}),null);
__d("LSAddMessengerContactStoredProcedure",["LSAddMessengerContact","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.contactId;return c("LSAddMessengerContact").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSContactUserBlockAction",[],(function(a,b,c,d,e,f){a=Object.freeze({MN_UNBLOCK:0,MN_BLOCK:1,FB_UNBLOCK:2,FB_BLOCK:3});f["default"]=a}),66);
__d("LSMoveThreadToArchivedFolder",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(c,d){d=c.done;c=c.value;return d?0:(c.item,b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(a){var c=a.update;a.item;return c({folderName:"",parentThreadKey:b.i64.cast([-1,4294967286])})}))})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxMoveThreadToArchivedFolderStoredProcedure";e.exports=a}),null);
__d("LSOptimisticAcceptMessageRequest",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(e,f){f=e.done;e=e.value;return f?0:(e.item,c.sequence([function(b){return c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var d=b.update;b.item;return d({folderName:"inbox",parentThreadKey:c.i64.cast([0,0]),igFolder:a[1]})})},function(b){return c.db.table(173).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?0:(b=a.item,d[4]=b.clientThreadPk,c.db.table(276).fetch([[[d[4]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?0:(a.item,c.forEach(c.db.table(276).fetch([[[d[4]]]]),function(a){var b=a.update;a.item;return b({folderType:c.i64.cast([0,0])})}))}))})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],void 0)?d[4]=d[5]:d[4]=c.i64.cast([0,1]),d[0]=d[4])})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("sync_group",d[0]),d[2].set("ig_folder",a[1]),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"message_request",c.i64.cast([0,66]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))}]))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticAcceptMessageRequestStoredProcedure";e.exports=a}),null);
__d("LSOptimisticAcceptMessageRequestStoredProcedure",["LSOptimisticAcceptMessageRequest","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.igFolder;return c("LSOptimisticAcceptMessageRequest").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSOptimisticRemoveThread",["LSDeleteThread","LSIssueNewTaskAndGetTaskID","LSMoveThreadToArchivedFolder"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[4]=b.syncGroup,c.i64.neq(d[4],void 0)?d[3]=d[4]:d[3]=c.i64.cast([0,1]),d[0]=d[3])})},function(d){return[c.i64.cast([0,1]),c.i64.cast([0,2])].some(function(b){return c.i64.eq(a[1],b)})?c.storedProcedure(b("LSMoveThreadToArchivedFolder"),a[0]):c.storedProcedure(b("LSDeleteThread"),a[0],!1)},function(e){return c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[0]),c.i64.cast([0,146]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),d[0],void 0,c.i64.cast([0,0]),c.i64.cast([0,0])).then(function(a){return a=a,d[2]=a[0],a})},function(b){return c.db.table(32).add({taskId:d[2],threadKey:a[0],removeType:a[1],syncGroup:d[0]})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticRemoveThreadStoredProcedure";e.exports=a}),null);
__d("LSOptimisticRemoveThreadStoredProcedure",["LSOptimisticRemoveThread","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.removeType;return c("LSOptimisticRemoveThread").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSThreadRemoveType",[],(function(a,b,c,d,e,f){a=Object.freeze({DELETE_THREAD:0,ARCHIVE_THREAD:1,IGNORE_THREAD:2});f["default"]=a}),66);
__d("MAWAbPropsClient",["WAAbPropsToUI"],(function(a,b,c,d,e,f,g){"use strict";var h={contents:d("WAAbPropsToUI").prepareAbPropsForUI()};function a(a){h.contents=a}function b(){return h.contents}g.rewrite=a;g.getAbProps=b}),98);
__d("MAWAttachmentBlob.react",["I64","LSAuthorityLevel","LSIntEnum","MAWBridgeSendAndReceive","MAWDbMedia","MAWDbXMA","MAWGetIsMediaDownloadStatusEnabled","Promise","WAHashUtils","gkx","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=new Map(),l=new Map();function a(a,b){k.set(a,{TAG:1,value:b})}function m(a,b,e){var f=k.get(a);if(f!=null){if(f.TAG===0)throw f.value;return f.value}e==null?void 0:e.addPoint("fetch_data_blob_from_backend_start");f=!c("gkx")("2419")||isFinite(a)?d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByMediaId",{description:b,mediaId:d("MAWDbMedia").convertNumberToMediaId(Number.parseInt(a,10)),qplInstanceKey:e==null?void 0:e.getInstanceKey()}).then(function(b){e==null?void 0:e.addPoint("fetch_data_blob_from_backend_success");k.set(a,{TAG:1,value:URL.createObjectURL((b=b)!=null?b:void 0)})})["catch"](function(b){e==null?void 0:e.endFail("fetch_data_blob_from_backend_fail",{string:{error:b.message}}),k.set(a,{TAG:1,value:""}),c("recoverableViolation")("Unable to getBlobUrlByMediaId","messenger_web_media",{error:b})}):d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByHashedPlaintextHash",{description:b,plaintextHash:d("WAHashUtils").stringToPlaintextHash(a),qplInstanceKey:e==null?void 0:e.getInstanceKey()}).then(function(b){e==null?void 0:e.addPoint("fetch_data_blob_from_backend_success");k.set(a,{TAG:1,value:URL.createObjectURL((b=b)!=null?b:void 0)})})["catch"](function(b){e==null?void 0:e.endFail("fetch_data_blob_from_backend_fail",{string:{error:b.message}}),k.set(a,{TAG:1,value:""}),c("recoverableViolation")("Unable to getBlobDataUrlByHashedPlaintextHash","messenger_web_media",{error:b})});k.set(a,{TAG:0,value:f});throw f}function e(a,b,e){if(a==null){c("recoverableViolation")("Unable to getAttachmentBlob because attachment is null, from "+b,"messenger_web_media",void 0,{trackOnly:!0});e==null?void 0:e.endFail("attachment_is_null");return""}var f=d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusEnabled();if(!f&&a.hasMedia===!1&&a.hasXma===!1){c("recoverableViolation")("Unable to getAttachmentBlob because attachment hasMedia and hasXma is false, from "+b,"messenger_web_media",void 0,{trackOnly:!0});e==null?void 0:e.endFail("attachmen_has_media_has_xma_false");return""}if(f||a.hasMedia!==!1){if((i||(i=d("I64"))).equal(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))){f=(f=o(a))!=null?f:"";if(f==null||f.length===0){c("recoverableViolation")("Unable to getAttachmentBlob because optimistic attachment url is null or empty, from "+b,"messenger_web_media",void 0,{trackOnly:!0});e==null?void 0:e.endFail("no_optimistic_attachment_url");return""}e==null?void 0:e.addPoint("return_optimistic");return f}return m(a.attachmentFbid,b,e)}return a.hasXma!==!1?n(a,"preview",b,e):""}function n(a,e,f,g){if(a==null){g==null?void 0:g.endFail("attachment_is_null");return""}if((i||(i=d("I64"))).equal(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&e==="preview"){var k=o(a);if(k==null||k.length===0){c("recoverableViolation")("Unable to getInfoUrlXMA because optimistic attachment url is null or empty, from "+f,"messenger_web_media",void 0,{trackOnly:!0});g==null?void 0:g.endFail("no_optimistic_attachment_url");return""}g==null?void 0:g.addPoint("return_optimistic");return k}k=l.get(a.attachmentFbid+e);if(k!=null){if(k.TAG===0)throw k.value;return k.value}g==null?void 0:g.addPoint("fetch_xma_blob_from_backend_start");k=d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByXMAId",{description:f,infoType:e,xmaId:d("MAWDbXMA").convertNumberToXMAId(Number.parseInt(a.attachmentFbid,10))}).then(function(c){g==null?void 0:g.addPoint("fetch_xma_blob_from_backend_success");l.set(a.attachmentFbid+e,{TAG:1,value:c!=null?URL.createObjectURL(c):""});return(h||(h=b("Promise"))).resolve()})["catch"](function(b){g==null?void 0:g.endFail("fetch_xma_blob_from_backend_fail",{string:{error:b.message}}),l.set(a.attachmentFbid+e,{TAG:1,value:""}),c("recoverableViolation")("Unable to getInfoUrlXMA, from "+f,"messenger_web_media",{error:b},{trackOnly:!0})});l.set(a.attachmentFbid+e,{TAG:0,value:k});throw k}function o(a){return a==null?void 0:a.previewUrl}g.setEagerAttachmentUrl=a;g.getAttachmentBlobNonOptional=m;g.getAttachmentBlob=e;g.getInfoUrlXMA=n}),98);
__d("MAWBlockUtils",["I64","LSContactUserBlockAction","LSIntEnum","LSThreadBitOffset","ReQL","asyncToGeneratorRuntime","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).useCallback,m=[0,31,35,55,56,58,24,25,19,85],n=[0,31,35,55,56,58,24,25,19,85,8,22],o=[35,19,85,56,24,25];function a(){var a=(h||(h=c("useReStore")))();return l(function(e,g){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(e)));if(b==null)return;var h=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b.threadKey).filter(function(a){return(i||(i=d("I64"))).equal(a.threadType,(j||(j=d("LSIntEnum"))).ofNumber(15))})));if(h==null)return;b=(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactUserBlockAction").MN_BLOCK))?d("LSThreadBitOffset").clear(m,h.capabilities,h.capabilities2,h.capabilities3,h.capabilities4):(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactUserBlockAction").FB_BLOCK))?d("LSThreadBitOffset").clear(n,h.capabilities,h.capabilities2,h.capabilities3,h.capabilities4):d("LSThreadBitOffset").set(o,h.capabilities,h.capabilities2,h.capabilities3,h.capabilities4);var k=b[0],l=b[1];yield a.runInTransaction(function(a){var b=babelHelpers["extends"]({},h,{capabilities:k,capabilities2:l});return a.threads.put(b)},"readwrite",void 0,void 0,f.id+":134")})())},[a])}g.clearedMnBlockCapabilities=m;g.clearedFbBlockCapabilities=n;g.useChangeThreadBlockCapabilities=a}),98);
__d("MAWExternalLinkUtil",["FBLogger","MAWOembedHelper","MAWOembedIframeContainer.react","Promise","asyncToGeneratorRuntime","err","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=["image/png","image/jpeg","image/jpg"],j=2*1e3;function k(a){return new(h||(h=b("Promise")))(function(b){return c("setTimeout")(b,a)})}function l(a){return(h||(h=b("Promise"))).race([a,k(j)])}function a(a){if(a==null)return null;var b=null;a=a.find(function(a){return Object.values(r).some(function(c){var d=c.schemes;c=c.url;d=d.some(function(b){return b.test(a.entity.url)});d&&(b=c);return d})});return a==null||b==null?null:{oEmbedRequest:b+"?url="+encodeURIComponent(a.entity.url)+"&format=json",oEmbedUrl:a.entity.url}}function e(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,e=a.fallbackUrl,f=a.qplEvent;a=a.request;b=(b=window.frames["maw-intermediate-iframe"])!=null?b:null;if(b==null){d("MAWOembedIframeContainer.react").createMAWOembedIframeContainer();if(window.frames["maw-intermediate-iframe"]==null){f==null?void 0:f.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_return:"iframe cannot be found."}});c("FBLogger")("messenger_web_sharing").warn("[external link] Cannot find the iframe to request oembed url response.");return}}try{a=(yield l(d("MAWOembedIframeContainer.react").requestUrl(a,d("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL,b)));if(a==null||a instanceof Blob){f==null?void 0:f.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"oembedResponse is null or an instance of Blob."}});c("FBLogger")("messenger_e2ee_web").warn("[external link] Failed to fetch oEmbed response: expected json response but got blob.");return}return o({fallbackUrl:e,rawResponse:a})}catch(a){f==null?void 0:f.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"Error thrown when trying to fetch oembed response in iframe."}});c("FBLogger")("messenger_e2ee_web").warn("[External link] Error thrown when trying to fetch oembed response in iframe.");return}});return m.apply(this,arguments)}function f(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e,f=a.qplEvent;a=a.url;if(a==null||!Boolean(a)){f==null?void 0:f.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"url was null or undefined"}});return(h||(h=b("Promise"))).resolve()}e=(e=window.frames["maw-intermediate-iframe"])!=null?e:null;if(e==null){d("MAWOembedIframeContainer.react").createMAWOembedIframeContainer();if(window.frames["maw-intermediate-iframe"]==null){f==null?void 0:f.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"iframe cannot be found."}});c("FBLogger")("messenger_e2ee_web").warn("[external link] Cannot find the iframe to request image blob response.");return}}a=(yield l(d("MAWOembedIframeContainer.react").requestUrl(a,d("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL,e)));if(a instanceof Blob)return a;f==null?void 0:f.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"imageBlobResponse is not instance of Blob"}});c("FBLogger")("messenger_e2ee_web").warn("[external link] Failed to fetch image blob response. ");return(h||(h=b("Promise"))).resolve()});return n.apply(this,arguments)}function o(a){var b,d=a.fallbackUrl;a=a.rawResponse;if(a.version!=="1.0")throw c("err")("Unsupported response version from oEmbed API");if(a.type==="photo"&&a.url==null)throw c("err")("Unsupported response from oEmbed API: photo does not have url field");return{author_name:a.author_name!=null?decodeURIComponent(a.author_name):void 0,height:a.height,thumbnail_height:a.thumbnail_height,thumbnail_url:a.thumbnail_url,thumbnail_width:a.thumbnail_width,title:a.title!=null?decodeURIComponent(a.title):void 0,type:a.type,url:(b=a.url)!=null?b:d,width:a.width}}function p(a){var b=q.some(function(b){return b.test(a)});return b?!0:Object.values(r).some(function(b){b=b.url;return a.startsWith(b)})}var q=[new RegExp("^http(?:s)?:\\/\\/i1\\.sndcdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/i\\.scdn\\.co.+$"),new RegExp("^http(?:s)?:\\/\\/(?:#!)?[^#?\\/]+\\.cloudfront\\.net.+$"),new RegExp("^http(?:s)?:\\/\\/pi\\.tedcdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/static01\\.nyt\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/i\\.vimeocdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/(?:#!)?[^#?\\/]+\\.tiktokcdn\\.com.+$")],r={NYTimes:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/www\\.nytimes\\.com\\/svc\\/oembed$"),new RegExp("^http(?:s)?:\\/\\/nytimes\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?nytimes\\.com\\/.+$")],url:"https://www.nytimes.com/svc/oembed/json/"},SoundCloud:{schemes:[new RegExp("^http(?:s)?:\\/\\/soundcloud\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/on\\.soundcloud\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/soundcloud\\.app\\.goog\\.gl\\/.+$")],url:"https://soundcloud.com/oembed"},Spotify:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/open\\.spotify\\.com\\/.+$")],url:"https://open.spotify.com/oembed"},Spreaker:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?spreaker\\.com\\/.+$")],url:"https://api.spreaker.com/oembed"},TED:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/ted\\.com\\/talks\\/.+$"),new RegExp("^http(?:s)?:\\/\\/www\\.ted\\.com\\/talks\\/.+$")],url:"https://www.ted.com/services/v1/oembed.json"},TikTok:{schemes:[new RegExp("^http(?:s)?:\\/\\/www\\.tiktok\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/www\\.tiktok\\.com\\/(?:#!)?[^#?\\/]+\\/video\\/.+$")],url:"https://www.tiktok.com/oembed"},Vimeo:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/album\\/(?:#!)?[^#?\\/]+\\/video\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/channels\\/(?:#!)?[^#?\\/]+\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/groups\\/(?:#!)?[^#?\\/]+\\/video\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/ondemand\\/(?:#!)?[^#?\\/]+\\/.+$"),new RegExp("^http(?:s)?:\\/\\/player\\.vimeo\\.com\\/video\\/.+$")],url:"https://vimeo.com/api/oembed.json"},youtube:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/watch.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/v\\/.+$"),new RegExp("^http(?:s)?:\\/\\/youtu\\.be\\/.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/playlist\\?list\\=.+$"),new RegExp("^http(?:s)?:\\/\\/youtube\\.com\\/playlist\\?list\\=.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/shorts.+$")],url:"https://www.youtube.com/oembed"}};g.allowedPreviewTypes=i;g.findFirstAvailableOembedUrlAndRequestPair=a;g.getOembedResponse=e;g.getImageBlobResponse=f;g.isAllowedRequestForFbsbx=p}),98);
__d("MAWOembedHelper",["$InternalEnum","ConstUriUtils","FBLogger","MAWExternalLinkUtil","SecureMessageListener","SecurePostMessage","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=["facebook.com","messenger.com","instagram.com","internalfb.com"];function i(a){if(a==null||typeof a!=="object")return null;var b=a.requestURL;a=a.requestMessageType;if(typeof a!=="string"||typeof b!=="string"||!d("ConstUriUtils").isValidUri(b))return null;a=j.cast(a);return a==null||a!==j.OEMBED_REQUEST_URL&&a!==j.THUMBNAIL_URL?null:[a,b]}function a(){var a=null,b=new(c("SecureMessageListener"))(window);function e(b){a=b.origin;b=b.data;b=i(b);if(b==null)return;var e=b[0],g=b[1];if(!d("MAWExternalLinkUtil").isAllowedRequestForFbsbx(g))return;c("promiseDone")(window.fetch(g).then(function(a){a.status!==200&&c("FBLogger")("messenger_e2ee_web").mustfix("[external link] fbsbx page fetching for the response is not successful.");switch(e){case j.OEMBED_REQUEST_URL:return a.json();case j.THUMBNAIL_URL:return a.blob()}}).then(function(a){f({type:e,url:g,value:a})})["catch"](function(){c("FBLogger")("messenger_e2ee_web").warn("[external link] Failed to fetch response in helper js.")}))}b.setEventHandler(e).setSupportedOrigins(h);b.beginListening();function f(b,d){var e=(d=d)!=null?d:1;if(a==null){e<=3&&window.setTimeout(function(){f(b,e+1)},250*Math.pow(2,e*e));return}c("SecurePostMessage").sendMessageToSpecificOrigin(window.parent,b,a)}}var j=b("$InternalEnum").Mirrored(["OEMBED_REQUEST_URL","THUMBNAIL_URL"]);g.init=a;g.MAWOembedIFrameMessageType=j}),98);
__d("XFBSbxMAWProxyPageControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/maw_proxy_page/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MAWOembedIframeContainer.react",["CookieConsentIFrameConfig","FBLogger","MAWOembedHelper","Promise","SecureMessageListener","SecurePostMessage","WAResolvable","XFBSbxMAWProxyPageControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){return"www.fbsbx.com"}var j=new Map(),k=null;function a(a,e,f){var g=j.get(a);if(g!=null)return g.promise;g=n(i());if(g==null)return(h||(h=b("Promise"))).resolve();c("SecurePostMessage").sendMessageToSpecificOrigin(f.contentWindow,{requestMessageType:e,requestURL:a},g);f=new(d("WAResolvable").Resolvable)();j.set(a,f);return f.promise}function l(a){if(a==null||typeof a!=="object")return null;var b=a.url,e=a.value;a=a.type;if(b==null||e==null||a==null||typeof a!=="string")return null;var f=d("MAWOembedHelper").MAWOembedIFrameMessageType.cast(a);if(typeof b==="string"&&f!=null){if(f===d("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL&&e instanceof Blob)return{type:d("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL,url:b,value:e};if(f===d("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL&&typeof e==="object"&&e.title!=null&&e.thumbnail_url!=null){f={author_name:typeof e.author_name==="string"?e.author_name:void 0,height:typeof e.height==="number"?e==null?void 0:e.height:150,thumbnail_height:typeof e.thumbnail_height==="number"?e.thumbnail_height:void 0,thumbnail_url:typeof e.thumbnail_url==="string"?e.thumbnail_url:void 0,thumbnail_width:typeof e.thumbnail_width==="number"?e.thumbnail_width:void 0,title:typeof e.title==="string"?e.title:void 0,type:typeof e.type==="string"?e.type:"photo",version:typeof e.version==="string"?e.version:"1.0",width:typeof e.width==="number"?e.width:200};return{type:d("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL,url:b,value:f}}}c("FBLogger")("messenger_e2ee_web").warn("Failed to handle message %s from fbsbx: cannot process event message in the correct format",a);return null}var m=function(a){a=l(a.data);if(a==null)return;var b=a.url;a=a.value;b=j.get(b);if(b==null){c("FBLogger")("messenger_e2ee_web").warn("Failed to handle message from fbsbx: cannot find the resolvable promise for the url");return}b.resolve(a)};function e(){var a;a=(a=window.frames["maw-intermediate-iframe"])!=null?a:null;var b=n(i());if(a!=null){(a=k)==null?void 0:a.beginListening();return k}if(b==null){c("FBLogger")("messenger_e2ee_web").warn("Failed to create maw-intermediate-iframe iFrame: cannot find the fbsbxUri");return}a=document.createElement("iframe");a.style.display="none";a.className="MAWOembedIframe";a.id="maw-intermediate-iframe";a.src=b;(b=document.body)==null?void 0:b.appendChild(a);k=new(c("SecureMessageListener"))(window).setEventHandler(m).setSupportedOrigins(["fbsbx.com"]);k.beginListening();return k}function n(a){var b;return(b=c("XFBSbxMAWProxyPageControllerRouteBuilder").buildUri({__cci:(b=c("CookieConsentIFrameConfig").consent_param)!=null?b:""}).setProtocol("https"))==null?void 0:(b=b.setDomain(a))==null?void 0:b.toString()}g.requestUrl=a;g.createMAWOembedIframeContainer=e}),98);
__d("MAWGetAttachmentThumbnailBlob",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","MAWBridgeSendAndReceive","MAWDbMedia","MAWGetIsMediaDownloadStatusEnabled","Promise","WAHashUtils","gkx","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=new Map();function a(a,b){k.set(a,{TAG:"done",url:b})}function e(a,b,e){if(a==null){c("FBLogger")("messenger_web_media").warn("Unable to getThumbnailBlobDataUrlByMediaId because attachment is null, from %s",b);e==null?void 0:e.endFail("attachment_is_null");return""}if(a.hasMedia===!1&&!d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusEnabled()){c("FBLogger")("messenger_web_media").warn("Unable to getThumbnailBlobDataUrlByMediaId because attachment hasMedia is false, from %s",b);e==null?void 0:e.endFail("attachment_has_media_false");return""}if((i||(i=d("I64"))).equal(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))){var f=l(a);if(f==null||f.length===0){c("FBLogger")("messenger_web_media").warn("Unable to getThumbnailBlobDataUrlByMediaId because optimistic attachment url is null or empty, from %s",b);e==null?void 0:e.endFail("no_optimistic_attachment_url");return""}e==null?void 0:e.addPoint("return_optimistic");return f}f=k.get(a.attachmentFbid);if(f!=null){if(f.TAG==="loading")throw f.urlPromise;return f.url}f=!c("gkx")("2419")||isFinite(a.attachmentFbid)?n(a,b,e):m(a,b,e);k.set(a.attachmentFbid,{TAG:"loading",urlPromise:f});throw f}function l(a){return a==null?void 0:a.previewUrl}function m(a,e,f){f==null?void 0:f.addPoint("fetch_thumbnail_blob_from_backend_start");var g=d("MAWBridgeSendAndReceive").sendAndReceive("backend","getThumbnailBlobDataUrlByHashedPlaintextHash",{description:e,plaintextHash:d("WAHashUtils").stringToPlaintextHash(a.attachmentFbid),qplInstanceKey:f==null?void 0:f.getInstanceKey()}).then(function(d){!Boolean(d)?(f==null?void 0:f.endFail("fetch_thumbnail_blob_from_backend_fail",{string:{error:"empty-url"}}),c("FBLogger")("messenger_web_media").warn("Unable to getThumbnailBlobDataUrlByMediaId, backend returned empty url, from %s",e)):f==null?void 0:f.addPoint("fetch_thumbnail_blob_from_backend_success");k.set(a.attachmentFbid,{TAG:"done",url:c("nullthrows")(d)});return(h||(h=b("Promise"))).resolve()})["catch"](function(d){f==null?void 0:f.endFail("fetch_thumbnail_blob_from_backend_fail",{string:{error:d.message}});k.set(a.attachmentFbid,{TAG:"done",url:""});c("FBLogger")("messenger_web_media").catching(d).warn("Unable to getThumbnailBlobDataUrlByHashedPlaintextHash, from %s",e);return(h||(h=b("Promise"))).resolve()});return g}function n(a,e,f){f==null?void 0:f.addPoint("fetch_thumbnail_blob_from_backend_start");var g=d("MAWBridgeSendAndReceive").sendAndReceive("backend","getThumbnailBlobDataUrlByMediaId",{description:e,mediaId:d("MAWDbMedia").convertNumberToMediaId(Number.parseInt(a.attachmentFbid,10)),qplInstanceKey:f==null?void 0:f.getInstanceKey()}).then(function(d){!Boolean(d)?(f==null?void 0:f.endFail("fetch_thumbnail_blob_from_backend_fail",{string:{error:"empty-url"}}),c("FBLogger")("messenger_web_media").warn("Unable to getThumbnailBlobDataUrlByMediaId, backend returned empty url, from %s",e)):f==null?void 0:f.addPoint("fetch_thumbnail_blob_from_backend_success");k.set(a.attachmentFbid,{TAG:"done",url:c("nullthrows")(d)});return(h||(h=b("Promise"))).resolve()})["catch"](function(d){f==null?void 0:f.endFail("fetch_thumbnail_blob_from_backend_fail",{string:{error:d.message}});k.set(a.attachmentFbid,{TAG:"done",url:""});c("FBLogger")("messenger_web_media").catching(d).warn("Unable to getThumbnailBlobDataUrlByMediaId, from %s",e);return(h||(h=b("Promise"))).resolve()});return g}g.setEagerThumbnailUrl=a;g.getThumbnailBlob=e}),98);
__d("MAWGetEphemeralSettings",["I64","MAWBridgeSendAndReceive","MAWChatJid","ReQL","WAJids","WALogger","WATimeUtils","asyncToGeneratorRuntime","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[ephemeral settings in memory]: MAWGetEphemeralSettings api call for chatJid "," returns ",""]);i=function(){return a};return a}var j=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("MAWGetEphemeralSettings"),k=c("requireDeferred")("MAWEphemeralSettingsUpdate").__setRef("MAWGetEphemeralSettings");function a(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(d("WAJids").switchOnMsgrChatJidType(a,{group:function(){return!1},user:function(){return!0}})){var e=(yield j.load());e=(yield e());b=(b=b)!=null?b:yield d("MAWChatJid").toThreadKeyMaybe(e.tables,a);if(b!=null){e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(b)));if(e!=null&&e.disappearingSettingTtl!=null){b={ephemeralExpirationInSec:(h||(h=d("I64"))).to_int32(e.disappearingSettingTtl),ephemeralLastUpdatedOrSetTimestamp:e.disappearingSettingUpdatedBy!=null?d("WATimeUtils").castMilliSecondsToUnixTime((h||(h=d("I64"))).to_float(e.disappearingSettingUpdatedBy)):d("WATimeUtils").unixTime()};return b}return}return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getEphemeralSettings",{threadId:a}).then(function(b){d("WALogger").LOG(i(),a,b);if(b!=null){c("promiseDone")(k.load().then(function(c){return c.updateEphemeralSettingsByChatJid(b.ephemeralExpirationInSec,b.ephemeralLastUpdatedOrSetTimestamp,!1,a,!0)}));return b}return void 0})}});return l.apply(this,arguments)}g.getEphemeralSetting=a}),98);
__d("MAWMessageRequestUtil",["I64","LSContactBitOffset","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e){if(a==="pending"||a==="other")return!0;var f=d("LSContactBitOffset").hasWithDefault(64,e,!0);return a==="inbox"&&(h||(h=d("I64"))).equal(e.contactViewerRelationship,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").NOT_CONTACT))&&!f?b:!1}function k(a){return a==="pending"||a==="other"}function a(a){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?k(a.folderName):!1}function l(a,b){return b!=null?j(a.folderName,!(h||(h=d("I64"))).equal(a.lastActivityTimestampMs,h.zero),b[1]):!1}function b(a,b){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?l(a,b):!1}e=[8,18,19,34,24,25,122];f=[21,48];g.isMessageRequestV2=j;g.isOneOnOneMessageRequest=a;g.isOneOnOneMessageRequestV2=b;g.disabledThreadCapabilitiesForIncomingRequest=e;g.enabledThreadCapabilitiesForIncomingRequest=f}),98);
__d("clearedMAWMnRestrictCapabilities",[],(function(a,b,c,d,e,f){"use strict";a=[0,31,35,55,56,58,24,25,35,19];b=a;f["default"]=b}),66);
__d("MAWUpdateLSThreadCapabilities",["fbt","I64","LSBitOffset","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWBlockUtils","MAWCurrentUser","MAWMessageRequestUtil","Promise","ReQL","asyncToGeneratorRuntime","clearedMAWMnRestrictCapabilities"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=d("MAWCurrentUser").getID(),m=(k||(k=d("I64"))).of_string(l);function a(a,c){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(c)).then(function(c){if(c==null)return(i||(i=b("Promise"))).resolve();var e=d("LSBitOffset").set((j||(j=d("LSIntEnum"))).ofNumber(27),c.capabilities);c=babelHelpers["extends"]({},c,{capabilities:e});return a.threads.put(c)}).then(function(){})}function e(a,c){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(c)).then(function(c){if(c==null)return(i||(i=b("Promise"))).resolve();var e=d("LSBitOffset").clear((j||(j=d("LSIntEnum"))).ofNumber(27),c.capabilities);c=babelHelpers["extends"]({},c,{capabilities:e});return a.threads.put(c)}).then(function(){})}function f(a,e){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(e)).then(function(c){if(c==null)return(i||(i=b("Promise"))).resolve([void 0,void 0]);var f=d("ReQL").firstAsync(d("LSMessagingThreadTypeUtil").isOneToOne(c.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.participants).getKeyRange(e),d("ReQL").fromTableAscending(a.contacts)).filter(function(a){a=a[1];return!(k||(k=d("I64"))).equal(a.id,m)}).map(function(a){a=a[1];return a}):d("ReQL").empty());return(i||(i=b("Promise"))).all([i.resolve(c),f])}).then(function(e){var f=e[0];if(f==null)return(i||(i=b("Promise"))).resolve();e=e[1];if(e==null)return(i||(i=b("Promise"))).resolve();var g=(k||(k=d("I64"))).equal(e.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").MESSAGE_BLOCKED)),h=k.equal(e.blockedByViewerStatus,j.ofNumber(c("LSContactBlockedByViewerStatus").FULLY_BLOCKED));e=d("LSContactBitOffset").has(66,e);h=h?d("LSThreadBitOffset").clear(d("MAWBlockUtils").clearedFbBlockCapabilities,f.capabilities,f.capabilities2,f.capabilities3,f.capabilities4):g?d("LSThreadBitOffset").clear(d("MAWBlockUtils").clearedMnBlockCapabilities,f.capabilities,f.capabilities2,f.capabilities3,f.capabilities4):e?d("LSThreadBitOffset").clear(c("clearedMAWMnRestrictCapabilities"),f.capabilities,f.capabilities2,f.capabilities3,f.capabilities4):[f.capabilities,f.capabilities2,f.capabilities3,f.capabilities4];g=h[0];e=h[1];var l=h[2];h=h[3];return a.threads.put(babelHelpers["extends"]({},f,{capabilities:g,capabilities2:e,capabilities3:l,capabilities4:h})).then(function(){})})}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){a=a.threads;c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(c)));if(c==null)return(i||(i=b("Promise"))).resolve();var e=d("LSThreadBitOffset").set.apply(d("LSThreadBitOffset"),[d("MAWMessageRequestUtil").disabledThreadCapabilitiesForIncomingRequest].concat(d("LSThreadBitOffset").clear(d("MAWMessageRequestUtil").enabledThreadCapabilitiesForIncomingRequest,c.capabilities,c.capabilities2,c.capabilities3,c.capabilities4))),f=e[0],g=e[1],h=e[2];e=e[3];yield a.put(babelHelpers["extends"]({},c,{additionalThreadContext:void 0,capabilities:f,capabilities2:g,capabilities3:h,capabilities4:e}))});return o.apply(this,arguments)}function p(a,b,c){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b)));if(b==null)return;c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.contacts,["name"]).getKeyRange(c)));if(c==null)return;c=h._("__JHASH__uQTwTbCP0iW__JHASH__",[h._param("Inviter Name",c.name)]).toString();var e=d("LSThreadBitOffset").set([105],b.capabilities,b.capabilities2,b.capabilities3,b.capabilities4),f=e[0],g=e[1],i=e[2];e=e[3];yield a.threads.put(babelHelpers["extends"]({},b,{capabilities:f,capabilities2:g,capabilities3:i,capabilities4:e,snippet:c}))});return q.apply(this,arguments)}function r(a,b){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(c)));if(e==null)return;c=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.group_invites).getKeyRange(c)));var f=d("LSThreadBitOffset").clear([105],e.capabilities,e.capabilities2,e.capabilities3,e.capabilities4),g=f[0],h=f[1],i=f[2];f=f[3];yield a.threads.put(babelHelpers["extends"]({},e,{capabilities:g,capabilities2:h,capabilities3:i,capabilities4:f,snippet:void 0}));yield c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield a.group_invites["delete"](b.threadKey,b.inviterId,b.inviteeId)});return function(a){return c.apply(this,arguments)}}())});return s.apply(this,arguments)}g.enableAddMembersTxn=a;g.disableAddMembersTxn=e;g.disableBlockerCapabilitiesTxn=f;g.updateNonMessageRequestThreadTxn=n;g.setGroupInviteTxn=p;g.clearGroupInviteTxn=r}),226);
__d("MDSColumnContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("MDSColumnItemContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({isFirst:!1,isLast:!1});g["default"]=b}),98);
__d("isIE11OrGreater",["UserAgent"],(function(a,b,c,d,e,f,g){"use strict";a=c("UserAgent").isBrowser("IE >= 11");b=a;g["default"]=b}),98);
__d("MDSColumnItem.react",["BaseView.react","CometErrorBoundary.react","CometPlaceholder.react","MDSColumnContext","MDSColumnItemContext","isIE11OrGreater","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext,l={divider:{borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},expanding:{flexBasis:"x1l7klhg",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x2lwn1j",$$css:!0},expandingIE11:{flexBasis:"xdl72j9",$$css:!0},firstChildDisplay:{display:"x1s85apg",$$css:!0},firstChildMargin:{marginTop:"xdj266r",$$css:!0},lastChildMargin:{marginBottom:"xat24cr",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0}},m={center:{alignItems:"x6s0dn4",$$css:!0},end:{alignItems:"xuk3077",$$css:!0},start:{alignItems:"x1cy8zhl",$$css:!0}},n={4:{paddingStart:"x1e558r4",paddingLeft:null,paddingRight:null,paddingEnd:"x150jy0e",$$css:!0},8:{paddingStart:"xurb0ha",paddingLeft:null,paddingRight:null,paddingEnd:"x1sxyh0",$$css:!0},12:{paddingStart:"x1ye3gou",paddingLeft:null,paddingRight:null,paddingEnd:"xn6708d",$$css:!0},16:{paddingStart:"x1swvt13",paddingLeft:null,paddingRight:null,paddingEnd:"x1pi30zi",$$css:!0},20:{paddingStart:"x5ib6vp",paddingLeft:null,paddingRight:null,paddingEnd:"xc73u3c",$$css:!0}},o={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0},40:{paddingTop:"x13zrc24",$$css:!0}},p={4:{paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",$$css:!0},8:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},12:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},16:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},20:{paddingTop:"x1cnzs8",paddingBottom:"xx6bls6",$$css:!0}},q={4:{marginTop:"xr9ek0c",marginBottom:"xjpr12u",$$css:!0},8:{marginTop:"x1gslohp",marginBottom:"x12nagc",$$css:!0},12:{marginTop:"x1k70j0n",marginBottom:"xzueoph",$$css:!0},16:{marginTop:"x1xmf6yo",marginBottom:"x1e56ztr",$$css:!0},20:{marginTop:"x1anpbxc",marginBottom:"xyorhqc",$$css:!0},24:{marginTop:"x14vqqas",marginBottom:"xod5an3",$$css:!0},32:{marginTop:"xw7yly9",marginBottom:"x1yztbdb",$$css:!0},40:{marginTop:"x1sy10c2",marginBottom:"xieb3on",$$css:!0}},r={bottom:{justifyContent:"x13a6bvl",$$css:!0},center:{justifyContent:"xl56j7k",$$css:!0},"space-between":{justifyContent:"x1qughib",$$css:!0}},s={4:{marginStart:"xsgj6o6",marginLeft:null,marginRight:null,marginEnd:"xw3qccf",$$css:!0},8:{marginStart:"x1i64zmx",marginLeft:null,marginRight:null,marginEnd:"x1emribx",$$css:!0},12:{marginStart:"x16n37ib",marginLeft:null,marginRight:null,marginEnd:"xq8finb",$$css:!0},16:{marginStart:"x1d52u69",marginLeft:null,marginRight:null,marginEnd:"xktsk01",$$css:!0},20:{marginStart:"xmn8rco",marginLeft:null,marginRight:null,marginEnd:"x1h5jrl4",$$css:!0}},t=j.forwardRef(a);function a(a,b){var d,e,f,g;a=babelHelpers["extends"]({},a);d=(d=k(c("MDSColumnContext")))!=null?d:{};var i=a.align;e=i===void 0?(e=d.align)!=null?e:"stretch":i;i=a.children;var u=a.expanding;u=u===void 0?!1:u;var v=a.fallback,w=a.paddingHorizontal;f=w===void 0?(f=d.paddingHorizontal)!=null?f:0:w;w=a.paddingTop;var x=a.paddingVertical;x=x===void 0?0:x;var y=a.placeholder,z=a.verticalAlign;z=z===void 0?"top":z;var A=babelHelpers.objectWithoutPropertiesLoose(a,["align","children","expanding","fallback","paddingHorizontal","paddingTop","paddingVertical","placeholder","verticalAlign"]),B=k(c("MDSColumnItemContext")),C=B.isFirst;B=B.isLast;var D=(h||(h=c("stylex"))).compose(a.xstyle);g=j.jsxs(j.Fragment,{children:[d.hasDividers===!0&&j.jsx(c("BaseView.react"),{role:"separator",xstyle:[l.divider,s[(g=d.paddingHorizontal)!=null?g:0],C&&l.firstChildDisplay]}),j.jsx(c("BaseView.react"),babelHelpers["extends"]({},A,{ref:b,xstyle:[l.root,u&&[l.expanding,c("isIE11OrGreater")&&l.expandingIE11],e!=="stretch"&&m[e],z!=="top"&&r[z],n[f],p[x],w!=null&&o[w],d.spacing!=null&&[q[d.spacing],D.marginTop==null&&C&&l.firstChildMargin,D.marginBottom==null&&B&&l.lastChildMargin],a.xstyle],children:j.jsx(c("MDSColumnContext").Provider,{value:null,children:i})}))]});if(v!==void 0){a.fallback;var E=babelHelpers.objectWithoutPropertiesLoose(a,["fallback"]);v===null?g=j.jsx(c("CometErrorBoundary.react"),{children:g}):g=j.jsx(c("CometErrorBoundary.react"),{fallback:function(a,c){return j.jsx(t,babelHelpers["extends"]({},E,{ref:b,children:typeof v==="function"?v(a,c):v}))},children:g})}if(y!==void 0){a.placeholder;A=babelHelpers.objectWithoutPropertiesLoose(a,["placeholder"]);g=j.jsx(c("CometPlaceholder.react"),{fallback:y!=null?j.jsx(t,babelHelpers["extends"]({},A,{ref:b,children:y})):null,children:g})}return g}a.displayName=a.name+" [from "+f.id+"]";b=t;g["default"]=b}),98);
__d("MDSRowContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("MDSRowItem.react",["BaseRowItem.react","CometErrorBoundary.react","CometPlaceholder.react","MDSRowContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={4:{paddingEnd:"xg83lxy",paddingStart:"x1h0ha7o",$$css:!0},8:{paddingEnd:"x150jy0e",paddingStart:"x1e558r4",$$css:!0},12:{paddingEnd:"xsyo7zv",paddingStart:"x16hj40l",$$css:!0},16:{paddingEnd:"x1sxyh0",paddingStart:"xurb0ha",$$css:!0},24:{paddingEnd:"xn6708d",paddingStart:"x1ye3gou",$$css:!0},32:{paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",$$css:!0}},l={4:{paddingBottom:"x1120s5i",paddingTop:"x1nn3v0j",$$css:!0},8:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},12:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},16:{paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},24:{paddingBottom:"xsag5q8",paddingTop:"xz9dl7a",$$css:!0},32:{paddingBottom:"x1l90r2v",paddingTop:"xyamay9",$$css:!0}},m=i.forwardRef(a);function a(a,b){var d;a=babelHelpers["extends"]({},a);d=(d=j(c("MDSRowContext")))!=null?d:{};var e=d.spacingHorizontal;d=d.spacingVertical;var f=a.fallback,g=a.placeholder,h=babelHelpers.objectWithoutPropertiesLoose(a,["fallback","placeholder"]);if(g!==void 0){a.placeholder;var n=babelHelpers.objectWithoutPropertiesLoose(a,["placeholder"]);return i.jsx(c("CometPlaceholder.react"),{fallback:g!=null?i.jsx(m,babelHelpers["extends"]({},n,{ref:b,children:g})):null,children:i.jsx(m,babelHelpers["extends"]({},n,{ref:b}))})}if(f!==void 0){a.fallback;var o=babelHelpers.objectWithoutPropertiesLoose(a,["fallback"]);return f===null?i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(m,babelHelpers["extends"]({},o,{ref:b}))}):i.jsx(c("CometErrorBoundary.react"),{fallback:function(a,c){return i.jsx(m,babelHelpers["extends"]({},o,{ref:b,children:typeof f==="function"?f(a,c):f}))},children:i.jsx(m,babelHelpers["extends"]({},o,{ref:b}))})}return i.jsx(c("BaseRowItem.react"),babelHelpers["extends"]({},h,{ref:b,useDeprecatedStyles:h.useDeprecatedStyles,xstyle:[k[e],l[d],h.xstyle],children:i.jsx(c("MDSRowContext").Provider,{value:null,children:h.children})}))}a.displayName=a.name+" [from "+f.id+"]";b=m;g["default"]=b}),98);
__d("MDSRow.react",["BaseRow.react","MDSColumnContext","MDSColumnItem.react","MDSRowContext","MDSRowItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useMemo,l={0:{$$css:!0},4:{paddingEnd:"x150jy0e",paddingStart:"x1e558r4",$$css:!0},8:{paddingEnd:"x1sxyh0",paddingStart:"xurb0ha",$$css:!0},10:{paddingEnd:"x1iji9kk",paddingStart:"x1sln4lm",$$css:!0},12:{paddingEnd:"xn6708d",paddingStart:"x1ye3gou",$$css:!0},16:{paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",$$css:!0}},m={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},10:{paddingTop:"x889kno",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0}},n={0:{$$css:!0},4:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},8:{paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},10:{paddingBottom:"x1a8lsjc",paddingTop:"x889kno",$$css:!0},12:{paddingBottom:"xsag5q8",paddingTop:"xz9dl7a",$$css:!0},16:{paddingBottom:"x1l90r2v",paddingTop:"xyamay9",$$css:!0},20:{paddingBottom:"xx6bls6",paddingTop:"x1cnzs8",$$css:!0}},o={0:{$$css:!0},4:{marginEnd:"xwrv7xz",marginStart:"x8182xy",$$css:!0},8:{marginEnd:"xcud41i",marginStart:"x139jcc6",$$css:!0},10:{marginEnd:"x6zhf5e",marginStart:"xrzrlj5",$$css:!0},12:{marginEnd:"xykv574",marginStart:"xbmpl8g",$$css:!0},16:{marginEnd:"x1n0m28w",marginStart:"xp7jhwk",$$css:!0},24:{marginEnd:"x12rz0ws",marginStart:"x16hk5td",$$css:!0},32:{marginEnd:"x19f6ikt",marginStart:"x169t7cy",$$css:!0}},p={0:{$$css:!0},4:{marginBottom:"xmgb6t1",marginTop:"x1kgmq87",$$css:!0},8:{marginBottom:"x4vbgl9",marginTop:"x1rdy4ex",$$css:!0},10:{marginBottom:"xz62fqu",marginTop:"x16ldp7u",$$css:!0},12:{marginBottom:"x4cne27",marginTop:"xifccgj",$$css:!0},16:{marginBottom:"x1wsgfga",marginTop:"x9otpla",$$css:!0},24:{marginBottom:"xh3wvx0",marginTop:"x7wgvq7",$$css:!0},32:{marginBottom:"x1oo3vh0",marginTop:"xwya9rg",$$css:!0}};e=i.forwardRef(a);function a(a,b){var d;a=babelHelpers["extends"]({},a);var e=j(c("MDSColumnContext")),f=j(c("MDSRowContext")),g=(e==null?void 0:e.paddingHorizontal)!=null?0:12,h=(e==null?void 0:e.spacing)!=null?0:16,q=a.children,r=a.paddingHorizontal;g=r===void 0?g:r;r=a.paddingVertical;r=r===void 0?0:r;var s=a.paddingTop;d=s===void 0?(d=a.paddingVertical)!=null?d:h:s;h=a.spacing;s=h===void 0?12:h;h=a.spacingHorizontal;var t=h===void 0?s:h;h=a.spacingVertical;var u=h===void 0?s:h;s=a.xstyle;h=babelHelpers.objectWithoutPropertiesLoose(a,["children","paddingHorizontal","paddingVertical","paddingTop","spacing","spacingHorizontal","spacingVertical","xstyle"]);a=k(function(){return{spacingHorizontal:t,spacingVertical:u}},[t,u]);b=i.jsx(c("BaseRow.react"),babelHelpers["extends"]({},h,{ref:b,xstyle:[l[g],n[r],d!=null&&m[d],o[t],p[u],s],children:i.jsx(c("MDSRowContext").Provider,{value:a,children:q})}));if(f!=null)return i.jsx(c("MDSRowItem.react"),{expanding:h.expanding,children:b});return e!=null?i.jsx(c("MDSColumnItem.react"),{expanding:h.expanding,children:b}):b}a.displayName=a.name+" [from "+f.id+"]";d=e;g["default"]=d}),98);
__d("MWChatConfirmTabCloseDialog.react",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a={body:h._("__JHASH__BpxPpP9rp8f__JHASH__"),confirm:h._("__JHASH__CqytfJoYvSJ__JHASH__"),title:h._("__JHASH__56tk0437PKy__JHASH__")};g.content=a}),226);
__d("MWChatFocusComposerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useMemo,l=c.useRef,m=e({focusComposer:void 0,setFocusComposer:function(){}});function a(a){a=a.children;var b=l(),c=b.current,d=k(function(){return{focusComposer:c,setFocusComposer:function(a){b.current=a}}},[c]);return i.jsx(m.Provider,{value:d,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(m)}g.MWChatFocusComposerContextProvider=a;g.useMWChatFocusComposer=b}),98);
__d("MWChatHeaderActionButton.react",["MWXCircleButton.react","MWXTooltip.react","MessengerWebUXLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=i.forwardRef(a);function a(a,b){var d=a.loggingEvent,e=a.size,f=a.tooltipLabel,g=a.tooltipPosition,h=a.color,j=a.onPress;a=babelHelpers.objectWithoutPropertiesLoose(a,["loggingEvent","size","tooltipLabel","tooltipPosition","color","onPress"]);var k=c("MessengerWebUXLogger").useLogOnPressInteraction();k=k(j,d);return i.jsx(c("MWXTooltip.react"),{align:"middle",position:(j=g)!=null?j:"above",tooltip:f,children:i.jsx(c("MWXCircleButton.react"),babelHelpers["extends"]({color:h,label:f,onPress:k,ref:b,size:(d=e)!=null?d:28,type:"deemphasized"},a))})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("MWInboxPassiveContext.react",["I64","MWInboxProvider.react","emptyFunction","react","useMWInboxURIState"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;e=b.createContext;var k=b.useContext,l=b.useEffect,m=b.useMemo;b={isPassive:!1,setIsPassive:c("emptyFunction")};var n=e(b);function o(a){if(a!=null&&a.type===d("useMWInboxURIState").MWInboxURIStateTag.Recent){a=a.uriStateDetails;a!=null&&a.type===d("useMWInboxURIState").MWInboxURIStateDetailsType.Thread&&(i||(i=d("I64"))).to_string(a.fbid)}return""}function a(a){var b=a.children,c=a.isPassive,e=a.setIsPassive;a=k(d("MWInboxProvider.react").MWInboxProviderContext);a=o(a);l(function(){e(!1)},[e,a]);a=m(function(){return{isPassive:c,setIsPassive:e}},[c,e]);return j.jsx(n.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g.MWInboxPassiveContext=n;g.MWInboxPassiveContextProvider=a}),98);
__d("useMWInboxPassiveContext",["MWInboxPassiveContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(d("MWInboxPassiveContext.react").MWInboxPassiveContext)}g["default"]=a}),98);
__d("MWChatTabFocusHandler",["CometHideLayerOnEscape.react","FocusWithinHandler.react","MWChatFocusComposerContext","gkx","react","stylex","useMWInboxPassiveContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useRef,m={root:{height:"x5yr21d",":focus_outline":"x1uvtmcs",$$css:!0}};function n(){try{var a;return((a=document.activeElement)==null?void 0:a.getAttribute("data-release-focus-from"))==="CLICK"}catch(a){return!1}}function a(a){var b=a.children,e=a.disableAutoFocus,f=a.onBlur,g=a.onEscape,i=a.onFocus;a=a.xstyle;var o=l(null),p=c("useMWInboxPassiveContext")(),q=p.setIsPassive;p=d("MWChatFocusComposerContext").useMWChatFocusComposer();var r=p.focusComposer;e===!0&&(r=void 0);p=k(function(){if(o.current!=null&&r!=null&&window.getSelection().toString()===""&&(o.current===document.activeElement||n()))return r()},[o,r]);return j.jsx(c("FocusWithinHandler.react"),{onBlurWithin:function(){return f==null?void 0:f()},onFocusWithin:function(a){a.target instanceof HTMLElement&&a.target.getAttribute("data-prevent_chattab_focus")==null&&(i==null?void 0:i());o.current!=null&&r!=null&&o.current===a.target&&r();if(c("gkx")("24041"))return q(!1)},children:j.jsx(c("CometHideLayerOnEscape.react"),{onHide:function(){return g==null?void 0:g()},children:j.jsx("div",{className:(h||(h=c("stylex")))(m.root,a),onClick:p,ref:o,role:"none",tabIndex:-1,children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMAWEditMessageData",["MAWEditMessageContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(d("MAWEditMessageContext.react").Context);a=a.editMessageData;return a}g["default"]=a}),98);
__d("MWEditMessageOverlay.react",["react","useMAWEditMessageData"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.messageId;var b=c("useMAWEditMessageData")(),d=b!=null;a=a!=null&&a===(b==null?void 0:b.messageId);return!d||a?null:i.jsx("div",{className:"xyl4keb x5yr21d x17qophe x1ks1olk x10l6tqk x13vifvy xh8yej3 x1vjfegm"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useDebouncedState",["clearTimeout","react","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useRef,k=b.useState,l=100;function a(a,b){var d,e=(d=b==null?void 0:b.debounceMS)!=null?d:l;d=(b==null?void 0:b.doNotDebounce)!==!0;b=k(a);a=b[0];var f=b[1],g=i(n,[]);b=i(m,[g,e]);var h=j(null);return[a,d?b:f,g];function m(a){g(),h.current=c("setTimeoutAcrossTransitions")(function(){return f(a)},e)}function n(){c("clearTimeout")(h.current),h.current=null}}g["default"]=a}),98);
__d("MWInboxThreadMessagesSpinner.react",["CometVisualCompletionAttributes","MWXSpinner.react","react","useDebouncedState","useIsMountedRef","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.delayMs;a=a.vcIgnore;var d=c("useIsMountedRef")();b=c("useDebouncedState")(function(){return!0},{debounceMS:b,doNotDebounce:!b});var e=b[0],f=b[1];b=j(function(){return{onHidden:function(){d.current&&f(!1)},onVisible:function(){d.current&&f(!0)}}},[d,f]);b=c("useVisibilityObserver")(b);return i.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x1t1x2f9 x1iyjqo2 x2lah0s xxk0z11 xl56j7k xsag5q8 xz9dl7a x1eb86dx",ref:b,role:"row"},a===!0?c("CometVisualCompletionAttributes").IGNORE:{},{children:i.jsx("div",{role:"cell",children:e?i.jsx(c("MWXSpinner.react"),{color:"disabled",size:24}):i.jsx("div",{className:"x1eb86dx xxk0z11 xh8yej3"})})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2HeaderCloseButton.react",["fbt","MWChatHeaderActionButton.react","MWXIconCross","MWXThreadThemeColor","react","useSetAttributeRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._("__JHASH__h_m7dC6Kxvx__JHASH__");function a(a){var b=a.label,e=a.onPress;a=a.testid;a=c("useSetAttributeRef")("data-prevent_chattab_focus","1");return j.jsx(c("MWChatHeaderActionButton.react"),{color:d("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),icon:c("MWXIconCross"),iconRatio:"large",loggingEvent:"close_chat_tab",onPress:e,ref:a,testid:void 0,tooltipLabel:(e=b)!=null?e:k})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2HeaderContainer.react",["MDSRow.react","MWEditMessageOverlay.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={divider:{boxShadow:"x7m3og9",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"xfpmyvw",borderTopEndRadius:"xgqcy7u",borderTopStartRadius:"x1lq5wgf",display:"x78zum5",flexShrink:"x2lah0s",height:"x10w6t97",justifyContent:"x1qughib",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",position:"x1n2onr6",zIndex:"xhtitgo",$$css:!0}};function a(a){var b=a.divider;b=b===void 0?!0:b;var d=a.endContent;d=d===void 0?null:d;a=a.startContent;a=a===void 0?null:a;return j.jsxs("div",{className:(h||(h=c("stylex")))(k.root,b?k.divider:!1),children:[j.jsx(c("MWEditMessageOverlay.react"),{}),j.jsx(c("MDSRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:a}),d]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerHasContentContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useMemo,l=c.useRef,m=e({hasContentRef:void 0});function a(a){a=a.children;var b=l(!1),c=k(function(){return{hasContentRef:b}},[b]);return i.jsx(m.Provider,{value:c,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(m)}g.MWV2ComposerHasContentContextProvider=a;g.useComposerHasContext=b}),98);
__d("useMWV2CloseTab",["I64","MWChatConfirmTabCloseDialog.react","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWV2ComposerHasContentContext.react","react","useCometConfirmationDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback;function a(a,b){var e=d("MWChatStateV2.react").useDispatch(),f=c("useCometConfirmationDialog")(),g=d("MWV2ComposerHasContentContext.react").useComposerHasContext(),h=g.hasContentRef;return j(function(){var c=function(){if(a!=null){var c,f=d("MWChatInteraction").getInteractionTraceForThreadKey((i||(i=d("I64"))).to_string(a));if(f!=null&&(((c=f.getTrace())==null?void 0:c.traceStatus)==null||((c=f.getTrace())==null?void 0:c.traceStatus)==="START")){c=!0;f.cancelTrace("close_tab",c)}}e(d("MWChatStateActions").closeTab(Date.now(),b.tabId))};if(a!=null&&(h==null?void 0:h.current)===!0)return f(d("MWChatConfirmTabCloseDialog.react").content,function(){c()},function(){});c()},[a,b,e,f,h])}g["default"]=a}),98);
__d("MWV2ChatTabHeaderLoadingWithGlimmers.react",["MDSGlimmer.react","MWChatStateV2Types","MWV2HeaderCloseButton.react","MWV2HeaderContainer.react","react","useMWV2CloseTab"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={headerGlimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xlup9mm",marginStart:"x17adc0v",width:"x1vz4e29",$$css:!0}};function a(a){a=a.tab;a=c("useMWV2CloseTab")(a.tabType.type===d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab?a.tabType.threadKeyDescriptor.threadKey:void 0,a);return i.jsx(c("MWV2HeaderContainer.react"),{endContent:i.jsx(c("MWV2HeaderCloseButton.react"),{onPress:a}),startContent:i.jsx(c("MDSGlimmer.react"),{index:0,xstyle:j.headerGlimmer})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2IsTabFocusedContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=e(!1);function a(a){var b=a.children;a=a.isFocused;return i.jsx(k.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(k)}g.MWV2IsTabFocusedContextProvider=a;g.useIsTabFocused=b}),98);
__d("useMWPEditMessageExit",["MAWEditMessageContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(d("MAWEditMessageContext.react").Context),b=a.editMessageData,c=a.setEditMessageData;a=function(){c(null)};b=b!=null;return{exitEditMessageMode:a,isEditMessageModeActive:b}}g["default"]=a}),98);
__d("MWV2TabContainer",["MWChatFocusComposerContext","MWChatStateActions","MWChatStateContext","MWChatStateV2.react","MWChatTabFocusHandler","react","stylex","useMWPEditMessageExit","useMWV2CloseTab"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={defaultHeight:{height:"x1rgmuzj",maxHeight:"x85a59c","@media (min-height: 1280px)_height":"xbbk1sx",$$css:!0},fixedHeight:{height:"xt7dq6l",$$css:!0},tabContainer:{backgroundColor:"xcrg951",borderTopEndRadius:"xgqcy7u",borderTopStartRadius:"x1lq5wgf",display:"x78zum5",flexDirection:"xdt5ytf",fontSize:"x6prxxf",lineHeight:"xvq8zen",marginStart:"x17adc0v",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xi55695",$$css:!0},tabContainerFocused:{boxShadow:"x1eqhsl0",$$css:!0},tabContainerUnfocused:{boxShadow:"x6l8u58",$$css:!0}};function a(a){var b=a.ariaBusy,e=a.ariaLabel,f=a.children,g=a.domRef,i=a.isFixedHeight;i=i===void 0?!1:i;var l=a.style,m=a.tab,n=a.tabIndex;a=a.threadKey;var o=d("MWChatStateV2.react").useDispatch();a=c("useMWV2CloseTab")(a,m);var p=d("MWChatStateContext").useChatState(function(a){return a.focusedTabId===m.tabId}),q=c("useMWPEditMessageExit")(),r=q.exitEditMessageMode;q=q.isEditMessageModeActive;return j.jsx(d("MWChatFocusComposerContext").MWChatFocusComposerContextProvider,{children:j.jsx(c("MWChatTabFocusHandler"),{onBlur:function(){return o(d("MWChatStateActions").blurTab())},onEscape:q?r:a,onFocus:function(){return o(d("MWChatStateActions").focusTab(m.tabId))},children:j.jsx("div",{"aria-busy":b,"aria-label":e,className:(h||(h=c("stylex")))(k.tabContainer,i?k.fixedHeight:k.defaultHeight,p?k.tabContainerFocused:k.tabContainerUnfocused),"data-testid":void 0,ref:g,style:l,tabIndex:n,children:f})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatTabLoadingWithGlimmers.react",["fbt","MWInboxThreadMessagesSpinner.react","MWV2ChatTabHeaderLoadingWithGlimmers.react","MWV2IsTabFocusedContext.react","MWV2TabContainer","react","useCometLoadingStateTracker","useMergeRefs"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef;function a(a){a=a.tab;var b=c("useCometLoadingStateTracker")();b=b[1];var e=l(null),f=d("MWV2IsTabFocusedContext.react").useIsTabFocused();k(function(){if(f){var a=e.current;a!=null&&a.focus()}},[f,b]);b=c("useMergeRefs")(b,e);return j.jsxs(c("MWV2TabContainer"),{ariaBusy:!0,ariaLabel:h._("__JHASH__SxkfHU6fYt9__JHASH__").toString(),domRef:b,tab:a,tabIndex:0,children:[j.jsx(c("MWV2ChatTabHeaderLoadingWithGlimmers.react"),{tab:a}),j.jsx(c("MWInboxThreadMessagesSpinner.react"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXIconCheckmarkCircle",["MWXSvgIcon","SVGIcon","cr:9083","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9083")),c("gkx")("23219"));g["default"]=a}),98);
__d("WAChatState",[],(function(a,b,c,d,e,f){"use strict";a="typing";b="recording_audio";c="idle";d={TYPING:a,RECORDING_AUDIO:b};e={IDLE:c};f.TYPING=a;f.RECORDING_AUDIO=b;f.IDLE=c;f.ACTIVE_CHAT_STATE_TYPE=d;f.IDLE_CHAT_STATE_TYPE=e}),66);
__d("getMWPAttachmentMessageAnnouncement",["fbt","I64","LSIntEnum","MessagingAttachmentType"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a,b){b===void 0&&(b=!0);if(a.length===0)return void 0;if(a.length>1)return a.every(k)?h._("__JHASH__mLcLGv6kQjM__JHASH__",[h._param("count of images, greater than or equal to 2",String(a.length))]):void 0;a=a[0];var e=a.accessibilitySummaryText,f=a.attachmentType,g=a.filename;a=a.titleText;if((i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return a==null||!b?h._("__JHASH__CsGZwNmXaIO__JHASH__"):h._("__JHASH__i_Icu0jTUQc__JHASH__",[h._param("title of image",a)]);else if((i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__0rNBSLJGEDI__JHASH__");else if((i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO)))return h._("__JHASH__rzmjU77gEOx__JHASH__");else if((i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)))return e==null||e===""||!b?h._("__JHASH__0TMOPValyqo__JHASH__"):h._("__JHASH__19lTPiBl0z4__JHASH__",[h._param("title of sticker",e)]);else if((i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)))return h._("__JHASH__sBZdmUKngae__JHASH__");else if((i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE)))return g==null?h._("__JHASH__17xDOMabwon__JHASH__"):h._("__JHASH__FWMIh-m_eI7__JHASH__",[h._param("name of file",g)]);else return h._("__JHASH__PpAv-1cm1Lu__JHASH__")}function k(a){return(i||(i=d("I64"))).equal(a.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}g["default"]=a}),226);
__d("useMWIsOnPushView",["CometRouterPushViewStackContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(c("CometRouterPushViewStackContext"));return a!=null&&a[a.length-1]!=null}g["default"]=a}),98);
__d("useSubscriptionValue",["react"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useState;function a(a){var b=a.getCurrentValue,c=a.subscribe;a=k(function(){return b()});var d=a[0],e=a[1],f=i(function(){e(b)},[b]);a=k(function(){return b});var g=a[0];a=a[1];g!==b&&(a(function(){return b}),f());j(function(){var a=!1,b=function(){a||f()},d=c(b);f();return function(){a=!0,d()}},[f,c]);return d}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BaseTypeaheadInMemoryListDataCache",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=[]}var b=a.prototype;b.clear=function(){this.$1=[]};b.get=function(a){var b=this.$1.find(function(b){return b.key===a});return b?b.value:null};b.has=function(a){return this.$1.some(function(b){return b.key===a})};b.set=function(a,b){var c=this.$1.findIndex(function(b){return b.key===a});if(c===-1){this.$1.push({key:a,value:b});return}this.$1[c]={key:a,value:b}};b.remove=function(a){var b=this.$1.findIndex(function(b){return b.key===a});this.$1.splice(b,1)};b.values=function(){return this.$1.map(function(a){return a.value})};return a}();f["default"]=a}),66);
__d("CometAddTypeaheadRecentSearchMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6707320575986334"}),null);
__d("CometAddTypeaheadRecentSearchMutation.graphql",["CometAddTypeaheadRecentSearchMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"SearchTypeaheadAddRecentSearchResponsePayload",kind:"LinkedField",name:"search_typeahead_add_recent_search",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometAddTypeaheadRecentSearchMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometAddTypeaheadRecentSearchMutation",selections:c},params:{id:b("CometAddTypeaheadRecentSearchMutation_facebookRelayOperation"),metadata:{},name:"CometAddTypeaheadRecentSearchMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometAddTypeaheadRecentSearchMutation",["CometAddTypeaheadRecentSearchMutation.graphql","cr:1012418"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometAddTypeaheadRecentSearchMutation.graphql");function a(a){var c=a.onBeforeCommitMutation,d=a.onError,e=a.onSuccess,f=a.relayEnvironment,g=a.searchScopeEntityID,h=a.selectedID,j=a.selectedText,k=a.selectedType,l=a.source,m=a.stsDirectNavType,n=a.stsDisambiguationType,o=a.stsHighConfidenceSource,p=a.userID;a=a.userInput;c&&c();b("cr:1012418").commitMutation(f,{mutation:i,onCompleted:function(a,b){b&&b.length?d&&d(new Error("Payload errors while executing `addTypeaheadRecentSearchMutation`.")):e&&e(a)},onError:d,variables:{input:{actor_id:p!=null?p:void 0,search_scope_entity_id:g,selected_id:h,selected_text:j,selected_type:k,source:l,sts_direct_nav_type_for_graphql:m,sts_disambiguation_type_for_graphql:n,sts_high_confidence_source_for_graphql:o,user_input:a}}})}g.commit=a}),98);
__d("CometDeleteRecentSearchMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4945240752198545"}),null);
__d("CometDeleteRecentSearchMutation.graphql",["CometDeleteRecentSearchMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"SearchTypeaheadDeleteRecentResponsePayload",kind:"LinkedField",name:"search_typeahead_delete_recent",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometDeleteRecentSearchMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometDeleteRecentSearchMutation",selections:c},params:{id:b("CometDeleteRecentSearchMutation_facebookRelayOperation"),metadata:{},name:"CometDeleteRecentSearchMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometDeleteRecentSearchMutation",["CometDeleteRecentSearchMutation.graphql","cr:1012418"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometDeleteRecentSearchMutation.graphql");function a(a){var c=a.onBeforeCommitMutation,d=a.onError,e=a.onSuccess,f=a.relayEnvironment,g=a.searchEntityType,h=a.searchText;a=a.userID;c&&c();b("cr:1012418").commitMutation(f,{mutation:i,onCompleted:function(a,b){b&&b.length?d&&d(new Error("Payloads error while executing `deleteSearchMutation`.")):e&&e(a)},onError:d,variables:{input:babelHelpers["extends"]({},a!=null?{actor_id:a}:null,{search_entity_type:g,search_text:h})}})}g.commit=a}),98);
__d("CometSearchBootstrapKeywordsDataSourceQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"first"}],b=[{kind:"Variable",name:"first",variableName:"first"}],c={alias:null,args:null,kind:"ScalarField",name:"keyword_text",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"item_logging_id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"item_logging_info",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};g=[{alias:null,args:null,concreteType:"STSDirectNavResult",kind:"LinkedField",name:"direct_nav_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ent_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"img_url",storageKey:null},f,{alias:null,args:null,kind:"ScalarField",name:"entity_type",storageKey:null},g,h,i],storageKey:null},{alias:null,args:null,concreteType:"STSHighConfidenceResult",kind:"LinkedField",name:"high_confidence_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hcm_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"picture_url",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"source_as_enum",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"STSDisambiguationResult",kind:"LinkedField",name:"disambiguation_result",plural:!1,selections:[h,{alias:null,args:null,concreteType:"STSDisambiguationInfo",kind:"LinkedField",name:"disambiguation_info_list",plural:!0,selections:[{alias:"snippet",args:null,kind:"ScalarField",name:"text",storageKey:null},f,i],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TypeaheadBadgeInfo",kind:"LinkedField",name:"badge_info",plural:!1,selections:[{alias:"badge_text",args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}];h={alias:null,args:null,concreteType:"SearchTypeaheadSuggestionKeys",kind:"LinkedField",name:"suggestion_keys",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"tier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"keys",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"default_key",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometSearchBootstrapKeywordsDataSourceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"BootstrapKeywordsConnection",kind:"LinkedField",name:"bootstrap_keywords",plural:!1,selections:[{alias:null,args:null,concreteType:"BootstrapKeywordsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BootstrapResult",kind:"LinkedField",name:"node",plural:!1,selections:[c,d,e,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo",selections:g,args:null,argumentDefinitions:[]}],storageKey:null},h],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometSearchBootstrapKeywordsDataSourceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"BootstrapKeywordsConnection",kind:"LinkedField",name:"bootstrap_keywords",plural:!1,selections:[{alias:null,args:null,concreteType:"BootstrapKeywordsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BootstrapResult",kind:"LinkedField",name:"node",plural:!1,selections:[c,d,e,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:g,storageKey:null},h],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"7163385847088980",metadata:{},name:"CometSearchBootstrapKeywordsDataSourceQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo"};e.exports=a}),null);
__d("getSearchCometKeywordDataSourceStructuredSuggestionKey",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;if(((b=a.direct_nav_result)==null?void 0:b.ent_id)!=null){return"dir_nav_sts:"+((b=a.direct_nav_result)==null?void 0:b.ent_id)}if(((b=a.high_confidence_result)==null?void 0:b.hcm_id)!=null){return"hc_sts:"+((b=a.high_confidence_result)==null?void 0:b.hcm_id)}return((b=a.disambiguation_result)==null?void 0:b.title)!=null&&((b=a.disambiguation_result)==null?void 0:(b=b.disambiguation_info_list[0])==null?void 0:b.type)!=null?a.disambiguation_result.disambiguation_info_list[0].type+":"+a.disambiguation_result.title:null}f["default"]=a}),66);
__d("getSearchCometKeywordDataSourceStructuredInfoForEntry",["CometRelay","getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo.graphql","getSearchCometKeywordDataSourceStructuredSuggestionKey"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=a.structuredTypeaheadInfo;if(a==null)return{entryKey:null,extraLoggingInfo:null,label:null,markers:[],structuredInfo:null};a=d("CometRelay").readInlineData(h!==void 0?h:h=b("getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo.graphql"),a);var e=a.badge_info,f=a.direct_nav_result,g=a.disambiguation_result;a=a.high_confidence_result;var i=[],j,k,l;if(f!=null){i=["direct_nav"];var m=f.ent_id,n=f.entity_type,o=f.img_url,p=f.link_url,q=f.snippet,r=f.title;f=f.type;l=r;j={direct_nav_result:{ent_id:m,entity_type:n,img_url:o,link_url:p,snippet:q,title:r,type:f}};k={stsDirectNavEntityID:m,stsDirectNavEntityType:n,stsDirectNavType:f}}if(a!=null){i=["high_confidence"];o=a.hcm_id;p=a.picture_url;q=a.snippet;r=a.source_as_enum;m=a.text;l=m;j={high_confidence_result:{hcm_id:o,picture_url:p,snippet:q,source_as_enum:r,text:m}};k={stsHighConfidenceID:o,stsHighConfidenceSource:r}}if(g!=null){i=["disambiguation"];n=g.disambiguation_info_list;f=g.title;l=f;j={disambiguation_result:{disambiguation_info_list:n,title:f}};k={stsDisambiguationType:n[0].type}}return{badgeSnippet:(a=e==null?void 0:e.badge_text)!=null?a:void 0,entryKey:j!=null?c("getSearchCometKeywordDataSourceStructuredSuggestionKey")(j):null,extraLoggingInfo:k,label:l,markers:i,structuredInfo:j}}g["default"]=a}),98);
__d("CometSearchBootstrapKeywordsDataSource.query",["CometSearchBootstrapKeywordsDataSourceQuery.graphql","filterNulls","getSearchCometKeywordDataSourceStructuredInfoForEntry","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;d=h!==void 0?h:h=b("CometSearchBootstrapKeywordsDataSourceQuery.graphql");function a(a){if(!a)return[];a=a.viewer;a=((a=a==null?void 0:(a=a.bootstrap_keywords)==null?void 0:a.edges)!=null?a:[]).map(function(a){return a.node}).filter(Boolean);return c("filterNulls")(a.map(function(a){var b,d=a.item_logging_id,e=a.item_logging_info,f=a.keyword_text,g=a.sts_info;a=a.suggestion_keys;if(f==null){c("recoverableViolation")("Cannot have TA bootstrap entry without keyword_text","search");return null}g=c("getSearchCometKeywordDataSourceStructuredInfoForEntry")({structuredTypeaheadInfo:g});var h=g.badgeSnippet,i=g.entryKey,j=g.extraLoggingInfo,k=g.label,l=g.markers;g=g.structuredInfo;b=(b=a)!=null?b:{};var m=b.default_key,n=b.keys;b=b.tier;return{key:(i=(i=i)!=null?i:g&&(a==null?void 0:a.default_key))!=null?i:f,label:(a=k)!=null?a:f,metaData:{logging:babelHelpers["extends"]({},j,{loggingID:(i=d)!=null?i:"",loggingInfo:e}),markers:new Set(["bootstrap","keyword"].concat(l))},rawData:{badgeSnippet:h,structuredInfo:g,suggestion_keys:b!=null?{default_key:m,keys:n,tier:b}:null},subtype:"bootstrap",type:"entry"}}))}g.query=d;g.normalize=a}),98);
__d("CometSearchBootstrapKeywordsDataSource",["BaseTypeaheadDataCacheProvider","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadInMemoryMapDataCache","BaseTypeaheadPayloadDecoratorAddLimit","CometSearchBootstrapKeywordsDataSource.query","baseTypeaheadStartsWithMatchBuilder","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.limit,e=a.queryVariables;a=a.relayEnvironment;this.$2=new(c("BaseTypeaheadDataCacheProvider"))({cache:new(c("BaseTypeaheadInMemoryMapDataCache"))(),matchBuilder:c("baseTypeaheadStartsWithMatchBuilder")});this.$3=b;b=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(function(){return function(){return e}});this.$1=new(c("BaseTypeaheadDataProvider"))({query:d("CometSearchBootstrapKeywordsDataSource.query").query,queryVariablesBuilder:b,relayEnvironment:a})}var b=a.prototype;b.bootstrap=function(){var a=this;c("promiseDone")(this.$1.fetch({query:""}).then(function(a){a=a.response;return d("CometSearchBootstrapKeywordsDataSource.query").normalize(a)}).then(function(b){a.$2.clear(),a.$2.add(b,null)}))};b.fetchCache=function(a){var b=a.query;b=this.$2.match(b);var d=c("BaseTypeaheadPayloadDecoratorAddLimit")(this.$3);return d({entries:b,params:a})};b.clear=function(){this.$2.clear()};b.removeEntriesByEntID=function(a){var b=this.$2.values();for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e,f;if(c){if(d>=b.length)break;f=b[d++]}else{d=b.next();if(d.done)break;f=d.value}f=f;a===((e=f.rawData.structuredInfo)==null?void 0:(e=e.direct_nav_result)==null?void 0:e.ent_id)&&this.$2.remove(f)}};return a}();g["default"]=a}),98);
__d("CometSearchKeywordDataSourceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7003676376365206"}),null);
__d("CometSearchKeywordDataSourceQuery.graphql",["CometSearchKeywordDataSourceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"query"}],c=[{kind:"Variable",name:"query",variableName:"query"}],d={alias:"name",args:null,kind:"ScalarField",name:"text",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"logging_id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"logging_info",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};h=[{alias:null,args:null,concreteType:"STSDirectNavResult",kind:"LinkedField",name:"direct_nav_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ent_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"img_url",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"entity_type",storageKey:null},h,i,j],storageKey:null},{alias:null,args:null,concreteType:"STSHighConfidenceResult",kind:"LinkedField",name:"high_confidence_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hcm_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"picture_url",storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"source_as_enum",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"STSDisambiguationResult",kind:"LinkedField",name:"disambiguation_result",plural:!1,selections:[i,{alias:null,args:null,concreteType:"STSDisambiguationInfo",kind:"LinkedField",name:"disambiguation_info_list",plural:!0,selections:[{alias:"snippet",args:null,kind:"ScalarField",name:"text",storageKey:null},g,j],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TypeaheadBadgeInfo",kind:"LinkedField",name:"badge_info",plural:!1,selections:[{alias:"badge_text",args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}];i={alias:null,args:null,concreteType:"SearchTypeaheadSuggestionKeys",kind:"LinkedField",name:"suggestion_keys",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"tier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"keys",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"default_key",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometSearchKeywordDataSourceQuery",selections:[{alias:null,args:c,concreteType:"KeywordsSearchSuggestionSet",kind:"LinkedField",name:"search_keywords_suggestion",plural:!1,selections:[{alias:null,args:null,concreteType:"KeywordsSearchSuggestionsConnection",kind:"LinkedField",name:"suggestions",plural:!1,selections:[{alias:null,args:null,concreteType:"KeywordsSearchSuggestionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"KeywordSuggestionUnit",kind:"LinkedField",name:"node",plural:!1,selections:[d,e,f,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"structured_info",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo",selections:h,args:null,argumentDefinitions:[]}],storageKey:null},i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometSearchKeywordDataSourceQuery",selections:[{alias:null,args:c,concreteType:"KeywordsSearchSuggestionSet",kind:"LinkedField",name:"search_keywords_suggestion",plural:!1,selections:[{alias:null,args:null,concreteType:"KeywordsSearchSuggestionsConnection",kind:"LinkedField",name:"suggestions",plural:!1,selections:[{alias:null,args:null,concreteType:"KeywordsSearchSuggestionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"KeywordSuggestionUnit",kind:"LinkedField",name:"node",plural:!1,selections:[d,e,f,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"structured_info",plural:!1,selections:h,storageKey:null},i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometSearchKeywordDataSourceQuery_facebookRelayOperation"),metadata:{},name:"CometSearchKeywordDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometSearchKeywordDataSource.query",["CometSearchKeywordDataSourceQuery.graphql","cometUniqueID","getSearchCometKeywordDataSourceStructuredInfoForEntry"],(function(a,b,c,d,e,f,g){"use strict";var h;d=h!==void 0?h:h=b("CometSearchKeywordDataSourceQuery.graphql");function a(a,b){if(!a)return[];a=a.search_keywords_suggestion;var d=b.query.request_id;a=((a=a==null?void 0:(a=a.suggestions)==null?void 0:a.edges)!=null?a:[]).map(function(a){return a.node}).filter(Boolean);var e;try{b=JSON.parse(b.query.query_text);e=b!=null?b[0]:null}catch(a){}return a.map(function(a){var b,f=a.logging_id,g=a.logging_info,h=a.name,i=a.structured_info;a=a.suggestion_keys;i=c("getSearchCometKeywordDataSourceStructuredInfoForEntry")({structuredTypeaheadInfo:i});var j=i.badgeSnippet,k=i.entryKey,l=i.extraLoggingInfo,m=i.label,n=i.markers;i=i.structuredInfo;b=(b=a)!=null?b:{};var o=b.default_key,p=b.keys;b=b.tier;return{key:(a=(k=(k=k)!=null?k:i&&(a==null?void 0:a.default_key))!=null?k:h)!=null?a:c("cometUniqueID")(),label:(a=(k=m)!=null?k:h)!=null?a:"",metaData:{logging:babelHelpers["extends"]({},l,{loggingID:f,loggingInfo:g,query:e,sequenceID:d}),markers:new Set(["keyword"].concat(n))},rawData:{badgeSnippet:j,structuredInfo:i,suggestion_keys:b!=null?{default_key:o,keys:p,tier:b}:null},subtype:"keyword",type:"entry"}})}g.query=d;g.normalize=a}),98);
__d("cometSearchKeywordDataSourceQueryVariablesBuilder",[],(function(a,b,c,d,e,f){"use strict";var g=10,h="blended";function a(a){return function(b){var c,d=b.loggingEventTrace;b=b.query;c=(c=a)!=null?c:{};var e=c.fetch_count,f=c.fetch_mode;c=c.group_id;c=JSON.stringify(c!=null?[{text:"",type:"group",uid:c},b]:[b]);return{query:{fetch_count:(b=e)!=null?b:g,fetch_mode:(e=f)!=null?e:h,query_text:c,request_id:d==null?void 0:d.sequenceID,session_id:(b=d==null?void 0:d.sessionID)!=null?b:""}}}}f["default"]=a}),66);
__d("CometSearchKeywordDataSource",["BaseCacheEntryKeyBuilder","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadNetworkCacheDataSource","BaseTypeaheadQueryDataCacheProvider","CometSearchKeywordDataSource.query","baseTypeaheadDedupEntriesBuilder","baseTypeaheadLabelSuffixBuilder","cometSearchKeywordDataSourceQueryVariablesBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.dedupe,e=a.onError,f=a.queryVariables;a=a.relayEnvironment;f=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(c("cometSearchKeywordDataSourceQueryVariablesBuilder")).setDefaultVariables(f);e=new(c("BaseTypeaheadDataProvider"))({onError:e,query:d("CometSearchKeywordDataSource.query").query,queryVariablesBuilder:f,relayEnvironment:a});this.$1=new(c("BaseTypeaheadQueryDataCacheProvider"))({dedupe:(f=b)!=null?f:c("baseTypeaheadDedupEntriesBuilder")(c("BaseCacheEntryKeyBuilder")),suffixBuilder:function(){return c("baseTypeaheadLabelSuffixBuilder").apply(void 0,arguments)}});this.$2=new(c("BaseTypeaheadNetworkCacheDataSource"))(e,this.$1,{normalizeFunc:d("CometSearchKeywordDataSource.query").normalize})}var b=a.prototype;b.fetchCache=function(a){return this.$2.fetchCache(a)};b.fetchNetwork=function(a){return this.$2.fetchNetwork(a)};b.clearQueryCache=function(){this.$1.clear()};return a}();g["default"]=a}),98);
__d("searchCometTypeaheadSubtractSections",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=new Set(a.entries.map(function(a){return a.key}));b.entries=b.entries.filter(function(a){return!c.has(a.key)})}f["default"]=a}),66);
__d("searchCometTypeaheadMergeSections",["searchCometTypeaheadSubtractSections"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("searchCometTypeaheadSubtractSections")(a,b),b.entries=a.entries.concat(b.entries)}g["default"]=a}),98);
__d("CometSearchRecentDataCacheProvider",["BaseDataEntryLabelKeyBuilder","searchCometTypeaheadMergeSections","searchCometTypeaheadSubtractSections"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.cache,d=a.matchBuilder;a=a.keyBuilder;a=a===void 0?c("BaseDataEntryLabelKeyBuilder"):a;this.$1=b;this.$2=d;this.$3=a}var b=a.prototype;b.add=function(a,b,d){var e=this;if(d==="network"){this.$1.clear();[].concat(a).reverse().forEach(function(a){var b=e.$3(a);e.$1.set(b,a)});return}a.forEach(function(a){var b=e.$3(a),d=e.$1.get(b);if(d)if(d.type==="section"&&a.type==="section"){c("searchCometTypeaheadMergeSections")(a,d);return}else e.$1.remove(b);e.$1.set(b,a)})};b.clear=function(){this.$1.clear()};b.remove=function(a){var b=this.$3(a),d=this.$1.get(b);d&&d.type==="section"&&a.type==="section"&&d.entries.length!==0?c("searchCometTypeaheadSubtractSections")(a,d):this.$1.remove(b)};b.match=function(a){var b=this.$2({query:a});return this.$1.values().map(function(a){return babelHelpers["extends"]({},a)}).reverse().filter(function(a){if(a.type==="section"){a.entries=a.entries.filter(b);return!0}else return b(a)})};b.values=function(){return this.$1.values()};return a}();g["default"]=a}),98);
__d("cometSearchNullStateMatchBuilder",[],(function(a,b,c,d,e,f){"use strict";function a(){return function(a){a=a.metaData.markers;return a.has("recent")||a.has("nullstate_explore")||a.has("keyword")}}f["default"]=a}),66);
__d("CometSearchRecentDataSource",["fbt","BaseDataEntryKeyBuilder","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadInMemoryListDataCache","BaseTypeaheadNetworkDataSource","CometAddTypeaheadRecentSearchMutation","CometDeleteRecentSearchMutation","CometSearchRecentDataCacheProvider","Promise","cometSearchNullStateMatchBuilder","filterNulls","qex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=c("qex")._("225");a=function(){var a=e.prototype;a.$9=function(){var a=c("filterNulls")(this.$2.values().map(function(a){return a.type==="section"&&a.subtype==="recent_searches"?a:null}));return a.length!==0?a[0]:null};function e(a){var b=a.activityLogURL,d=a.gqlQuery,e=a.limit,f=a.normalize,g=a.options,h=a.queryVariablesBuilderFunction;a=a.relayEnvironment;this.$4=a;this.$5=e;this.$6=h({query:""}).filter;this.$7=b;a=function(){return h};e=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(a);b=new(c("BaseTypeaheadDataProvider"))({options:g,query:d,queryVariablesBuilder:e,relayEnvironment:this.$4});this.$2=new(c("CometSearchRecentDataCacheProvider"))({cache:new(c("BaseTypeaheadInMemoryListDataCache"))(),keyBuilder:c("BaseDataEntryKeyBuilder"),matchBuilder:c("cometSearchNullStateMatchBuilder")});this.$1=new(c("BaseTypeaheadNetworkDataSource"))(b,f)}a.add=function(a,b,c){c=c===void 0?{}:c;var e=c.onBeforeCommitMutation,f=c.onError;c=c.onSuccess;var g=a.metaData,h=this.$9();h!=null?this.$2.add([babelHelpers["extends"]({},h,{entries:[a]})],""):this.$2.add([a],"");g=(h=g==null?void 0:g.logging)!=null?h:{};h=g.entityID;var i=g.entityType,j=g.searchScopeEntityID,k=g.stsDirectNavEntityID,l=g.stsDirectNavType,m=g.stsDisambiguationType,n=g.stsHighConfidenceID;g=g.stsHighConfidenceSource;d("CometAddTypeaheadRecentSearchMutation").commit({onBeforeCommitMutation:e,onError:f,onSuccess:c,relayEnvironment:this.$4,searchScopeEntityID:j,selectedID:(f=(e=h)!=null?e:k)!=null?f:n,selectedText:a.label.toLowerCase(),selectedType:(c=i)!=null?c:"keyword",source:b,stsDirectNavType:l,stsDisambiguationType:m,stsHighConfidenceSource:g,userInput:a.label.toLowerCase()})};a.bootstrap=function(){var a;a=(a=c("qex")._("1300"))!=null?a:!1;if(a&&this.$6==="all")return;this.fetchNetwork({query:""})};a.fetchCache=function(a){this.shouldRefreshBasedOnMaxAge()&&this.clear();var b=a.query;b=this.$2.match(b);return{entries:b,params:a}};a.fetchNetwork=function(a){var c=this;return this.$3!=null&&this.$3<this.$5?(i||(i=b("Promise"))).resolve({entries:this.$2.match(a.query),params:a}):this.$1.fetchNetwork(a).then(function(b){var d=b.entries;b=b.params.query;d!=null&&(d.forEach(function(a){var b=c.$7;["all","group_scoped_search"].includes(c.$6)&&b!=null&&a.type==="section"&&a.subtype==="recent_searches"&&(a.action={label:h._("__JHASH__0ioTgLFUb4g__JHASH__"),type:"link",url:b})}),c.$8=Date.now(),c.$3=d.length,c.$2.add(d,b,"network"));return{entries:c.$2.match(b),params:a}})};a.remove=function(a,b){b=b===void 0?{}:b;var c=b.onBeforeCommitMutation,e=b.onError;b=b.onSuccess;var f=this.$9();f!=null?this.$2.remove(babelHelpers["extends"]({},f,{entries:[a]})):this.$2.remove(a);d("CometDeleteRecentSearchMutation").commit({onBeforeCommitMutation:c,onError:e,onSuccess:b,relayEnvironment:this.$4,searchText:a.label})};a.clear=function(){this.$3=null;this.$8=null;var a=this.$9();if(a==null){this.$2.clear();return}a.entries.length!==0&&this.$2.remove(a)};a.refresh=function(){this.clear(),this.fetchNetwork({query:""})};a.shouldRefreshBasedOnMaxAge=function(){if(j==null)return!1;var a=this.$8;return a==null?!0:(Date.now()-a)/1e3>j};return e}();g["default"]=a}),226);
__d("CometSearchRecentDataSourceQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"fetch_nullstate"},b={defaultValue:null,kind:"LocalArgument",name:"fetch_recent_searches"},c={defaultValue:null,kind:"LocalArgument",name:"fetch_search_badge"},d={defaultValue:null,kind:"LocalArgument",name:"filter"},e={defaultValue:null,kind:"LocalArgument",name:"first"},f={defaultValue:null,kind:"LocalArgument",name:"scale"},g={defaultValue:null,kind:"LocalArgument",name:"search_null_state_argument"},h={defaultValue:null,kind:"LocalArgument",name:"search_scope_entity_id"},i=[{kind:"Variable",name:"filter",variableName:"filter"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"search_scope_entity_id",variableName:"search_scope_entity_id"}],j={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l={kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Profile",abstractKey:"__isProfile"},m=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],n={kind:"InlineFragment",selections:m,type:"Application",abstractKey:null},o={kind:"InlineFragment",selections:m,type:"Event",abstractKey:null},p={kind:"InlineFragment",selections:m,type:"Group",abstractKey:null},q={kind:"InlineFragment",selections:m,type:"Page",abstractKey:null};m={kind:"InlineFragment",selections:m,type:"User",abstractKey:null};var r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};u=[{alias:null,args:null,concreteType:"STSDirectNavResult",kind:"LinkedField",name:"direct_nav_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ent_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"img_url",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"entity_type",storageKey:null},t,u,v],storageKey:null},{alias:null,args:null,concreteType:"STSHighConfidenceResult",kind:"LinkedField",name:"high_confidence_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hcm_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"picture_url",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"source_as_enum",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"STSDisambiguationResult",kind:"LinkedField",name:"disambiguation_result",plural:!1,selections:[u,{alias:null,args:null,concreteType:"STSDisambiguationInfo",kind:"LinkedField",name:"disambiguation_info_list",plural:!0,selections:[{alias:"snippet",args:null,kind:"ScalarField",name:"text",storageKey:null},s,v],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TypeaheadBadgeInfo",kind:"LinkedField",name:"badge_info",plural:!1,selections:[{alias:"badge_text",args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}];s={alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo",selections:u,args:null,argumentDefinitions:[]}],storageKey:null};v={alias:null,args:null,kind:"ScalarField",name:"item_logging_info",storageKey:null};t={condition:"fetch_search_badge",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBSearchEntityBadge",kind:"LinkedField",name:"search_badge",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"enabled",storageKey:null},t],storageKey:null}]};var w=[{kind:"Variable",name:"input",variableName:"search_null_state_argument"}],x={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},y=[x,{alias:null,args:null,concreteType:"XFBSearchNullStateSectionResult",kind:"LinkedField",name:"result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"header_text",storageKey:null}],storageKey:null}],z={kind:"InlineFragment",selections:y,type:"XFBSearchNullStateSearchHistoryHeaderRenderingStrategy",abstractKey:null};y={kind:"InlineFragment",selections:y,type:"XFBSearchNullStateGeneralHeaderRenderingStrategy",abstractKey:null};var A={alias:null,args:null,kind:"ScalarField",name:"display_text",storageKey:null},B={alias:"suggestion_logging_info",args:null,concreteType:"XFBSearchSuggestionLoggingSuggestion",kind:"LinkedField",name:"logging_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fetch_source",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logging_info",storageKey:null}],storageKey:null};u={alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:u,storageKey:null};return{fragment:{argumentDefinitions:[a,b,c,d,e,f,g,h],kind:"Fragment",metadata:null,name:"CometSearchRecentDataSourceQuery",selections:[{condition:"fetch_recent_searches",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:i,concreteType:"RecentSearchConnection",kind:"LinkedField",name:"recent_searches",plural:!1,selections:[{alias:null,args:null,concreteType:"RecentSearchEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[j,k],type:"Node",abstractKey:"__isNode"},l,n,o,p,q,m,r,{kind:"InlineFragment",selections:[s,v],type:"GraphSearchQuery",abstractKey:null}],storageKey:null},t],storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"fetch_nullstate",kind:"Condition",passingValue:!0,selections:[{alias:null,args:w,concreteType:"SearchNullStatePage",kind:"LinkedField",name:"search_null_state",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchNullStatePageResultsConnection",kind:"LinkedField",name:"results",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchNullStatePageResultsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"rendering_strategy",plural:!1,selections:[j,z,y,{kind:"InlineFragment",selections:[x,{alias:null,args:null,concreteType:"XFBSearchNullStateSectionResult",kind:"LinkedField",name:"result",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"suggestions",plural:!0,selections:[j,{kind:"InlineFragment",selections:[x,A,s,B],type:"XFBSearchNullStateQuerySuggestion",abstractKey:null}],storageKey:null}],storageKey:null}],type:"XFBSearchNullStateListRenderingStrategy",abstractKey:null}],storageKey:null}],type:"XFBSearchNullStateRenderingStrategyResult",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,e,f,h,c,g,a,b],kind:"Operation",name:"CometSearchRecentDataSourceQuery",selections:[{condition:"fetch_recent_searches",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:i,concreteType:"RecentSearchConnection",kind:"LinkedField",name:"recent_searches",plural:!1,selections:[{alias:null,args:null,concreteType:"RecentSearchEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[j,r,{kind:"InlineFragment",selections:[k],type:"Node",abstractKey:"__isNode"},l,n,o,p,q,m,{kind:"InlineFragment",selections:[u,v],type:"GraphSearchQuery",abstractKey:null}],storageKey:null},t],storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"fetch_nullstate",kind:"Condition",passingValue:!0,selections:[{alias:null,args:w,concreteType:"SearchNullStatePage",kind:"LinkedField",name:"search_null_state",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchNullStatePageResultsConnection",kind:"LinkedField",name:"results",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchNullStatePageResultsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[j,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"rendering_strategy",plural:!1,selections:[j,z,y,{kind:"InlineFragment",selections:[x,{alias:null,args:null,concreteType:"XFBSearchNullStateSectionResult",kind:"LinkedField",name:"result",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"suggestions",plural:!0,selections:[j,{kind:"InlineFragment",selections:[x,A,u,B],type:"XFBSearchNullStateQuerySuggestion",abstractKey:null}],storageKey:null}],storageKey:null}],type:"XFBSearchNullStateListRenderingStrategy",abstractKey:null}],storageKey:null}],type:"XFBSearchNullStateRenderingStrategyResult",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]}]},params:{id:"6951168598253150",metadata:{},name:"CometSearchRecentDataSourceQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("searchCometIsValidRecentSearchEntityType",[],(function(a,b,c,d,e,f){"use strict";var g=["app","application","event","group","page","user"];function a(a){return g.includes(a==null?void 0:a.toLowerCase())}f["default"]=a}),66);
__d("CometSearchRecentDataSource.query",["fbt","CometSearchRecentDataSourceQuery.graphql","FBLogger","filterNulls","getSearchCometKeywordDataSourceStructuredInfoForEntry","searchCometIsValidRecentSearchEntityType"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j={__typename:"XFBSearchNullStateSearchHistoryHeaderRenderingStrategy",key:"recent-searches",result:{header_text:String(h._("__JHASH__QJCAJUEzrgs__JHASH__"))}};d=i!==void 0?i:i=b("CometSearchRecentDataSourceQuery.graphql");function a(a){var b;if(!a)return[];b=c("filterNulls")(((b=(b=a.search_null_state)==null?void 0:(b=b.results)==null?void 0:b.edges)!=null?b:[{node:{rendering_strategy:j}}]).map(function(a){return(a=a.node)==null?void 0:a.rendering_strategy}));var d=[],e=null;for(var b=b,f=Array.isArray(b),g=0,b=f?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=b.length)break;h=b[g++]}else{g=b.next();if(g.done)break;h=g.value}h=h;if(h.__typename==="%other")continue;var i=h.key,m=h.result;if(m==null||i==null)continue;m=m.header_text;if(h.__typename==="XFBSearchNullStateSearchHistoryHeaderRenderingStrategy"&&m!=null){var n;d.push({entries:k((n=(n=a.viewer)==null?void 0:(n=n.recent_searches)==null?void 0:n.edges)!=null?n:[]),key:i,label:m,subtype:"recent_searches",type:"section"})}else if(h.__typename==="XFBSearchNullStateGeneralHeaderRenderingStrategy"&&m!=null)e={header_text:m,key:i};else if(h.__typename==="XFBSearchNullStateListRenderingStrategy"&&e!=null){n=e;m=n.header_text;i=n.key;d.push({entries:l(h),key:i,label:m,subtype:"other",type:"section"});e=null}}return d}function k(a){return c("filterNulls")(a.map(function(a){var b=a.node;a=a.search_badge;if(b==null)return null;var d=b.__typename,e=b.id,f=b.item_logging_info,g=b.name,h=b.profile_picture,i=b.sts_info;b=b.url;var j=c("searchCometIsValidRecentSearchEntityType")(d);i=c("getSearchCometKeywordDataSourceStructuredInfoForEntry")({structuredTypeaheadInfo:i});var k=i.extraLoggingInfo,l=i.label,m=i.markers;i=i.structuredInfo;if(g==null){c("FBLogger")("search").mustfix("Missing name for recent search data with __typename: %s",d);return null}var n=g.toLocaleLowerCase();return{hasSecondaryAction:!0,key:n,label:(n=l)!=null?n:g,metaData:{logging:babelHelpers["extends"]({},k,{entityID:j?e:null,entityType:j&&d!=null?d.toLowerCase():null,loggingInfo:f}),markers:new Set(c("filterNulls")(["recent",j?"entity":null].concat(m)))},rawData:{badgeSnippet:(a==null?void 0:a.enabled)===!0?a.snippet:null,profile:j&&e!=null&&(h==null?void 0:h.uri)!=null&&b!=null?{id:e,profilePictureURL:h.uri,url:b}:void 0,structuredInfo:i},subtype:"recent",type:"entry"}}))}function l(a){if(a.__typename!=="XFBSearchNullStateListRenderingStrategy")return[];a=(a=a.result)!=null?a:{};a=a.suggestions;return c("filterNulls")(((a=a)!=null?a:[]).map(function(a){if(a.__typename!=="XFBSearchNullStateQuerySuggestion")return null;var b=a.display_text,d=a.key,e=a.sts_info,f=a.suggestion_logging_info;if(b==null){c("FBLogger")("search").mustfix("Missing name for nullstate suggestion search data with __typename: %s",a.__typename);return null}if(d==null){c("FBLogger")("search").mustfix("Missing key for nullstate suggestion search data with __typename: %s",a.__typename);return null}a=c("getSearchCometKeywordDataSourceStructuredInfoForEntry")({structuredTypeaheadInfo:e});e=a.extraLoggingInfo;var g=a.markers;a=a.structuredInfo;f=(f=f)!=null?f:{};var h=f.fetch_source;f=f.logging_info;return{key:d,label:b,metaData:{logging:babelHelpers["extends"]({fetchSource:h,loggingInfo:((d=f)!=null?d:[])[0]},e),markers:new Set(new Set(["keyword","nullstate_explore"].concat(g)))},rawData:{structuredInfo:a},subtype:"keyword",type:"entry"}}))}g.query=d;g.normalize=a}),226);
__d("CometSearchRecentDataSourceDispatcherContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext();g["default"]=b}),98);
__d("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react",["fbt","ix","CometSearchRecentDataSourceDispatcherContext","TetraIcon.react","fbicon","react","stylex","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));b=k;b.useCallback;var m=b.useContext,n=b.useState,o=b.c,p={buttonContainer:{alignItems:"x6s0dn4",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",height:"x1fgtraw",justifyContent:"xl56j7k",width:"xgd8bvy",$$css:!0},buttonContainerActive:{boxShadow:"xpud6h4",outline:"xvetz19 x1a2a7pz",$$css:!0}};function a(a){var b=o(14),e=a.entry;a=a.testid;var f=m(c("CometSearchRecentDataSourceDispatcherContext")),g=n(!1),k=g[0],q=g[1];g=c("useCometInternalTypeaheadState")();var r=g.highlightedEntry;g=g.secondaryActionHighlighted;var s;b[0]!==f||b[1]!==e?(s=function(a){a&&a.type!=="press"&&a.stopPropagation(),q(!0),f==null?void 0:f.dispatchRemoveRecentEntry(e)},b[0]=f,b[1]=e,b[2]=s):s=b[2];s=s;r=r===e&&g===!0&&p.buttonContainerActive;b[3]!==r?(g=(j||(j=c("stylex")))(p.buttonContainer,r),b[3]=r,b[4]=g):g=b[4];b[5]===Symbol["for"]("react.memo_cache_sentinel")?(r=h._("__JHASH__Im1kdkmyLZa__JHASH__"),b[5]=r):r=b[5];var t;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(t=d("fbicon")._(i("478231"),12),b[6]=t):t=b[6];b[7]!==k||b[8]!==s?(r=l.jsx(c("TetraIcon.react"),{"aria-label":r,color:"secondary",disabled:k,focusable:!1,icon:t,onPress:s,size:24}),b[7]=k,b[8]=s,b[9]=r):r=b[9];b[10]!==g||b[11]!==a||b[12]!==r?(t=l.jsx("div",{className:g,"data-testid":void 0,children:r}),b[10]=g,b[11]=a,b[12]=r,b[13]=t):t=b[13];return t}g["default"]=a}),226);
__d("CometSearchTypeaheadBaseSurfaceRecentViewItem.react",["CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometTypeaheadFocusLockRegion.react","CometTypeaheadRecentViewItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(9),d,e;b[0]!==a?(d=a.entry,e=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]),b[0]=a,b[1]=d,b[2]=e):(d=b[1],e=b[2]);b[3]!==d?(a=j.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:j.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:d,testid:void 0})}),b[3]=d,b[4]=a):a=b[4];var f;b[5]!==e||b[6]!==d||b[7]!==a?(f=j.jsx(c("CometTypeaheadRecentViewItem.react"),babelHelpers["extends"]({},e,{entry:d,itemEndContent:a,itemEndContentKeyboardFocusable:!0,testid:void 0})),b[5]=e,b[6]=d,b[7]=a,b[8]=f):f=b[8];return f}g["default"]=a}),98);
__d("getCometSearchTypeaheadStructuredInfoKey",["getSearchCometKeywordDataSourceStructuredSuggestionKey"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.rawData.structuredInfo;return a==null?null:c("getSearchCometKeywordDataSourceStructuredSuggestionKey")(a)}g["default"]=a}),98);
__d("CometSearchTypeaheadDefaultEntryComparator",["BaseDataEntryLabelKeyBuilder","getCometSearchTypeaheadStructuredInfoKey","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var d=c("getCometSearchTypeaheadStructuredInfoKey")(a),e=c("getCometSearchTypeaheadStructuredInfoKey")(b);return d!=null&&e!=null?d===e:c("BaseDataEntryLabelKeyBuilder")(a)===c("BaseDataEntryLabelKeyBuilder")(b)}function a(a,b){if(!h(a,b)){c("recoverableViolation")("The suggestions are not dupes: "+a.key+" compared to "+b.key,"search");return a}var d=c("getCometSearchTypeaheadStructuredInfoKey")(a),e=c("getCometSearchTypeaheadStructuredInfoKey")(b);return d!=null&&e!=null?b:e!=null?b:a}g.areEntriesDupes=h;g.pickEntryToKeep=a}),98);
__d("CometSearchTypeaheadServerDrivenEntryComparator",["FBLogger","getCometSearchTypeaheadStructuredInfoKey","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=(a=a.rawData)!=null?a:{};a=a.suggestion_keys;if(a==null)throw c("FBLogger")("search").mustfixThrow("Unexpected missing keys");return a}function a(a,b){var d=h(a),e=d.default_key;d=d.keys;var f=h(b),g=f.default_key,i=f.keys;if(d.some(function(a){return i.includes(a)}))return!0;f=c("getCometSearchTypeaheadStructuredInfoKey")(a);var k=c("getCometSearchTypeaheadStructuredInfoKey")(b);f!=null&&f===k&&j("STS dupe: same STS UI key but no keys overlap",a,b);if(d.length>0&&i.length>0)return!1;if(e==null||g==null)return!1;e===g&&a.label.toLowerCase()!==b.label.toLowerCase()&&j("STS dupe: same default key but different label",a,b);return e.toLowerCase()===g.toLowerCase()}function b(a,b){var c=h(a);c=c.tier;var d=h(b);d=d.tier;return c<=d?b:a}function i(a){var b=h(a),c=b.default_key;b=b.keys;return"ui key: "+a.key+", keys: "+(b.join(",")||"empty")+", default key: "+((b=c)!=null?b:"null")+", label: "+a.label}function j(a,b,d){c("FBLogger")("search").warn(a+": ("+i(b)+") vs ("+i(d)+")")}g.areEntriesDupes=a;g.pickEntryToKeep=b}),98);
__d("CometTypeaheadEchoViewItem.react",["CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","FDSText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(18),e,f,g,h;b[0]!==a?(f=a.entry,e=a.isActive,g=a.queryString,h=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);b[5]!==e||b[6]!==f.label?(a=j.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewTypedIcon,{isActive:e,label:f.label}),b[5]=e,b[6]=f.label,b[7]=a):a=b[7];g=String(g);var k;b[8]!==g?(k=g.toLowerCase(),b[8]=g,b[9]=k):k=b[9];b[10]!==k?(g=j.jsx(c("FDSText.react"),{numberOfLines:1,type:"body3",children:k}),b[10]=k,b[11]=g):g=b[11];b[12]!==h||b[13]!==f||b[14]!==e||b[15]!==a||b[16]!==g?(k=j.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},h,{entry:f,isActive:e,itemStartContent:a,children:g})),b[12]=h,b[13]=f,b[14]=e,b[15]=a,b[16]=g,b[17]=k):k=b[17];return k}g["default"]=a}),98);
__d("CometTypeaheadSeeAllViewItem.react",["fbt","ix","CometTypeaheadViewItem.react","FDSText.react","TetraIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;b.useMemo;var l=b.c;function a(a){var b=l(16),e,f,g,h;b[0]!==a?(h=a.entry,e=a.extraViewItemProps,f=a.queryString,g=babelHelpers.objectWithoutPropertiesLoose(a,["entry","extraViewItemProps","queryString"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);(a=e)==null?void 0:a.placeholderBuilder;a=(e=(a=e)==null?void 0:a.placeholderBuilder)!=null?e:m;e=a;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(a="x6s0dn4 xwnonoy x1o1ewxj x3x9cwd x1e5q0jg x13rtm0m x78zum5 xc9qbxq xl56j7k x14qfxbe",b[5]=a):a=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx("div",{className:a,children:k.jsx(c("TetraIcon.react"),{color:"white",icon:d("fbicon")._(i("491282"),16),size:16})}),b[6]=a):a=b[6];var j;b[7]!==e||b[8]!==f?(j=e(f),b[7]=e,b[8]=f,b[9]=j):j=b[9];b[10]!==j?(e=k.jsx(c("FDSText.react"),{color:"blueLink",numberOfLines:1,type:"body3",children:j}),b[10]=j,b[11]=e):e=b[11];b[12]!==g||b[13]!==h||b[14]!==e?(f=k.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},g,{entry:h,itemStartContent:a,children:e})),b[12]=g,b[13]=h,b[14]=e,b[15]=f):f=b[15];return f}function m(a){return h._("__JHASH__rcEEwxiDmS5__JHASH__",[h._implicitParam("=m1",k.jsx("strong",{children:h._("__JHASH__BFbyaDXF_eS__JHASH__",[h._param("query",a.toLowerCase())])}))])}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("cometSearchTypeaheadEchoViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("echo")?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadKeywordViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("keyword")?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadRecentViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.subtype==="recent"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadSeeAllViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("see_all")?a:null}f["default"]=a}),66);
__d("SearchCometTypeaheadViewItemResolver.react",["CometSearchTypeaheadBaseSurfaceRecentViewItem.react","CometTypeaheadEchoViewItem.react","CometTypeaheadKeywordViewItem.react","CometTypeaheadSeeAllViewItem.react","cometSearchTypeaheadEchoViewItem.resolver","cometSearchTypeaheadKeywordViewItem.resolver","cometSearchTypeaheadRecentViewItem.resolver","cometSearchTypeaheadSeeAllViewItem.resolver","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){var b=a.additionalEntryMappings,d=a.seeAllLabelBuilder,e=a.children,f=a.entry;a=a.fallbackViewItem;a=a===void 0?c("CometTypeaheadKeywordViewItem.react"):a;var g=i(function(){var a;return[].concat((a=b)!=null?a:[],j({seeAllLabelBuilder:d}))},[b,d]);g=g.find(function(a){a=a.resolver;return a(f)});if(g){var h=g.viewItem;g=g.viewItemProps;return e(h,g)}return e(a)}function j(a){a=a.seeAllLabelBuilder;return[{resolver:c("cometSearchTypeaheadEchoViewItem.resolver"),viewItem:c("CometTypeaheadEchoViewItem.react")},{resolver:c("cometSearchTypeaheadSeeAllViewItem.resolver"),viewItem:c("CometTypeaheadSeeAllViewItem.react"),viewItemProps:{placeholderBuilder:a}},{resolver:c("cometSearchTypeaheadRecentViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseSurfaceRecentViewItem.react")},{resolver:c("cometSearchTypeaheadKeywordViewItem.resolver"),viewItem:c("CometTypeaheadKeywordViewItem.react")}].filter(Boolean)}g["default"]=a}),98);
__d("XCometGamingVideoControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/gaming/video/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("cometTypeaheadMemoizeEntryKey",["cometUniqueID","memoizeStringOnly"],(function(a,b,c,d,e,f,g){"use strict";var h=c("memoizeStringOnly")(function(a){return c("cometUniqueID")()});function a(a){return h(a)}g["default"]=a}),98);
__d("cometSearchTypeaheadPayloadDecoratorAddEcho",["BaseDataEntryKeyBuilder","cometTypeaheadMemoizeEntryKey"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.keyBuilder,d=b===void 0?c("BaseDataEntryKeyBuilder"):b,e=a.limit;return function(a){var b=a.entries,f=a.params.query;b=(b=b)!=null?b:[];var g=b.find(function(a){return d(a).trim().toLowerCase()===f.trim().toLowerCase()})!=null,h=[];if(!g&&b.length<e){g=c("cometTypeaheadMemoizeEntryKey")(f+"-echo");g={key:g,label:f,metaData:{markers:new Set(["echo"])},rawData:{type:"echo"}};h.push(g)}return babelHelpers["extends"]({},a,{entries:[].concat(b,h)})}}g["default"]=a}),98);
__d("cometSearchTypeaheadPayloadDecoratorAddSeeAll",["cometTypeaheadMemoizeEntryKey"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.position;return function(a){var d=a.entries,e=a.params.query;d=(d=d)!=null?d:[];var f=c("cometTypeaheadMemoizeEntryKey")(e+"-see_all");f={key:f,label:e,metaData:{markers:new Set(["see_all"])},rawData:{type:"see_all"}};e=[];switch(b){case"bottom":e=[].concat(d,[f]);break;case"top":e=[f].concat(d);break}return babelHelpers["extends"]({},a,{entries:e})}}g["default"]=a}),98);
__d("cometSearchTypeaheadDecorateMixedPayload",["BaseTypeaheadPayloadDecoratorAddLimit","baseTypeaheadFetchPayloadDecorate","cometSearchTypeaheadPayloadDecoratorAddEcho","cometSearchTypeaheadPayloadDecoratorAddSeeAll"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=b.excludeSeeAllAndEcho;d=d===void 0?!1:d;var e=b.keyBuilder,f=b.limit;b=b.seeAllPosition;b=b===void 0?"bottom":b;return c("baseTypeaheadFetchPayloadDecorate")(a,[c("BaseTypeaheadPayloadDecoratorAddLimit")(f),d?null:c("cometSearchTypeaheadPayloadDecoratorAddEcho")({keyBuilder:e,limit:f}),d?null:c("cometSearchTypeaheadPayloadDecoratorAddSeeAll")({position:b})].filter(Boolean))}g["default"]=a}),98);
__d("cometSearchTypeaheadPayloadDecoratorApplySectionLimits",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return function(c){for(var d=c.entries,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var h=b(g);h=h!=null?a.get(h):null;h!=null&&g.type==="section"&&(g.entries=g.entries.slice(0,h))}return c}}f["default"]=a}),66);
__d("cometSearchTypeaheadDecorateRecentPayload",["BaseTypeaheadPayloadDecoratorAddLimit","baseTypeaheadFetchPayloadDecorate","cometSearchTypeaheadPayloadDecoratorApplySectionLimits"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=b.getSectionLimitKey,e=b.limit;b=b.sectionLimits;var f=a.entries.every(function(a){return a.type==="section"});return c("baseTypeaheadFetchPayloadDecorate")(a,[f&&b!=null?c("cometSearchTypeaheadPayloadDecoratorApplySectionLimits")(b,d):c("BaseTypeaheadPayloadDecoratorAddLimit")(e)])}g["default"]=a}),98);
__d("cometSearchTypeaheadDedupeAndLog",["FBLogger","gkx","killswitch","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ODS").__setRef("cometSearchTypeaheadDedupeAndLog");function a(a,b,d){if(c("killswitch")("SEARCH_COMET_DISABLE_STS_DUPE_LOGGING"))return b;var e=new Map(),f=[];for(var b=b,g=Array.isArray(b),h=0,b=g?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(g){if(h>=b.length)break;j=b[h++]}else{h=b.next();if(h.done)break;j=h.value}j=j;var k=e.get(j.key);k!=null?i({caller:d,dupeEntry:j,existingEntry:k,strategy:a}):(e.set(j.key,j),f.push(j))}return f}function i(a){var b=a.caller,d=a.dupeEntry,e=a.existingEntry;a=a.strategy;var f=e.metaData.markers,g=d.metaData.markers;c("FBLogger")("search").warn("STS Dupe encountered: "+e.key+" ("+Array.from(f).join("_")+", label: "+e.label+") compared to "+d.key+"\n    ("+Array.from(g).join("_")+", label: "+d.label+")");var i="comet_ta_sts_dupe_v4."+a,j=["react_key_"+(Array.from(f).join("_")||"plain_keyword"),b,"existing_kind_"+Array.from(f).join("_"),"dupe_kind_"+Array.from(g).join("_")].join(".");h.onReady(function(a){a.bumpEntityKey(354,i,j,1)})}g["default"]=a}),98);
__d("cometSearchTypeaheadSTSDedupeEntries",["CometSearchTypeaheadDefaultEntryComparator","CometSearchTypeaheadServerDrivenEntryComparator","cometSearchTypeaheadDedupeAndLog","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){c===void 0&&(c="bootstrap_and_backend_merge");var e=a.concat(b).every(function(a){return a.rawData.suggestion_keys!=null});return h.apply(void 0,[a,b,c].concat(e?[d("CometSearchTypeaheadServerDrivenEntryComparator").areEntriesDupes,d("CometSearchTypeaheadServerDrivenEntryComparator").pickEntryToKeep]:[d("CometSearchTypeaheadDefaultEntryComparator").areEntriesDupes,d("CometSearchTypeaheadDefaultEntryComparator").pickEntryToKeep]))}function h(a,b,e,f,g){var h=d("CometSearchTypeaheadServerDrivenEntryComparator").areEntriesDupes,i=[],j=new Set(b);for(var a=a,k=Array.isArray(a),l=0,a=k?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=a.length)break;m=a[l++]}else{l=a.next();if(l.done)break;m=l.value}m=m;i.push(m)}for(m=b,l=Array.isArray(m),k=0,m=l?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(l){if(k>=m.length)break;a=m[k++]}else{k=m.next();if(k.done)break;a=k.value}b=a;a=[];for(var n=0;n<i.length;n++){var o=i[n];o!=null&&f(o,b)&&a.push(n)}o=a[0];n=o!=null?i[o]:null;if(n!=null&&!j.has(n)){n=g(n,b);i[o]=n;for(o=0;o<a.length;o++){var p=a[o],q=i[p];q!=null&&q!==n&&q!==g(q,b)&&(i[p]=null)}}else i.push(b)}return c("cometSearchTypeaheadDedupeAndLog")(h?"with_keys":"without_keys",c("filterNulls")(i),e)}g["default"]=a}),98);
__d("cometSearchTypeaheadSTSDedupeCachedEntries",["cometSearchTypeaheadSTSDedupeEntries","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=c("cometSearchTypeaheadSTSDedupeEntries")(a.map(function(a){return a.entry}),b.map(function(a){return a.entry}),"query_cache"),e=[].concat(a,b);return c("filterNulls")(d.map(function(a){return e.find(function(b){return b.entry===a})}))}g["default"]=a}),98);
__d("searchCometTypeaheadGetHighConfidenceResult",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData,c=a.rawData;b=b.markers;if((a.subtype==="keyword"||a.subtype==="recent")&&b.has("high_confidence")){c=(b=(a=c.structuredInfo)==null?void 0:a.high_confidence_result)!=null?b:{};a=c.hcm_id;b=c.source_as_enum;if(a!=null&&b!=null)return{id:a,source:b}}}f["default"]=a}),66);
__d("searchCometTypeaheadGetStsDisambiguation",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData,c=a.rawData;b=b.markers;if(a.subtype==="keyword"&&b.has("disambiguation")){a=(c=(a=c.structuredInfo)==null?void 0:(b=a.disambiguation_result)==null?void 0:b.disambiguation_info_list[0])!=null?c:{};b=a.type;if(b!=null)return{primary:{type:b}}}}f["default"]=a}),66);
__d("searchCometTypeaheadPushErrorToast",["fbt","cometPushToast"],(function(a,b,c,d,e,f,g,h){"use strict";function a(){d("cometPushToast").cometPushErrorToast({message:h._("__JHASH__EY5KKLiSk-O__JHASH__")})}g["default"]=a}),226);
__d("useSearchCometEventEmitterContext",["FBLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(a){a=i(a);a==null&&c("FBLogger")("search").mustfix("Missing event emitter context");return a}g["default"]=a}),98);
__d("searchCometTypeaheadWithRecentDataSourceContext",["CometSearchRecentDataSourceDispatcherContext","SearchCometTypeaheadEventEmitterContext","react","useCometInternalTypeaheadFetch","useCometInternalTypeaheadStateDispatcher","useSearchCometEventEmitterContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useEffect;b.useMemo;var k=b.c;function a(a,b){var d=b.dataSource,e=b.shouldSubscribeToRecentSearches;function f(b){var f=k(28),g,h,l,m,n;f[0]!==b?(m=b.inputRef,n=b.onChange,h=b.onPressEntry,g=b.onSelectFreeformQuery,l=babelHelpers.objectWithoutPropertiesLoose(b,["inputRef","onChange","onPressEntry","onSelectFreeformQuery"]),f[0]=b,f[1]=g,f[2]=h,f[3]=l,f[4]=m,f[5]=n):(g=f[1],h=f[2],l=f[3],m=f[4],n=f[5]);b=c("useCometInternalTypeaheadFetch")();var o=b.refetch;b=c("useCometInternalTypeaheadStateDispatcher")();var p=b.dispatchHighlightedEntry;b=(b=c("useSearchCometEventEmitterContext")(c("SearchCometTypeaheadEventEmitterContext")))!=null?b:{};var q=b.subscribeToRecentSearchEntryAdded,r;f[6]!==q?(b=function(){if(e)return q==null?void 0:q(function(a){d.addRecentEntry(a)})},r=[q],f[6]=q,f[7]=b,f[8]=r):(b=f[7],r=f[8]);j(b,r);f[9]!==g?(b=function(a){var b={hasSecondaryAction:!0,key:a,label:a,metaData:{markers:new Set(["recent"])},rawData:{},subtype:"recent",type:"entry"};d.addRecentEntry(b);g&&g(a)},f[9]=g,f[10]=b):b=f[10];r=b;f[11]!==o?(b=function(a){d.removeRecentEntry(a,{onBeforeCommitMutation:function(){o({source:"cache"})}})},f[11]=o,f[12]=b):b=f[12];var s=b;f[13]!==s||f[14]!==p||f[15]!==h?(b=function(a,b){var c,e=a.label,f=a.metaData;c=(c=f==null?void 0:f.markers)!=null?c:new Set();if(b===!0&&a.subtype==="recent"){s(a);p({entry:null,secondaryActionHighlighted:null,source:null});return}if(c.has("nullstate_explore")){h&&h(a);return}var g=new Set(["recent"]);c.has("entity")&&g.add("entity");c.has("direct_nav")&&g.add("direct_nav");c.has("high_confidence")&&g.add("high_confidence");a.subtype==="recent"||a.subtype==="bootstrap"||a.subtype==="keyword"?c=babelHelpers["extends"]({},a.rawData,{badgeSnippet:null}):c={};f=(f=f==null?void 0:f.logging)!=null?f:{};var i=f.entityID,j=f.entityType,k=f.loggingInfo,l=f.stsDirectNavEntityID,m=f.stsDirectNavType,n=f.stsDisambiguationType,o=f.stsHighConfidenceID;f=f.stsHighConfidenceSource;d.addRecentEntry({hasSecondaryAction:!0,key:e.toLocaleLowerCase(),label:e,metaData:{logging:{entityID:i,entityType:j,loggingInfo:k,stsDirectNavEntityID:l,stsDirectNavType:m,stsDisambiguationType:n,stsHighConfidenceID:o,stsHighConfidenceSource:f},markers:g},rawData:c,subtype:"recent",type:"entry"});h==null?void 0:h(a,b)},f[13]=s,f[14]=p,f[15]=h,f[16]=b):b=f[16];b=b;var t;f[17]!==s?(t={dispatchRemoveRecentEntry:s},f[17]=s,f[18]=t):t=f[18];t=t;t=t;var u;f[19]!==l||f[20]!==m||f[21]!==n||f[22]!==b||f[23]!==r?(u=i.jsx(a,babelHelpers["extends"]({},l,{inputRef:m,onChange:n,onPressEntry:b,onSelectFreeformQuery:r})),f[19]=l,f[20]=m,f[21]=n,f[22]=b,f[23]=r,f[24]=u):u=f[24];f[25]!==t||f[26]!==u?(l=i.jsx(c("CometSearchRecentDataSourceDispatcherContext").Provider,{value:t,children:u}),f[25]=t,f[26]=u,f[27]=l):l=f[27];return l}return f}g["default"]=a}),98);
__d("useSearchCometRecentSearchDataSource",["Actor","CometRelay","CometSearchRecentDataSource","CometSearchRecentDataSource.query","WebPixelRatio","XCometActivityLogControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo,j=16;function a(a){var b=a.fetchSearchBadge,e=b===void 0?!1:b,f=a.filter,g=a.nullStateSurface,h=a.searchScopeEntityID,k=d("CometRelay").useRelayEnvironment();b=d("Actor").useActor();a=b[0];var l=c("XCometActivityLogControllerRouteBuilder").buildURL({category_key:"SEARCH",entry_point:"edit_search_history",log_filter:"search",vanity:a});return i(function(){return new(c("CometSearchRecentDataSource"))({activityLogURL:l,gqlQuery:d("CometSearchRecentDataSource.query").query,limit:j,normalize:d("CometSearchRecentDataSource.query").normalize,queryVariablesBuilderFunction:function(){return{fetch_nullstate:g!=null,fetch_recent_searches:f!=null,fetch_search_badge:e,filter:f,first:j,scale:d("WebPixelRatio").get(),search_null_state_argument:g!=null?{surface:{name:g}}:{surface:{name:"GLOBAL"}},search_scope_entity_id:h}},relayEnvironment:k})},[l,e,f,g,k,h])}g["default"]=a}),98);
__d("useSearchCometTypeaheadCompositeDataSource",["BaseDataEntryLabelKeyBuilder","CometRelay","CometSearchBootstrapKeywordsDataSource","CometSearchKeywordDataSource","Promise","cometSearchTypeaheadDecorateMixedPayload","cometSearchTypeaheadDecorateRecentPayload","cometSearchTypeaheadSTSDedupeCachedEntries","cometSearchTypeaheadSTSDedupeEntries","justknobx","react","searchCometTypeaheadPushErrorToast"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");e.useCallback;e.useMemo;var j=e.c;function a(a){var e=j(52),f=a.config,g=a.recentDataSource,i=a.searchScopeEntityID;a=f.dataSources;var l=f.logging;f=f.view;var m=a.bootstrapKeywordsDataSourceParams;a=a.keywordDataSourceParams;var n=l.sessionContext,o=f.renderLimit,p=f.sectionLimits;l=d("CometRelay").useRelayEnvironment();e[0]!==m||e[1]!==o||e[2]!==l?(f=m!=null?new(c("CometSearchBootstrapKeywordsDataSource"))(babelHelpers["extends"]({},m,{limit:o,relayEnvironment:l})):null,e[0]=m,e[1]=o,e[2]=l,e[3]=f):f=e[3];m=f;var q=m;e[4]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){return c("searchCometTypeaheadPushErrorToast")()},e[4]=f):f=e[4];e[5]!==a||e[6]!==o||e[7]!==l?(m=new(c("CometSearchKeywordDataSource"))(babelHelpers["extends"]({},a,{dedupe:c("cometSearchTypeaheadSTSDedupeCachedEntries"),limit:o,onError:f,relayEnvironment:l})),e[5]=a,e[6]=o,e[7]=l,e[8]=m):m=e[8];f=m;var r=f;e[9]!==o?(a=function(a){var b=a.entries;a=a.params;return c("cometSearchTypeaheadDecorateMixedPayload")({entries:b,params:a},{excludeSeeAllAndEcho:c("justknobx")._("1509"),keyBuilder:c("BaseDataEntryLabelKeyBuilder"),limit:o})},e[9]=o,e[10]=a):a=e[10];var s=a,t=k;e[11]!==q||e[12]!==g?(l=function(){q==null?void 0:q.bootstrap(),g==null?void 0:g.bootstrap()},e[11]=q,e[12]=g,e[13]=l):l=e[13];m=l;e[14]!==g||e[15]!==i||e[16]!==n?(f=function(a,b){if(g==null)return;if(i==null){g.add(a,n,b);return}var c=a.key,d=a.label,e=a.metaData;a=a.rawData;e={logging:{searchScopeEntityID:i},markers:e.markers};c={hasSecondaryAction:!0,key:c,label:d,metaData:e,rawData:a,subtype:"recent",type:"entry"};g.add(c,n,b)},e[14]=g,e[15]=i,e[16]=n,e[17]=f):f=e[17];a=f;e[18]!==g||e[19]!==o||e[20]!==p||e[21]!==q||e[22]!==r||e[23]!==s?(l=function(a){var b=a.query;if(b===""&&g!=null){var d=g.fetchCache(a),e=d.entries;d=d.params;return c("cometSearchTypeaheadDecorateRecentPayload")({entries:e,params:d},{getSectionLimitKey:function(a){return a.type==="section"?a.subtype:null},limit:o,sectionLimits:p})}if(b==="")return{entries:[],params:a};if(q==null){e=r.fetchCache(a);return s(babelHelpers["extends"]({},e))}d=q.fetchCache(a);b=d.entries;e=d.params;if(b.length>=o)return s({entries:b,params:e});d=r.fetchCache(a);e=d.entries;a=d.params;d=t(b,e);return s({entries:d,params:a})},e[18]=g,e[19]=o,e[20]=p,e[21]=q,e[22]=r,e[23]=s,e[24]=l):l=e[24];f=l;e[25]!==g||e[26]!==o||e[27]!==p||e[28]!==q||e[29]!==r||e[30]!==s?(l=function(a){var d=a.query;if(d===""&&g!=null)return g.fetchNetwork(a).then(function(a){return c("cometSearchTypeaheadDecorateRecentPayload")({entries:a.entries,params:a.params},{getSectionLimitKey:function(a){return a.type==="section"?a.subtype:null},limit:o,sectionLimits:p})});if(d==="")return(h||(h=b("Promise"))).resolve({entries:[],params:a});return q==null?r.fetchNetwork(a).then(function(a){return s(babelHelpers["extends"]({},a))}):r.fetchNetwork(a).then(function(b){var c=q.fetchCache(a);c=c.entries;var d=b.entries;b=b.params;c=t(c,d);return s({entries:c,params:b})})},e[25]=g,e[26]=o,e[27]=p,e[28]=q,e[29]=r,e[30]=s,e[31]=l):l=e[31];l=l;var u;e[32]!==g?(u=function(a,b){g!=null&&g.remove(a,b)},e[32]=g,e[33]=u):u=e[33];u=u;var v;e[34]!==r?(v=function(){return r.clearQueryCache()},e[34]=r,e[35]=v):v=e[35];var w;e[36]!==g?(w=function(){return g==null?void 0:g.clear()},e[36]=g,e[37]=w):w=e[37];var x;e[38]!==q?(x=function(){return q},e[38]=q,e[39]=x):x=e[39];var y;e[40]!==g?(y=function(){return g==null?void 0:g.refresh()},e[40]=g,e[41]=y):y=e[41];var z;e[42]!==a||e[43]!==m||e[44]!==v||e[45]!==w||e[46]!==f||e[47]!==l||e[48]!==x||e[49]!==y||e[50]!==u?(z={addRecentEntry:a,bootstrap:m,clearQueryCache:v,clearRecentSearches:w,fetchCache:f,fetchNetwork:l,getBootstrapKeywordsDataSource:x,refreshRecentSearches:y,removeRecentEntry:u},e[42]=a,e[43]=m,e[44]=v,e[45]=w,e[46]=f,e[47]=l,e[48]=x,e[49]=y,e[50]=u,e[51]=z):z=e[51];a=z;return a}function k(a,b){return c("cometSearchTypeaheadSTSDedupeEntries")(a,b,"bootstrap_and_backend_merge")}g["default"]=a}),98);
__d("useSearchCometTypeaheadRecentDataSourceContextDecorator",["react","searchCometTypeaheadWithRecentDataSourceContext"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useMemo;var i=b.c;function a(a,b){var d=i(4);b=b===void 0?!0:b;var e;d[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];var e=b;return c("searchCometTypeaheadWithRecentDataSourceContext").apply(void 0,e)},d[0]=e):e=d[0];d[1]!==a||d[2]!==b?(e={decorate:e,params:{dataSource:a,shouldSubscribeToRecentSearches:b}},d[1]=a,d[2]=b,d[3]=e):e=d[3];a=e;return a}g["default"]=a}),98);
__d("useSearchCometTypeaheadViewItem",["SearchCometTypeaheadViewItemResolver.react","cr:2417","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;e.useCallback;var j=e.c;function a(a){var d=j(4),e=a.additionalEntryMappings,f=a.getLinkProps,g=a.seeAllLabelBuilder;d[0]!==e||d[1]!==g||d[2]!==f?(a=function(a){var d=a.entry,h=a.queryString,j=babelHelpers.objectWithoutPropertiesLoose(a,["entry","queryString"]);return i.jsx(c("SearchCometTypeaheadViewItemResolver.react"),{additionalEntryMappings:e,entry:d,seeAllLabelBuilder:g,children:function(a,c){return i.jsx(a,babelHelpers["extends"]({},j,{debugElement:b("cr:2417")?i.jsx(b("cr:2417"),{entry:d,queryString:h}):null,entry:d,extraViewItemProps:c,linkProps:f==null?void 0:f({entry:d,queryString:h}),queryString:h}))}})},d[0]=e,d[1]=g,d[2]=f,d[3]=a):a=d[3];return a}g["default"]=a}),98);
__d("useSearchCometTypeaheadViewListStrategy",["CometScrollableArea.react","FocusInertRegion.react","QE2Logger","focusScopeQueries","react","stylex","useCometTypeaheadSectionedViewListStrategy","useSearchCometTypeaheadViewItem"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.c;function a(a){var b=k(15),e=a.additionalEntryMappings,f=a.afterNullstateContent,g=a.emptyStateContent,i=a.getLinkProps,l=a.isScrollable,m=a.nullstateContent,n=a.onHeaderActionPress,o=a.scrollableXStyle,p=a.seeAllLabelBuilder,q=a.xstyle;d("QE2Logger").logExposureForActingAccount("comet_structured_typeahead_universe");b[0]!==e||b[1]!==i||b[2]!==p?(a={additionalEntryMappings:e,getLinkProps:i,seeAllLabelBuilder:p},b[0]=e,b[1]=i,b[2]=p,b[3]=a):a=b[3];e=c("useSearchCometTypeaheadViewItem")(a);b[4]!==g||b[5]!==m||b[6]!==n||b[7]!==e?(i={emptyStateContent:g,nullstateContent:m,onHeaderActionPress:n,viewItemStrategyRenderer:e},b[4]=g,b[5]=m,b[6]=n,b[7]=e,b[8]=i):i=b[8];var r=c("useCometTypeaheadSectionedViewListStrategy")(i);b[9]!==r||b[10]!==f||b[11]!==q||b[12]!==l||b[13]!==o?(p=function(a){var b=a.ariaProps,e=a.entries,g=a.highlightedEntry,i=a.isLoading,k=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","entries","highlightedEntry","isLoading","queryString"]);b=j.jsxs(j.Fragment,{children:[j.jsx(r,babelHelpers["extends"]({ariaProps:b,entries:e,highlightedEntry:g,isLoading:i,queryString:k},a)),f!=null&&k.length===0&&e.length>0?f:null]});g=k==="";return j.jsx(c("FocusInertRegion.react"),{focusQuery:d("focusScopeQueries").tabbableScopeQuery,children:j.jsx("div",{className:(h||(h=c("stylex")))(q),"data-testid":void 0,children:l?j.jsx(c("CometScrollableArea.react"),{horizontal:!1,xstyle:o,children:b}):b})})},b[9]=r,b[10]=f,b[11]=q,b[12]=l,b[13]=o,b[14]=p):p=b[14];return p}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("Dots3HorizontalOutline20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsx("path",{d:"M458 408a2 2 0 1 1-4 0 2 2 0 0 1 4 0m6 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0m-12 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("E2EEMessagingLinkContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=e(!1);function a(a){var b=a.children;a=a.isSecure;return i.jsx(k.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(k)}g.E2EEMessagingLinkProvider=a;g.useE2EEMessagingLink=b}),98);
__d("getGroupThreadViewParams",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=b==null?void 0:b.main.route.params;a=(a==null?void 0:a.entity_type)==="group"&&(a==null?void 0:a.section)==="CHATS";if(!a)return null;a=b==null?void 0:b.thread_id;b=b==null?void 0:b.idorvanity;if(a==null||b==null)return null;return typeof a==="string"&&typeof b==="string"?{groupId:b,threadKey:a}:null}f["default"]=a}),66);
__d("useGroupThreadViewParams",["getGroupThreadViewParams","useCometRouterState","useTopMostRouteCometEntityKey"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useTopMostRouteCometEntityKey")(),b=c("useCometRouterState")();return c("getGroupThreadViewParams")(a,b)}g["default"]=a}),98);
__d("useMWInboxURIState",["CometRouteParams","CometRouteURL","ConstUriUtils","CurrentEnvironment","Env","FBLogger","I64","LSMessagingThreadTypeUtil","MWCMIsAnyCMThread","MessengerURIConstants","ReQL","ReQLSuspense","gkx","isArmadillo","nullthrows","useCurrentRoute","useGroupThreadViewParams","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e="Compose";var k="PayFriendPicker",l="PayThread",m="SecureThread",n="Thread",o="/";e={Compose:e};k={PayFriendPicker:k,PayThread:l};l={SecureThread:m,Thread:n};var p=babelHelpers["extends"]({},e,k,l);m="Null";n="Payment";e="People";k="Search";l="SearchMessages";var q="SeeAllGroups",r="SeeAllPages",s="SeeAllPeople",t="SeeAllUnread",u="TeamworkSeeAllAnnouncementGroups",v="Recent",w="UnsupportedThread";m={Null:m,Payment:n,People:e,Search:k,SearchMessages:l,SeeAllGroups:q,SeeAllPages:r,SeeAllPeople:s,SeeAllUnread:t,TeamworkSeeAllAnnouncementGroups:u};n={Recent:v};e={UnsupportedThread:w};var x=babelHelpers["extends"]({},m,n,e),y={type:x.Null},z="/?$";function A(a){a=a.match(new RegExp(c("MessengerURIConstants").THREAD_PREFIX+"([^/]+)/?$"));if(a!=null)return decodeURIComponent(a[1])}var B=c("CurrentEnvironment").instagramdotcom?c("MessengerURIConstants").INSTAGRAM_DIRECT_PATH:c("CurrentEnvironment").facebookdotcom?c("MessengerURIConstants").FACEBOOK_PREFIX:"";function C(a){a=new URL(a.url,window.location.origin);var b=a.pathname;a=a.searchParams;var e=new RegExp("^"+(B+"(/|$)"));if(c("CurrentEnvironment").facebookdotcom&&!e.test(b))throw c("FBLogger")("messenger_web_ia").mustfixThrow("MWInboxURIState.NonMessengerState wrong CurrentEnvironment pattern for %s",B);b=b.replace(e,"/");e=a==null?void 0:a.get("fbid");a=a==null?void 0:a.get("id");if(b.match(new RegExp("^"+c("MessengerURIConstants").PEOPLE_PATH))!=null)return{type:x.People};if(b.match(new RegExp("^"+c("MessengerURIConstants").PAYMENT_PATH))!=null)return{type:x.Payment};if(b.match(new RegExp("^"+c("MessengerURIConstants").SEARCH_PATH))!=null)return{type:x.Search};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_GROUP_VIEW))!=null)return{type:x.SeeAllGroups};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_CHAT_VIEW))!=null)return{type:x.SeeAllPeople};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_UNREAD_VIEW))!=null)return{type:x.SeeAllUnread};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_ANNOUNCEMENT_GROUP_VIEW))!=null)return{type:x.TeamworkSeeAllAnnouncementGroups};if(b==="/read/"&&e!=null)return{type:x.Recent,uriStateDetails:{fbid:(j||(j=d("I64"))).of_string(e),type:p.Thread}};if(b.match(new RegExp("^"+(c("MessengerURIConstants").COMPOSE_SUBPATH+z)))!=null)return{type:x.Recent,uriStateDetails:{initialTogglePosition:"E2EEToggleOff",type:p.Compose}};if(b.match(new RegExp("^"+(c("MessengerURIConstants").PAYMENT_PATH+c("MessengerURIConstants").PAYMENT_PAY_PATH)))!=null)return{type:x.Recent,uriStateDetails:{fbid:void 0,type:a!=null?p.PayThread:p.PayFriendPicker}};e=F(A(b));return e!=null?{type:x.Recent,uriStateDetails:{fbid:e,type:p.Thread}}:y}var D=c("gkx")("23433")||c("gkx")("22839"),E=c("gkx")("5080");function a(a){return new URL(a,window.location.origin).pathname.split("/")}function F(a){try{return a!=null?(j||(j=d("I64"))).of_string_opt(a):void 0}catch(a){return void 0}}function b(a){var b,e=(h||(h=c("useReStore")))(),g=c("useCurrentRoute")(),k=d("CometRouteURL").useRouteURLPath(),l=c("useGroupThreadViewParams")();a=F(a);var m=d("CometRouteParams").useRouteParams();b=a!=null?(b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(a),f.id+":323"))==null?void 0:b.threadType:null;var n=b!=null?c("MWCMIsAnyCMThread")(b):!1,q=b!=null?d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannelWithNoAccessibility(b):!1;if(E&&(i||(i=c("Env"))).lastReadMessengerThreadKey!==null&&(i||(i=c("Env"))).lastReadMessengerThreadKey!==void 0&&(i||(i=c("Env"))).isLastReadMessengerThreade2ee!==null){var r=(j||(j=d("I64"))).of_float((i||(i=c("Env"))).lastReadMessengerThreadKey),s=(i||(i=c("Env"))).isLastReadMessengerThreade2ee===!0?p.SecureThread:p.Thread;if(k===o&&r!=null)return{type:x.Recent,uriStateDetails:{fbid:r,type:s}}}if(l!=null)return{type:x.Recent,uriStateDetails:{fbid:(j||(j=d("I64"))).of_string(l.threadKey),type:p.Thread}};if(g==null)return y;if(!k.startsWith(B)&&!k.startsWith(c("MessengerURIConstants").GROUPS_PATH))throw c("FBLogger")("messenger_web_ia").mustfixThrow("MWInboxURIState.NonMessengerState wrong groups path %s",k);r=m.initial_e2ee_toggle_position==="1"||m.initial_e2ee_toggle_position===1||m.initial_e2ee_toggle_position===!0?"E2EEToggleOn":"E2EEToggleOff";s=g.url.substring(B.length);k=c("nullthrows")((l=d("ConstUriUtils").getUri(s))==null?void 0:l.getPath().split("/"));if(a!=null){if(k.length===4&&k[0]===""&&k[1]==="e2ee"&&k[2]==="t"&&c("isArmadillo")())return{type:x.Recent,uriStateDetails:{fbid:a,type:p.SecureThread}};if(b!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(b))return C(g);if(n&&!D)return y;return q?{fbid:a,type:x.UnsupportedThread}:{type:x.Recent,uriStateDetails:{fbid:a,type:p.Thread}}}if(k==null)return C(g);switch(k.length){case 2:return k[1]==="new"?{type:x.Recent,uriStateDetails:{initialTogglePosition:r,type:p.Compose}}:C(g);case 3:if(k[1]!=="t")return C(g);if(k[2]==="")return C(g);m=F(k[2]);s=m!=null?d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(m),f.id+":457"):null;return m!=null&&s!=null&&!d("LSMessagingThreadTypeUtil").isArmadilloSecure(s==null?void 0:s.threadType)?{type:x.Recent,uriStateDetails:{fbid:m,type:p.Thread}}:y;case 0:case 1:default:return C(g)}}g.MWInboxURIStateDetailsType=p;g.MWInboxURIStateTag=x;g.getRouteTokens=a;g.useMWInboxURIState=b}),98);
__d("MWInboxProvider.react",["react","useMWInboxURIState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h.createContext;var j=b();function a(a){var b=a.children;a=a.threadKey;a=d("useMWInboxURIState").useMWInboxURIState(a);return i.jsx(j.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g.MWInboxProviderContext=j;g.MWInboxProvider=a}),98);
__d("EncryptedBackupsSupportedPlatformUtils",["$InternalEnum","FBLogger","MWInboxProvider.react","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext,j=b("$InternalEnum").Mirrored(["MESSENGER_DOT_COM","FACEBOOK_DOT_COM","FACEBOOK_INBOX","INSTAGRAM_DIRECT_INBOX"]),k=c("gkx")("23433"),l=c("gkx")("23434"),m=c("gkx")("24057");function a(){var a=i(d("MWInboxProvider.react").MWInboxProviderContext);if(m)return j.INSTAGRAM_DIRECT_INBOX;if(k)return j.MESSENGER_DOT_COM;l||c("FBLogger")("labyrinth_web").info("Unknown supported platform type. Falling back to facebook.com as Supported Platform type.");return a!=null?j.FACEBOOK_INBOX:j.FACEBOOK_DOT_COM}g.EncryptedBackupsSupportedPlatform=j;g.useMWEncryptedBackupsGetCurrentSupportedPlatform=a}),98);
__d("LSClearMessagePlaceholderRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(13).fetch([[[a[0],b.i64.cast([0,0])]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&c.minMessageId===a[1]&&b.i64.eq(b.i64.cast([0,0]),c.minTimestampMs)&&b.i64.eq(a[2],c.maxTimestampMs)}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxClearMessagePlaceholderRangeStoredProcedure";e.exports=a}),null);
__d("LSComputeParticipantCapabilities",["LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.filter(c.db.table(14).fetch([[[a[1],d[0]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,d[0])}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1,!1],d[1]=c[0],d[2]=c[1],c):(b=a.item,c=[b.isAdmin==null?!1:b.isAdmin,b.isModerator],d[1]=c[0],d[2]=c[1],c)})},function(b){return c.filter(c.db.table(14).fetch([[[a[1],a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[0])}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1,!1],d[4]=c[0],d[5]=c[1],c):(b=a.item,c=[b.isAdmin==null?!1:b.isAdmin,b.isModerator],d[4]=c[0],d[5]=c[1],c)})},function(b){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c.i64.cast([0,1073741823]),c.i64.cast([0,0]),!1],d[7]=e[0],d[8]=e[1],d[9]=e[2],e):(b=a.item,e=[b.capabilities==null?c.i64.cast([0,1073741823]):b.capabilities,b.contactTypeExact==null?c.i64.cast([0,0]):b.contactTypeExact,b.isManagedByViewer==null?!1:b.isManagedByViewer],d[7]=e[0],d[8]=e[1],d[9]=e[2],e)})},function(a){return d[12]=c.i64.eq(d[8],c.i64.cast([0,4]))?d[9]?c.i64.cast([0,2612119]):c.i64.or_(c.i64.cast([0,2612119]),c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,3])))):d[7],c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[11]=a[0],a})},function(e){return d[13]=c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,20]))),d[15]=d[1]&&!d[4]&&c.i64.neq(d[11],a[0])?d[12]:c.i64.eq(c.i64.and_(d[12],d[13]),c.i64.cast([0,0]))?d[12]:c.i64.sub(d[12],d[13]),c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[14]=a[0],a})},function(e){return d[16]=c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,22]))),d[19]=d[4]&&d[1]&&c.i64.neq(d[14],a[0])?d[15]:c.i64.eq(c.i64.and_(d[15],d[16]),c.i64.cast([0,0]))?d[15]:c.i64.sub(d[15],d[16]),d[2]?d[17]=!(d[4]||d[5]):d[17]=!0,c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[18]=a[0],a})},function(b){return d[20]=c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,21]))),e[0]=(d[1]||d[2])&&d[17]&&c.i64.neq(a[0],d[18])?d[19]:c.i64.eq(c.i64.and_(d[19],d[20]),c.i64.cast([0,0]))?d[19]:c.i64.sub(d[19],d[20])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxComputeParticipantCapabilitiesStoredProcedure";e.exports=a}),null);
__d("LSDeleteThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[b.i64.cast([0,0]),void 0],c[0]=e[0],c[1]=e[1],e):(d=a.item,e=[d.parentThreadKey,d.disappearingThreadKey],c[0]=e[0],c[1]=e[1],e)})},function(a){return b.count(b.db.table(9).fetch([[[c[0]]],"parentThreadKeyLastActivityTimestampMs"])).then(function(a){return c[3]=a})},function(d){return a[1]&&b.i64.neq(c[0],b.i64.cast([0,0]))&&b.i64.eq(c[3],b.i64.cast([0,1]))?b.sequence([function(d){return b.forEach(b.db.table(9).fetch([[[a[0]],[c[0]]]]),function(a){return a["delete"]()})},function(a){return b.i64.neq(c[1],void 0)?0:0}]):b.sequence([function(c){return b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.i64.neq(c[1],void 0)?0:0}])}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxDeleteThreadStoredProcedure";e.exports=a}),null);
__d("LSGetFirstAvailableQuickReplyCTAID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(a){return b.sequence([function(a){return b.sortBy(b.db.table(20).fetch(),[["ctaId","DESC"]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=b.i64.cast([0,1]):(d=a.item,c[0]=b.i64.add(d.ctaId,b.i64.cast([0,1])))})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxGetFirstAvailableQuickReplyCTAIDStoredProcedure";e.exports=a}),null);
__d("LSGroupParticipantJoinState",[],(function(a,b,c,d,e,f){a=Object.freeze({MEMBER:0,PENDING:1,INVITED:2});f["default"]=a}),66);
__d("LSInitSyncCompleteSubscription",["I64","LSIntEnum","Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,c){return new(j||(j=b("Promise")))(function(b,e){var f=d("ReQL").fromTableAscending(a.tables.sync_groups).getKeyRange(c).subscribe(function(a,c){if(c.operation==="delete")return;if((h||(h=d("I64"))).equal(c.value.syncStatus,(i||(i=d("LSIntEnum"))).ofNumber(2))){f();return b()}})})}function a(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.sync_groups).getKeyRange(b)).then(function(c){if(c!=null&&(h||(h=d("I64"))).equal(c.syncStatus,(i||(i=d("LSIntEnum"))).ofNumber(2)))return;return k(a,b)})}function c(a){return k(a,(i||(i=d("LSIntEnum"))).ofNumber(1))}g.maybeWaitForSyncGroup=a;g.use=c}),98);
__d("LSInsertNewMessageRange",["LSClearMessagePlaceholderRange"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return c.storedProcedure(b("LSClearMessagePlaceholderRange"),a[0],a[9],c.i64.cast([0,0]))},function(b){return c.filter(c.db.table(13).fetch([[[a[0],{lte:a[5]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,a[5])&&c.i64.ge(b.maxTimestampMs,a[5])}).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[a[1],a[3],a[7]],d[0]=e[0],d[1]=e[1],d[2]=e[2],e):(c=b.item,e=[c.minTimestampMs,c.minMessageId,c.hasMoreBefore],d[0]=e[0],d[1]=e[1],d[2]=e[2],e)})},function(b){return c.filter(c.db.table(13).fetch([[[a[0],{lte:a[6]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,a[6])&&c.i64.ge(b.maxTimestampMs,a[6])}).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[a[2],a[4],a[8]],d[4]=e[0],d[5]=e[1],d[6]=e[2],e):(c=b.item,e=[c.maxTimestampMs,c.maxMessageId,c.hasMoreAfter],d[4]=e[0],d[5]=e[1],d[6]=e[2],e)})},function(b){return c.forEach(c.filter(c.db.table(13).fetch([[[a[0],{lte:a[6]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.ge(a[6],b.minTimestampMs)&&c.i64.le(a[5],b.maxTimestampMs)}),function(a){return a["delete"]()})},function(b){return c.db.table(13).put({threadKey:a[0],minTimestampMs:d[0],minMessageId:d[1],maxTimestampMs:d[4],maxMessageId:d[5],isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:d[2],hasMoreAfter:d[6]})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxInsertNewMessageRangeStoredProcedure";e.exports=a}),null);
__d("LSInsertQuickReplyCTA",["LSArrayGetObjectAt","LSGetFirstAvailableQuickReplyCTAID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=c.i64.of_int32(a[3].length),c.i64.gt(d[0],c.i64.cast([0,0]))?c.sequence([function(b){return c.forEach(c.db.table(20).fetch([[[a[0],a[1]]]]),function(a){return a["delete"]()})},function(a){return c.storedProcedure(b("LSGetFirstAvailableQuickReplyCTAID")).then(function(a){return a=a,d[1]=a[0],a})},function(e){return d[2]=d[1],d[3]=c.i64.of_int32(a[3].length),c.i64.gt(d[3],c.i64.cast([0,0]))?c.loopAsync(d[3],function(e){return d[7]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[3],d[7]).then(function(a){return a=a,d[8]=a[0],d[9]=a[1],a})},function(b){return d[10]=d[8].get("title"),d[8],d[11]=d[8].get("type"),d[8],d[12]=d[8].get("image_url"),d[8],d[13]=d[8].get("platform_token"),d[8],c.db.table(20).add({threadKey:a[0],messageId:a[1],ctaId:d[2],messageTimestampMs:a[2],title:d[10],type_:d[11],imageUrl:d[12],platformToken:d[13]})},function(a){return d[2]=c.i64.add(d[2],c.i64.cast([0,1]))}])}):c.resolve()},function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[3],c.i64.cast([0,0])).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(b){return d[6]=d[4].get("quick_reply_type"),d[4],c.forEach(c.filter(c.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.timestampMs,a[2])&&b.messageId===a[1]}),function(a){var b=a.update;a.item;return b({hasQuickReplies:!0,quickReplyType:d[6]})})}]):c.resolve()},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxInsertQuickReplyCTAStoredProcedure";e.exports=a}),null);
__d("LSMessagePointQuery",["LSIssueNewTask","LSVerifyThreadRowExists"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(12).fetch([[[a[1]]],"messageId"]),function(b){return c.i64.eq(b.threadKey,a[0])&&b.messageId===a[1]}).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(d){return c.storedProcedure(b("LSVerifyThreadRowExists"),a[0],a[2],c.i64.cast([0,1]))},function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:c.i64.cast([0,0]),minMessageId:a[1],maxTimestampMs:c.i64.cast([0,0]),maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[1]=c.i64.cast([0,1]):(e=b.item,d[7]=e.syncGroup,c.i64.neq(d[7],void 0)?d[6]=d[7]:d[6]=c.i64.cast([0,1]),d[1]=d[6])})},function(e){return d[3]=new c.Map(),d[3].set("thread_key",a[0]),d[3].set("message_id",a[1]),d[3].set("sync_group",d[1]),d[3].set("num_context_messages",a[3]),d[4]=d[3].get("thread_key"),d[3],d[5]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,19]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):(f=e.item,d[1]=f.timestampMs,c.filter(c.db.table(13).fetch([[[a[0],{lte:d[1]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,d[1])&&c.i64.ge(b.maxTimestampMs,d[1])}).next().then(function(f){var e=f.done;f.value;return e?c.sequence([function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:c.i64.cast([0,0]),minMessageId:a[1],maxTimestampMs:c.i64.cast([0,0]),maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[2]=c.i64.cast([0,1]):(e=b.item,d[8]=e.syncGroup,c.i64.neq(d[8],void 0)?d[7]=d[8]:d[7]=c.i64.cast([0,1]),d[2]=d[7])})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("message_id",a[1]),d[4].set("sync_group",d[2]),d[4].set("num_context_messages",a[3]),d[5]=d[4].get("thread_key"),d[4],d[6]=c.toJSON(d[4]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[5]),c.i64.cast([0,19]),d[6],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):0}))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxMessagePointQueryStoredProcedure";e.exports=a}),null);
__d("LSOptimisticMarkThreadReadV2StoredProcedure",["LSOptimisticMarkThreadReadV2","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.readWatermarkTimestampMs;return c("LSOptimisticMarkThreadReadV2").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSRtcCallState",[],(function(a,b,c,d,e,f){a=Object.freeze({NO_ONGOING_CALL:0,AUDIO_GROUP_CALL:1,VIDEO_GROUP_CALL:2,VIDEO_1TO1_CALL:3,AUDIO_1TO1_CALL:4});f["default"]=a}),66);
__d("MAWLoadingStateOutstandingOfflineQueueSelector",["MAWSharedProtocolQueueConst"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return function(b){var c=b.offlineQueueCount,e=b.offlineQueueSyncState;b=b.offlineQueueThreadStatus;if(a!=null&&Object.keys(b).length>0){return b[a]!=null&&((b=b[a])==null?void 0:b.snippetStatus)!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}return c>0&&e!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}};g.outstandingOfflineQueueSelector=a}),98);
__d("MAWTrackPendingOccamadilloThreads",["Deferred","LSDatabaseSingleton","LSInitSyncCompleteSubscription","LSIntEnum","MAWMIC","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new(c("Deferred"))(),k=new Set(),l=new Set(),m=new Set();function a(){d("MAWMIC").markEvent("occamadillo_thread_mapping_first_nop_start")}function e(){d("MAWMIC").markEvent("occamadillo_thread_mapping_acto_nop_start")}function f(a){d("MAWMIC").markEvent("occamadillo_thread_mapping_start"),l.add(a),k.add(a),d("MAWMIC").addIntAnnotation("occamadilloThreadCount",k.size)}function n(){d("MAWMIC").markEvent("occamadillo_thread_mapping_first_thread_check_in_ui_start")}function o(){d("MAWMIC").markEvent("occamadillo_thread_mapping_acto_check_in_ui_start")}function p(){d("MAWMIC").markEvent("occamadillo_thread_mapping_first_thread_check_in_worker_start")}function q(){d("MAWMIC").markEvent("occamadillo_thread_mapping_acto_check_in_worker_start")}function r(){d("MAWMIC").markEvent("occamadillo_thread_mapping_first_bulk_batch_run")}function s(a){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(c("gkx")("2661"))yield j.getPromise();else{var b=(yield (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton);yield d("LSInitSyncCompleteSubscription").maybeWaitForSyncGroup(b,(i||(i=d("LSIntEnum"))).ofNumber(95))}d("MAWMIC").markEvent("occamadillo_sync_group_complete");l["delete"](a);m.add(a);d("MAWMIC").addIntAnnotation("occamadilloCompleteThreadCount",m.size);v()});return t.apply(this,arguments)}function u(){j.resolve(),v()}function v(){l.size===0&&(d("MAWMIC").addIntAnnotation("occamadilloThreadCount",k.size),d("MAWMIC").markEvent("occamadillo_thread_mapping_end"))}g.markFirstThreadPassedToNativeOp=a;g.markACTOPassedToNativeOp=e;g.addPendingThread=f;g.markFirstThreadCheckedInUiThread=n;g.markACTOCheckedInUiThread=o;g.markFirstThreadCheckedInWorker=p;g.markACTOCheckedInWorker=q;g.markFirstBulkBatchRun=r;g.removePendingThread=s;g.completeSync=u;g.maybeEndOccamadilloThreadMapping=v}),98);
__d("MAWMiActCreateThreadInActWithMiData",["ExecutionEnvironment","I64","MAWBridgeFireAndForget","MAWBridgeSendAndReceive","MAWJids","MAWMIC","MAWTrackPendingOccamadilloThreads","MAWWaitForBackendSetup","MWCookieUtil","Promise","WABridgedAPI","WAJids","WALoggerDeferred","asyncToGeneratorRuntime","getErrorSafe","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Querying WA server for group: ",""]);k=function(){return a};return a}function a(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.description,f=a.fbid,g=a.isGroupThread,l=a.jid,n=a.lastActivityTimestampMs,o=a.lastReadWatermarkTimestampMs;try{a=function(){return(j||(j=c("ExecutionEnvironment"))).isInWorker?(i||(i=b("Promise"))).resolve({chatJid:p,isCreated:!1,shouldQueryForGroup:!1}):d("MAWBridgeSendAndReceive").sendAndReceive("backend","createThreadThroughMI",{authoritativeThreadKey:(h||(h=d("I64"))).to_string(f),chatJid:p,description:e,lastActivityTimestampMs:h.to_float(n),lastReadWatermarkTimestampMs:h.to_float(o),numOfMsgsToLoad:m({fbid:f,isGroupThread:g})})};l=(h||(h=d("I64"))).to_string(l);var p=g?d("WAJids").toGroupJid(l):d("MAWJids").toUserJid(l);a=(yield c("gkx")("4568")?d("MAWWaitForBackendSetup").waitForBackendSetup("occamadillo-mapping-await").then(a):a());d("MAWMIC").markEvent("occamadillo_mapping_bridge_event_received");if(g){var q=d("WAJids").toGroupJid(l);if(a.isCreated||c("gkx")("23923")&&a.shouldQueryForGroup){c("promiseDone")(d("WALoggerDeferred").DEV(k(),l));try{yield c("WABridgedAPI").queryGroups({groups:[q],type:"array"})}catch(a){var r=a instanceof Error&&a.message.includes('"errorCode":403');if(!r)throw a}d("MAWBridgeFireAndForget").fireAndForget("backend","checkIfGroupParticipant",{threadJid:a.chatJid})}else d("MAWBridgeFireAndForget").fireAndForget("backend","updateLSThreadFromGroupInfo",{groupJid:q})}c("promiseDone")(d("MAWTrackPendingOccamadilloThreads").removePendingThread(l));return a}catch(a){d("MAWMIC").fail("thread_mapping_error",c("getErrorSafe")(a));throw a}});return l.apply(this,arguments)}function m(a){var b=a.fbid;a=a.isGroupThread;var e=1,f=10,g=10,i=20,j=d("MWCookieUtil").getAutoChatTabFromCookie();j=j?(h||(h=d("I64"))).equal(j.threadKey,b):!1;f=j?f:e;f=c("gkx")("33030")&&!j&&!a?g:f;e=location.pathname.split("/");c("gkx")("2316")&&e.indexOf((h||(h=d("I64"))).to_string(b))>-1&&(f=i);return f}g.miActCreateThreadInActWithMiData=a;g.getNumberOfMessagesToLoad=m}),98);
__d("MAWRestoreRewriteUtils",["qex"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return c("qex")._("656")===!0};g.isOneDBEnabled=a}),98);
__d("MDSGlimmer.react",["BaseGlimmer.react","react","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={dark:{backgroundColor:"xhzw6zf",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0}};function a(a){var b=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["xstyle"]);var d=c("useCurrentDisplayMode")();return i.jsx(c("BaseGlimmer.react"),babelHelpers["extends"]({xstyle:[d==="dark"?j.dark:j.light,b]},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWGetChatTabOpenQPLEventTrace",["I64","InteractionTracing","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=c("qpl")._(30609204,"1682"),f=c("qpl")._(30605380,"18"),g=c("InteractionTracing").getPendingInteractions();for(var g=g,i=Array.isArray(g),j=0,g=i?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k,l;if(i){if(j>=g.length)break;l=g[j++]}else{j=g.next();if(j.done)break;l=j.value}l=l;if(((k=l.getTrace())==null?void 0:k.qplEvent)===e||((k=l.getTrace())==null?void 0:k.qplEvent)===f){((k=l.getTrace())==null?void 0:(k=k.annotations.string)==null?void 0:k.thread_id)===(h||(h=d("I64"))).to_string(a)&&b(l)}}}g["default"]=a}),98);
__d("XCometArchivedThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/archived/t/{thread_key}/",Object.freeze({}),["/messages/archived/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometArchivedThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/archived/t/{thread_key}/",Object.freeze({}),["/archived/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxArchivedThreadsRouteBuilder",["CurrentEnvironment","XCometArchivedThreadsControllerRouteBuilder","XMessengerDotComCometArchivedThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildURL:function(a){a=a.thread_key;return c("XCometArchivedThreadsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XCometArchivedThreadsControllerRouteBuilder").buildExtraURL("/messages/archived/",{})}}:{buildURL:function(a){a=a.thread_key;return c("XMessengerDotComCometArchivedThreadsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XMessengerDotComCometArchivedThreadsControllerRouteBuilder").buildExtraURL("/archived/",{})}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/support/t/{thread_key}/",Object.freeze({}),["/support/","/business_support/","/business_support/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxBusinessSupportThreadsRouteBuilder",["XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a={buildURL:function(a){return c("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder").buildURL(a)},buildURLWithoutThread:function(a){return c("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder").buildExtraURL("/support/",a)}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XCometMarketplaceThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/marketplace/t/{thread_key}/",Object.freeze({}),["/messages/marketplace/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/marketplace/t/{thread_key}/",Object.freeze({}),["/marketplace/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxMarketplaceThreadsRouteBuilder",["CurrentEnvironment","XCometMarketplaceThreadsControllerRouteBuilder","XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildURL:function(a){a=a.thread_key;return c("XCometMarketplaceThreadsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XCometMarketplaceThreadsControllerRouteBuilder").buildExtraURL("/messages/marketplace/",{})}}:{buildURL:function(a){a=a.thread_key;return c("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder").buildExtraURL("/marketplace/",{})}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XCometMessageRequestsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/requests/t/{thread_key}/",Object.freeze({}),["/messages/requests/","/messages/e2ee/requests/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometMessageRequestsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/requests/t/{thread_key}/",Object.freeze({}),["/requests/","/e2ee/requests/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxMessageRequestsRouteBuilder",["CurrentEnvironment","XCometMessageRequestsControllerRouteBuilder","XMessengerDotComCometMessageRequestsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildE2EEThreadURL:function(a){a=a.thread_key;return c("XCometMessageRequestsControllerRouteBuilder").buildExtraURL("/messages/e2ee/requests/t/{thread_key}/",{thread_key:a})},buildURL:function(a){a=a.thread_key;return c("XCometMessageRequestsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(a){return c("XCometMessageRequestsControllerRouteBuilder").buildExtraURL("/messages/requests/",a)}}:{buildE2EEThreadURL:function(a){a=a.thread_key;return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildExtraURL("/e2ee/requests/t/{thread_key}/",{thread_key:a})},buildURL:function(a){a=a.thread_key;return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(a){return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildExtraURL("/requests/",a)}};b=a.buildE2EEThreadURL;d=a.buildURL;e=a.buildURLWithoutThread;g.buildE2EEThreadURL=b;g.buildURL=d;g.buildURLWithoutThread=e}),98);
__d("XCometRestrictedAccountsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/restricted/t/{thread_key}/",Object.freeze({}),["/messages/restricted/","/messages/e2ee/restricted/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/restricted/t/{thread_key}/",Object.freeze({}),["/restricted/","/e2ee/restricted/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxRestrictedAccountsRouteBuilder",["CurrentEnvironment","XCometRestrictedAccountsControllerRouteBuilder","XMessengerDotComCometRestrictedAccountsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildE2EEThreadURL:function(a){a=a.thread_key;return c("XCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/messages/e2ee/restricted/t/{thread_key}/",{thread_key:a})},buildURL:function(a){a=a.thread_key;return c("XCometRestrictedAccountsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/messages/restricted/",{})}}:{buildE2EEThreadURL:function(a){a=a.thread_key;return c("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/e2ee/restricted/t/{thread_key}/",{thread_key:a})},buildURL:function(a){a=a.thread_key;return c("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/restricted/",{})}};b=a.buildE2EEThreadURL;d=a.buildURL;e=a.buildURLWithoutThread;g.buildE2EEThreadURL=b;g.buildURL=d;g.buildURLWithoutThread=e}),98);
__d("MWNavigationContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h.createContext;var j=b();function a(a){var b=a.children;a=a.value;var c=j.Provider;return i.jsx(c,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";c=a;g.context=j;g.Provider=c}),98);
__d("MWPGetThreadTitle",["fbt","CurrentEnvironment","FBLogger","I64","LSContactBitOffset","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","intlList","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(c("CurrentEnvironment").workplacedotcom?h._("__JHASH__WW0S3bu0Fvp__JHASH__"):c("CurrentEnvironment").instagramdotcom?h._("__JHASH__PghB4SzSbNm__JHASH__"):c("CurrentEnvironment").horizondotmetadotcom?h._("__JHASH__Z4zJTVwDBj8__JHASH__"):h._("__JHASH__AaE4hJExM0x__JHASH__")).toString();function a(a,b,e,f){a===void 0&&(a=c("intlList").CONJUNCTIONS.AND);e.length>8&&c("recoverableViolation")("You are overfetching participants needed to compute a thread title. Please use ->take(MWPGetThreadTitle.amountToFetchForTitle) to limit participants fetched. Length: "+e.length,"messenger_web_ia");if(e.length===0)return;if(e.length===1){var g=e[0];g[0];g=g[1];return(g=g==null?void 0:g.name)!=null?g:k}if(d("LSMessagingThreadTypeUtil").isOneToOne(b)){g=e.filter(function(a){return!(i||(i=d("I64"))).equal(a[0].contactId,f)});if(g.length===0){c("recoverableViolation")("No participants in thread","messenger_comet");return}b=g[0];g=b[0].nickname;if(g!=null)return g;g=b[1];return(b=g==null?void 0:g.name)!=null?b:k}g=e.filter(function(a){return!(i||(i=d("I64"))).equal(a[0].contactId,f)}).slice(0,7).sort(function(a,b){b=b[1];a=a[1];if(a!=null)if(b!=null)return b.rank-a.rank;else return 0;else return 0}).map(function(a){var b,f=a[1];f!=null&&(i||(i=d("I64"))).equal(f.contactType,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE))&&!((b=d("LSContactBitOffset").has(77,f))!=null?b:!1)&&!((b=d("LSContactBitOffset").has(65,f))!=null?b:!1)&&c("FBLogger")("messenger_browser_clients").debug("page participant in group");b=a[0].nickname;if(b!=null)return b;if(f==null)return k;a=f.firstName;if(a!=null&&e.length>2)return a;else return f.name});e.length>7&&g.push(String(h._("__JHASH__p-5gRHawKL0__JHASH__")));return c("intlList")(g,a,c("intlList").DELIMITERS.COMMA).toString()}b=8;g.computeThreadTitle=a;g.amountToFetchForTitle=b}),226);
__d("MWPThreadIsPageContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext();g["default"]=b}),98);
__d("MWPThreadIsPage.react",["I64","LSContactType","LSIntEnum","MWPActor.react","MWPThreadIsPageContext","ReQL","ReQLSuspense","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react")),m=k.useContext;function a(a){var b=a.children,e=a.threadKey,g=(h||(h=c("useReStore")))(),k=d("MWPActor.react").useActor();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(g.tables.participants,["contactId"]).getKeyRange(e).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,k)}),d("ReQL").fromTableAscending(g.tables.contacts))},[e],f.id+":29");a=a!=null?a[1]:null;a=a!=null?(i||(i=d("I64"))).equal(a.contactType,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE)):!1;return l.jsx(c("MWPThreadIsPageContext").Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a=m(c("MWPThreadIsPageContext"));if(a!=null)return a;else{c("recoverableViolation")("Using hook useIsPage in a place where we didn't include the context","messenger_web_ia");return!1}}g.Provider=a;g.useIsPage=b}),98);
__d("MWThreadKey.react",["I64","Int64Hooks","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h,l=k.createContext,m=k.useContext,n=l(void 0);function o(a){var b=a.children,e=a.id;a=a.isSubthread;a=a===void 0?!1:a;var f=m(n),g=d("Int64Hooks").useMemoInt64(function(){return e},[e]);if(f!=null&&!a)throw c("unrecoverableViolation")("You can't nest MWThreadKey in another MWThreadKey. This will cause SEVs as things might think they're in the wrong thread","messenger_web_messaging");return j.jsx(n.Provider,{value:g,children:b})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.children,c=a.id;a=a.isSubthread;a=a===void 0?!1:a;return c!=null?j.jsx(o,{id:(i||(i=d("I64"))).of_string(c),isSubthread:a,children:b}):j.jsx(j.Fragment,{children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return m(n)}function e(){var a=m(n);if(a!=null)return a;throw c("unrecoverableViolation")("Tried to get a thread key when there was none","messenger_web_ia")}g.MWThreadKeyProvider=o;g.XPlatThreadKeyProvider=a;g.useMWThreadKeyMemoized=b;g.useMWThreadKeyMemoizedExn=e}),98);
__d("MWThreadListConsts",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a=56;b=900;g.threadlistItemHeight=a;g.minimumPixelsNeededForMaxDisplay=b;g.DEFAULT_MIN_LAST_ACTIVITY_TIMESTAMP=(h||d("I64")).one}),98);
__d("MWXColumn.react",["cr:804","cr:842","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");c=i.forwardRef(a);function a(a,c){a=babelHelpers["extends"]({},a);if(b("cr:804")!=null)return i.jsx(b("cr:804"),babelHelpers["extends"]({},a,{ref:c}));return b("cr:842")!=null?i.jsx(b("cr:842"),babelHelpers["extends"]({},a,{ref:c})):null}a.displayName=a.name+" [from "+f.id+"]";e=c;g["default"]=e}),98);
__d("MWXColumnItem.react",["cr:1350","cr:2004","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");c=i.forwardRef(a);function a(a,c){a=babelHelpers["extends"]({},a);if(b("cr:1350")!=null)return i.jsx(b("cr:1350"),babelHelpers["extends"]({},a,{ref:c}));return b("cr:2004")!=null?i.jsx(b("cr:2004"),babelHelpers["extends"]({},a,{ref:c})):null}a.displayName=a.name+" [from "+f.id+"]";e=c;g["default"]=e}),98);
__d("MWXIconChevronRight",["MWXSvgIcon","SVGIcon","cr:9090","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9090")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXImage.react",["cr:1261","cr:2838","cr:6682","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=a.objectFit,d=a.src;a=babelHelpers.objectWithoutPropertiesLoose(a,["objectFit","src"]);if(b("cr:6682")!=null)return i.jsx(b("cr:6682"),babelHelpers["extends"]({objectFit:c,src:d},a));if(typeof d==="string")return b("cr:2838")!=null?i.jsx(b("cr:2838"),babelHelpers["extends"]({src:d},a)):null;else return b("cr:1261")!=null?i.jsx(b("cr:1261"),babelHelpers["extends"]({src:d},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXLink.react",["E2EEMessagingLinkContext.react","cr:269","cr:820","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");c=i.forwardRef(a);function a(a,c){var e=a.encryptedLink;a=babelHelpers.objectWithoutPropertiesLoose(a,["encryptedLink"]);var f=d("E2EEMessagingLinkContext.react").useE2EEMessagingLink();f=f||e===!0?{disableLinkShimAndTracking_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:!0,disableLinkShimForFollowLinkButton_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:!0,rel:["noreferrer","noopener","nofollow"]}:{};if(b("cr:269"))return i.jsx(b("cr:269"),babelHelpers["extends"]({},a,f,{ref:c}));return b("cr:820")?i.jsx(b("cr:820"),babelHelpers["extends"]({},a,f,{ref:c})):null}a.displayName=a.name+" [from "+f.id+"]";e=c;g["default"]=e}),98);
__d("MWXPressable.react",["MessengerWebUXLogger","cr:133","cr:323","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback;function k(a){switch(a){case"normal":return 8;case"compact":return 4;case"50%":return"50%";case"inherit":default:return void 0}}e=i.forwardRef(a);function a(a,d){var e=a.loggingEvent,f=a.onPress,g=a.overlayRadius;a=babelHelpers.objectWithoutPropertiesLoose(a,["loggingEvent","onPress","overlayRadius"]);var h=c("MessengerWebUXLogger").useInteractionLogger(),l=j(function(a){f==null?void 0:f(a),e&&(h==null?void 0:h(e))},[h,e,f]);if(b("cr:133"))return i.jsx(b("cr:133"),babelHelpers["extends"]({onPress:l,overlayRadius:k(g)},a,{ref:d}));return b("cr:323")?i.jsx(b("cr:323"),babelHelpers["extends"]({onPress:l,overlayRadius:g},a,{ref:d})):null}a.displayName=a.name+" [from "+f.id+"]";d=e;g["default"]=d}),98);
__d("MWXRow.react",["cr:2667","cr:2922","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){return a===10?12:a}function k(a){switch(a){case 10:return 12;case 20:return 16;default:return a}}function l(a){return a===10?12:a}c=i.forwardRef(a);function a(a,c){a=babelHelpers["extends"]({},a);if(b("cr:2667")!=null){var d=a.paddingHorizontal,e=a.paddingTop,f=a.paddingVertical,g=a.spacing,h=a.spacingHorizontal,m=a.spacingVertical,n=babelHelpers.objectWithoutPropertiesLoose(a,["paddingHorizontal","paddingTop","paddingVertical","spacing","spacingHorizontal","spacingVertical"]);return i.jsx(b("cr:2667"),babelHelpers["extends"]({paddingHorizontal:j(d),paddingTop:k(e),paddingVertical:k(f),ref:c,spacing:l(g),spacingHorizontal:l(h),spacingVertical:l(m)},n))}return b("cr:2922")!=null?i.jsx(b("cr:2922"),babelHelpers["extends"]({},a,{ref:c})):null}a.displayName=a.name+" [from "+f.id+"]";e=c;g["default"]=e}),98);
__d("MWXRowItem.react",["cr:3083","cr:3084","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");c=i.forwardRef(a);function a(a,c){a=babelHelpers["extends"]({},a);if(b("cr:3083")!=null)return i.jsx(b("cr:3083"),babelHelpers["extends"]({},a,{ref:c}));return b("cr:3084")!=null?i.jsx(b("cr:3084"),babelHelpers["extends"]({},a,{ref:c})):null}a.displayName=a.name+" [from "+f.id+"]";e=c;g["default"]=e}),98);
__d("MWXTextImpl.react",["cr:6221","cr:7492","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");c=i.forwardRef(a);function a(a,c){a=babelHelpers["extends"]({},a);var d=a.type,e=babelHelpers.objectWithoutPropertiesLoose(a,["type"]);if(b("cr:6221")!==null)return i.jsx(b("cr:6221"),babelHelpers["extends"]({ref:c},a));return b("cr:7492")!==null?i.jsx(b("cr:7492"),babelHelpers["extends"]({type:d==="headlineEmphasized5"?"headlineEmphasized4":d==="entityHeaderMeta3"?"entityHeaderMeta2":d},e,{ref:c})):null}a.displayName=a.name+" [from "+f.id+"]";e=c;d=e;g["default"]=d}),98);
__d("MWXTextPairing.react",["FDSTextWebUtils","cr:4853","cr:6725","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){return function(b){a!=null&&(typeof a==="function"?a(b):a.current=b)}}function a(a){if(b("cr:6725")!=null){var c=a.bodyColor,e=a.bodyRef,f=a.headlineColor,g=a.headlineRef,h=a.metaColor,k=a.metaRef,l=babelHelpers.objectWithoutPropertiesLoose(a,["bodyColor","bodyRef","headlineColor","headlineRef","metaColor","metaRef"]);return i.jsx("div",{className:"x9f619 x2lwn1j xeuugli x1n2onr6 x1ja2u2z",children:i.jsx(b("cr:6725"),babelHelpers["extends"]({bodyColor:d("FDSTextWebUtils").getFDSBodyColor(c),bodyRef:j(e),headlineColor:d("FDSTextWebUtils").getFDSHeadlineColor(f),headlineRef:j(g),metaColor:d("FDSTextWebUtils").getFDSMetaColor(h),metaRef:j(k)},l))})}return b("cr:4853")!=null?i.jsx(b("cr:4853"),babelHelpers["extends"]({},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessagingFolderTag",[],(function(a,b,c,d,e,f){a=Object.freeze({INBOX:"inbox",OTHER:"other",SPAM:"spam",PENDING:"pending",MONTAGE:"montage",HIDDEN:"hidden",LEGACY:"legacy",DISABLED:"disabled",PAGE_BACKGROUND:"page_background",PAGE_DONE:"page_done",BLOCKED:"blocked",COMMUNITY:"community",RESTRICTED:"restricted",BC_PARTNERSHIP:"bc_partnership",E2EE_CUTOVER:"e2ee_cutover",E2EE_CUTOVER_ARCHIVED:"e2ee_cutover_archived",E2EE_CUTOVER_PENDING:"e2ee_cutover_pending",E2EE_CUTOVER_OTHER:"e2ee_cutover_other",INTEROP:"interop",ARCHIVED:"archived",AI_ACTIVE:"ai_active",SALSA_RESTRICTED:"salsa_restricted",MESSENGER_MARKETING_MESSAGE:"messenger_marketing_message",UNKNOWN:""});f["default"]=a}),66);
__d("MessagingThreadType",[],(function(a,b,c,d,e,f){a=Object.freeze({COMMUNITY_FOLDER:17,COMMUNITY_GROUP:18,COMMUNITY_GROUP_UNJOINED:19,COMMUNITY_CHANNEL_CATEGORY:20,COMMUNITY_PRIVATE_HIDDEN_JOINED_THREAD:21,COMMUNITY_PRIVATE_HIDDEN_UNJOINED_THREAD:22,COMMUNITY_BROADCAST_JOINED_THREAD:23,COMMUNITY_BROADCAST_UNJOINED_THREAD:24,COMMUNITY_GROUP_INVITED_UNJOINED:25,COMMUNITY_SUB_THREAD:26,DISCOVERABLE_PUBLIC_CHAT:150,DISCOVERABLE_PUBLIC_CHAT_UNJOINED:151,DISCOVERABLE_PUBLIC_BROADCAST_CHAT:152,DISCOVERABLE_PUBLIC_BROADCAST_CHAT_UNJOINED:153,DISCOVERABLE_PUBLIC_CHAT_V2:154,DISCOVERABLE_PUBLIC_CHAT_V2_UNJOINED:155,ONE_TO_ONE:1,GROUP:2,ROOM:3,MONTAGE:4,MARKETPLACE:5,FOLDER:6,TINCAN_ONE_TO_ONE:7,TINCAN_GROUP_DISAPPEARING:8,CARRIER_MESSAGING_ONE_TO_ONE:10,CARRIER_MESSAGING_GROUP:11,TINCAN_ONE_TO_ONE_DISAPPEARING:13,PAGE_FOLLOW_UP:14,SECURE_MESSAGE_OVER_WA_ONE_TO_ONE:15,SECURE_MESSAGE_OVER_WA_GROUP:16,PINNED:101,LWG:102,XAC_GROUP:200,AI_BOT:201});f["default"]=a}),66);
__d("MessengerWebUXEventType",[],(function(a,b,c,d,e,f){a=Object.freeze({BACKEND:"backend",IMPRESSION:"impression",INTERACTION:"interaction"});f["default"]=a}),66);
__d("MessengerWebUxEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4662");b=d("FalcoLoggerInternal").create("messenger_web_ux_event",a);e=b;g["default"]=e}),98);
__d("WebUXLoggingEntryPointContextProvider",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h.createContext;var j=b("unknown");function a(a){var b=a.children;a=a.value;return i.jsx(j.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g.WebUXEntryPointLoggingContext=j;g.WebUXLoggingEntryPointContextProvider=a}),98);
__d("MessengerWebUXLoggerImpl",["CurrentUser","I64","LSIntEnum","MWThreadKey.react","MessagingThreadType","MessengerWebUxEventFalcoEvent","ODS","WebUXLoggingEntryPointContextProvider","WebUXLoggingSurfaceContextProvider","cr:6873","react","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=h||d("react"),m=l.useCallback,n=l.useContext,o=l.useInsertionEffect,p=l.useRef;function q(){var a=s();return m(function(b){a(typeof b==="string"?{eventName:b,eventType:"interaction"}:babelHelpers["extends"]({},b,{eventType:(b=b.eventType)!=null?b:"interaction"}))},[a])}function a(){var a=q();return m(function(b,c){return b!=null&&c!=null?function(d){b(d),a(c)}:b},[a])}function e(){var a=s();return m(function(b){a(babelHelpers["extends"]({},b,{eventType:"impression"}))},[a])}function f(a,b){var d=s();return c("useSinglePartialViewImpression")({onImpressionStart:function(){d(babelHelpers["extends"]({},a,{eventType:"impression"})),b==null?void 0:b()}})}function r(a){var b=(i||(i=d("LSIntEnum"))).toNumber(a);a=(a=Object.entries(c("MessagingThreadType")).find(function(a){a[0];a=a[1];return a===b}))!=null?a:["unknown"];a=a[0];return a}function s(){var a=n(d("WebUXLoggingEntryPointContextProvider").WebUXEntryPointLoggingContext),e=p(a),f=n(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext),g=p(f),h=d("MWThreadKey.react").useMWThreadKeyMemoized(),l=p(h);o(function(){e.current=a,l.current=h,g.current=f});return m(function(a){var f=a.ctaType,h=a.entryPoint,m=a.eventName,n=a.eventType,o=a.extraData,p=a.flowInstanceId,q=a.surface,s=a.threadKey,u=a.threadType;s=(s=s)!=null?s:l.current;h=h!=null?h:e.current;var v=u?r(u):"unknown",w={cta_type:f,entry_point:h,event_type:(f=n)!=null?f:"interaction",extra_data:o,flow_instance_id:p,surface:(f=q)!=null?f:g.current,thread_fbid:s!=null?(j||(j=d("I64"))).to_string(s):void 0,thread_type:u!=null?(i||(i=d("LSIntEnum"))).unwrapIntEnum(u):void 0};c("MessengerWebUxEventFalcoEvent").log(function(){return babelHelpers["extends"]({client_timestamp_ms:Date.now().toString(),event_name:m},w)});(k||(k=d("ODS"))).bumpEntityKey(t(),a.eventName+"_"+v,h);if(b("cr:6873")!=null&&n==="interaction"){o=b("cr:6873").getInstance("user_experience");o.debug(JSON.stringify(w),m)}},[])}function t(){var a=c("CurrentUser").getAppID();switch(a){case 1217981644879628:case 936619743392459:case 1035956773910536:case 487152425211411:return 938;case 2220391788200892:return 3185;case 772021112871879:return 3297;default:return 3185}}g.useInteractionLogger=q;g.useLogOnPressInteraction=a;g.useImpressionLogger=e;g.useImpressionLoggerRef=f}),98);
__d("TemporaryLoggingUtilsForS406998Only",["FBLogger","I64","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to parse stanza id ",": ",""]);i=function(){return a};return a}function j(a){var b=6917529027641082e3,c=!1;try{c=(h||(h=d("I64"))).equal(h.and_(h.of_string(a),h.of_float(b)),h.of_float(b))}catch(b){d("WALogger").ERROR(i(),a,b)}return c}function a(a,b){var e=a.contactId!=null?(h||(h=d("I64"))).to_string(a.contactId):null;e!=null&&j(e)&&c("FBLogger")("messenger_e2ee_web","invalid_participant_added").mustfix("[S406998] invalid participant added to participants. contactId: %s at loc: %s",e,b);return a}g.isStanzaIdForS406998Only=j;g.logIfInvalidParticipantAndReturnForS406998Only=a}),98);
__d("useLazyShouldShowMessagingEntrypointInCometRoot",["CometPassiveGetRouterStateContext","ShouldShowMessagingEntrypoint","react","useShouldRenderFullTopNav"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useContext;function a(a){var b=c("useShouldRenderFullTopNav")(),d=j(c("CometPassiveGetRouterStateContext"));return i(function(){var e=d==null?void 0:d(),f=e==null?void 0:e.main;e=e==null?void 0:e.pushViewStack;e=e&&e.length>0?e[e.length-1]:f;return c("ShouldShowMessagingEntrypoint")(e==null?void 0:e.route,a,b)},[a,d,b])}g["default"]=a}),98);
__d("useMAWOfflineQueueLoadingIndicator",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWJids","MAWLoadingStateOutstandingOfflineQueueSelector","MAWStateContext.react","ReQL","WAJids","promiseDone","react","useCometRouterState","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useState;function l(a,b){var e=(h||(h=c("useReStore")))(),f=k(null),g=f[0],j=f[1],l=b!=null?d("LSMessagingThreadTypeUtil").isGroup(b):!1;d("Int64Hooks").useEffectInt64(function(){if(a==null)return;c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.mi_act_mapping_table).getKeyRange(a)),function(a){if(a!=null){a=(i||(i=d("I64"))).to_string(a.jid);a=l===!0?d("WAJids").toGroupJid(a):d("MAWJids").toUserJid(a);j(a)}})},[e,j,a,l]);return g}function a(a,b,e){a===void 0&&(a=!1);e===void 0&&(e=d("MAWLoadingStateOutstandingOfflineQueueSelector").outstandingOfflineQueueSelector);var f=l(b==null?void 0:b.threadKey,b==null?void 0:b.threadType);b=c("useCometRouterState")();var g=d("Int64Hooks").useMemoInt64(function(){return e(f)},[e,f]);g=d("MAWStateContext.react").useMAWSelector(g);b=b==null?void 0:b.main.route.tabKey;return g&&(b==="messenger"||!a)}g["default"]=a}),98);
__d("useMWNavigation",["CometPassiveGetRouterStateContext","FBLogger","I64","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadAttributionStore","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWChatStateV2Types","MWInboxArchivedThreadsRouteBuilder","MWInboxBusinessSupportThreadsRouteBuilder","MWInboxMarketplaceThreadsRouteBuilder","MWInboxMessageRequestsRouteBuilder","MWInboxRestrictedAccountsRouteBuilder","MWInboxRouteBuilder","MWNavigationContext","MWPVisibleMessageContext.react","MessengerWebEntryPointsUtil","XCometGroupDiscussionControllerRouteBuilder","cr:6961","cr:9780","getGroupThreadViewParams","getTopMostRouteCometEntityKey","justknobx","react","useCometFeedNoRoutingNavigationEventLogger","useCometRouterDispatcher","useLazyShouldShowMessagingEntrypointInCometRoot","useMWChatOpenTabTraceProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=h||d("react");var k=e.useCallback,l=e.useContext,m=e.useMemo;function n(){var a=d("MWChatStateV2.react").useDispatch(),b=c("useCometFeedNoRoutingNavigationEventLogger")(),e=c("useMWChatOpenTabTraceProvider")();return k(function(c,f,g,h){b(Date.now(),"","messenger");return e(function(b,e){d("MWChatInteraction").set((i||(i=d("I64"))).to_string(c.threadKey),b);e.addMarkerPoint("dispatch_open_chat_tab","AppTiming");(h==null?void 0:h.subEntrypoint)!=null&&e.addAnnotation("sub_entrypoint",h.subEntrypoint);return a(d("MWChatStateActions").openTab(Date.now(),{shouldFocus:g!==!0},{threadKeyDescriptor:c,type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}))},(i||(i=d("I64"))).to_int32(c.threadType),f,c.threadKey,c.isUnread)},[a,b,e])}function o(a,e,f,g,h){return function(j){j=(i||(i=d("I64"))).to_string(j);if(b("cr:9780")!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(a))switch(e){case"message_requests":return d("MWInboxMessageRequestsRouteBuilder").buildE2EEThreadURL({thread_key:j});case"restricted":return d("MWInboxRestrictedAccountsRouteBuilder").buildE2EEThreadURL({thread_key:j});case"archived":return c("justknobx")._("2103")?d("MWInboxArchivedThreadsRouteBuilder").buildURL({thread_key:j}):d("MWInboxRouteBuilder").buildE2EEThreadURL({search:h,thread_key:j});default:return d("MWInboxRouteBuilder").buildE2EEThreadURL({search:h,thread_key:j})}if(f!=null)return c("XCometGroupDiscussionControllerRouteBuilder").buildURL({chats_to_open:[f.threadKey,j],idorvanity:f.groupId});if(e==null)return d("MWInboxRouteBuilder").buildURL({link_hash:g,search:h,thread_key:j});switch(e){case"archived":return d("MWInboxArchivedThreadsRouteBuilder").buildURL({thread_key:j});case"business_support":return d("MWInboxBusinessSupportThreadsRouteBuilder").buildURL({thread_key:j});case"marketplace":return d("MWInboxMarketplaceThreadsRouteBuilder").buildURL({thread_key:j});case"message_requests":return d("MWInboxMessageRequestsRouteBuilder").buildURL({thread_key:j});case"restricted":return d("MWInboxRestrictedAccountsRouteBuilder").buildURL({thread_key:j});default:return d("MWInboxRouteBuilder").buildURL({link_hash:g,search:h,thread_key:j})}}}function p(a,b){a=a.threadKey;return d("LSThreadAttributionStore").setSource((i||(i=d("I64"))).to_string(a),b)}function a(){var a=c("useLazyShouldShowMessagingEntrypointInCometRoot")("CHAT"),e=c("useCometRouterDispatcher")(),f=l(d("MWNavigationContext").context),g=l(c("CometPassiveGetRouterStateContext")),h=n(),k=b("cr:6961")(),q=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),r=q.setVisibleMessage;return m(function(){var b=function(a,b,d,e){var h,i=c("getTopMostRouteCometEntityKey")(g==null?void 0:g()),j=i==null?void 0:i.entity_type;i=c("getGroupThreadViewParams")(i,g==null?void 0:g());h=(h=f)!=null?h:o(b,j,i,d,e);return h(a)},l=function(a,f){var g=a.isUnread,h=a.searchQuery,j=a.threadKey,k=a.threadLinkHash;a=a.threadType;if(e!=null){var l=d("MessengerWebEntryPointsUtil").cast(f),m=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a);k=b(j,a,k,h);m&&!k.includes("e2ee")&&c("FBLogger")("e2ee_thread_navigation").mustfix("E2ee thread navigation url is not correct");f!=="messengerUniversalSearch"&&r(void 0);e.go(k,{traceParams:{TLTV:"true",entrypoint:l,hasBadge:g!=null?g.toString():"",inboxEntrypoint:f,isSecure:m?"true":"false",thread_id:(i||(i=d("I64"))).to_string(j),thread_type:i.to_string(a)}})}};return{getUrlFromThreadKey:b,openInbox:function(a,b,c,e){c===void 0&&(c=(j||(j=d("LSIntEnum"))).ofNumber(54));p(a,b);return k({damagingActionsEntryPoint:c,onProceed:function(){l(a,b),e==null?void 0:e()},threadKey:a.threadKey})},openTabOrInbox:function(b,c,e,f,g,i){f===void 0&&(f=(j||(j=d("LSIntEnum"))).ofNumber(54));p(b,c);if(a())return k({damagingActionsEntryPoint:f,onProceed:function(){h(b,c,e,g),i==null?void 0:i()},threadKey:b.threadKey});else return k({damagingActionsEntryPoint:f,onProceed:function(){l(b,c),i==null?void 0:i()},threadKey:b.threadKey})}}},[g,f,e,r,k,a,h])}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("IsMessengerPWA",["Env","ExecutionEnvironment"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function b(){var b;return(h||(h=c("ExecutionEnvironment"))).canUseDOM&&a.matchMedia!==void 0&&a.matchMedia("(display-mode: standalone)").matches&&((b=(i||(i=c("Env"))).isMessengerDotComOnComet)!=null?b:!1)}g["default"]=b}),98);
__d("LSMessageRenderingType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,NON_COLLAPSIBLE_ADMIN_MESSAGE:1,HIDDEN:2,RICH_TEXT_COMMON_MARK:3});f["default"]=a}),66);
__d("LSMessageUnsendabilityStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({CAN_UNSEND:0,DENY_LOG_MESSAGE:1,DENY_TOMBSTONE_MESSAGE:2,DENY_FOR_NON_SENDER:3,DENY_P2P_PAYMENT:4,DENY_STORY_REACTION:5,DENY_BLOB_ATTACHMENT:6,DENY_MESSAGE_NOT_FOUND:7,DENY_MESSAGE_INSTAGRAM_DIRECT_WRITE_RESTRICTION:8});f["default"]=a}),66);
__d("LSQuickReplyType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,HORIZONTAL:1,VERTICAL:2});f["default"]=a}),66);
__d("LSReplyMessageStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,VALID:1,DELETED:2,TEMPORARY_UNAVAILABLE:3,EXPIRED:4});f["default"]=a}),66);
__d("LSTransportKey",[],(function(a,b,c,d,e,f){a=Object.freeze({ADVANCED_CRYPTO:"AdvancedCrypto",CARRIER_MESSAGING:"CarrierMessaging",FB_BROKER:"FBBroker",FB_LEGACY_BROKER:"FBLegacyBroker",TAM:"TAM",WHATS_APP:"WhatsApp",INSTAMADILLO:"Instamadillo",ENCRYPTED_BACKUPS:"EncryptedBackups",CLIENT_CONTACTS_PLACEHOLDER:""});f["default"]=a}),66);
__d("MAWLocalizationEphemeralSettingSetAdminMsg",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF||a===d("MAWLocalizationType").LOCALIZATION_TYPE.EPHEMERAL_SETTINGS_AUTO_RESET}g.isEphemeralSettingSetAdminMsg=a}),98);
__d("MAWAdminMsgCTA",["fbt","I64","MAWAdminMsgType","MAWLocalizationEphemeralSettingSetAdminMsg","MAWTimeUtils","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=h._("__JHASH__iw7A0LnsmaW__JHASH__").toString(),l=h._("__JHASH__e7VrrtGFXYH__JHASH__").toString(),m=h._("__JHASH__jODYJ2eW1Pa__JHASH__").toString(),n=h._("__JHASH__xAOSvpC7vLN__JHASH__").toString(),o=h._("__JHASH__P5k2go6lj2P__JHASH__").toString();function p(a){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.admin_message_ctas.index("ctaId"))));return a!=null?(j||(j=d("I64"))).add(a.ctaId,(j||(j=d("I64"))).one):(j||(j=d("I64"))).zero});return q.apply(this,arguments)}function r(a,b,c){b=[b,c];return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.admin_message_ctas).bounds({gte:b,lte:b}))}function s(a){if(a==null)return{showAdChoiceIcon:!1};if(d("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(a))return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:k};switch(a){case d("MAWAdminMsgType").ADMIN_MSG_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE:case d("MAWAdminMsgType").ADMIN_MSG_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE:case d("MAWAdminMsgType").ADMIN_MSG_TYPE.E2EE_THREAD_DESCRIPTION:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:m};case d("MAWAdminMsgType").ADMIN_MSG_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:n};case d("MAWAdminMsgType").ADMIN_MSG_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:o};case d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_PINNED_MESSAGE:case d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_UNPINNED_MESSAGE:case d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_PINNED_MESSAGE:case d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_UNPINNED_MESSAGE:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:l};default:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:void 0}}}function t(a){if(a==null)return;if(d("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(a))return"admin_msg_armadillo_ephemeral_change_duration";switch(a){case d("MAWAdminMsgType").ADMIN_MSG_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE:case d("MAWAdminMsgType").ADMIN_MSG_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE:return"admin_msg_thread_level_cutover";case d("MAWAdminMsgType").ADMIN_MSG_TYPE.E2EE_THREAD_DESCRIPTION:return"admin_msg_e2ee_thread";case d("MAWAdminMsgType").ADMIN_MSG_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE:return"admin_msg_cutover_rollback";case d("MAWAdminMsgType").ADMIN_MSG_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:return"admin_msg_dual_thread_cutover";case d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_PINNED_MESSAGE:case d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_UNPINNED_MESSAGE:case d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_PINNED_MESSAGE:case d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_UNPINNED_MESSAGE:return"admin_msg_view_pin_msgs_v2"}}function u(a,b,c,d,e){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f){yield a.admin_message_ctas.add({actionUrl:f.actionUrl,adClientToken:f.adClientToken,adHelpUrl:f.adHelpUrl,adminMessageNicknameParticipantId:f.adminMessageNicknameParticipantId,adPreferenceUrl:f.adPreferenceUrl,ctaId:b,messageId:e.msgId,showAdChoiceIcon:f.showAdChoiceIcon,targetId:f.targetId,targetTitle:f.targetTitle,threadKey:c,timestampMs:d("MAWTimeUtils").toTimestamp(e.ts),title:f.title})});return v.apply(this,arguments)}function w(a,b,c){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,d){var e=(yield (i||(i=b("Promise"))).all([r(a,c,d.msgId),p(a)])),f=e[0];e=e[1];if(f!=null)return{ctaId:f.ctaId,ctaType:t(d.adminType),title:f.title};else{f=s(d.adminType);yield u(a,e,c,d,f);return{ctaId:e,ctaType:t(d.adminType),title:f.title}}});return x.apply(this,arguments)}function a(a,c,e){var f=e.adminType;return f!=null&&(d("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(f)||f===d("MAWAdminMsgType").ADMIN_MSG_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE||f===d("MAWAdminMsgType").ADMIN_MSG_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE||f===d("MAWAdminMsgType").ADMIN_MSG_TYPE.E2EE_THREAD_DESCRIPTION||f===d("MAWAdminMsgType").ADMIN_MSG_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE||f===d("MAWAdminMsgType").ADMIN_MSG_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE||f===d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_PINNED_MESSAGE||f===d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_UNPINNED_MESSAGE||f===d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_PINNED_MESSAGE||f===d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_UNPINNED_MESSAGE)?w(a,c,e):(i||(i=b("Promise"))).resolve()}g.getAdminMsgCTAContentByAdminType=s;g.getCtaTypeByAdminType=t;g.getAdminMsgCtaStep=a}),226);
__d("MAWBridgeBuildAdminMsg",["MAWAdminMsg","MAWAdminMsgNormalized","MAWLocalizationType","MAWSubscribeToContactNames","MAWThreadCustomizationUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a==null?void 0:a.replace(/\$/g,"$$$$")}function a(a,b,c){c===void 0&&(c=0);a=d("MAWAdminMsgNormalized").deconstructContactIdsFromAdminContent(b,a);var e=a.contactIds;a=a.contents;var f=d("MAWThreadCustomizationUtils").nicknameOnlyForFirstParticipantChecking(b),g=d("MAWThreadCustomizationUtils").skipNicknameCheck(b);if(c===1){var i=b===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP?d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME:d("MAWSubscribeToContactNames").ContactNameMode.FULL_NAME;return d("MAWAdminMsg").buildLocalizedString(a.map(h),e.map(function(a,b){return f&&b>0||g?i===d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME?"$CONTACT_FIRST_NAME("+a+")":"$CONTACT_FULL_NAME("+a+")":i===d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME?"$PARTICIPANT_FIRST_NAME("+a+")":"$PARTICIPANT_FULL_NAME("+a+")"}),b)}return d("MAWAdminMsg").buildLocalizedString(a,e,b)}g.buildAdminMsgText=a}),98);
__d("MAWMsgReply",["EntMessageReplyType","I64","LSIntEnum","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","MAWGetIsMediaDownloadStatusEnabled","MAWMsg","MAWMsgType","cr:2472"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){return a.replySourceId!=null}function a(a){a=a.replyToUserId;return a==null?void 0:(h||(h=d("I64"))).of_string(a)}function e(a){var b=a.isForwarded,e=a.isMsgHighlightsTabFriendUpdatesReply,f=a.isStoryReply,g=a.isStoryShare;a=j(a);if(b)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD);if(g!=null&&g)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_SHARE);if(e!=null&&e)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").HIGHLIGHTS_TAB_POST_REPLY);if(a)if(f!=null&&f)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY);else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE)}function f(a){var b=j(a),e=a.isMsgHighlightsTabFriendUpdatesReply,f=a.isStoryReply;a=a.isStoryShare;if(a!=null&&a)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_SHARE);if(e!=null&&e)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").HIGHLIGHTS_TAB_POST_REPLY);if(b)if(f!=null&&f)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY);else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE)}function k(a){if(a.replySourceId!=null)return a.replySourceId}function l(a){if(a.replySourceTimestampMs!=null)return(h||(h=d("I64"))).of_float(a.replySourceTimestampMs)}function m(a){if(a.replySourceId!=null)return a.replyMessageText}function n(a){if(a.replySourceId!=null)return a.replyMentionedJids}function o(a){return a.type_===d("MAWMsg").bumpExistingMessage?(i||(i=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP):j(a)?(i||(i=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").REGULAR):void 0}function p(a){return a.replySourceId==null?!1:a.replyMediaUrlMimeType!=null||q(a.replyStatusType)&&d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusEnabled()}function q(a){switch(a){case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:return!0;default:return!1}}function r(a){return a.replyStatusType==="XMA"&&a.replyMessageText!=null}function s(a){if(p(a)&&!r(a))return a.replyMediaUrlMimeType}function t(a){if(p(a))return a.replyMediaPreviewHeight!=null?(h||(h=d("I64"))).of_int32(a.replyMediaPreviewHeight):void 0}function u(a){if(p(a))return a.replyMediaPreviewWidth!=null?(h||(h=d("I64"))).of_int32(a.replyMediaPreviewWidth):void 0}function v(a){var e=a.replyMessageText;e=e!=null?b("cr:2472")==null?e:b("cr:2472").unvault(e):"";e=e==="\ud83d\udc4d"&&a.replyStatusType==="Sticker";var f=a.replyStatusType==="Raven";f=p(a)||f;var g=a.replyStatusType;if(f){if(g==null)return;switch(g){case"Gif":if(e)return;else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF);case"Ptt":if(e)return;else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER);case"Sticker":if(!e)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER);break;case"Video":if(e)return;else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO);case"Image":case"XMA":if(e)return;if(a.isIGXMAPostShare===!0||a.isIGXMAStoryShare===!0||a.isStoryHighlightShare===!0||a.isPostPrivateReply===!0||a.isMsgHighlightsTabFriendUpdatesReply===!0)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").FEED_POST);if(r(a))return;return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO);case"DocumentFile":if(e)return;return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER);case"ReceiverFetch":if(e)return;return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER);case"Raven":return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").EPHEMERAL_RAVEN_MESSAGE);default:}}if(g!=null&&g==="Sticker"&&e)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER)}function w(a){var b=a.replyMediaId,c=a.replyXMAId;if(p(a)&&b!=null)return c!=null?void 0:(h||(h=d("I64"))).of_float(b);if(b!=null||c==null)return;if(c!=null&&r(a))return;return(h||(h=d("I64"))).of_int32(c)}function x(a){var b=a.replyPlaintextHash;if(p(a)&&b!=null)return""+b}function y(a){var b=a.isStoryReply,c=a.replyMessageText,e=a.replyStatusType,f=v(a);a=w(a);if(e!=null&&e==="XMA"&&f==null){if(a!=null)return;if(c==null)return(h||(h=d("I64"))).zero}if(a!=null||!(b!=null&&b))return;return(h||(h=d("I64"))).zero}g.getReplyUserId=a;g.getReplySourceTypeV2=e;g.getReplySourceType=f;g.getReplySourceId=k;g.getReplyTimestampMs=l;g.getReplyMessageText=m;g.getReplyMentionedJids=n;g.getReplyType=o;g.getReplyMediaMimeType=s;g.getReplyMediaHeight=t;g.getReplyMediaWidth=u;g.getReplyAttachmentType=v;g.getReplyAttachmentId=w;g.getReplyAttachmentPlaintextHash=x;g.getReplyMediaExpirationTimestampMs=y}),98);
__d("MAWBridgeBuildMsg",["fbt","I64","MAWBridgeBuildAdminMsg","MAWBridgeBuildMsgMentions","MAWJids","MAWMsgReply","MAWMsgType","MAWVault","isMWBumpMessage"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function j(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.filter(Boolean).reduce(function(a,b){return[].concat(a,b)},[])}function k(a){return a!=null?d("MAWVault").unvault(a):void 0}function l(a){return a!=null?d("MAWVault").vault(a):void 0}function m(a){return babelHelpers["extends"]({},a,{replyMessageText:l(a.replyMessageText),text:l(a.text)})}function a(a){a=a.ephemeralDurationInSec;return a!=null?(i||(i=d("I64"))).of_int32(a):void 0}function b(a,b){var c=d("MAWMsgReply").getReplyMessageText(a),e=a.adminContent,f=a.adminType,g=a.adminVersion,i=a.content,l=a.isAdminMessage;i=i;l&&e!=null&&f!=null&&(i=d("MAWBridgeBuildAdminMsg").buildAdminMsgText(e,f,g));if(a.type_===d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE)if(a.replySourceId==null)i="";else{i=(l=b)!=null?l:h._("__JHASH__W6kPEK81i0G__JHASH__").toString()}e=j(a.mentionedJids,d("MAWMsgReply").getReplyMentionedJids(a));return e.length>0?m(d("MAWBridgeBuildMsgMentions").buildMsgTextWithMentions(k(i),e,k(c))):{replyMessageText:c,text:i}}function e(a,b,e){var f=c("isMWBumpMessage")(b)?b==null?void 0:b.replyMessageText:b==null?void 0:b.text;b=j(e,b==null?void 0:(e=b.mentionIds)==null?void 0:e.split(",").map(d("MAWJids").toUserJid));return b.length>0?m(d("MAWBridgeBuildMsgMentions").buildMsgTextWithMentions(k(a),b,k(f))):{replyMessageText:f,text:a}}g.getEphemeralDurationInSec=a;g.buildMessage=b;g.buildOptimisticMessage=e}),226);
__d("MAWBridgeDeleteMessagesHandler",["MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,c.threadJid,"MAWBridgeDeleteMessagesHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(var e of c.messages)yield a.messages["delete"](b,d("MAWTimeUtils").toTimestamp(e.ts),e.msgId)});return function(b,c){return a.apply(this,arguments)}}())}g.call=a}),98);
__d("MAWBridgeDeleteReactionHandler",["I64","MAWMiActOnMiThreadReadyForJid"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.chatJid,"MAWBridgeDeleteReactionHandler",function(a,c){return a.reactions["delete"](c,b.messageId,(h||(h=d("I64"))).of_string(b.actorId))})}g.call=a}),98);
__d("MAWBridgeHandleReceiverFetchXMA",["FBLogger","I64","LSIntEnum","LSXmaContentType","MAWDbMsg","MessagingAttachmentType","ReQL","asyncToGeneratorRuntime","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=b.contentRef,g=b.defaultPreviewMediaId,j=b.msgId;b=b.xmaId;if(j==null)return;b=String(b);var k=(h||(h=d("I64"))).of_int32(d("MAWDbMsg").getInChatMsgIdFromMsgId(j));if(f==null){var l="contentRef is empty for a MSG_RECEIVER_FETCH XMA";c("FBLogger")("messenger_web_sharing").mustfix(l);return}var m;try{l=JSON.parse(f);f=l.fetch_params;f!=null&&(m=JSON.stringify(f))}catch(a){l="Failed to parse msg.contentRef as XmsgMsgrXmaContentRefDataclass";c("FBLogger")("messenger_web_sharing").mustfix(l);return}f=c("justknobx")._("2796");if(!f){l=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("messageId")).getKeyRange(j)));if(l==null){var n="message does not exist to handle receiver fetch XMA";c("FBLogger")("messenger_web_sharing").mustfix(n);return}yield a.messages.put(babelHelpers["extends"]({},l,{xmaReceiverFetchParams:m}))}yield a.attachments.add(babelHelpers["extends"]({attachmentFbid:b,attachmentIndex:h.zero,attachmentType:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),authorityLevel:h.zero,hasMedia:!1,hasXma:!0,hasXmaPreview:g!=null,isSharable:!0,messageId:j,threadKey:e,timestampMs:k,transportKey:"WhatsApp",xmaContentType:i.ofNumber(c("LSXmaContentType").MSG_RECEIVER_FETCH)},f&&{receiverFetchId:m}));return});return j.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeMsgUtils",["LSTransportKey"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=Object.keys(c("LSTransportKey")).find(function(b){return c("LSTransportKey")[b]===a});return b?c("LSTransportKey")[b]:"WhatsApp"}g.convertStringToLSTransportKeyType=a}),98);
__d("MAWEphemeralMessageExpirationStorage",["LSDatabaseSingleton","MAWBridgeDeleteMessagesHandler","Promise","asyncToGeneratorRuntime","clearTimeout","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Map();function k(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){yield (i||(i=b("Promise"))).all(c.map(function(b){var c=b.ts,e=b.msgId;e={msgId:e,ts:c};c=b.threadJid;b=[e];e={messages:b,threadJid:c};return d("MAWBridgeDeleteMessagesHandler").call(a,e)})),j["delete"](e)});return l.apply(this,arguments)}function m(a,e,g){return c("setTimeout")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var g=(yield (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton);c("promiseDone")(g.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield k(b,a,e)});return function(a){return c.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":66"))}),g)}function a(a,b,d,e){a=j.get(d);var f;if(a==null)f=[b];else{c("clearTimeout")(a.timeoutId);var g=a.msgs.map(function(a){return a.msgId}).indexOf(b.msgId)===-1;g&&a.msgs.push(b);f=a.msgs}g=m(f,d,e);j.set(d,{expirationTs:d,msgs:f,timeoutId:g})}function e(a){var b=a.msgId;a=j.get(a.countdownTs);if(a==null)return;b=a.msgs.map(function(a){return a.msgId}).indexOf(b);if(b>-1){a.msgs.splice(b,1);return}}g.setMessageForExpiration=a;g.clearMessageFromExpiration=e}),98);
__d("MAWBridgeMsgsStartCountdownHandler",["I64","MAWEphemeralMessageExpirationStorage","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c){return c.msgs.reduce(function(c,e){return c.then(function(){d("MAWEphemeralMessageExpirationStorage").setMessageForExpiration(a,e,e.countdownTs,e.millisecondsUntilCountdownTs);(i||(i=d("I64"))).of_int32(e.millisecondsUntilCountdownTs);return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,e.threadJid,"MAWBridgeMsgsStartCountdownHandler",function(a,c){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages).getKeyRange(c,d("MAWTimeUtils").toTimestamp(e.ts),e.msgId)).then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){if(c==null)return(h||(h=b("Promise"))).resolve();c=babelHelpers["extends"]({},c,{ephemeralExpirationTs:(i||(i=d("I64"))).of_float(e.countdownTs)});yield a.messages.put(c)});return function(a){return c.apply(this,arguments)}}())})})},(h||(h=b("Promise"))).resolve())}g.call=a}),98);
__d("MAWMedia",["LSIntEnum","MAWDbMedia","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if(a===d("MAWDbMedia").IMAGE)return b!=null?(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE):(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE);else if(a===d("MAWDbMedia").VIDEO)return b!=null?(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO):(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO);else if(a===d("MAWDbMedia").PTT)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO);else if(a===d("MAWDbMedia").GIF)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE);else if(a===d("MAWDbMedia").STICKER)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER);else if(a===d("MAWDbMedia").DOCUMENT_FILE)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE);return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").NONE)}g.mediaTypeToMessageAttachmentType=a}),98);
__d("MAWBridgeNewMediaHandler",["I64","LSAuthorityLevel","LSIntEnum","LSThreadMediaGalleryGroup","MAWDbMedia","MAWMedia","MAWMiActOnMiThreadReadyForJid","Promise","ReQL","asyncToGeneratorRuntime","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,e,f,g,h){var k=b.messagesSortOrderMs?(i||(i=d("I64"))).of_float(b.messagesSortOrderMs[e]):b.sortOrderMs!=null?(i||(i=d("I64"))).of_float(b.sortOrderMs):(i||(i=d("I64"))).of_float(b.ts*1e3);return{attachmentFbid:f,attachmentIndex:(f=a==null?void 0:a.attachmentIndex)!=null?f:(i||(i=d("I64"))).zero,attachmentType:(f=a==null?void 0:a.attachmentType)!=null?f:d("MAWMedia").mediaTypeToMessageAttachmentType(b.mediaType,b.ephemeralMediaViewMode),authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),ephemeralMediaState:b.ephemeralMediaState!=null?(i||(i=d("I64"))).of_int32(b.ephemeralMediaState):a==null?void 0:a.ephemeralMediaState,ephemeralMediaViewMode:b.ephemeralMediaViewMode!=null?(i||(i=d("I64"))).of_int32(b.ephemeralMediaViewMode):a==null?void 0:a.ephemeralMediaViewMode,filename:(f=(f=b.filenames!=null?b.filenames[e]:null)!=null?f:b.defaultFilename)!=null?f:a==null?void 0:a.filename,filesize:b.filesize==null?a==null?void 0:a.filesize:(i||(i=d("I64"))).of_int32(b.filesize),hasMedia:b.hasMedia,hasXma:!1,isSharable:!1,messageId:e,offlineAttachmentId:g,playableDurationMs:b.duration==null?a==null?void 0:a.playableDurationMs:(i||(i=d("I64"))).of_int32(b.duration),previewHeight:b.previewHeight==null?a==null?void 0:a.previewHeight:(i||(i=d("I64"))).of_int32(b.previewHeight),previewHeightLarge:b.previewHeightLarge==null?a==null?void 0:a.previewHeightLarge:(i||(i=d("I64"))).of_int32(b.previewHeightLarge),previewWidth:b.previewWidth==null?a==null?void 0:a.previewWidth:(i||(i=d("I64"))).of_int32(b.previewWidth),previewWidthLarge:b.previewWidthLarge==null?a==null?void 0:a.previewWidthLarge:(i||(i=d("I64"))).of_int32(b.previewWidthLarge),threadKey:h,timestampMs:k,transportKey:(f=b.transportKey)!=null?f:"WhatsApp"}}function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=e.mediaId,j=e.msgIds,l=e.offlineAttachmentId,m=e.plaintextHash,p=n(g,m),q=(g=l)!=null?g:p;m=!1;var r=o(e),s=null;c("qex")._("1483")===!0&&(s=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments_ranges_v2__generated).getKeyRange(f).filter(function(a){return(i||(i=d("I64"))).equal(a.mediaGroup,r)}))));yield (h||(h=b("Promise"))).all(j.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=a.attachments,g=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(c).getKeyRange(f,b)));b=k(g,e,b,p,q,f);if(g!=null)return c.upsert([g.threadKey,g.messageId,g.attachmentFbid],b);e.skipShouldUpdateHasMore!==!0&&s!=null&&(i||(i=d("I64"))).le(b.timestampMs,s.minTimestampMs)&&(m=!0);return c.add(b)});return function(a){return c.apply(this,arguments)}}()));if(s!=null&&m&&c("qex")._("1483")===!0){l=babelHelpers["extends"]({},s,{hasMoreBefore:!0});yield a.attachments_ranges_v2__generated.upsert([f,r,l.minTimestampMs],l)}});return m.apply(this,arguments)}function n(a,b){if(c("gkx")("2419")){return""+((b=b)!=null?b:a.toString())}else return a.toString()}function o(a){switch(a.mediaType){case d("MAWDbMedia").MEDIA_TYPE.IMAGE:case d("MAWDbMedia").MEDIA_TYPE.VIDEO:return(j||(j=d("LSIntEnum"))).ofNumber(c("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS);case d("MAWDbMedia").MEDIA_TYPE.DOCUMENT_FILE:return(j||(j=d("LSIntEnum"))).ofNumber(c("LSThreadMediaGalleryGroup").FILES_ONLY);default:return(j||(j=d("LSIntEnum"))).ofNumber(c("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS)}}function a(a,b){var c=b.threadJid;return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,c,"MAWBridgeNewMediaHandler",function(a,c){return l(a,b,c)})}g.getAttachmentFromBridgeMedia=k;g.callWithoutWaitingForAnything=l;g.getAttachmentID=n;g.call=a}),98);
__d("MAWBumpMessageMsgReplySnippet",["getMAWLocalizedBumpMsgReplySnippet"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.isAuthorMe,d=a.recipientName,e=a.replySenderIsMe,f=a.replySenderIsRecipient;a=a.senderName;var g="participantBumpedParticipantMessage";b&&e?g="currentUserBumpedOwnMessage":b?g="currentUserBumpedMessage":e?g="participantBumpedCurrentUserMessage":f&&(g="participantBumpedOwnMessage");return c("getMAWLocalizedBumpMsgReplySnippet")(g,a,d)}g.buildBumpMessageReplySnippet=a}),98);
__d("MAWMsgReplyStatus",["LSIntEnum","LSReplyMessageStatus","MAWMsgType"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){switch(a){case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case d("MAWMsgType").MSG_TYPE.REVOKED:return c("LSReplyMessageStatus").DELETED;case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:return c("LSReplyMessageStatus").VALID;case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:return c("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE;case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:return c("LSReplyMessageStatus").UNKNOWN;case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return c("LSReplyMessageStatus").EXPIRED;default:return void 0}}function a(a){a=i(a.replyStatusType);if(a!=null)return(h||(h=d("LSIntEnum"))).ofNumber(a)}g.getReplyMessageStatus=i;g.getLSReplyMessageStatus=a}),98);
__d("MAWMsgReplySnippet",["fbt","I64","LSIntEnum","LSReplyMessageAttachmentType","LSReplyMessageStatus","MAWBumpMessageMsgReplySnippet","MAWMsgReplyStatus","MAWMsgType","ODS","err","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;function l(a){var b=a.isAuthorMe,e=a.isBumpMsg;e=e===void 0?!1:e;var f=a.isDeletedMsg,g=a.isFBStoryMention;g=g===void 0?!1:g;var k=a.isIGStoryMention;k=k===void 0?!1:k;var l=a.isIGXMAStoryShare;l=l===void 0?!1:l;var m=a.isMsgHighlightsTabFriendUpdatesReply;m=m===void 0?!1:m;var n=a.isNoteReply;n=n===void 0?!1:n;var o=a.isPostPrivateReply;o=o===void 0?!1:o;var p=a.isStoryHighlightShare;p=p===void 0?!1:p;var q=a.isStoryReaction;q=q===void 0?!1:q;var r=a.isStoryReply;r=r===void 0?!1:r;var s=a.isStoryShare;s=s===void 0?!1:s;var t=a.recipientName,u=a.replyAttachmentType,v=a.replySenderIsMe;v=v===void 0?!1:v;var w=a.replySenderIsRecipient;w=w===void 0?!1:w;var x=a.senderName;a=a.storyShareAuthor;switch(!0){case e:return d("MAWBumpMessageMsgReplySnippet").buildBumpMessageReplySnippet({isAuthorMe:b,recipientName:t,replySenderIsMe:v,replySenderIsRecipient:w,senderName:x});case p:return a!=null?h._("__JHASH__3A-F80NGMR1__JHASH__",[h._param("username",a)]):h._("__JHASH__btyC9aNJMDF__JHASH__");case l&&u!=null&&(i||(i=d("I64"))).equal(u,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").FEED_POST)):return a!=null?h._("__JHASH__xnZ-ffIPZnP__JHASH__",[h._param("username",a)]):h._("__JHASH__nEqZlivBoJj__JHASH__");case b&&f:return h._("__JHASH__FzueDOoURT8__JHASH__");case b&&s:return h._("__JHASH__d4DLCdwDC03__JHASH__");case b&&q:return h._("__JHASH__yaEVWahdF8q__JHASH__");case b&&k:return t!=null?h._("__JHASH__ZcIFbzn42DR__JHASH__",[h._param("name",t)]):h._("__JHASH__M3uJqhYYEHf__JHASH__");case b&&g:return t!=null?h._("__JHASH__djIYCFIYkhI__JHASH__",[h._param("name",t)]):h._("__JHASH__M3uJqhYYEHf__JHASH__");case k:case g:return h._("__JHASH__dgpS1OhnF7B__JHASH__");case!b&&m:return h._("__JHASH__9HVcKyuMcEa__JHASH__",[h._param("name",x)]);case b&&m:return h._("__JHASH__tQ_baoPXjLg__JHASH__");case b&&o:return t!=null?h._("__JHASH__VKBGNzy_Yqs__JHASH__",[h._param("name",t)]):h._("__JHASH__n0YtGhrNuCJ__JHASH__");case o:return h._("__JHASH__i08IJ6pj_jc__JHASH__",[h._param("name",x)]);case!b&&n:return h._("__JHASH__6yn4tcYSSq3__JHASH__",[h._param("name",x)]);case b&&n:return h._("__JHASH__XYG_9W-CuAE__JHASH__");case b&&v:return h._("__JHASH__GiGYAtipVIl__JHASH__");case b&&r:return t!=null?h._("__JHASH__ZkkDtvZx-as__JHASH__",[h._param("name",t)]):h._("__JHASH__GEUovmERkjj__JHASH__");case b:return t!=null?h._("__JHASH__eQLjVyXwwuH__JHASH__",[h._param("other_name",t)]):h._("__JHASH__NYU_gsfRGpq__JHASH__");case f:return h._("__JHASH__30kvLEU_B_p__JHASH__",[h._param("name",x)]);case s:return h._("__JHASH__JQwHPEO2e9j__JHASH__",[h._param("user",x)]);case q:return h._("__JHASH__BS0JbOB2Hdc__JHASH__");case w:return h._("__JHASH__RWi7lW394uo__JHASH__",[h._param("other",x)]);case v&&r:return h._("__JHASH__zc6GoZLyKDZ__JHASH__",[h._param("name",x)]);case v:return h._("__JHASH__uU6-xunUPnp__JHASH__",[h._param("other_name",x)]);default:return t!=null?h._("__JHASH__iOHMd6RP1E7__JHASH__",[h._param("other",x),h._param("other_name",t)]):h._("__JHASH__JL2f9yie2zt__JHASH__",[h._param("other",x)])}}function a(a){var b=a.isAuthorMe,e=a.isFBStoryMention;e=e===void 0?!1:e;var f=a.isIGStoryMention;f=f===void 0?!1:f;var g=a.isIGXMAStoryShare,h=a.isMsgHighlightsTabFriendUpdatesReply;h=h===void 0?!1:h;var i=a.isNoteReply;i=i===void 0?!1:i;var j=a.isPostPrivateReply;j=j===void 0?!1:j;var m=a.isStoryHighlightShare;m=m===void 0?!1:m;var n=a.isStoryReaction,o=a.isStoryReply,p=a.isStoryShare;p=p===void 0?!1:p;var q=a.replySenderIsMe,r=a.replySourceId,s=a.replyStatusType,t=a.replyToUserId,u=a.sender,v=a.storyShareAuthor;a=a.type_;a=a===d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE;var w=s===d("MAWMsgType").MSG_TYPE.XMA&&c("gkx")("458");if(r==null&&!p&&!f&&!e&&!m&&!i&&!w)return;if(t==null||u==null)throw c("err")("Error getting reply snippet without replyToUserId or sender");(k||(k=d("ODS"))).bumpEntityKey(3185,"armadillo_reply","creating_reply_snippet");return(r=l({isAuthorMe:b,isBumpMsg:a,isDeletedMsg:d("MAWMsgReplyStatus").getReplyMessageStatus(s)===c("LSReplyMessageStatus").DELETED,isFBStoryMention:e,isIGStoryMention:f,isIGXMAStoryShare:g,isMsgHighlightsTabFriendUpdatesReply:h,isNoteReply:i,isPostPrivateReply:j,isStoryHighlightShare:m,isStoryReaction:n,isStoryReply:o,isStoryShare:p,recipientName:"$PARTICIPANT_FIRST_NAME("+t+")",replySenderIsMe:q,replySenderIsRecipient:u===t,senderName:"$PARTICIPANT_FIRST_NAME("+u+")",storyShareAuthor:v}))==null?void 0:r.toString()}g.buildLocalizedReplySnippet=l;g.getReplySnippet=a}),226);
__d("MAWUpdateMsg",["I64","LSAuthorityLevel","LSIntEnum","LSMessageUnsendabilityStatus","MAWAckLevel","MAWBridgeBuildMsg","MAWBridgeMsg","MAWBridgeMsgUtils","MAWMiActOnMiThreadReadyForJid","MAWMsg","MAWMsgReply","MAWMsgReplyStatus","MAWTimeUtils","MWPBumpEntityKey","ReQL","asyncToGeneratorRuntime","gkx","justknobx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c,e,g,h){return a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,c,"MAWUpdateMsg",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=a.messages;b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(b,e,g)));b!=null&&(yield a.put(babelHelpers["extends"]({},b,h)))});return function(b,c){return a.apply(this,arguments)}}())});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":50")}function e(a,b,c,d,e){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){var j,k;j=d("MAWTimeUtils").toTimestamp(b.type_===d("MAWMsg").unsent?(j=b.originalTs)!=null?j:b.ts:b.ts);var l=b.type_===d("MAWMsg").unsent?d("MAWTimeUtils").toTimestamp(b.ts):void 0,m=b.type_===d("MAWMsg").unsent,n=(yield d("MAWBridgeBuildMsg").buildMessage(b,g));k=(k=d("MAWBridgeMsgUtils").convertStringToLSTransportKeyType(b.transportKey))!=null?k:"WhatsApp";var o=(h||(h=d("I64"))).to_float(e.primarySortKey),p=!1;if(c("qex")._("371")===!0){var q=(h||(h=d("I64"))).equal(e.displayedContentTypes,(i||(i=d("LSIntEnum"))).ofNumber(2))||(h||(h=d("I64"))).equal(e.displayedContentTypes,(i||(i=d("LSIntEnum"))).ofNumber(4))||(h||(h=d("I64"))).equal(e.displayedContentTypes,(i||(i=d("LSIntEnum"))).ofNumber(64))||(h||(h=d("I64"))).equal(e.displayedContentTypes,(i||(i=d("LSIntEnum"))).ofNumber(16384));p=q&&o>0&&Math.abs(b.sortOrderMs-o)<((q=c("qex")._("474"))!=null?q:0)}o=p?e.primarySortKey:(h||(h=d("I64"))).of_float(b.sortOrderMs);if(c("justknobx")._("2418")){q=b.sortOrderMs-(h||(h=d("I64"))).to_float(e.primarySortKey);Math.abs(q)<1e3?p="less_then_one_second":Math.abs(q)<3e3?p="less_then_three_seconds":Math.abs(q)<5e3?p="less_then_five_seconds":Math.abs(q)<1e4?p="less_then_ten_seconds":Math.abs(q)<6e4?p="less_then_one_minute":Math.abs(q)<6e5?p="less_then_ten_minutes":Math.abs(q)<36e5?p="less_then_one_hour":p="more_then_one_hour";q<0&&(p="negative_"+p);c("qex")._("244")===!0?d("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.update_msg","optimistic_timestamp_diff_waserver_"+p):d("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.update_msg","optimistic_timestamp_diff_"+p);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.update_msg","optimistic_timestamp_diff_"+p)}p=babelHelpers["extends"]({},e,n,{adminMsgCtaId:f==null?void 0:f.ctaId,adminMsgCtaTitle:f==null?void 0:f.title,adminMsgCtaType:f==null?void 0:f.ctaType,authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),cannotUnsendReason:m||!b.isAuthorMe?(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageUnsendabilityStatus").DENY_FOR_NON_SENDER):void 0,displayedContentTypes:d("MAWMsg").getDisplayedContentTypes(b.type_,b.isForwarded,b.isExpiredXmaMsg,b.replySourceId!=null,b.unsupportedType),editCount:b.editCount!=null?(h||(h=d("I64"))).of_int32(b.editCount):(h||(h=d("I64"))).zero,ephemeralDurationInSec:d("MAWBridgeBuildMsg").getEphemeralDurationInSec(b),groupId:(q=b.groupId)!=null?q:void 0,groupIndex:b.groupIndex!=null?(h||(h=d("I64"))).of_float(b.groupIndex):void 0,groupSize:b.groupSize!=null?(h||(h=d("I64"))).of_float(b.groupSize):void 0,hotEmojiSize:d("MAWBridgeMsg").getSpecialTextSize(b),isUnsent:b.type_===d("MAWMsg").unsent,messageId:b.msgId,primarySortKey:o,replyAttachmentId:d("MAWMsgReply").getReplyAttachmentId(b),replyAttachmentPlaintextHash:d("MAWMsgReply").getReplyAttachmentPlaintextHash(b),replyAttachmentType:d("MAWMsgReply").getReplyAttachmentType(b),replyMediaExpirationTimestampMs:d("MAWMsgReply").getReplyMediaExpirationTimestampMs(b),replyMediaPreviewHeight:d("MAWMsgReply").getReplyMediaHeight(b),replyMediaPreviewWidth:d("MAWMsgReply").getReplyMediaWidth(b),replyMediaUrlMimeType:d("MAWMsgReply").getReplyMediaMimeType(b),replySnippet:g,replySourceId:d("MAWMsgReply").getReplySourceId(b),replySourceType:d("MAWMsgReply").getReplySourceType(b),replySourceTypeV2:d("MAWMsgReply").getReplySourceTypeV2(b),replyStatus:d("MAWMsgReplyStatus").getLSReplyMessageStatus(b),replyToUserId:d("MAWMsgReply").getReplyUserId(b),sendStatus:d("MAWAckLevel").levelToMessagingSendStatus(b.ack),sendStatusV2:d("MAWAckLevel").levelToMessagingSendStatusV2(b.ack),timestampMs:j,transportKey:k,unsentTimestampMs:l},c("gkx")("4889")?{replySourceTimestampMs:d("MAWMsgReply").getReplyTimestampMs(b)}:{});e!=null?yield a.messages.upsert([e.threadKey,e.timestampMs,e.messageId],p):yield a.messages.put(p)});return j.apply(this,arguments)}g.mutateThreadText=a;g.call=e}),98);
__d("MAWBridgeNewMsgHandler",["I64","LSAuthorityLevel","LSIntEnum","LSMessageRenderingType","LSMessageUnsendabilityStatus","LSQuickReplyType","MAWAckLevel","MAWAdminMsgCTA","MAWBridgeBuildMsg","MAWBridgeMsg","MAWBridgeMsgUtils","MAWMiActOnMiThreadReadyForJid","MAWMsg","MAWMsgReply","MAWMsgReplySnippet","MAWMsgReplyStatus","MAWTimeUtils","MAWUpdateMsg","MWPBumpEntityKey","Promise","QPLUserFlow","ReQL","asyncToGeneratorRuntime","gkx","qpl","sendToSentQPLUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,e,f){var g;g=d("MAWTimeUtils").toTimestamp(b.type_===d("MAWMsg").unsent?(g=b.originalTs)!=null?g:b.ts:b.ts);var h=d("MAWBridgeBuildMsg").buildMessage(b,f),k=d("MAWBridgeMsgUtils").convertStringToLSTransportKeyType(b.transportKey);return babelHelpers["extends"]({},h,{adminMsgCtaId:e==null?void 0:e.ctaId,adminMsgCtaTitle:e==null?void 0:e.title,adminMsgCtaType:e==null?void 0:e.ctaType,authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),cannotUnsendReason:b.type_===d("MAWMsg").unsent||!b.isAuthorMe?(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageUnsendabilityStatus").DENY_FOR_NON_SENDER):void 0,displayedContentTypes:d("MAWMsg").getDisplayedContentTypes(b.type_,b.isForwarded,b.isExpiredXmaMsg,b.replySourceId!=null,b.unsupportedType),editCount:(j||(j=d("I64"))).of_int32((h=b.editCount)!=null?h:0),ephemeralDurationInSec:d("MAWBridgeBuildMsg").getEphemeralDurationInSec(b),ephemeralExpirationTs:void 0,forwardScore:j.of_float(b.forwardingScore),groupId:(e=b.groupId)!=null?e:void 0,groupIndex:b.groupIndex!=null?(j||(j=d("I64"))).of_float(b.groupIndex):void 0,groupSize:b.groupSize!=null?(j||(j=d("I64"))).of_float(b.groupSize):void 0,hasQuickReplies:!1,hotEmojiSize:d("MAWBridgeMsg").getSpecialTextSize(b),isAdminMessage:b.isAdminMessage,isCollapsed:!1,isExpired:!1,isForwarded:b.isForwarded,isUnsent:b.type_===d("MAWMsg").unsent,localDataId:void 0,messageId:b.msgId,messageRenderingType:i.ofNumber(c("LSMessageRenderingType").DEFAULT),msUntilExpirationTs:void 0,offlineThreadingId:b.externalId,primarySortKey:j.of_float(b.sortOrderMs),quickReplyType:i.ofNumber(c("LSQuickReplyType").NONE),replyAttachmentExtra:void 0,replyAttachmentId:d("MAWMsgReply").getReplyAttachmentId(b),replyAttachmentPlaintextHash:d("MAWMsgReply").getReplyAttachmentPlaintextHash(b),replyAttachmentType:d("MAWMsgReply").getReplyAttachmentType(b),replyCtaId:void 0,replyCtaTitle:void 0,replyMediaExpirationTimestampMs:d("MAWMsgReply").getReplyMediaExpirationTimestampMs(b),replyMediaPreviewHeight:d("MAWMsgReply").getReplyMediaHeight(b),replyMediaPreviewWidth:d("MAWMsgReply").getReplyMediaWidth(b),replyMediaUrl:void 0,replyMediaUrlFallback:void 0,replyMediaUrlMimeType:d("MAWMsgReply").getReplyMediaMimeType(b),replySnippet:f,replySourceId:d("MAWMsgReply").getReplySourceId(b),replySourceTimestampMs:c("gkx")("4889")?d("MAWMsgReply").getReplyTimestampMs(b):void 0,replySourceType:d("MAWMsgReply").getReplySourceType(b),replySourceTypeV2:d("MAWMsgReply").getReplySourceTypeV2(b),replyStatus:d("MAWMsgReplyStatus").getLSReplyMessageStatus(b),replyToUserId:d("MAWMsgReply").getReplyUserId(b),replyType:d("MAWMsgReply").getReplyType(b),secondarySortKey:void 0,senderId:j.of_string(b.sender),sendStatus:d("MAWAckLevel").levelToMessagingSendStatus(b.ack),sendStatusV2:d("MAWAckLevel").levelToMessagingSendStatusV2(b.ack),stickerId:void 0,subscriptErrorMessage:void 0,takedownState:void 0,textHasLinks:!1,threadKey:a,timestampMs:g,transportKey:k,unsentTimestampMs:d("MAWTimeUtils").toTimestamp(b.ts),viewedPluginContext:void 0,viewedPluginKey:void 0,viewFlags:i.ofNumber(0)})}function l(a,b,c,d,e){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f){c.unsupportedType==="stickerReceiverFetchMessage"&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.new_msg_handler","sticker_receiver_fetch_fallback");b=k(b,c,e,f);yield a.messages.add(b)});return m.apply(this,arguments)}function n(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.chatJid,"BridgeNewMsgHandler",function(a,c){return o(a,b,c)})}function o(a,b,c){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=(yield d("MAWAdminMsgCTA").getAdminMsgCtaStep(a,f,e)),i=(yield d("MAWMsgReplySnippet").getReplySnippet(e)),k=e.offlineMsg,m=c("gkx")("23961");if(k==null&&!m)return l(a,f,e,g,i);var n;k!=null&&(n=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages).getKeyRange(f,(j||(j=d("I64"))).of_float(k.ts),k.msgId))));if(n==null){k=!1;if(m&&e.externalId!=null){m=e.externalId;n=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("optimistic")).getKeyRange(m)));if(n!=null){(j||(j=d("I64"))).to_int32(n.authorityLevel)===c("LSAuthorityLevel").OPTIMISTIC&&(k=!0,yield d("MAWUpdateMsg").call(a,e,n,g,i));m=(yield s(a,f,m));yield u(a,m,e.msgId,c("LSAuthorityLevel").AUTHORITATIVE);return(h||(h=b("Promise"))).resolve()}}if(!k)return l(a,f,e,g,i)}else{yield d("MAWUpdateMsg").call(a,e,n,g,i);m=[n.offlineThreadingId];m.forEach(function(a){a!=null&&q(a)})}});return p.apply(this,arguments)}function q(a){a=d("sendToSentQPLUtils").getS2sKeyFromOfflineMessageId(a);a!=null&&c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"update_optimistic_message",{instanceKey:a})}function a(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){yield (h||(h=b("Promise"))).all(c.map(function(b){return n(a,b)}))});return r.apply(this,arguments)}function s(a,b,c){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){a=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b,e)));return a.filter(function(a){return(j||(j=d("I64"))).to_int32(a.authorityLevel)===c("LSAuthorityLevel").OPTIMISTIC})});return t.apply(this,arguments)}function u(a,b,c,d){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f){yield (h||(h=b("Promise"))).all(c.map(function(b){var c=babelHelpers["extends"]({},b,{messageId:e});f!=null&&(c.authorityLevel=(i||(i=d("LSIntEnum"))).ofNumber(f));return a.attachments.upsert([b.threadKey,b.messageId,b.attachmentFbid],c)}))});return v.apply(this,arguments)}g.composeMessage=k;g.call=n;g.callWithoutWaitingForAnything=o;g.bulkCall=a}),98);
__d("MAWBridgeNewReceiverFetchInfoHandler",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMediaUrlUtils","MAWImageUtils","MAWMiActOnMiThreadReadyForJid","MessagingAttachmentType","Promise","ReQL","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f,g=b.mimetype,h=b.msgId,k=b.previewHeight,l=b.previewUrl,n=b.previewUrlExpirationTimestampMs,o=b.previewWidth,p=b.ravenSettings,q=b.receiverFetchId,r=b.sortOrderMs,s=b.transportKey;b=b.type;b=m(b);k=d("MAWImageUtils").boundHeightWidth(k,o,d("MAWImageUtils").STICKER_THUMBNAIL_MAX_SIZE);o=k.height;k=k.width;var t=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(e,h)));f=(f=l)!=null?f:t==null?void 0:t.previewUrl;var u=n!=null?(i||(i=d("I64"))).of_float(n):t==null?void 0:t.previewUrlExpirationTimestampMs;f=d("LSMediaUrlUtils").hasValidReceiverFetchPreviewUrl(f,u);yield a.attachments.upsert([e,h,q],{attachmentFbid:q,attachmentIndex:(i||(i=d("I64"))).zero,attachmentType:b,authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),ephemeralMediaState:(p==null?void 0:p.ephemeralMediaState)!=null?(i||(i=d("I64"))).of_int32(p.ephemeralMediaState):void 0,ephemeralMediaViewMode:(p==null?void 0:p.ephemeralMediaViewMode)!=null?(i||(i=d("I64"))).of_int32(p.ephemeralMediaViewMode):void 0,hasMedia:f,hasXma:!1,isSharable:!1,messageId:h,previewHeight:i.of_int32(o),previewUrl:(u=l)!=null?u:t==null?void 0:t.previewUrl,previewUrlExpirationTimestampMs:n!=null?(i||(i=d("I64"))).of_float(n):t==null?void 0:t.previewUrlExpirationTimestampMs,previewUrlMimeType:g,previewWidth:i.of_int32(k),receiverFetchId:q,threadKey:e,timestampMs:i.of_float(r),transportKey:(a=s)!=null?a:"WhatsApp"})});return l.apply(this,arguments)}function a(a,e){return!c("gkx")("5624")?(h||(h=b("Promise"))).resolve():d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,e.threadJid,"BridgeNewReceiverFetchInfoHandler",function(a,b){return k(a,e,b)})}function m(a){switch(a){case"sticker":return(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER);default:throw c("FBLogger")("messenger_web_media").mustfixThrow("Unsupported type for MAWBridgeNewReceiverFetchInfoHandler")}}g.call=a}),98);
__d("MAWConvertExtendedContentTypeToLSXmaContentType",["LSXmaContentType","WAArmadilloXMA.pb"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE:return c("LSXmaContentType").FB_FEED_SHARE;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY:return c("LSXmaContentType").FB_STORY_REPLY;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE:return c("LSXmaContentType").FB_STORY_SHARE;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_MENTION:return c("LSXmaContentType").FB_STORY_MENTION;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_VIDEO_SHARE:return c("LSXmaContentType").FB_FEED_VIDEO_SHARE;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_GAMING_CUSTOM_UPDATE:return c("LSXmaContentType").FB_GAMING_CUSTOM_UPDATE;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PRODUCER_STORY_REPLY:return c("LSXmaContentType").FB_PRODUCER_STORY_REPLY;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_EVENT:return c("LSXmaContentType").FB_EVENT;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_POST_PRIVATE_REPLY:return c("LSXmaContentType").FB_FEED_POST_PRIVATE_REPLY;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:return c("LSXmaContentType").MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_SHORT:return c("LSXmaContentType").FB_SHORT;default:return null}}g.convertExtendedContentTypeToLSXmaContentType=a}),98);
__d("getTargetUrlFromContentRefXmaDataclass",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){try{a=JSON.parse(a);return a.target_url}catch(a){c("FBLogger")("messenger_web_sharing").mustfix("Error parsing contentRef for target url");return""}}g["default"]=a}),98);
__d("MAWHandleXMAPreviewOptOut",["FBLogger","I64","LSIntEnum","MAWMsg","MAWMsgType","ReQL","WAArmadilloXMA.pb","asyncToGeneratorRuntime","getTargetUrlFromContentRefXmaDataclass","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){return c("isStringNullOrEmpty")(a)?b:a+" "+b}function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.msgId;if(e==null){c("FBLogger")("messenger_web_sharing").mustfix("BridgeXMA msgId is null to handle the opt-out experience for XMAs");return}e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("messageId")).getKeyRange(e)));if(e==null||(h||(h=d("I64"))).equal(e.displayedContentTypes,(i||(i=d("LSIntEnum"))).ofNumber(1)))return;var f;if(b.targetType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH&&b.contentRef!=null)f=c("getTargetUrlFromContentRefXmaDataclass")(b.contentRef);else{var g;f=(g=b==null?void 0:(g=b.defaultCTA)==null?void 0:g.actionUrl)!=null?g:b==null?void 0:(g=b.defaultCTA)==null?void 0:g.nativeUrl}if(f!=null){yield a.messages.put(babelHelpers["extends"]({},e,{displayedContentTypes:d("MAWMsg").getDisplayedContentTypes(d("MAWMsgType").MSG_TYPE.TEXT,(g=e.isForwarded)!=null?g:!1,!1,!1),text:(g=j(e.text,f))!=null?g:""}))}else c("FBLogger")("messenger_e2ee_web").mustfix("Failed to get a target URL for XMA, where user opted out of previews. XMA target type=%s",b.targetType),yield a.messages.put(babelHelpers["extends"]({},e,{displayedContentTypes:(i||(i=d("LSIntEnum"))).ofNumber(262144)}))});return k.apply(this,arguments)}g.call=a}),98);
__d("MNXMAPreviewImageDecorationType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,COLLAGE:1,VIDEO:2,MESSENGER_ICON:3,INSTAGRAM_ICON:4,SHOPPING:5,UPCOMING_EVENT:6,LIVE:7,REEL:8,IGTV:9,YOUTUBE_VIDEO:10,YOUTUBE_SHORTS:11,COMMENT:12,BLUR:13,PILL:14,MESSENGER_CHANNEL_IMAGE:15,TROPHY:16,DXMA_LIVE:17,DXMA_LIVE_ENDED:18});f["default"]=a}),66);
__d("getXMAPreviewsDisabledSettings",["MessengerWebPrivacySettings","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messaging_privacy_settings)));return a==null?c("MessengerWebPrivacySettings").e2ee_xma_previews_disabled:(a=a==null?void 0:a.e2eeXmaPreviewsDisabled)!=null?a:!1});return h.apply(this,arguments)}g.getXMAPreviewsDisabledSettings=a}),98);
__d("MAWBridgeNewXMAHandler",["I64","LSIntEnum","MAWBridgeHandleReceiverFetchXMA","MAWBridgeUIEventDataValidation","MAWConvertExtendedContentTypeToLSXmaContentType","MAWDbMsg","MAWHandleXMAPreviewOptOut","MAWMiActOnMiThreadReadyForJid","MNLSXMALayoutType","MNXMAPreviewImageDecorationType","MessagingAttachmentType","Promise","Random","ReQL","WAArmadilloXMA.pb","asyncToGeneratorRuntime","getXMAPreviewsDisabledSettings","gkx","isReceiverFetchDualSendReceivingEnabled","isReceiverFetchReceivingEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b){if(a==null)return;a=a[b-1];if(a==null)return;return a.buttonType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_VIDEO_POST_SHARE?"xma_open_native":void 0}function l(a,b){if(a==null)return;a=a[b-1];if(a!=null)return a.title}function m(a){return a===0||a!==3?(i||(i=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").SINGLE):(i||(i=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").PORTRAIT)}function n(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:return(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").COLLAGE);case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE:return(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").REEL);case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_HIGHLIGHT_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_HIGHLIGHT_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REACTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_MENTION:return(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").INSTAGRAM_ICON);default:return(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").DEFAULT)}}function o(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_SHORT:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH:return!0;default:return!1}}function p(a,b,c){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=String(b.xmaId),g=b.msgId;if(g==null)return;var h=(j||(j=d("I64"))).of_int32(d("MAWDbMsg").getInChatMsgIdFromMsgId(g)),p=b.targetType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH,q=(yield d("getXMAPreviewsDisabledSettings").getXMAPreviewsDisabledSettings(a));if(q&&o(b.targetType))return d("MAWHandleXMAPreviewOptOut").call(a,b);if(p){q=b.defaultPreviewMediaId!=null;p=q?c("isReceiverFetchDualSendReceivingEnabled")(!0):c("isReceiverFetchReceivingEnabled")(!0);if(p)return d("MAWBridgeHandleReceiverFetchXMA").call(a,b,e)}q=(yield w(a,e,g));p=q[0];q=q[1];q=(yield s(a,b,e,g,f,q));var r=q.attachmentCta1Id,t=q.attachmentCta2Id,u=q.attachmentCta3Id;q=q.defaultCtaId;var v;switch(b.targetType){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE:v={height:(j||(j=d("I64"))).of_int32(108),width:(j||(j=d("I64"))).of_int32(72),xmaContentType:"xma_montage_share"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:v={xmaContentType:"xma_rtc_audio"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:v={xmaContentType:"xma_rtc_video"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:v={xmaContentType:"xma_rtc_missed_audio"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:v={xmaContentType:"xma_rtc_missed_video"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:v={xmaContentType:"xma_rtc_missed_group_audio"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:v={xmaContentType:"xma_rtc_missed_group_video"};break;default:v={height:b.previewHeight!=null?(j||(j=d("I64"))).of_int32(b.previewHeight):void 0,width:b.previewWidth!=null?(j||(j=d("I64"))).of_int32(b.previewWidth):void 0,xmaContentType:"xma_web_url"};break}var x=d("MAWConvertExtendedContentTypeToLSXmaContentType").convertExtendedContentTypeToLSXmaContentType(b.targetType);x=x?(j||(j=d("I64"))).of_int32(x):void 0;u={accessibilitySummaryText:void 0,actionUrl:void 0,attachmentCta1Id:r,attachmentCta2Id:t,attachmentCta3Id:u,attachmentFbid:f,attachmentIndex:j.zero,attachmentLoggingType:void 0,attachmentType:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),attributionAppIcon:void 0,attributionAppIconFallback:void 0,attributionAppIconUrlExpirationTimestampMs:void 0,attributionAppId:void 0,attributionAppName:void 0,authorityLevel:j.zero,avatarCount:void 0,avatarViewAccessibilityLabel:void 0,avatarViewSize:void 0,avatarViewTitleList:void 0,avatarViewUrlExpirationTimestampList:void 0,avatarViewUrlFallbackList:void 0,avatarViewUrlList:void 0,captionBodyText:void 0,cta1Title:l(b.ctas,1),cta1Type:k(b.ctas,1),cta2Title:l(b.ctas,2),cta2Type:k(b.ctas,2),cta3Title:l(b.ctas,3),cta3Type:k(b.ctas,3),dashManifest:void 0,decryptionKey:void 0,defaultCtaId:q,defaultCtaTitle:(r=b.defaultCTA)==null?void 0:r.title,defaultCtaType:v.xmaContentType,descriptionText:void 0,ephemeralMediaState:void 0,faviconUrl:void 0,faviconUrlExpirationTimestampMs:void 0,faviconUrlFallback:void 0,filename:void 0,filesize:b.filesize!=null?(j||(j=d("I64"))).of_int32(b.filesize):void 0,gatingTitle:b.overlayTitle,gatingType:b.overlayIconGlyph!=null?String(b.overlayIconGlyph):void 0,hasMedia:c("gkx")("821")&&b.hasMedia!=null?b.hasMedia:!1,hasXma:!0,hasXmaFavicon:b.faviconMediaId!=null,hasXmaHeaderImage:b.headerMediaId!=null,hasXmaPreview:b.defaultPreviewMediaId!=null,headerImageUrl:void 0,headerImageUrlExpirationTimestampMs:void 0,headerImageUrlFallback:void 0,headerImageUrlMimeType:void 0,headerTitle:b.headerTitle,imageUrl:void 0,imageUrlExpirationTimestampMs:void 0,imageUrlFallback:void 0,imageUrlMimeType:void 0,isBorderless:void 0,isPreviewImage:void 0,isSharable:!0,listItemAccessibilityText1:void 0,listItemAccessibilityText2:void 0,listItemAccessibilityText3:void 0,listItemContactUrlExpirationTimestampList1:void 0,listItemContactUrlExpirationTimestampList2:void 0,listItemContactUrlExpirationTimestampList3:void 0,listItemContactUrlFallbackList1:void 0,listItemContactUrlFallbackList2:void 0,listItemContactUrlFallbackList3:void 0,listItemContactUrlList1:void 0,listItemContactUrlList2:void 0,listItemContactUrlList3:void 0,listItemId1:void 0,listItemId2:void 0,listItemId3:void 0,listItemProfilePictureUrl1:void 0,listItemProfilePictureUrl2:void 0,listItemProfilePictureUrl3:void 0,listItemProfilePictureUrlExpirationTimestamp1:void 0,listItemProfilePictureUrlExpirationTimestamp2:void 0,listItemProfilePictureUrlExpirationTimestamp3:void 0,listItemProfilePictureUrlFallback1:void 0,listItemProfilePictureUrlFallback2:void 0,listItemProfilePictureUrlFallback3:void 0,listItemProgressBarFilledPercentage1:void 0,listItemProgressBarFilledPercentage2:void 0,listItemProgressBarFilledPercentage3:void 0,listItemsDescriptionSubtitleText:void 0,listItemsDescriptionText:void 0,listItemsId:void 0,listItemsSecondaryDescriptionText:void 0,listItemTitleText1:void 0,listItemTitleText2:void 0,listItemTitleText3:void 0,localPlayableUrl:void 0,maxSubtitleNumOfLines:b.maxSubtitleNumOfLines!=null?(j||(j=d("I64"))).of_int32(b.maxSubtitleNumOfLines):void 0,maxTitleNumOfLines:b.maxTitleNumOfLines!=null?(j||(j=d("I64"))).of_int32(b.maxTitleNumOfLines):void 0,messageId:g,miniPreview:void 0,offlineAttachmentId:(t=b.offlineAttachmentId)!=null?t:f,originalFileHash:void 0,originalPageSenderId:void 0,playableDurationMs:void 0,playableUrl:void 0,playableUrlExpirationTimestampMs:void 0,playableUrlFallback:void 0,playableUrlMimeType:void 0,preheaderText:void 0,previewHeight:v.height,previewHeightLarge:b.previewHeightLarge!=null?(j||(j=d("I64"))).of_int32(b.previewHeightLarge):void 0,previewImageDecorationType:n(b.targetType),previewUrl:void 0,previewUrlExpirationTimestampMs:void 0,previewUrlFallback:void 0,previewUrlLarge:void 0,previewUrlMimeType:void 0,previewWidth:v.width,previewWidthLarge:b.previewWidthLarge!=null?(j||(j=d("I64"))).of_int32(b.previewWidthLarge):void 0,samplingFrequencyHz:void 0,shouldAutoplayVideo:void 0,shouldHighlightHeaderTitleInTitle:void 0,shouldRespectServerPreviewSize:void 0,sourceText:void 0,subtitleIconUrl:void 0,subtitleText:b.subtitleText,targetId:void 0,threadKey:e,timestampMs:h,titleText:b.titleText,transportKey:"WhatsApp",viewerSeenTimestampMs:void 0,waveformData:void 0,xmaContentType:x,xmaLayoutType:b.xmaLayoutType!=null?m(b.xmaLayoutType):void 0,xmasTemplateType:b.xmaLayoutType!=null?m(b.xmaLayoutType):void 0};p!=null?yield a.attachments.upsert([p.threadKey,p.messageId,p.attachmentFbid],u):yield a.attachments.add(u)});return q.apply(this,arguments)}function r(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.threadJid,"MAWBridgeNewXMAHandler",function(a,c){return p(a,b,c)})}function a(a,b){return r(a,b)}function s(a,b,c,d,e,f){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f,g,i){var k=(j||(j=d("I64"))).of_int32(d("Random").uint32()),l=c.defaultCTA;if(l!=null){var m="xma_web_url";switch(c.targetType){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:m="xma_rtc_audio";break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:m="xma_rtc_video";break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:m="xma_rtc_missed_audio";break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:m="xma_rtc_missed_video";break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE:m="igd_web_post_share";break}var n=c.targetId!=null?d("MAWBridgeUIEventDataValidation").stringToI64Opt(c.targetId):void 0;yield u(a,l,k,f,e,g,n,m,i.defaultCta)}n=l==null?void 0:k;var o=k;m=[];l=c.ctas;l!=null&&(m=(yield (h||(h=b("Promise"))).all(l.map(function(b,c){var h=(j||(j=d("I64"))).add(o,j.of_int32(c+1));c=c===0?i.attachmentCta1:c===1?i.attachmentCta2:c===2?i.attachmentCta3:void 0;return u(a,b,h,f,e,g,void 0,void 0,c)}))));return{attachmentCta1Id:m.length>0?m[0]:void 0,attachmentCta2Id:m.length>1?m[1]:void 0,attachmentCta3Id:m.length>2?m[2]:void 0,defaultCtaId:n}});return t.apply(this,arguments)}function u(a,b,c,d,e,f,g,h,i){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h,i,k,l){k===void 0&&(k="xma_web_url");var m=b.actionUrl,n=b.nativeUrl;m={actionContentBlob:void 0,actionUrl:m!=null?m:n,attachmentFbid:h,attachmentIndex:(j||(j=d("I64"))).zero,ctaId:e,enableExtensions:!1,extensionHeightType:void 0,messageId:f,nativeUrl:n!=null?n:m,platformToken:void 0,targetId:(h=i)!=null?h:void 0,threadKey:g,title:(f=b.title)!=null?f:"Tap to view status update",type_:(n=k)!=null?n:"xma_web_url",urlWebviewType:void 0};l!=null&&c("gkx")("821")?yield a.attachment_ctas.upsert([l.ctaId],m):yield a.attachment_ctas.add(m);return e});return v.apply(this,arguments)}function w(a,b,c){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=null,f={attachmentCta1:void 0,attachmentCta2:void 0,attachmentCta3:void 0,defaultCta:void 0};e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b,c)));e!=null&&(f.defaultCta=(yield y(a,e.defaultCtaId)),f.attachmentCta1=(yield y(a,e.attachmentCta1Id)),f.attachmentCta2=(yield y(a,e.attachmentCta2Id)),f.attachmentCta3=(yield y(a,e.attachmentCta3Id)));return[e,f]});return x.apply(this,arguments)}function y(a,c){return c==null?(h||(h=b("Promise"))).resolve(void 0):(a=d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachment_ctas).getKeyRange(c)))!=null?a:void 0}g.callWithoutWaitingForAnything=p;g.call=a}),98);
__d("MAWBridgeReactionUpsertHandler",["I64","LSAuthorityLevel","LSIntEnum","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e,f,g){return{actorId:(h||(h=d("I64"))).of_string(a),authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),messageId:e,reaction:g,reactionCreationTimestampMs:d("MAWTimeUtils").toTimestamp(f),threadKey:b,timestampMs:d("MAWTimeUtils").toTimestamp(f),transportKey:"WhatsApp"}}function k(a,b,c,e,f,g){return a.reactions.upsert([c,e,(h||(h=d("I64"))).of_string(b)],j(b,c,e,f,g))}function a(a,b,c,d,e,f){return k(a,b,c,d,e,f)}function b(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.chatJid,"MAWBridgeReactionUpsertHandler",function(a,c){return k(a,b.actorId,c,b.messageId,b.ts,b.reaction)})}g.composeReaction=j;g.attachmentMutationsOptimisticHandler=a;g.call=b}),98);/*FB_PKG_DELIM*/
__d("C4gEngagementFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1922200");b=d("FalcoLoggerInternal").create("c4g_engagement",a);e=b;g["default"]=e}),98);
__d("EBAPIWorkerCheck",[],(function(a,b,c,d,e,f){"use strict";function a(){try{return WorkerGlobalScope!==void 0&&self instanceof WorkerGlobalScope}catch(a){return!1}}f.runningInWorker=a}),66);
__d("MAWLSDBEncryption",["I64","LSPlatformErrorChannel","MAWCryptoConsts","MAWKeychainCrypto","MAWKeychainNaClCrypto","MAWKeychainUtil","MWEARKeychainV3","QPLUserFlow","ReStoreDecryptionFailure","err","nullthrows","qpl","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=typeof window!=="undefined"?window:self;function j(a){a=atob(a);var b=a.length,c=new Uint8Array(b);for(var d=0;d<b;d++)c[d]=a.charCodeAt(d);return c.buffer}function k(a){var b="";a=new Uint8Array(a);var c=a.byteLength;for(var d=0;d<c;d++)b+=String.fromCharCode(a[d]);return i.btoa(b)}function l(a){return c("nullthrows")(JSON.stringify(a,function(a,b){if((h||(h=d("I64"))).isI64(b))return{type:"64",value:[b[0],b[1]]};else if(a===""||b===null||typeof b==="string"||typeof b==="number"||typeof b==="boolean"||Array.isArray(b))return b;else if(b===void 0)return{type:"u"};else if(b instanceof ArrayBuffer)return{type:"ab",value:k(b)};else if(b instanceof Uint8Array)return{l:b.byteLength,o:b.byteOffset,type:"ui8",value:k(b.buffer)};else if(b instanceof Map)return{e:l(Array.from(b.entries())),type:"m"};else if(b instanceof Set)return{type:"s",v:l(Array.from(b.values()))};else if(typeof b==="object")return{type:"o",value:l(b)};throw c("unrecoverableViolation")("Not supported","messenger_comet")}))}function m(a){return JSON.parse(a,function(a,b){if(a===""||b===null||typeof b==="string"||typeof b==="number"||typeof b==="boolean"||Array.isArray(b))return b;else if(typeof b==="object")if(b.type==="64"){b.value._tag="i64";return b.value}else if(b.type==="u")return void 0;else if(b.type==="ab")return j(b.value);else if(b.type==="ui8")return new Uint8Array(j(b.value),b.o,b.l);else if(b.type==="o")return m(b.value);else if(b.type==="m")return new Map(m(b.e));else if(b.type==="s")return new Set(m(b.v));throw c("unrecoverableViolation")("Not supported","messenger_comet")})}function a(a,b){try{var e=d("MWEARKeychainV3").getDbEncryptionKey(),f=e.key;e=e.version;e=d("MAWKeychainUtil").makeAAD(e,d("MAWCryptoConsts").CIPHER_ID);return n(f,c("nullthrows")(l(a)),e)}catch(a){throw c("err")(a.message+" - Encrypted LSDB was unable to encrypt an entity for table "+b)}}function b(a,b){try{var e=d("MAWKeychainCrypto").getKeyVersionFromCipherData(a),f=d("MWEARKeychainV3").getDbEncryptionKey(e);f=f.key;f=o(f,a,e);return c("nullthrows")(m(f))}catch(a){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_DECRYPTION_FAILURE_ON_"+b.toUpperCase());c("LSPlatformErrorChannel").emit(new(d("ReStoreDecryptionFailure").ReStoreDecryptionFailure)(a.message,b));throw new(d("ReStoreDecryptionFailure").ReStoreDecryptionFailure)(a.message,b)}}function n(a,b,c){b=new TextEncoder().encode(b).buffer;return d("MAWKeychainNaClCrypto").encryptTweetNaClArrayBuffer(a,new Uint8Array(b),c)}function o(a,b,c){a=d("MAWKeychainNaClCrypto").decryptTweetNaClArrayBuffer(a,b,c);return new TextDecoder().decode(a)}g.stringify=l;g.parse=m;g.encryptLSDBObj=a;g.decryptLSDBObj=b}),98);
__d("EBSMHydrationUtils",["ClientConsistencyEventEmitter","CurrentMessengerUser","EBAPIWorkerCheck","EBSMProperties","MAWEncryptedBackupsPersistedDB","MAWLSDBEncryption","MWEBUseLocalStorage","MWEncryptedBackupsLocalStorageEntryEnum","Promise","QPLUserFlow","Random","WALoggerDeferred","asyncToGeneratorRuntime","gkx","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Error loading data from EB State db to in memory ReStore"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Loaded data from EB State db to in memory ReStore"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Error loading table "," from EB State db to in memory ReStore"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Hydrated ",": "," rows"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Hydration not performed for "," because its not present in IDB"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] EBSM hydration failed due to IDB transaction error: ",""]);n=function(){return a};return a}function o(a){var b=[];a=a;while(a!==0)b.push(a.hd),a=a.tl;return b}function p(a,e){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_GET_ROWS_OF_"+e.toUpperCase());return new(h||(h=b("Promise")))(function(b,f){var g=[],h,i;try{i=a.transaction(e,"readonly"),h=i.objectStore(e).openCursor()}catch(a){void d("WALoggerDeferred").ERROR(n(),a);return f(null)}h.onsuccess=function(a){a=a.target.result;if(a){var b=a.key,c=a.value;c=d("MAWLSDBEncryption").decryptLSDBObj(c,e);c!=null&&c.isLeaf!==void 0&&(c.keys!==void 0&&Array.isArray(c.keys)&&c.keys.length>0&&!Array.isArray(c.keys[0])&&(c.keys=c.keys.filter(function(a){return a!=null&&typeof a==="object"&&!Array.isArray(a)}).map(function(a){return o(a)})));g.push({key:b,value:c});a["continue"]()}};h.onerror=function(a){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_CURSOR_ERROR_ON_"+e.toUpperCase());return f(a)};i.onerror=function(a){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_TRANSACTION_ERROR_"+e.toUpperCase());return f(a)};i.onabort=function(a){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_TRANSACTION_ABORT_ERROR_"+e.toUpperCase());return f(a)};i.oncomplete=function(){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_TRANSACTION_COMPLETE_"+e.toUpperCase()),b(g)}})}function a(a){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=new Map();yield d("MAWEncryptedBackupsPersistedDB").isDBBeingUpgraded();c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_LOAD_DATA_FROM_IDB");return(h||(h=b("Promise"))).all(Array.from(c("EBSMProperties").persistedTables).map(function(b){if(!a.objectStoreNames.contains(b)){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_TABLE_"+b.toUpperCase()+"_NOT_IN_IDB");void d("WALoggerDeferred").WARN(m(),b);return!0}var f=p(a,b),g=new Map();return f.then(function(a){a.map(function(a,b){g.set(a,b)});e.set(b,g);if(b==="secure_encrypted_backups_client_state"&&g.size===0){a=c("gkx")("3551")&&d("EBAPIWorkerCheck").runningInWorker()?!1:d("MWEBUseLocalStorage").mwEBGetIsLocalStorageEntryValuePresent(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION);a&&c("QPLUserFlow").addAnnotations(c("qpl")._(521481876,"1407"),{string:{missing_eb_keys:"true"}})}c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_DONE_ON_"+b.toUpperCase());void d("WALoggerDeferred").LOG(l(),b,g.size);return!0},function(){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_FAILED_ON_"+b.toUpperCase());void d("WALoggerDeferred").ERROR(k(),b);return!1})})).then(function(a){var f=!0;a.forEach(function(a){a||(f=!1)});if(f){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_DONE_ON_ALL_TABLES_SUCCESSFULLY");void d("WALoggerDeferred").LOG(j());return(h||(h=b("Promise"))).resolve(e)}else{c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_FAILED_TO_LOAD_DATA_FROM_IDB");void d("WALoggerDeferred").ERROR(i());return(h||(h=b("Promise"))).reject(e)}})});return q.apply(this,arguments)}function e(a,b,e){e===void 0&&(e={});var f=d("Random").random();c("QPLUserFlow").start(c("qpl")._(521484724,"141"),{annotations:e,instanceKey:f});c("promiseDone")(a(b),function(){c("QPLUserFlow").endSuccess(c("qpl")._(521484724,"141"),{instanceKey:f});var a=d("CurrentMessengerUser").getAppID();switch(a){case 772021112871879..toString():c("ClientConsistencyEventEmitter").emit("hardRefresh","ls_forced_refresh");break;default:c("ClientConsistencyEventEmitter").emit("softRefresh","ls_forced_refresh")}})}g.getAllRowsByTableName=p;g.loadEBdataToEphemeralRestore=a;g.withQPLAndRefresh=e}),98);
__d("LSMailboxInitialSyncCursor",["I64","LSPlatformMessengerSyncParams","LSPlatformWorkplaceSyncParams","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h;a=c("gkx")("23433")||c("gkx")("23434");b=c("gkx")("20836")?c("LSPlatformWorkplaceSyncParams").mailbox:c("LSPlatformMessengerSyncParams").mailbox;e=(h||(h=d("I64"))).of_int32(a&&c("qex")._("422")===!0?3:1);f=h.of_int32(0);g.syncParams=b;g.syncChannel=e;g.lastSyncTimestampMs=f}),98);
__d("LSDatabase",[],(function(a,b,c,d,e,f){}),null);
__d("LSSyncGroupsUtils",["CurrentLocale","LSIntEnum","LSMailboxInitialSyncCursor"],(function(a,b,c,d,e,f,g){"use strict";var h;a={locale:c("CurrentLocale").get()};b={canIgnoreTimestamp:!1,currentCursor:void 0,dataTraceId:void 0,groupId:(h||(h=d("LSIntEnum"))).ofNumber(0),initTraceTimestampMs:void 0,lastSyncCompletedTimestampMs:void 0,lastSyncRequestTimestampMs:h.ofNumber(0),minTimeToSyncTimestampMs:h.ofNumber(-1),priority:h.ofNumber(0),regionHint:void 0,sendSyncParams:!0,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel,syncParams:JSON.stringify(a),syncStatus:h.ofNumber(0)};e={epochId:void 0,failureCount:h.ofNumber(0),lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:h.ofNumber(0),lastSyncRequestTimestampMs:h.ofNumber(0),networkTaskIdentifier:void 0,syncDatabaseId:h.ofNumber(0),taskQueueName:""};f=h.ofNumber(9999999999999);g.defaultSyncParams=a;g.defaultSyncGroup=b;g.defaultNetworkRequest=e;g.neverSyncTimestamp=f}),98);
__d("seedUserInfo",["CurrentMessengerUser","I64","LSIntEnum","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("CurrentMessengerUser").getIDorEIMU();yield a._user_info.put({facebookUserId:(h||(h=d("I64"))).of_string(b),id:(i||(i=d("LSIntEnum"))).ofNumber(1)})});return j.apply(this,arguments)}g["default"]=a}),98);
__d("LSDefaultSyncGroups",["CurrentEnvironment","I64","LSE2EEMetadataSyncGroupUtils","LSIntEnum","LSMailboxInitialSyncCursor","LSPlatformLsInitLog","LSSyncGroupsUtils","MNetRankType","Promise","ReQL","asyncToGeneratorRuntime","gkx","isInstamadillo","isSearchQualityEnabled","qex","seedUserInfo"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=new Set();d("LSE2EEMetadataSyncGroupUtils").shouldAlwaysResetE2EEMetadata()&&k.add(95);e=c("gkx")("5963")||c("isInstamadillo")();f=c("gkx")("5962");var l=d("LSE2EEMetadataSyncGroupUtils").getE2EEMetadataSyncGroup();e=[{groupId:1,lastSyncRequestTimestampMs:d("LSMailboxInitialSyncCursor").lastSyncTimestampMs,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel,syncParams:d("LSMailboxInitialSyncCursor").syncParams},{groupId:2,lastSyncRequestTimestampMs:d("LSMailboxInitialSyncCursor").lastSyncTimestampMs,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel},{groupId:16,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},c("gkx")("4246")?null:{groupId:28,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel,syncParams:JSON.stringify(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultSyncParams,{size_type:"wide"}))},{groupId:118,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},{groupId:198},e?{groupId:89}:null,f?{groupId:197}:null];var m=[].concat(e,[{groupId:6},{groupId:7,syncParams:JSON.stringify({mnet_rank_types:[c("MNetRankType").INSTAGRAM_DIRECT_SEARCH_NULLSTATE]})},d("LSE2EEMetadataSyncGroupUtils").getE2EEMetadataSyncGroupForIGDSyncGroup()]),n=[].concat(e,[{groupId:7,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp,syncParams:JSON.stringify({mnet_rank_types:[c("MNetRankType").MESSENGER_USER_SEARCH,c("isSearchQualityEnabled")()?c("MNetRankType").MESSENGER_BLENDED_NULLSTATE:c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE,c("MNetRankType").INBOX_ACTIVE_NOW,c("MNetRankType").MESSENGER_OMNIPICKER_NULLSTATE,c("MNetRankType").MESSENGER_BROADCAST_FLOW_TOP_THREADS,c("MNetRankType").BROADCAST_FLOW_TOP_CONTACTS]})},{groupId:15,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},{groupId:12,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},{groupId:140},{groupId:141},{groupId:142},{groupId:143},{groupId:26},{groupId:196},{groupId:104,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},l,c("gkx")("24113")?{groupId:120,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel}:null,c("qex")._("136")||c("gkx")("24114")?{groupId:208}:null,c("gkx")("26390")?{groupId:6,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp}:null,{groupId:145,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},c("gkx")("5985")?{groupId:202}:null]);function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.network_requests).getKeyRange(""))),f=e.map(function(a){a=a.syncDatabaseId;return(j||(j=d("LSIntEnum"))).toNumber(a)});return(h||(h=b("Promise"))).all(c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b!=null&&(!f.includes(b.groupId)||k.has(b.groupId))&&(yield a.network_requests.put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultNetworkRequest,{syncDatabaseId:(j||(j=d("LSIntEnum"))).ofNumber(b.groupId)})))});return function(a){return c.apply(this,arguments)}}()))});return p.apply(this,arguments)}function q(a){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.sync_groups)));return new Map(a.map(function(a){return[(j||(j=d("LSIntEnum"))).toNumber(a.groupId),a]}))});return r.apply(this,arguments)}function s(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield q(a));function f(a){return g.apply(this,arguments)}function g(){g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=b.groupId;b=babelHelpers.objectWithoutPropertiesLoose(b,["groupId"]);var f=e.get(c);f==null||k.has(c)?yield a.sync_groups.put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultSyncGroup,b,{groupId:(j||(j=d("LSIntEnum"))).ofNumber(c)})):f!=null&&(f.syncParams!==b.syncParams||b.syncChannel!=null&&!(i||(i=d("I64"))).equal(f.syncChannel,b.syncChannel))&&(yield a.sync_groups.put(babelHelpers["extends"]({},f,{syncChannel:b.syncChannel!=null?b.syncChannel:f.syncChannel,syncParams:b.syncParams})))});return g.apply(this,arguments)}yield (h||(h=b("Promise"))).all(c.map(function(a){return a&&f(a)}))});return t.apply(this,arguments)}function u(a){return a!=null?a:c("CurrentEnvironment").instagramdotcom?m:n}function a(a,b){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=u(b);d("LSPlatformLsInitLog").addPoint("db_seed_start");yield c("seedUserInfo")(a);yield o(a,b);yield s(a,b);d("LSPlatformLsInitLog").addPoint("db_seed_end")});return v.apply(this,arguments)}g.e2eeMetadataSyncGroup=l;g.igdSyncGroups=m;g.defaultSyncGroups=n;g.seedDb=a}),98);
__d("MAWDropCutoverThreadsTable",["Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c=d("ReQL").fromTableAscending(a.cutover_threads);return d("ReQL").toArrayAsync(c).then(function(c){return c.reduce(function(b,c){return b.then(function(){return a.cutover_threads["delete"](c.openThreadId)})},(h||(h=b("Promise"))).resolve())})}g.call=a}),98);
__d("UserTimingUtils",["performance","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=typeof (h||(h=c("performance"))).mark==="function"&&typeof (h||(h=c("performance"))).clearMarks==="function"&&typeof (h||(h=c("performance"))).measure==="function"&&typeof (h||(h=c("performance"))).clearMeasures==="function",j=!1;if(i&&(h||(h=c("performance"))).mark!=null){var k="__v3",l={};Object.defineProperty(l,"startTime",{get:function(){j=!0}});try{(h||(h=c("performance"))).mark(k,l)}catch(a){}finally{(h||(h=c("performance"))).clearMarks(k)}}function a(a){i&&(h||(h=c("performance"))).mark(a)}function d(a,b,d){d===void 0&&(d=!0);if(i){try{(h||(h=c("performance"))).measure(a,b)}catch(a){}d&&(h||(h=c("performance"))).clearMarks(b);(h||(h=c("performance"))).clearMeasures(a)}}function e(a){if(i){try{a=(h||(h=c("performance"))).getEntriesByName(a,"mark");if(a!=null&&a.length>0)return!0}catch(a){}return!1}}function f(a){if(i)try{(h||(h=c("performance"))).clearMarks(a)}catch(a){}}function m(a,b){if(j)try{(h||(h=c("performance"))).measure(a,b),h.clearMeasures(a)}catch(a){}}function n(a,b){j&&((h||(h=c("performance"))).mark(a,b),h.clearMarks(a))}function o(a,d){var e,f,g;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:e=(h||(h=c("performance"))).now();i.next=3;return b("regeneratorRuntime").awrap(d());case 3:f=i.sent;g=(h||(h=c("performance"))).now();m(a,{end:g,start:e});return i.abrupt("return",f);case 7:case"end":return i.stop()}},null,this)}function p(a,b,c){}function q(a,b){}g.measureStart=a;g.measureEnd=d;g.hasMark=e;g.clearMarks=f;g.measureModern=m;g.markModern=n;g.asyncMeasure=o;g.measureReactCommit=p;g.measureReactPostCommit=q}),98);
__d("GetLsDatabase",["ExecutionEnvironment","LSDefaultSyncGroups","LSPlatformErrorChannel","LSPlatformLsInitLog","MAWDropCutoverThreadsTable","MessengerLogHistory","MultipleTabsLogger","Promise","ReStoreDecryptionFailure","ReStoreEARSetupFailure","ReStoreIndexedDbClosedEvent","ReStoreIndexedDbFailToOpenEvent","ReStoreIndexedDbUpgradedEvent","ReStoreUnexpectedlyClosed","UserTimingUtils","asyncToGeneratorRuntime","cr:4440","cr:4489","cr:6218","cr:6229","cr:6244","cr:665","cr:7000","cr:7351","cr:7471","cr:8659","gkx","justknobx","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(e=b("cr:6218"))!=null?e:b("cr:6229"),k=(e=b("cr:7000"))!=null?e:b("cr:7351"),l=c("gkx")("24158")&&c("gkx")("24149");function m(a){if(a instanceof c("ReStoreIndexedDbUpgradedEvent")&&j!=null&&c("justknobx")._("1410"))c("promiseDone")(j.killSharedWorker(!0));else if(a instanceof c("ReStoreIndexedDbClosedEvent")){a=a.getError();b("cr:6244")!=null&&a instanceof(b("cr:6244")==null?void 0:b("cr:6244").ReStoreDbVersionChange)?c("LSPlatformErrorChannel").emit(a):a instanceof d("ReStoreDecryptionFailure").ReStoreDecryptionFailure?c("LSPlatformErrorChannel").emit(a):a instanceof d("ReStoreEARSetupFailure").ReStoreEARSetupFailure?c("LSPlatformErrorChannel").emit(a):a instanceof d("ReStoreUnexpectedlyClosed").ReStoreUnexpectedlyClosed&&b("cr:4440")!=null?(b("cr:4440")==null?void 0:b("cr:4440").releaseIfExist(),c("LSPlatformErrorChannel").emit(a)):a instanceof c("ReStoreIndexedDbFailToOpenEvent")&&b("cr:4440")!=null&&(b("cr:4440")==null?void 0:b("cr:4440").releaseIfExist())}}var n=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("MessengerLogHistory").getInstance("db_init");c("promiseDone")(d("MultipleTabsLogger").getMultipleTabsAnnotation().then(function(b){a.debug("Has multiple tabs: "+b),d("MultipleTabsLogger").addAnnotationToQPLEvent(c("qpl")._(25305590,"1127"))}));a.debug("====Creating DB====");d("LSPlatformLsInitLog").addPoint("vaulting_setup_start");b("cr:4489")!=null&&b("cr:665")!=null&&(a.debug("Vaulting setup started"),b("cr:665").setupMainWaLogger(),yield d("UserTimingUtils").asyncMeasure("Setup Vaulting Materials",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield b("cr:4489").setupVaultMaterials()})),a.debug("Vaulting setup finished"));d("LSPlatformLsInitLog").addPoint("vaulting_setup_end");a.debug("Connecting to DB");var e=b("cr:8659")!=null?yield b("cr:8659")():yield b("cr:7471").createDB(m);a.debug("Connection established");yield e.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){var e=l||k==null?[(i||(i=b("Promise"))).resolve(),(i||(i=b("Promise"))).resolve()]:[k.call(c),d("MAWDropCutoverThreadsTable").call(c)],f=e[0];e=e[1];yield (i||(i=b("Promise"))).all([f,e]);d("LSPlatformLsInitLog").addPoint("success_maw_data_deletion");a.debug("Seeding DB");yield d("LSDefaultSyncGroups").seedDb(c,void 0);a.debug("DB seeded")});return function(a){return c.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":122");a.debug("====DB created====");return e});return function(){return a.apply(this,arguments)}}(),o;function a(){o==null&&(o=(h||(h=c("ExecutionEnvironment"))).isInBrowser?n():new(i||(i=b("Promise")))(function(){}));return o}g.get=a}),98);
__d("createReStoreEphemeralPersistence",["FBLogger","Promise","ReStorePersistence","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function a(a,e){var f=(h||(h=b("Promise"))).resolve(),g=new Map();function j(a){return i(g,a,function(){return new Map()})}return{flush:function(a){a.forEach(function(a,b){var c=j(b);a.forEach(function(a,b){d("ReStorePersistence").isDeletedValue(a)?c["delete"](b):c.set(b,a)})});return(h||(h=b("Promise"))).resolve()},get:function(a,b,c){a=j(b);return a.get(c)},logError:function(a,b,d,e){if(d==="dbCorruption"){throw c("FBLogger")("messenger_web_product").mustfixThrow("Got unexpected undefined in edb, mode: %s, table: %s, id: %s, deletedInThisTxn: %s",b,a,(d=e==null?void 0:e.id)!=null?d:"",(b=e==null?void 0:e.deletedInThisTxn)!=null?b:"")}},queueCommitWork:void 0,runExclusively:function(a){var c=e==null?void 0:e.startTracking(!1);c==null?void 0:c.addAnnotations({string:{source:"createReStoreEphemeralPersistence",type:"runExclusivelyPromiseChain"}});return new(h||(h=b("Promise")))(function(d,e){f=f.then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield a()),f=b[0];b[1];try{d(yield f()),c==null?void 0:c.end()}catch(a){e(a),c==null?void 0:c.fail()}}))["catch"](function(a){e(a)})})},shouldApplySync:function(){return!1},shouldInline:function(a,b){return!0},shouldSync:function(){return!1},types:["ephemeral"],uniqueId:a}}g["default"]=a}),98);
__d("createLSReStoreEphemeralPersistence",["LSReStoreQplLogger","MAWCurrentUser","createReStoreEphemeralPersistence","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MAWCurrentUser").getID();return c("createReStoreEphemeralPersistence")("LSEphemeral "+a,d("LSReStoreQplLogger").createQplLogger(c("qpl")._(25303045,"817")))}g.createLSReStoreEphemeralPersistence=a}),98);
__d("MWEncryptedBackupsFirstRestoreUpsellTime",["EBAPIWorkerCheck","FBLogger","WebStorage","getMWEncryptedBackupsIsLocalStorageSupported","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i="mw_encrypted_backups_restore_upsell_first_impression_time_key";function a(){var a=Date.now().toString();if(c("gkx")("3551")===!0&&d("EBAPIWorkerCheck").runningInWorker())return k(a);if(!d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported())return a;try{var b;b=(b=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:b.getItem(i);if(b==null){var e;(e=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:e.setItem(i,a);return a}return b}catch(b){c("FBLogger")("labyrinth_web").warn("[labyrinth][web] Failed to set EB session identifier due to %s",b);return a}}var j=null;function k(a){j==null&&(j=a);return j}g.getFirstRestoreUpsellTime=a;g.getFirstRestoreUpsellTimeForEBLS=k}),98);
__d("QPLMemoryUtils",["MemoryUtils","QPLUserFlow"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("MemoryUtils").getCurrentMemory();b=b.usedJSHeapSize;c("QPLUserFlow").addAnnotations(a,{"int":{usedJSHeapSizeStart:b}})}function b(a){var b=d("MemoryUtils").getCurrentMemory();b=b.usedJSHeapSize;c("QPLUserFlow").addAnnotations(a,{"int":{usedJSHeapSizeEnd:b}})}g.logMemoryForQPLStart=a;g.logMemoryForQPLEnd=b}),98);
__d("createReStoreEBSMTablesPersistence",["CurrentMessengerUser","EBSMHydrationUtils","EBSMProperties","ExecutionEnvironment","FBLogger","MAWEncryptedBackupsPersistedDB","MAWLSDBEncryption","MAWUnrecoverableDbErrors","MWEBODSCategory","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","MWEBUseLocalStorage","MWEncryptedBackupsFirstRestoreUpsellTime","MWEncryptedBackupsLocalStorageEntryEnum","ODS","Promise","QPLMemoryUtils","QPLUserFlow","Random","ReStorePersistence","ReStoreTabNotifier","WAExceededStorageQuota","WALoggerDeferred","WebSession","asyncToGeneratorRuntime","gkx","promiseFromRequest","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] An error occured in EBSM hydration when loading EB data"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] DB corruption detected - deleting EBSM db"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web][EB SM] EB SM tableName is "," is missing in ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] An error occured in flush. ",". Requested stores: ",""]);n=function(){return a};return a}e=d("CurrentMessengerUser").getIDorEIMU();var o=c("ReStoreTabNotifier")==null?void 0:c("ReStoreTabNotifier")("mwChat-"+e),p=c("gkx")("23665"),q=null,r=!1,s=!1;function t(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function a(a,e){a===void 0&&(a=!1);var f=(j||(j=b("Promise"))).resolve(),g=new Map();function u(a){return t(g,a,function(){return new Map()})}var v=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();c("QPLUserFlow").start(c("qpl")._(521481876,"1407"),{annotations:{string:{ebSessionIdentifier:v,sessionTabId:d("WebSession").getId()}}});(i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_HYDRATION,c("MWEBODSEntityKey.enum").START);d("QPLMemoryUtils").logMemoryForQPLStart(c("qpl")._(521481876,"1407"));function w(){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield e);if(a==null)return;a=d("EBSMHydrationUtils").loadEBdataToEphemeralRestore(a);return a.then(function(a){a.forEach(function(a,b){var c=u(b);a.forEach(function(a,b){c.set(b.key,b.value)})}),d("QPLMemoryUtils").logMemoryForQPLEnd(c("qpl")._(521481876,"1407")),c("QPLUserFlow").endSuccess(c("qpl")._(521481876,"1407")),(i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_HYDRATION,c("MWEBODSEntityKey.enum").SUCCESS)},function(){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_FAILED"),void d("WALoggerDeferred").ERROR(k()),c("QPLUserFlow").endFailure(c("qpl")._(521481876,"1407"),"Hydration failed."),(i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_HYDRATION,c("MWEBODSEntityKey.enum").FAIL)})});return x.apply(this,arguments)}q=w();o==null?void 0:o.onEventReceive("flushChangesV2",function(a){var b=a.changeSet,c=a.sentinelDeleted;b.forEach(function(a,b){var e=u(b);a.forEach(function(a,b){d("ReStorePersistence").isDeletedValue(a,c)?e["delete"](b):e.set(b,a)})})});return{flush:function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(f){if(f.size===0)return;f.size>0&&f.forEach(function(a,b){a.size===0&&f["delete"](b)});if(f.size>0){f.forEach(function(a,b){var c=u(b);a.forEach(function(a,b){d("ReStorePersistence").isDeletedValue(a,d("ReStorePersistence").sentinelDeleted)?c["delete"](b):c.set(b,a)})});o==null?void 0:o.postMessage("flushChangesV2",{changeSet:f,fromVersion:"",sentinelDeleted:d("ReStorePersistence").sentinelDeleted,version:""});if(a)return;var g=d("Random").uint32(),h=Array.from(f.keys());c("QPLUserFlow").start(c("qpl")._(521485383,"2200"),{annotations:{bool:{ebsmv2:!0},string_array:{tables:h}},instanceKey:g});yield q;var i=(yield e);if(i==null)return;var k=i.transaction(i.objectStoreNames,"readwrite",{durability:"relaxed"});d("WAExceededStorageQuota").listenToQuotaExceededError(k);h=new window.Promise(function(a,e){k.oncomplete=function(b){c("QPLUserFlow").endSuccess(c("qpl")._(521485383,"2200"),{instanceKey:g}),a(b.target.result)},k.onerror=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,h=Array.from(f).map(function(a){a=a[0];return a}).join(", ");yield d("WALoggerDeferred").ERROR(n(),a==null?void 0:(b=a.target)==null?void 0:b.error,h);c("QPLUserFlow").endFailure(c("qpl")._(521485383,"2200"),a==null?void 0:(b=a.target)==null?void 0:b.error,{instanceKey:g});e(a)});return function(b){return a.apply(this,arguments)}}()});yield (j||(j=b("Promise"))).all(Array.from(f).map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a[0];a=a[1];if(e!=null&&i.objectStoreNames.contains(e)){var f=k.objectStore(e);yield (j||(j=b("Promise"))).all(Array.from(a).map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a[0];a=a[1];if(d("ReStorePersistence").isDeletedValue(a))yield c("promiseFromRequest")(f["delete"](b));else{a=d("MAWLSDBEncryption").encryptLSDBObj(a,e);yield c("promiseFromRequest")(f.put(a,b))}});return function(b){return a.apply(this,arguments)}}()))}else void d("WALoggerDeferred").ERROR(m(),e,Array.from(i.objectStoreNames).toString())});return function(b){return a.apply(this,arguments)}}()));yield h}});function g(a){return f.apply(this,arguments)}return g}(),get:function(a,c,d){var e=u(c);if(r)return e.get(d);return q==null?(j||(j=b("Promise"))).reject("rehydration is not complete"):q.then(function(){r=!0;return e.get(d)})},logError:function(a,b,e,f){if(e==="dbCorruption"){var g;e=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();void d("WALoggerDeferred").ERROR(l());f="Got unexpected undefined in ebsm, mode: "+b+", table: "+a+", id: "+((g=f==null?void 0:f.id)!=null?g:"")+", deletedInThisTxn: "+((g=f==null?void 0:f.deletedInThisTxn)!=null?g:"")+". Deleting EBSM db";c("FBLogger")("labyrinth_web").mustfix(f);d("MAWUnrecoverableDbErrors").setError(new(d("MAWUnrecoverableDbErrors").EbsmHydrationError)(f));var h=c("EBSMProperties").mandatoryTables.has(a)||!p;s||(s=!0,d("MWEBUseLocalStorage").mwEBCreateLocalStorageEntry(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE,h?"full":"partial"));g={bool:{fullDeletion:h},string:{mode:b,restoreUpsellTime:e,tableName:a}};d("EBSMHydrationUtils").withQPLAndRefresh(function(a){if(h)return d("MAWEncryptedBackupsPersistedDB").deleteEBIDB();else return d("MAWEncryptedBackupsPersistedDB").clearEBSMTable(a)},a,g)}},queueCommitWork:void 0,runExclusively:function(a){return new(j||(j=b("Promise")))(function(c,d){f=f.then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield a()),e=b[0];b[1];try{c(yield e())}catch(a){d(a)}}))})},shouldApplySync:function(){return!1},shouldInline:function(a,b){return!1},shouldSync:function(a,b){return a==="notifyInMemoryTable"?!1:!0},tabTablesNotifier:function(){return(h||(h=c("ExecutionEnvironment"))).isInBrowser?o:void 0},types:["ephemeral"],uniqueId:""}}g["default"]=a}),98);
__d("createReStoreTableNameAllowListPersistence",["Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c,d){var e;return{clearCache:function(){a.clearCache==null?void 0:a.clearCache(),c.clearCache==null?void 0:c.clearCache()},close:function(){a.close==null?void 0:a.close(),c.close==null?void 0:c.close()},flush:function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e,f){var h=new Map(),i=new Map();e.forEach(function(a,b){d.has(b)?i.set(b,a):h.set(b,a)});yield (g||(g=b("Promise"))).all([a.flush(h,f),c.flush(i,f)])});function f(a,b){return e.apply(this,arguments)}return f}(),get:function(b,e,f,g){return d.has(e)?c.get(b,e,f,g):a.get(b,e,f,g)},isClosed:function(){return(a.isClosed==null?void 0:a.isClosed())||!1},isPersistenceSupported:a.isPersistenceSupported,logError:function(b,e,f,g){d.has(b)?c.logError==null?void 0:c.logError(b,e,f,g):a.logError==null?void 0:a.logError(b,e,f,g)},runExclusively:function(d,e){return a.runExclusively(function(){return new(g||(g=b("Promise")))(function(a,f){var h=c.runExclusively(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var c=(yield d()),e=c[0],f=c[1],i=new(g||(g=b("Promise")))(function(b){a([function(){b();return h},f])});return[b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield i;return e()}),f]}),e);h["catch"](f)})},e)},shouldApplySync:function(b,e){if(d.has(e))return c.shouldApplySync(b,e);else return a.shouldApplySync(b,e)},shouldInline:function(b,e){return d.has(b)?c.shouldInline(b,e):a.shouldInline(b,e)},shouldSync:function(b,e){if(d.has(e))return c.shouldSync(b,e);else return a.shouldSync(b,e)},tabTablesNotifier:(e=a.tabTablesNotifier)!=null?e:c.tabTablesNotifier,types:[].concat(a.types,c.types),uniqueId:c.uniqueId+a.uniqueId}}f["default"]=a}),66);
__d("LSJSEBInMemoryStorage",["EBSMProperties","createLSReStoreEphemeralPersistence","createReStoreEBSMTablesPersistence","createReStoreTableNameAllowListPersistence"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b=!1);b=c("createReStoreTableNameAllowListPersistence")(d("createLSReStoreEphemeralPersistence").createLSReStoreEphemeralPersistence(),c("createReStoreEBSMTablesPersistence")(b,a),c("EBSMProperties").persistedTables);return b}g.makeReStorePersistence=a}),98);
__d("MAWLSVaultingHooks",["ReStoreVaulting"],(function(a,b,c,d,e,f,g){"use strict";a={onAfterEntriesNext:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeVaultDbRow(a,b)},onAfterGet:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeVaultDbRow(a,b)},onBeforeAdd:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)},onBeforeNotify:function(a){var b=a.newValue,c=a.prevValue;a=a.tableName;return{newValue:d("ReStoreVaulting").maybeVaultDbRow(b,a),prevValue:d("ReStoreVaulting").maybeVaultDbRow(c,a)}},onBeforePut:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)},onBeforeUpsert:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)}};g["default"]=a}),98);
__d("LSJSInMemoryStorage",["LSPlatformLsInitLog","LSReStoreWrapper","MAWLSVaultingHooks","createLSReStoreEphemeralPersistence"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("LSReStoreWrapper").createLSReStore(d("createLSReStoreEphemeralPersistence").createLSReStoreEphemeralPersistence(),a,[c("MAWLSVaultingHooks")],void 0,d("LSPlatformLsInitLog").lsInitLogger)}g["default"]=a}),98);
__d("MAWBridgeDropAllSecureThreadsHandler",["I64","LSIntEnum","LSMessagingThreadTypeUtil","Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){var c=d("ReQL").fromTableAscending(a.threads_ranges_v2__generated).filter(function(a){return(i||(i=d("I64"))).equal(a.parentThreadKey,(j||(j=d("LSIntEnum"))).ofNumber(-1))||(i||(i=d("I64"))).equal(a.parentThreadKey,(j||(j=d("LSIntEnum"))).ofNumber(-10))});return d("ReQL").toArrayAsync(c).then(function(c){return c.reduce(function(b,c){return b.then(function(){return a.threads_ranges_v2__generated["delete"](c.parentThreadKey,c.minThreadKey,c.minLastActivityTimestampMs)})},(h||(h=b("Promise"))).resolve())})}function l(a){var c=d("ReQL").fromTableAscending(a.threads).filter(function(a){return d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)});return d("ReQL").toArrayAsync(c).then(function(c){return c.reduce(function(b,c){return b.then(function(){return a.threads["delete"](c.threadKey)})},(h||(h=b("Promise"))).resolve())})}function a(a){return(h||(h=b("Promise"))).all([k(a),l(a)]).then(function(){return(h||(h=b("Promise"))).resolve()})}g.call=a}),98);
__d("ServerJsRuntimeEnvironment",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a,b){i==null||h(0,71696),i={platform:a,executionContext:b}}function b(){return i!=null}function c(){var a;return(a=i)==null?void 0:a.executionContext}function d(){var a;return(a=i)==null?void 0:a.platform}g.init=a;g.isRunningServerJsRuntime=b;g.getExecutionContext=c;g.getPlatform=d}),98);
__d("MAWMainThreadLogger",["CurrentMessengerUser","FBLogger","MAWAppVersion","MAWConsoleLogger","MAWDeleteOldLogsFromDisk","MAWLeakDetection","MAWLoggingSwitches","MAWSaveLogToDisk","Promise","ServerJsRuntimeEnvironment","WADevToolsBridge","WAJids","WATagsLogger","asyncToGeneratorRuntime","err","getErrorSafe","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!1;function a(){i=!1}function e(){i||(i=!0,d("WATagsLogger").initializeWaLogger(u))}var j=function(){return c("FBLogger")("messenger_e2ee_web")};function k(a,b){return b.length>0?d("MAWSaveLogToDisk").joinTags(b)+" "+a:a}function l(a,b,e){if(d("ServerJsRuntimeEnvironment").isRunningServerJsRuntime())return;var f=Date.now();c("gkx")("3282")&&d("WADevToolsBridge").getDevToolBridge().fireAndForget("devtool","logLine",{logLevel:a,logString:k(b,e)},!0);if(!d("MAWLoggingSwitches").removeLoggingFromBridge)return;b=b.replace(/\n/g," ");if(a==="debug"||typeof b!=="string")return;d("MAWSaveLogToDisk").saveLogEntry("browser",{args:b,date:f,event:d("MAWSaveLogToDisk").joinTags(e,"[unknown]"),level:a})}function m(a,b){a=n(a);a!=null&&l("log",a,b)}function n(a){if(!d("CurrentMessengerUser").isEmployee()&&!d("CurrentMessengerUser").isTestUser())return;a=d("WAJids").maybeSanitizeLogLineText(a);a=d("MAWLeakDetection").maybeReplaceVaultedString(a);return a}function o(a,b){a=d("WAJids").maybeSanitizeLogLineText(a);a=d("MAWLeakDetection").maybeReplaceVaultedString(a);l("log",a,b)}function p(a,b){a=d("WAJids").maybeSanitizeLogLineText(a);a=d("MAWLeakDetection").maybeReplaceVaultedString(a);l("warn",a,b)}function f(a,b,d,e,f,g){d=c("err")(d);d.stack=e;c("promiseDone")(s(a,b,d,f,g))}function q(a,b,c){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){a=d("MAWLeakDetection").maybeReplaceVaultedString(d("WAJids").maybeSanitizeLogLineText(a));c=d("MAWLeakDetection").maybeReplaceVaultedString(d("WAJids").maybeSanitizeLogLineText(c));var f=d("MAWLoggingSwitches").removeLoggingFromBridge?d("MAWSaveLogToDisk").getLastNEntries(e):(h||(h=b("Promise"))).resolve([]);e=e===0?[]:[].concat((yield f).map(function(a){return a.args}));return{errorLogString:c+" [Caught in "+a+"]",logs:[a].concat(e),sanitizedMessage:c}});return r.apply(this,arguments)}function s(a,b,c,d,e){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){a=(yield q(k(a,b),e.message,g));g=a.errorLogString;var h=a.logs;a=a.sanitizedMessage;var i=c("getErrorSafe")(e);try{e.message=a}catch(b){i=c("err")(a,e.fileName,e.lineNumber)}f!==0&&(i.framesToPop=f);(a=j())==null?void 0:(e=a.addMetadata("MESSENGER_E2EE_WEB","APP_VERSION",d("MAWAppVersion").getVersionNumber()).catching(i)).mustfix.apply(e,h);l("error",g,b)});return t.apply(this,arguments)}var u={debug:function(a,b){d("MAWConsoleLogger").logToConsole("log",a,b)},devConsole:function(a,b,c){for(var e=arguments.length,f=new Array(e>3?e-3:0),g=3;g<e;g++)f[g-3]=arguments[g];switch(a){case"DEV":d("MAWConsoleLogger").logToConsole.apply(void 0,["log",b,c].concat(f));break;case"DEV_XMPP":d("MAWConsoleLogger").logToConsole.apply(void 0,["log",b,c].concat(f));break;case"LOG":d("MAWConsoleLogger").logToConsole.apply(void 0,["info",b,c].concat(f));break;case"WARN":d("MAWConsoleLogger").logToConsole.apply(void 0,["warn",b,c].concat(f));break;case"ERROR":d("MAWConsoleLogger").logToConsole.apply(void 0,["error",b,c].concat(f));break;case"CATCHING":d("MAWConsoleLogger").logToConsole.apply(void 0,["error",b,c].concat(f));break}},error:function(a,b,e){a=d("MAWLeakDetection").maybeReplaceVaultedString(d("WAJids").maybeSanitizeLogLineText(a));e?c("promiseDone")(s(a,b,e,0,0)):c("promiseDone")(s(a,b,c("err")(a),2,0));d("MAWConsoleLogger").logToConsole("error",a,b)},info:function(a,b){o(a,b),d("MAWConsoleLogger").logToConsole("info",a,b)},logRestricted:function(a,b){m(a,b),d("MAWConsoleLogger").logToConsole("log",a,b)},warn:function(a,b){p(a,b),d("MAWConsoleLogger").logToConsole("warn",a,b)}};function v(){return!d("MAWLoggingSwitches").removeLoggingFromBridge?(h||(h=b("Promise"))).resolve([]):d("MAWSaveLogToDisk").getEntries()}function w(){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!d("MAWLoggingSwitches").removeLoggingFromBridge)return;yield d("MAWDeleteOldLogsFromDisk").clearLogs()});return x.apply(this,arguments)}function y(a){return new Date(typeof a==="string"?parseInt(a,10):a).toISOString().replace("T"," ").replace("Z","")}function z(a){return a.map(function(a){try{var b=y(a.date);return[b,a.level,a.category,a.event,a.args].join(" | ")}catch(a){return[y(Date.now()),"error","LOGGER","Error formatting log: "+((a==null?void 0:a.message)||"")].join(" | ")}}).filter(Boolean).join("\n")}g.__testClearLoggerSetup=a;g.setupMainWaLogger=e;g.logToHistory=l;g.logRestricted=m;g.info=o;g.warn=p;g.logError=f;g.getEntries=v;g.clearEntries=w;g.formatEntries=z}),98);
__d("MWChatOpenTabForGroupCallback",["I64","LSDatabaseSingleton","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","LSMessagingThreadTypeUtil","Promise","ReQL","promiseDone","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function a(a){var e=(i||(i=d("I64"))).of_string(a);c("promiseDone")((k||(k=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(a){return a.runInTransaction(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.threads).getKeyRange(e)).then(function(f){if(f!=null)if(d("LSMessagingThreadTypeUtil").isArmadilloSecure(f.threadType)){c("recoverableViolation")("Preloading secure thread not implemented yet","messenger_web_entrypoints");return(h||(h=b("Promise"))).resolve()}else return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.messages_ranges_v2__generated).getKeyRange(e)).then(function(b){if(b!=null&&b.minMessageId===b.maxMessageId)return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:b.minTimestampMs,threadKey:e})});else return(h||(h=b("Promise"))).resolve()})},"readwrite",void 0,void 0,f.id+":27")}))}g.call=a}),98);
__d("MWConditionallySetupEBStateDB",["asyncToGeneratorRuntime","cr:6693","cr:8233"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a===void 0&&(a=!1);if(b("cr:6693")!=null){b("cr:8233")==null?void 0:b("cr:8233").setupMainWaLogger();a=(yield b("cr:6693").makeEBStateDB(a));return a}});return h.apply(this,arguments)}g.conditionallyMakeEBStateDB=a}),98);
__d("MWLSSchemaEphemeral",["FBLogger","LSJSInMemoryStorage","LSMetadata","LSPlatformLsInitLog","LSReStoreWrapper","MAWLSVaultingHooks","MWConditionallySetupEBStateDB","MessengerLogHistory","asyncToGeneratorRuntime","cr:8624"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MessengerLogHistory").getInstance("db_init");function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("LSPlatformLsInitLog").addPoint("init_start");var e;try{a=(yield d("MWConditionallySetupEBStateDB").conditionallyMakeEBStateDB());a!=null&&(h.debug("Creating EB State DB"),e=d("LSReStoreWrapper").createLSReStore(a,d("LSMetadata").schema,[c("MAWLSVaultingHooks")],void 0,d("LSPlatformLsInitLog").lsInitLogger),yield b("cr:8624")==null?void 0:b("cr:8624")(e),h.debug("EB State DB inited"))}catch(a){c("FBLogger")("messenger_web_clients").catching(a).mustfix("EBSM failed")}e==null&&(h.debug("Creating EDB"),e=c("LSJSInMemoryStorage")(d("LSMetadata").schema),h.debug("EDB inited"));d("LSPlatformLsInitLog").addPoint("init_end");return e});return i.apply(this,arguments)}g.createDB=a}),98);
__d("MWSetupEBStateDB",["EARInitType","FBLogger","LSJSEBInMemoryStorage","MAWEncryptedBackupsPersistedDB","MWEncryptedBackupsFirstRestoreUpsellTime","MWSetupDBEncryption","QPLUserFlow","WebSession","asyncToGeneratorRuntime","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a===void 0&&(a=!1);var b=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();c("QPLUserFlow").start(c("qpl")._(521477507,"1406"),{annotations:{string:{ebSessionIdentifier:b,sessionTabId:d("WebSession").getId()}}});var e;b=(yield d("MWSetupDBEncryption").init(c("EARInitType").EB_INIT));if(b.success){var f=d("MAWEncryptedBackupsPersistedDB").makeEBIDB(a)["catch"](function(a){c("QPLUserFlow").endFailure(c("qpl")._(521477507,"1406"),"Initialisation failed. Idb is null");c("FBLogger")("labyrinth_web").catching(a).warn("[labyrinth_web] EB State IDB initialization failed. Falling back to In memory ReStore db");return null});e=d("LSJSEBInMemoryStorage").makeReStorePersistence(f,a);c("QPLUserFlow").endSuccess(c("qpl")._(521477507,"1406"))}else{c("QPLUserFlow").endFailure(c("qpl")._(521477507,"1406"),b.error.toString(),{annotations:{string:{errorDescription:((f=b.payload)==null?void 0:f.message)||""}}});c("FBLogger")("labyrinth_web").warn("[labyrinth_web] Encryption DB init failed. Falling back to In memory ReStore db")}return e});return h.apply(this,arguments)}g.makeEBStateDB=a}),98);/*FB_PKG_DELIM*/
__d("LSDeleteThenInsertMessageRequest",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(34).put({threadKey:a[0],messageRequestStatus:a[2]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteThenInsertMessageRequestStoredProcedure";e.exports=a}),null);
__d("LSDeleteThenInsertThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(9).fetch([[[a[7]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[29],parentThreadKey:a[35],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetText:a[20],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:a[56],isDisappearingMode:a[57],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],joinRequestApprovalSetting:a[72],pendingJoinRequestsCount:a[73],eventStartTimestampMs:a[74],eventEndTimestampMs:a[75],takedownState:a[76],memberCount:a[77],admodCount:a[78],secondaryParentThreadKey:a[79],igFolder:a[80],inviterId:a[81],threadTags:a[82],threadStatus:a[83],threadSubtype:a[84],pauseThreadTimestamp:a[85],metadata:a[86]}):(e=d.item,c[1]=e.lastActivityTimestampMs,c[3]=e.parentThreadKey,c[2]=e.disappearingThreadKey,c[4]=e.isDisappearingMode,b.i64.le(e.authorityLevel,a[6])?b.i64.gt(c[1],a[0])&&b.i64.neq(c[2],void 0)?(b.i64.eq(a[35],b.i64.cast([-1,4294967286]))&&b.i64.eq(c[3],b.i64.cast([0,0]))?(f=[c[3],e.folderName],c[5]=f[0],c[6]=f[1],f):(d=[a[35],a[10]],c[5]=d[0],c[6]=d[1],d),b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:e.lastReadWatermarkTimestampMs,authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:c[6],ongoingCallState:a[29],parentThreadKey:c[5],lastActivityTimestampMs:c[1],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetText:a[20],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],joinRequestApprovalSetting:a[72],pendingJoinRequestsCount:a[73],eventStartTimestampMs:a[74],eventEndTimestampMs:a[75],takedownState:a[76],memberCount:a[77],admodCount:a[78],secondaryParentThreadKey:a[79],igFolder:a[80],inviterId:a[81],threadTags:a[82],threadStatus:a[83],threadSubtype:a[84],pauseThreadTimestamp:a[85],metadata:a[86]})):b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[29],parentThreadKey:a[35],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetText:a[20],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],joinRequestApprovalSetting:a[72],pendingJoinRequestsCount:a[73],eventStartTimestampMs:a[74],eventEndTimestampMs:a[75],takedownState:a[76],memberCount:a[77],admodCount:a[78],secondaryParentThreadKey:a[79],igFolder:a[80],inviterId:a[81],threadTags:a[82],threadStatus:a[83],threadSubtype:a[84],pauseThreadTimestamp:a[85],metadata:a[86]}):b.resolve())})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxDeleteThenInsertThreadStoredProcedure";e.exports=a}),null);
__d("LSJson",["FBLogger","I64","LSDict","LSVec","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=512,j={useLSTypes:!1};function a(a,b){b=b===void 0?j:b;var e=b.useLSTypes;function f(a,b){return function(){return function(c){c=a()(c);if(c!=null){var d=c[0];c=c[1];return[b(d),c]}}}}function g(a){return JSON.parse('"'+a+'"')}function i(a){return function(){return function(b){var c=g(a);if(b.startsWith(c))return[c,b.substr(c.length)];else return void 0}}}function k(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(){return function(a){var c=[];a=a;for(var d=0;d<b.length;d++){var e=b[d];e=e()(a);if(e==null)return void 0;a=e[1];c.push(e[0])}return[c,a]}}}function l(a){return function(){return function(b){var c=a.exec(b);return c!=null?[c,b.substr(c[0].length)]:void 0}}}function m(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(){return function(a){for(var c=0;c<b.length;c++){var d=b[c];d=d()(a);if(d!=null)return d}}}}function n(a){return function(){return function(b){var c=a()(b);return c!=null?c:[void 0,b]}}}function o(a){return function(){return function(b){var c=a()(b),d=[];b=b;while(c!=null)b=c[1],d.push(c[0]),c=a()(b);return[d,b]}}}b=l(/^[\n\r\s]*/);var p=f(l(/^\"((?:[^\"\\]|\\.)*)\"/),function(a){a=a[1];return g(a)}),q=f(l(/^-?\d+(?:(?:\.\d+)?[eE][-\+]?\d+|\.\d+)/),function(a){a=a[0];return Number(a)});l=f(l(/^-?\d+/),function(a){a=a[0];return(h||(h=d("I64"))).of_string(a)});var r=f(i("null"),function(a){return null}),s=f(i("true"),function(a){return!0}),t=f(i("false"),function(a){return!1}),u=f(k(b,p,b,i(":"),function(){return v()}),function(a){var b=a[1];a=a[4];return[b,a]});u=f(k(u,o(k(b,i(","),u))),function(a){var b=a[0];a=a[1];return[b].concat(a.map(function(a){a=a[2];return a}))});u=f(k(i("{"),n(u),b,i("}")),function(a){a=a[1];a=a===void 0?[]:a;return e?new(c("LSDict"))(a):Object.fromEntries(a)});o=f(k(function(){return v()},o(k(b,i(","),function(){return v()}))),function(a){var b=a[0];a=a[1];return[b].concat(a.map(function(a){a=a[2];return a}))});n=f(k(i("["),b,n(o),b,i("]")),function(a){a=a[2];a=a===void 0?[]:a;return e?c("LSVec").ofArray(a):a});var v=f(k(b,m(u,p,q,l,n,r,s,t),b),function(a){a=a[1];return a});o=v()(a);if(o==null)throw c("unrecoverableViolation")("error parsing string","messenger_web_product");if(o[1]!=="")throw c("unrecoverableViolation")("unexpected "+o[1],"messenger_web_product");return o[0]}function k(a,b,e){b===void 0&&(b=0);e===void 0&&(e="");if(b>i)throw c("unrecoverableViolation")("recursion limit exceeded","messenger_comet");if(typeof a==="string"||typeof a==="number")return JSON.stringify(a);else if(typeof a==="boolean")return a?"1":"0";else if(a==null)return"null";else if(typeof a==="object")if(Array.isArray(a)){if(a.tag==="ls-array")return"["+a.map(function(a,c){return k(a,b+1,e+"/"+c.toString())}).join(",")+"]";a._tag!=="i64"&&c("FBLogger")("messenger_web_product").warn("LSJson payload contains untagged i64: %s",e);return(h||(h=d("I64"))).to_string(a)}else if(a instanceof c("LSDict"))return"{"+Array.from(a.entries()).map(function(a){var d=a[0];a=a[1];if(typeof d==="string")return JSON.stringify(d)+":"+k(a,b+1,e+"/"+d);else throw c("unrecoverableViolation")("key must be a string","messenger_comet")}).join(",")+"}";throw c("unrecoverableViolation")("type not supported: "+(a===null?"null":typeof a)+", path: "+e,"messenger_comet")}g.parse=a;g.stringify=k}),98);
__d("LSDeserializeFromJsonIntoDictionaryV2.nop",["LSDict","LSJson","Promise","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e,f){a=d("LSJson").parse(f,{useLSTypes:!0});if(a instanceof c("LSDict"))return(h||(h=b("Promise"))).resolve([a]);throw c("unrecoverableViolation")("unexpected Dictionary type","messenger_web_product")};g["default"]=a}),98);
__d("LSGetCursor",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(1).fetch([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[0]=void 0:(b=a.item,c[0]=b.currentCursor)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreGetCursorStoredProcedure";e.exports=a}),null);
__d("LSGetViewerFBID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(a){return b.sequence([function(a){return b.db.table(4).fetch([[[b.i64.cast([0,1])]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=b.i64.cast([-1,4294967295]):(d=a.item,c[0]=d.facebookUserId)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreGetViewerFBIDStoredProcedure";e.exports=a}),null);
__d("LSIssueNewTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.db.table(2).add({taskId:void 0,queueName:a[0],context:b.i64.to_string(a[1]),taskValue:a[2],enqueueTimestampMs:c[0],httpUrlOverride:a[3],timeoutTimestampMs:a[4],pluginType:a[5],priority:a[6],syncGroupId:a[7],transportKey:a[8],minTimeToSyncTimestampMs:a[9]})},function(d){return b.filter(b.db.table(2).fetchDesc([[[a[0]]],"queueNameTaskId"]),function(c){return c.queueName===a[0]&&c.context===b.i64.to_string(a[1])&&c.taskValue===a[2]}).next().then(function(a,d){var e=a.done;a=a.value;return e?c[1]=b.i64.cast([-1,4294967295]):(d=a.item,c[1]=d.taskId)})},function(a){return function(a){b.logger(a).info(a)}(["LightSpeed NewTask"," ",b.i64.to_string(c[1])].join(""))}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreIssueNewTaskStoredProcedure";e.exports=a}),null);
__d("LSIssueMessagesRangeQuery",["LSGetCursor","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[2]=c.i64.eq(a[2],c.i64.cast([-1,4294967295]))?c.i64.cast([0,0]):a[2],c.islc(c.filter(c.db.table(13).fetchDesc([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&(c.i64.eq(b.minTimestampMs,void 0)||c.i64.le(b.minTimestampMs,a[1]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?d[0]=!1:(f=e.item,c.sequence([function(e){return d[5]=f.threadKey,d[6]=c.i64.cast([0,0]),d[7]=f.minTimestampMs,d[8]=f.minMessageId,c.i64.eq(d[2],c.i64.cast([0,1]))?d[3]=!f.isLoadingAfter:d[3]=!f.isLoadingBefore,d[3]?c.sequence([function(e){return c.i64.eq(d[2],c.i64.cast([0,1]))?d[9]=f.hasMoreAfter:d[9]=f.hasMoreBefore,d[9]?c.sequence([function(a){return c.i64.eq(d[2],c.i64.cast([0,1]))?c.sequence([function(a){return c.forEach(c.filter(c.db.table(13).fetch([[[d[5],d[7],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[5])&&c.i64.eq(c.i64.cast([0,0]),d[6])&&c.i64.eq(a.minTimestampMs,d[7])&&a.minMessageId===d[8]}),function(a){var b=a.update;a.item;return b({isLoadingAfter:!0})})},function(a){return a=[f.maxTimestampMs,f.maxMessageId],d[10]=a[0],d[11]=a[1],a}]):c.sequence([function(a){return c.forEach(c.filter(c.db.table(13).fetch([[[d[5],d[7],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[5])&&c.i64.eq(c.i64.cast([0,0]),d[6])&&c.i64.eq(a.minTimestampMs,d[7])&&a.minMessageId===d[8]}),function(a){var b=a.update;a.item;return b({isLoadingBefore:!0})})},function(a){return a=[d[7],d[8]],d[10]=a[0],d[11]=a[1],a}])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[12]=c.i64.cast([0,1]):(e=b.item,d[19]=e.syncGroup,c.i64.neq(d[19],void 0)?d[18]=d[19]:d[18]=c.i64.cast([0,1]),d[12]=d[18])})},function(a){return c.storedProcedure(b("LSGetCursor"),d[12]).then(function(a){return a=a,d[14]=a[0],a})},function(e){return d[15]=new c.Map(),d[15].set("thread_key",a[0]),d[15].set("direction",d[2]),d[15].set("reference_timestamp_ms",d[10]),d[15].set("reference_message_id",d[11]),d[15].set("sync_group",d[12]),d[15].set("cursor",d[14]),d[16]=d[15].get("thread_key"),d[15],d[17]=c.toJSON(d[15]),c.storedProcedure(b("LSIssueNewTask"),"mrq.{}".split("{}").join(c.i64.to_string(d[16])),c.i64.cast([0,228]),d[17],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):c.resolve()},function(a){return d[4]=!0}]):c.resolve(d[4]=!1)},function(a){return d[0]=d[4]}]))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxIssueMessagesRangeQueryStoredProcedure";e.exports=a}),null);
__d("LSIssueMessagesRangeQueryStoredProcedure",["LSIssueMessagesRangeQuery","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.referenceTimestampMs;d[2]=b.direction;return c("LSIssueMessagesRangeQuery").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSIssueNewTaskAndGetTaskID",["LSIssueNewTask","LSLogEventAnnotate.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(d){return c.storedProcedure(b("LSIssueNewTask"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10])},function(b){return d[3]=c.i64.to_string(a[1]),c.filter(c.db.table(2).fetchDesc([[[a[0]]],"queueNameTaskId"]),function(b){return b.queueName===a[0]&&b.context===d[3]&&b.taskValue===a[2]}).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([-1,4294967295]):(b=a.item,d[0]=b.taskId)})},function(e){return d[2]=new c.Map(),d[2].set("task_id",d[0]),d[2].set("task_queue_name",a[0]),d[2].set("task_label",d[3]),c.nativeOperation(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,23]),c.i64.cast([0,0]),d[2])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSCoreIssueNewTaskAndGetTaskIDStoredProcedure";e.exports=a}),null);
__d("LSMailboxMessagesRangeQueryDirection",[],(function(a,b,c,d,e,f){a=Object.freeze({BEFORE_LEGACY:-1,BEFORE:0,AFTER:1});f["default"]=a}),66);
__d("LSMailboxType",[],(function(a,b,c,d,e,f){a=Object.freeze({MESSENGER:0,COMMUNITIES:1,TINCAN:1024,TAM:4096});f["default"]=a}),66);
__d("LSResult",[],(function(a,b,c,d,e,f){"use strict";function a(a){return[a]}f["default"]=a}),66);
__d("LSSetRegionHint",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(1).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({regionHint:a[1]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreSetRegionHintStoredProcedure";e.exports=a}),null);
__d("LSUpsertSequenceId",["LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.db.table(25).put({id:d[0],lastAppliedMailboxSequenceId:a[0]})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxUpsertSequenceIdStoredProcedure";e.exports=a}),null);
__d("LSVerifyContactRowExists",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(e){var f=e.done;e.value;return f?c.sequence([function(b){return d[0]=a[3]==null?"":a[3],c.forEach(c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))&&c.i64.lt(b.authorityLevel,a[14])}),function(a){return a["delete"]()})},function(b){return c.db.table(7).add({id:a[0],profilePictureUrl:a[2]==null?"":a[2],profilePictureFallbackUrl:a[5],name:d[0],secondaryName:a[20],normalizedNameForSearch:d[0],isMemorialized:a[9],blockedByViewerStatus:a[11],canViewerMessage:a[12],profilePictureLargeUrl:"",isMessengerUser:!0,rank:0,contactType:a[4],contactTypeExact:c.i64.cast([0,0]),requiresMultiway:!1,authorityLevel:a[14],workForeignEntityType:c.i64.cast([0,0]),capabilities:a[15],capabilities2:a[16],contactViewerRelationship:a[19],gender:a[18]})},function(e){return d[1]=new c.Map(),d[1].set("contact_id",a[0]),d[2]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),"cpq_v2",c.i64.cast([0,207]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):0})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSContactVerifyContactRowExistsStoredProcedure";e.exports=a}),null);
__d("MWEncryptedBackupsSharedState",["WebStorage","getMWEncryptedBackupsIsLocalStorageSupported","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b=a.db,c=a.stateKey;a=a.stateValue;var d=a===void 0?"true":a;return b.runInTransaction(function(a){return a.experiences_shared_state.upsert([c],{stateKey:c,stateValue:d})},"readwrite","background",void 0,f.id+":33")}function j(a){var b,e=a.db;a=a.stateKey;if(!d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported())return;b=(b=(h||(h=c("WebStorage"))).getLocalStorageForRead())==null?void 0:b.getItem(a);if(b!=null){var f;(f=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:f.removeItem(a);c("promiseDone")(i({db:e,stateKey:a,stateValue:b}))}return b}function a(a){var b=a.db,c=a.sharedStateTable,d=a.stateKey;a=c.filter(function(a){return a.stateKey===d});if(a.length===0){c=j({db:b,stateKey:d});return c!=null}return!0}function b(a){var b=a.db,c=a.sharedStateTable,d=a.stateKey;a=c.filter(function(a){return a.stateKey===d});c=a[0];return(c==null?void 0:c.stateValue)!=null?c.stateValue:j({db:b,stateKey:d})}function e(a){var b=a.db,c=a.sharedStateRow;a=a.stateKey;return c==null?j({db:b,stateKey:a}):c.stateValue}function k(a){var b=a.db,c=a.stateKey;return b.runInTransaction(function(a){return a.experiences_shared_state["delete"](c)},"readwrite","background",void 0,f.id+":127")}g.upsertEBSharedStateEntry=i;g.getEntryPresentInLocalStorage=j;g.getIsEntryPresentInSharedState=a;g.getEntryValueFromSharedState=b;g.getEntryValue=e;g.deleteEntry=k}),98);
__d("MWPreloadableQueries",["I64","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;b=function(a,b){return d("ReQL").fromTableAscending(a.tables.thread_nullstate).getKeyRange(b)};e=function(a,b){return d("ReQL").fromTableAscending(a.tables.thread_nullstate_ctas.index("threadKeyCtaId")).getKeyRange(b)};f=function(a,b){return d("ReQL").fromTableAscending(a.tables.cutover_threads).getKeyRange(b)};var i=function(a,b){return d("ReQL").fromTableDescending(a.tables.messages).getKeyRange(b).take(6)},j=function(a,b,e){return e.forEach(function(e){var f;c("promiseDone")((f=d("ReQL")).toArrayAsync(f.fromTableDescending(a.tables.reactions).getKeyRange(b,e.messageId)));c("promiseDone")(f.toArrayAsync(f.fromTableDescending(a.tables.reactions_v2).getKeyRange(b,e.messageId)));c("promiseDone")(f.toArrayAsync(f.fromTableDescending(a.tables.attachments).getKeyRange(b,e.messageId)))})},k=function(a,b){return d("ReQL").fromTableAscending(a.tables.community_folders).getKeyRange(b)},l=function(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.tables.threads).getKeyRange(b)).then(function(b){(b==null?void 0:b.parentThreadKey)!=null&&k(a,b.parentThreadKey)})},m=function(a,b){return d("ReQL").fromTableAscending(a.tables.thread_proactive_warning_settings).getKeyRange(b)},n=function(a,b){return d("ReQL").fromTableAscending(a.tables.in_thread_banner).getKeyRange(b)};function a(a,b){return d("ReQL").fromTableAscending(a.tables.media_staging).filter(function(a){return!a.isSent&&(h||(h=d("I64"))).equal(a.threadKey,b)})}g.threadNullStateQuery=b;g.threadNullStateCtaQuery=e;g.getCutoverThreadByThreadKey=f;g.getMostRecentMessagesInThread=i;g.getReactionsForMessages=j;g.getCommunityFolderQuery=k;g.getCommunityFolderForThreadParentQuery=l;g.getProactiveWarningsForThreadQuery=m;g.getThreadBannerQuery=n;g.getMediaStagingQuery=a}),98);
__d("applyChangesToBPlusTree",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var c=!1;for(var e=0;e<b.length;e++){var f=b[e],g=f[0];f=f[1];switch(f.operation){case"delete":a["delete"](g);break;case"put":var i=a.getWithDefault(g,void 0);if(i===f.value)continue;i=(h||(h=d("I64"))).cast(i);if(i!=null){var j=(h||(h=d("I64"))).cast(f.value);if(j!=null&&(h||(h=d("I64"))).equal(i,j))continue}case"add":a.set(g,f.value);break}c=!0}b.length=0;return c}g["default"]=a}),98);
__d("createBPlusTreeFromSorted",["BPlusTree","ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return c("BPlusTree").fromSorted(a,b==="asc"?(h||(h=d("ReStoreKeyComparer"))).compareKey:(h||(h=d("ReStoreKeyComparer"))).compareKeyDesc,64)}g["default"]=a}),98);
__d("shallowEqualI64",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return Array.isArray(a)&&a.length===2&&Number.isInteger(a[0])&&Number.isInteger(a[1])}function j(a,b){if(a===b)return!0;return i(a)&&i(b)?(h||(h=d("I64"))).equal(a,b):!1}function a(a,b){return k(a,b,j)}function k(a,b,c){c===void 0&&(c=function(a,b){return a===b});if(c(a,b))return!0;if(typeof a!=="object"||a===null||typeof b!=="object"||b===null)return!1;var d=Object.keys(a),e=Object.keys(b);if(d.length!==e.length)return!1;for(e=0;e<d.length;e++)if(!c(a[d[e]],b[d[e]],d[e]))return!1;return!0}g.shallowEqualI64=a;g.shallowEqual=k}),98);
__d("ReQLSuspense",["FBLogger","I64","Promise","PromiseAnnotate","PromiseOrValue","ReQL","ReQLGlobalQueryContext","ReQLSuspenseSupportedContextTracking","SortedAsyncIterable","applyChangesToBPlusTree","createBPlusTreeFromSorted","isPromise","promiseDone","react","shallowEqualI64","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p=m||d("react"),q=p.startTransition,r=p.useEffect,s=p.useMemo,t=p.useState;function u(){var a=(o||(o=d("ReQLGlobalQueryContext"))).globalQueryContext.withinSupportedContext===!0;return a?!0:d("ReQLSuspenseSupportedContextTracking").isWithinReactRenderingContext()}function v(a,b,e){e===!0&&!u()&&c("FBLogger")("messenger_web","reqlsuspense_unsupported_use").blameToPreviousFile().mustfix("Detected use of ReQLSuspense method in unsupported context.\ntoArray/first/firstExn can only be used inside the body of a projection function passed to ReQL map operator.\nFor React rendering contexts, please use appropriate hook (useArray/useFirst/useFirstExn) variants instead.");if((i||(i=c("isPromise")))(a))if(b!=null)throw(n||(n=d("PromiseAnnotate"))).setDisplayName(a,b);else throw a;return a}function w(a){var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;Array.isArray(e)&&e.length===2&&Number.isInteger(e[0])&&Number.isInteger(e[1])?b.push(e[0],e[1]):b.push(e,void 0)}return b}function x(a){var b=arguments[1];return v(d("SortedAsyncIterable").toArray(a),b,!0).map(function(a){a[0];a=a[1];return a})}function y(a){var b=arguments[1];return x(d("ReQL").prototype.take.call(a,1),b)[0]}function z(a){var b=arguments[1],d=y(a,b);if(d==null)throw c("FBLogger")("messenger_web").mustfixThrow("expected result");return d}function a(a,e){var f=arguments[2],g=s(function(){var b=a();b.uniqueId=f;return b},e==null?[a]:w(e)),i=s(function(){return v(d("SortedAsyncIterable").toArray(g)).map(function(a){a[0];a=a[1];return a})},[g]),l=t([i,g]),m=l[0],n=l[1],o=(j||(j=c("useReStore")))();r(function(){var a,e=[],f=g.subscribe(function(a,b){return void e.push([a,b])});function i(){if(e.length&&a!=null){var b=a;c("applyChangesToBPlusTree")(b,e)&&n([Array.from(b.entries(),function(a){return a[1]}),g])}}var j=F(o,i);c("promiseDone")((h||(h=b("Promise"))).resolve((k||(k=d("PromiseOrValue"))).map(d("SortedAsyncIterable").toArray(g),function(b){a=c("createBPlusTreeFromSorted")(b,g.direction);var f=a;c("applyChangesToBPlusTree")(f,e);q(function(){return n(function(a){var b=Array.from(f.entries(),function(a){return a[1]});return d("shallowEqualI64").shallowEqualI64(a[0],b)&&a[1]===g?a:[b,g]})})})));return function(){j(),f()}},[g,o]);return g===m[1]?m[0]:i}function A(a,e){var f=arguments[2],g=s(function(){var b=a().take(1);b.uniqueId=f;return b},e==null?[a]:w(e)),i=s(function(){var a;return(a=v(g.iterator(d("SortedAsyncIterable").getOrCreateContext(g)).next(),f).value)==null?void 0:a[1]},[g,f]),m=t([i,g]),n=m[0],o=m[1],p=(j||(j=c("useReStore")))();r(function(){var a,e=!1,f=g.subscribe(function(b,c){switch(c.operation){case"delete":a=void 0;break;case"put":if(a===c.value)return;b=(l||(l=d("I64"))).cast(a);if(b!=null){var f=(l||(l=d("I64"))).cast(c.value);if(f!=null&&(l||(l=d("I64"))).equal(b,f))return}case"add":a=c.value;break}e=!0}),i=F(p,function(){e&&(e=!1,o([a,g]))});c("promiseDone")((h||(h=b("Promise"))).resolve((k||(k=d("PromiseOrValue"))).map(g.iterator(d("SortedAsyncIterable").getOrCreateContext(g)).next(),function(b){var c;q(function(){return o(function(a){var c;return a[0]===((c=b.value)==null?void 0:c[1])&&a[1]===g?a:[(c=b.value)==null?void 0:c[1],g]})});a=(c=b.value)==null?void 0:c[1]})));return function(){i(),f()}},[g,p]);return g===n[1]?n[0]:i}function e(a,b){var d=arguments[2],e=A(a,b,d);if(e==null)throw c("FBLogger")("messenger_web").mustfixThrow("expected result");return e}function B(a,b,c,e){var f=s(function(){var b=a();b.uniqueId=c;return b},b==null?[a]:w(b));return s(function(){return(o||(o=d("ReQLGlobalQueryContext"))).runFromContextThatHandlesThrownPromise(function(){return e(f)})},[f,e])}function f(a,b){return B(a,b,arguments[2],x)}function C(a,b){return B(a,b,arguments[2],y)}function D(a,b){return B(a,b,arguments[2],z)}var E=new Map();function F(a,b){var c=E.get(a);if(c==null){var d=new Map();c={handlers:d,unsubscribe:a.subscribeToCommit(function(){q(function(){return d.forEach(function(a){return a()})})})};E.set(a,c)}var e={};c.handlers.set(e,b);var f=c;return function(){f.handlers["delete"](e),f.handlers.size===0&&(f.unsubscribe(),E["delete"](a))}}g.toArray=x;g.first=y;g.firstExn=z;g.useArray=a;g.useFirst=A;g.useFirstExn=e;g.useArrayWithoutSubscribing=f;g.useFirstWithoutSubscribing=C;g.useFirstExnWithoutSubscribing=D}),98);
__d("MAWThreadCutover",["I64","LSContactBitOffset","LSDatabaseSingleton","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","MWPActor.react","MWPreloadableQueries","ReQL","ReQLSuspense","UserAgent","WAJids","asyncToGeneratorRuntime","gkx","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return(yield z(a))!=null});return k.apply(this,arguments)}function l(a){var b=(j||(j=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return a!=null?d("MWPreloadableQueries").getCutoverThreadByThreadKey(b,a):d("ReQL").empty()},[b,a],f.id+":42")!=null}function e(a){var b,e=(j||(j=c("useReStore")))();b=(b=d("ReQLSuspense").useFirst(function(){return c("gkx")("26365")&&a?d("MWPreloadableQueries").getCutoverThreadByThreadKey(e,a):d("ReQL").empty()},[e,a],f.id+":54"))==null?void 0:b.showOpenMessageHistory;return b===!1}function m(a,b){return d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table).getKeyRange(b)}function n(a,b){return d("ReQL").fromTableAscending(a.tables.cutover_threads).filter(function(a){return(h||(h=d("I64"))).equal(a.armadilloThreadId,b)})}function o(a){var b=(j||(j=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return a==null?d("ReQL").empty():m(b,a)},[b,a],f.id+":87");return d("ReQLSuspense").useFirst(function(){return e==null?d("ReQL").empty():n(b,e.jid)},[b,e],f.id+":95")}function p(a,b){return d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b.openThreadId)}function q(a){var b=(j||(j=c("useReStore")))(),e=o(a);return d("ReQLSuspense").useFirst(function(){return e==null?d("ReQL").empty():p(b,e)},[b,e],f.id+":116")}function r(a){a=o(a);if(a!=null)return a.openThreadId}function s(a){return o(a)!=null}function t(a,b){b=d("WAJids").threadIdForChatJid(b);return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.cutover_threads).getKeyRange((h||(h=d("I64"))).of_string(b))).then(function(a){return a!=null})}function u(){var a=(j||(j=c("useReStore")))(),b=d("MWPActor.react").useActor();a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(b),f.id+":151");return a!=null&&((b=d("LSContactBitOffset").has(75,a))!=null?b:!1)}function v(){var a=(j||(j=c("useReStore")))(),b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.tables.experiences_shared_state).getKeyRange(c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY)},[a],f.id+":166");b=d("MWEncryptedBackupsSharedState").getEntryValue({db:a,sharedStateRow:b,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY});return b!=null}function w(a){var b=(j||(j=c("useReStore")))(),e=a!=null?(h||(h=d("I64"))).of_string(a):void 0,g=l(e);return d("ReQLSuspense").useFirst(function(){if(g&&e!=null)return d("ReQL").fromTableAscending(b.tables.mi_act_mapping_table).filter(function(a){return(h||(h=d("I64"))).equal(a.jid,e)}).map(function(a){return(h||(h=d("I64"))).to_string(a.serverThreadKey)});else return d("ReQL").empty()},[b,e,g],f.id+":187")}function x(){return c("gkx")("1593")?c("UserAgent").isBrowser("Chrome"):!0}function y(a){var b=(j||(j=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){if(a!=null)return d("MWPreloadableQueries").getCutoverThreadByThreadKey(b,a);else return d("ReQL").empty()},[b,a],f.id+":216"),g=e==null?void 0:e.armadilloThreadId;e=d("ReQLSuspense").useFirst(function(){if(g!=null)return d("ReQL").fromTableAscending(b.tables.mi_act_mapping_table.index("jid")).getKeyRange(g);else return d("ReQL").empty()},[g,b.tables.mi_act_mapping_table],f.id+":227");return e==null?void 0:e.serverThreadKey}function z(a){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton),c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.mi_act_mapping_table).getKeyRange(a)));if(c==null)return void 0;a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.cutover_threads).filter(function(a){return(h||(h=d("I64"))).equal(a.armadilloThreadId,c.jid)})));return a});return A.apply(this,arguments)}g.isCutoverThreadKey=a;g.useIsCutoverOpenThread=l;g.useIsDualThreadCutoverOpenThread=e;g.getMiActMappings=m;g.getCutoverThreadsByJid=n;g.useGetCutoverMapping=o;g.getThreadByCutoverThread=p;g.useCutoverOpenThread=q;g.useGetCutoverOpenThreadKey=r;g.useIsCutoverSecureThread=s;g.isCutoverSecureThreadFromChatJid=t;g.useIsCurrentUserCutoverUser=u;g.useGetHasUserRestoredBefore=v;g.useGetCutoverSecureThreadKey=w;g.useSupportedCutoverEnvironment=x;g.useCutoverSecureThreadKeyForOpenThreadKey=y;g.getCutoverThreadBySecureThreadKey=z}),98);
__d("MWCMIsCMSubthread",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(26))}g["default"]=a}),98);
__d("MessengerWebEntryPointsUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="pagesLikeInviteThem")return"pages_like_invite_item";else if(a==="pagesPrivateReply")return"pages_private_reply";else if(a==="inboxActiveContacts"||a==="inboxArchived"||a==="inboxSpam"||a==="inboxFolder"||a==="inboxThreadList"||a==="inboxRecentThreads"||a==="inboxRemainingThreads"||a==="pendingRequests"||a==="inboxRestricted"||a==="archieve"||a==="inboxInThread"||a==="inboxPendingRequests")return"inbox";else if(a==="jobs")return"jobs";else if(a==="storySeenByList"||a==="friendsTab")return"story_seen_by_list";else if(a==="chatParticipants")return"add_participants";else if(a==="compat")return"compat";else if(a==="cookie")return"cookie";else if(a==="pagesAdminInviteItem")return"pages_admin_invite_item";else if(a==="groupWelcomePost")return"group_welcome_post";else if(a==="sidebarContactsList"||a==="sidebarGroupsList")return"sidebar";else if(a==="sidebarCommunityChatsList")return"sidebar_community_chats";else if(a==="jewelNestedFolder"||a==="jewel")return"jewel";else if(a==="shop")return"shop";else if(a==="chatheadsOverflow")return"chat_heads_overflow";else if(a==="feedDynamicHoverCard")return"pages_hovercard";else if(a==="messengerUniversalSearch")return"search_result_page";else if(a==="mentorship")return"mentorship";else if(a==="reactorList")return"reactor_list";else if(a==="feedPoll")return"feed_poll";else if(a==="timeline"||a==="feedOrganicPost")return"timeline";else if(a==="pageResponsivenessCard"||a==="pageAboutCard")return"pages_about";else if(a==="inboxSearch"||a==="sidebarSearch"||a==="search")return"search";else if(a==="storyAggregatedUsers")return"story_aggregated_users";else if(a==="fundraiserMoreMenu")return"fundraiser_support:reactive_more_menu";else if(a==="fundraiserFaq")return"fundraiser_support:reactive_faq";else if(a==="notificationInThreadReply")return"message_received";else if(a==="roomsNullState")return"rooms_null_state";else if(a==="storyViewerSheetRow")return"stories_viewed_by_list";else if(a==="feedOrganicPostNewsfeedPagePostCta")return"pages_cta";else if(a==="chatheadsNewMessage")return"new_msg_button";else if(a==="groupExperts"||a==="groupCommunityFriendsDialog")return"group_experts_discovery_invite";else if(a==="hovercard")return"hovercard";else if(a==="crisisListingAttachment")return"crisis_listing_attachment";else if(a==="mentalHealth")return"mental_health";else if(a==="event")return"events_permalink";else if(a==="jewelSearch")return"jewel_search";else if(a==="pagePopupChat")return"pages_popup_chat";else if(a==="communityHelp")return"community_help";else if(a==="jewelNewMessage")return"jewel_new_message";else if(a==="fundraiser")return"fundraiser";else if(a==="memories")return"memories_home";else if(a==="fundraiserSupportersList")return"fundraiser_supporters_list";else if(a==="groupRemovePost")return"group_remove_post_tombstone";else if(a==="pagesHeader")return"pages_header";else if(a==="groupMembers")return"group_members_tab";else if(a==="chatheads")return"chat_heads";else if(a==="birthday")return"birthdays";else if(a==="localBusinessesNearby")return"local_businesses_nearby";else if(a==="marketplace"||a==="inboxMarketplace")return"marketplace";else if(a==="mutualFriendsDialog")return"mutual_friends_dialog";else if(a==="feedOrganicPostViewAndMessage")return"feed_story_cta";else if(a==="profileServicesMenu")return"profile_services_menu";else if(a==="adsCta")return"reshares_dialog";else if(a==="offer")return"offer";else if(a==="payments")return"p2p_payments";else if(a==="groupQuality")return"group_quality";else if(a==="pagesHomeFriendsDialog")return"pages_home_friends_dialog";else if(a==="communityFriendsDialog")return"pages_community_friends_dialog";else if(a==="groupChats")return"group_chats";else if(a==="groupTab")return"group_tab";else if(a==="gratitude")return"gratitude";else return"unknown"}function b(a){switch(a){case"groupTab":case"inboxThreadList":case"jewel":return!0;default:return!1}}f.cast=a;f.getEntryPointShouldOverrideThreadSnippetRemoval=b}),66);
__d("MWChatLogOpenChatTab",["MessengerWebEntryPointsUtil","MessengerWebEventsFalcoEvent","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h,i={};function a(a,b,e){a===void 0&&(a=!1);(h||(h=d("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_user");var f=d("MessengerWebEntryPointsUtil").cast(e);i[b]=f;return c("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:f,event_name:"open_chat_tab",is_secured:a,other_user_fbid:a?null:b}})}function b(a,b,e){a===void 0&&(a=!1);(h||(h=d("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_group");var f=d("MessengerWebEntryPointsUtil").cast(e);i[b]=f;return c("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:f,event_name:"open_chat_tab",is_secured:a,thread_fbid:a?null:b}})}function e(a,b,e){a===void 0&&(a=!1);(h||(h=d("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_page");var f=d("MessengerWebEntryPointsUtil").cast(e);i[b]=f;return c("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:f,event_name:"open_chat_tab",is_secured:a,other_user_fbid:a?null:b}})}g.logOpenUserTab=a;g.logOpenGroupTab=b;g.logOpenPageTab=e}),98);
__d("MWGetOtherContactOrSelf",["I64","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(c.tables.participants).getKeyRange(a)));if(a.length===1){var e=a[0];return d("ReQL").firstAsync(d("ReQL").fromTableAscending(c.tables.contacts).getKeyRange(e.contactId))}if(a.length>2)return;e=a.find(function(a){return!(h||(h=d("I64"))).equal(a.contactId,b)});if(e!=null)return d("ReQL").firstAsync(d("ReQL").fromTableAscending(c.tables.contacts).getKeyRange(e.contactId))});return i.apply(this,arguments)}g.getOtherContactOrSelf=a}),98);
__d("XPlatReactCrypto",["err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h=self.crypto)==null?void 0:h.subtle;function a(a){var b;if(typeof ((b=self.crypto)==null?void 0:b.getRandomValues)!=="function")throw c("err")("crypto.getRandomValues: Not implemented");self.crypto.getRandomValues(a);return a}function b(){var a;if(typeof ((a=self.crypto)==null?void 0:a.randomUUID)!=="function")return null;a=self.crypto.randomUUID();return typeof a==="string"?a:null}function d(a,b,d,e,f){if(i==null)throw c("err")("crypto.subtle.importKey: Not implemented");return i.importKey(a,b,d,e,f)}function e(a,b){if(i==null)throw c("err")("crypto.subtle.exportKey: Not implemented");return i.exportKey(a,b)}function f(a,b,d){if(i==null)throw c("err")("crypto.subtle.generateKey: Not implemented");return i.generateKey(a,b,d)}function j(a,b,d){if(i==null)throw c("err")("crypto.subtle.encrypt: Not implemented");return i.encrypt(a,b,d)}function k(a,b,d){if(i==null)throw c("err")("crypto.subtle.decrypt: Not implemented");return i.decrypt(a,b,d)}function l(a,b,d){if(i==null)throw c("err")("crypto.subtle.sign: Not implemented");return i.sign(a,b,d)}function m(a,b){if(i==null)throw c("err")("crypto.subtle.digest: Not implemented");return i.digest(a,b)}function n(a,b,d){if(i==null)throw c("err")("crypto.subtle.deriveBits: Not implemented");return i.deriveBits(a,b,d)}function o(a,b,d,e,f){if(i==null)throw c("err")("crypto.subtle.deriveKey: Not implemented");return i.deriveKey(a,b,d,e,f)}g.getRandomValues=a;g.randomUUID=b;g.subtleImportKey=d;g.subtleExportKey=e;g.subtleGenerateKey=f;g.subtleEncrypt=j;g.subtleDecrypt=k;g.subtleSign=l;g.subtleDigest=m;g.subtleDeriveBits=n;g.subtleDeriveKey=o}),98);
__d("XPlatReactTextDecoder",[],(function(a,b,c,d,e,f){"use strict";a=self.TextDecoder;f.TextDecoder=a}),66);
__d("XPlatReactTextEncoder",[],(function(a,b,c,d,e,f){"use strict";a=self.TextEncoder;f.TextEncoder=a}),66);
__d("base64Binary",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b="";for(var c=0;c<a.byteLength;c+=3){var d=a.subarray(c,c+3);b+=k(d)}d=(a.byteLength+2)%3;return b.slice(0,b.length+d-2)+"==".slice(d)}function b(a){var b;a.length%4===0||h(0,51156);var c=a.length/4;b=(b=(b=a.match(/={0,2}$/))==null?void 0:b[0].length)!=null?b:0;b=new Uint8Array(c*3-b);for(var d=0;d<c;d++){var e=l(a.slice(d*4,d*4+4));b.set(e.subarray(0,b.byteLength-d*3),d*3)}return b}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=">___?456789:;<=___\0___\0\x01\x02\x03\x04\x05\x06\x07\b\t\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19______\x1a\x1b\x1c\x1d\x1e\x1f !\"#$%&'()*+,-./0123";function k(a){var b;a=a[0]<<16|((b=a[1])!=null?b:0)<<8|((b=a[2])!=null?b:0);return String.fromCharCode(i.charCodeAt(a>>>18),i.charCodeAt(a>>>12&63),i.charCodeAt(a>>>6&63),i.charCodeAt(a&63))}function l(a){a=j.charCodeAt(a.charCodeAt(0)-43)<<18|j.charCodeAt(a.charCodeAt(1)-43)<<12|j.charCodeAt(a.charCodeAt(2)-43)<<6|j.charCodeAt(a.charCodeAt(3)-43);return new Uint8Array([a>>>16,a>>>8&255,a&255])}g.encode=a;g.decode=b}),98);
__d("hasDefaultThreadOneToOneCapability",["FBLogger","LSContactBitOffset","MWGetOtherContactOrSelf","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(a==null)return!1;var e=(yield d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(b.tables._user_info).map(function(a){return a.facebookUserId}))),f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.contacts).getKeyRange(e)));if(f==null){c("FBLogger")("messenger_search").warn("Error fetching viewer details");return!1}f=d("LSContactBitOffset").has(80,f);if(!f)return!1;f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.contacts).getKeyRange(a)));a=(yield d("MWGetOtherContactOrSelf").getOtherContactOrSelf(a,e,b));b=(e=a)!=null?e:f;if(b==null)return!1;e=(a=d("LSContactBitOffset").has(83,b))!=null?a:!1;return e});return h.apply(this,arguments)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSDbV1.upgrade",[],(function(a,b,c,d,e,f){"use strict";a={};f.afterUpgrade=a}),66);
__d("ReStoreVersionedSchemaProviderUtil",["ReStoreMetadata"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c={tableIds:{},tableNames:d("ReStoreMetadata").RESTORE_METADATA_TABLES},e={},f=Object.keys(a);for(var g=0;g<f.length;g++){var h=f[g],i=a[h],j={},k={};for(var l in i.indexes)j[l]=i.indexes[l].fields,i.indexes[l].ignoreNulls.length>0&&(k[l]=d("ReStoreMetadata").createPredicate(i.indexes[l].ignoreNulls));c.tableNames[h]={autoIncrement:i.autoIncrement,cascadeUpdates:(l=b==null?void 0:b[h])!=null?l:[],indexes:j,indexPredicates:k,name:h,primaryKeyIds:i.primaryKey.fields};i.id!=null&&(c.tableIds[i.id]=h);Object.keys(i.defaults).length>0&&(e[h]=i.defaults)}return{defaults:e,tableData:c}}g.getTableData=a}),98);
__d("LSDbV1",["I64MigrationHelper","LSDbV1.upgrade","ReStoreDefaultValueMigration","ReStoreIndicesMigration","ReStoreVersionedSchemaProviderUtil","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";c=Object.freeze({_user_info:{autoIncrement:!1,defaults:{},id:4,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},acs_request_context:{autoIncrement:!1,defaults:{},id:310,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},ad_context:{autoIncrement:!1,defaults:{},id:160,indexes:{},primaryKey:{fields:["adId"],ignoreNulls:[]}},admin_message_ctas:{autoIncrement:!1,defaults:{showAdChoiceIcon:!1,timestampMs:(a=d("I64MigrationHelper")).cast([0,0])},id:27,indexes:{ctaId:{fields:["ctaId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}},ai_bot_feedback_submission_status:{autoIncrement:!1,defaults:{},id:315,indexes:{},primaryKey:{fields:["botResponseId"],ignoreNulls:[]}},ai_bot_search_metadata:{autoIncrement:!1,defaults:{contactViewerRelationship:a.cast([0,0]),displayName:"",score:0},id:298,indexes:{},primaryKey:{fields:["botId"],ignoreNulls:[]}},anonymous_task_context:{autoIncrement:!1,defaults:{failureCount:a.cast([0,0])},id:311,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},attachment_conversion:{autoIncrement:!1,defaults:{},id:164,indexes:{},primaryKey:{fields:["attachmentFbid"],ignoreNulls:[]}},attachment_ctas:{autoIncrement:!1,defaults:{},id:19,indexes:{fk_attachments:{fields:["threadKey","messageId","attachmentFbid","ctaId"],ignoreNulls:[]}},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},attachment_items:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0])},id:18,indexes:{fk_attachments:{fields:["threadKey","messageId","attachmentFbid","attachmentIndex"],ignoreNulls:[]}},primaryKey:{fields:["attachmentFbid","attachmentIndex"],ignoreNulls:[]}},attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}},attachments_ranges_v2__generated:{autoIncrement:!1,defaults:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,mediaGroup:a.cast([0,0])},id:17,indexes:{},primaryKey:{fields:["threadKey","mediaGroup","minTimestampMs"],ignoreNulls:[]}},audio_channel_events:{autoIncrement:!1,defaults:{},id:238,indexes:{},primaryKey:{fields:["eventId","roomId"],ignoreNulls:[]}},available_reactions:{autoIncrement:!1,defaults:{},id:188,indexes:{},primaryKey:{fields:["emojiIdx"],ignoreNulls:[]}},avatar_settings:{autoIncrement:!1,defaults:{enableAvatarHotlike:!1},id:209,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},bot_profile_info_v2:{autoIncrement:!1,defaults:{hasEmbodiment:!1},id:299,indexes:{},primaryKey:{fields:["botId"],ignoreNulls:[]}},bots:{autoIncrement:!1,defaults:{},id:230,indexes:{},primaryKey:{fields:["threadKey","botId"],ignoreNulls:[]}},business_comm_items:{autoIncrement:!1,defaults:{},id:234,indexes:{},primaryKey:{fields:["threadKey","entId"],ignoreNulls:[]}},business_support_case_details:{autoIncrement:!1,defaults:{},id:222,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},business_support_notification_settings:{autoIncrement:!1,defaults:{},id:236,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},business_thread_info:{autoIncrement:!1,defaults:{},id:260,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},business_thread_suggestions:{autoIncrement:!1,defaults:{},id:290,indexes:{},primaryKey:{fields:["threadKey","suggestionType"],ignoreNulls:[]}},client_accounts:{autoIncrement:!0,defaults:{},id:272,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_message_translation_info:{autoIncrement:!1,defaults:{},id:324,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_messages:{autoIncrement:!0,defaults:{disabledActionsReason:a.cast([0,0]),isForwarded:!1,isHidden:!1,isReadonly:!1,isReplyOnly:!1,isTombstoned:!1,messageContentSubtype:a.cast([0,0]),messageContentType:a.cast([0,0]),messageCreationType:a.cast([0,0]),messageEphemeralityType:a.cast([0,0]),messageSource:a.cast([0,0]),replyMessageTextSize:a.cast([0,0]),replyStatus:a.cast([0,0]),replyVicinityStatus:a.cast([0,0]),sendStatus:a.cast([0,0]),shouldHideInSnippet:!1,shouldPersist:!1,textSize:a.cast([0,0])},id:273,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_participants:{autoIncrement:!0,defaults:{capabilities1:a.cast([0,0]),capabilities2:a.cast([0,0]),isPending:!1,readActionTsMs:a.cast([0,0])},id:274,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_thread_proactive_warning_settings:{autoIncrement:!1,defaults:{},id:241,indexes:{},primaryKey:{fields:["threadPk"],ignoreNulls:[]}},client_threads:{autoIncrement:!0,defaults:{capabilities1:a.cast([0,0]),capabilities2:a.cast([0,0]),groupMemberAddMode:a.cast([0,0]),isAdminSnippet:!1,isHidden:!1,isHotlikeSnippet:!1,isPending:!1,isShadowThread:!1,isTombstoned:!1,pinnedMessagesCount:a.cast([0,0])},id:276,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_web_pinned_messages:{autoIncrement:!1,defaults:{},id:328,indexes:{pinnedMessageDisplayOrder:{fields:["threadKey","pinnedTimestampMs","offlineThreadingId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","offlineThreadingId","pinnedTimestampMs"],ignoreNulls:[]}},client_xmas:{autoIncrement:!0,defaults:{},id:314,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},cm_category_list:{autoIncrement:!1,defaults:{},id:182,indexes:{},primaryKey:{fields:["communityId","categoryId"],ignoreNulls:[]}},cm_channel_events:{autoIncrement:!1,defaults:{},id:201,indexes:{eventsInThread:{fields:["threadId","eventId"],ignoreNulls:[]}},primaryKey:{fields:["eventId","threadId"],ignoreNulls:[]}},cm_channel_list:{autoIncrement:!1,defaults:{},id:167,indexes:{threadIdCommunityId:{fields:["threadId","communityId"],ignoreNulls:[]}},primaryKey:{fields:["communityId","threadId"],ignoreNulls:[]}},cm_community_list:{autoIncrement:!1,defaults:{},id:166,indexes:{},primaryKey:{fields:["communityId"],ignoreNulls:[]}},cm_search_nullstate_metadata:{autoIncrement:!1,defaults:{score:0},id:289,indexes:{},primaryKey:{fields:["threadKey","scoreType"],ignoreNulls:[]}},community_chat_admin_assist_command_sequences:{autoIncrement:!1,defaults:{},id:291,indexes:{},primaryKey:{fields:["commandSequenceId"],ignoreNulls:[]}},community_chat_message_seen_count:{autoIncrement:!1,defaults:{},id:221,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},community_chat_poll_options:{autoIncrement:!1,defaults:{sortKeyCreationTimestamp:a.cast([0,0]),sortKeyVotingTimestamp:a.cast([0,0]),voteCount:a.cast([0,0])},id:224,indexes:{},primaryKey:{fields:["pollId","optionId"],ignoreNulls:[]}},community_chat_poll_votes:{autoIncrement:!1,defaults:{},id:225,indexes:{},primaryKey:{fields:["pollId","optionId","contactId"],ignoreNulls:[]}},community_chat_poll_votes_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:244,indexes:{},primaryKey:{fields:["pollId","optionId","minTimestampMs"],ignoreNulls:[]}},community_chat_polls:{autoIncrement:!1,defaults:{pollType:a.cast([0,0])},id:223,indexes:{},primaryKey:{fields:["pollId"],ignoreNulls:[]}},community_direct_invites_presets:{autoIncrement:!1,defaults:{fallbackUrl:"",pictureUrlExpirationTimestampMs1:a.cast([0,0]),pictureUrlExpirationTimestampMs2:a.cast([0,0]),presetTypeV2:"ALL_MEMBERS"},id:199,indexes:{},primaryKey:{fields:["communityId","presetType","source"],ignoreNulls:[]}},community_events:{autoIncrement:!1,defaults:{},id:202,indexes:{},primaryKey:{fields:["eventId","communityId"],ignoreNulls:[]}},community_folders:{autoIncrement:!1,defaults:{capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),inviteStatus:a.cast([0,0]),notificationMutedUntil:a.cast([0,0])},id:162,indexes:{byFbGroupId:{fields:["fbGroupId","folderId"],ignoreNulls:[]}},primaryKey:{fields:["folderId"],ignoreNulls:[]}},community_members:{autoIncrement:!1,defaults:{adminActions:a.cast([0,0]),channelBadges:a.cast([0,0]),contactCapabilities:a.cast([0,0]),requestId:"",source:a.cast([0,0]),threadRoles:a.cast([0,0])},id:170,indexes:{communityContact:{fields:["communityId","contactId","requestId","source","name"],ignoreNulls:[]},communitySource:{fields:["communityId","source","requestId","contactId","name"],ignoreNulls:[]}},primaryKey:{fields:["communityId","contactId","source","requestId"],ignoreNulls:[]}},community_members_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:189,indexes:{},primaryKey:{fields:["communityId","isAdmin","minName","source","requestId"],ignoreNulls:[]}},community_messaging_aggregated_copresence_counts_for_chat:{autoIncrement:!1,defaults:{},id:204,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},community_messaging_aggregated_user_presence_counts_for_community:{autoIncrement:!1,defaults:{},id:203,indexes:{},primaryKey:{fields:["folderId"],ignoreNulls:[]}},community_rules:{autoIncrement:!1,defaults:{},id:254,indexes:{},primaryKey:{fields:["communityId","ruleId"],ignoreNulls:[]}},community_surface_ranges:{autoIncrement:!1,defaults:{},id:253,indexes:{},primaryKey:{fields:["surfaceType","communityKey"],ignoreNulls:[]}},community_thread_sync_info:{autoIncrement:!1,defaults:{},id:294,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},connectivity_status:{autoIncrement:!0,defaults:{},id:114,indexes:{},primaryKey:{fields:["statusId"],ignoreNulls:[]}},contact_upload_settings:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:74,indexes:{},primaryKey:{fields:["userid"],ignoreNulls:[]}},contacts:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),blockedByViewerStatus:a.cast([0,0]),canViewerMessage:!0,capabilities2:a.cast([0,0]),contactReachabilityStatusType:a.cast([0,0]),contactType:a.cast([0,0]),contactTypeExact:a.cast([0,0]),gender:a.cast([0,0]),isEmployee:!1,isMemorialized:!1,isMessengerUser:!1,optimisticBlockedByViewerStatus:a.cast([0,0]),optimisticBlockedByViewerStatusTimestampMs:a.cast([0,0]),rank:0,restrictionType:a.cast([0,0]),waConnectStatus:a.cast([0,0])},id:7,indexes:{blockedByViewerStatusId:{fields:["blockedByViewerStatus","id"],ignoreNulls:[]}},primaryKey:{fields:["id"],ignoreNulls:[]}},contextual_profile_v1:{autoIncrement:!1,defaults:{},id:216,indexes:{associatedEntityIdAndOwner:{fields:["associatedEntityId","ownerId"],ignoreNulls:[]}},primaryKey:{fields:["ownerId","associatedEntityId"],ignoreNulls:[]}},cowatch_sessions:{autoIncrement:!1,defaults:{},id:80,indexes:{},primaryKey:{fields:["cowatchSessionId"],ignoreNulls:[]}},ctas:{autoIncrement:!1,defaults:{},id:15,indexes:{},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},custom_thread_commands:{autoIncrement:!1,defaults:{isOpenPersistentMenu:!1},id:296,indexes:{commandId:{fields:["commandId"],ignoreNulls:[]},rank:{fields:["threadKey","rank"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","commandId"],ignoreNulls:[]}},cutover_threads:{autoIncrement:!1,defaults:{isMigrated:!1,showOpenMessageHistory:!1},id:193,indexes:{},primaryKey:{fields:["openThreadId"],ignoreNulls:[]}},data_trace_addon:{autoIncrement:!0,defaults:{timestampMs:a.cast([0,0])},id:154,indexes:{traceIdAddonId:{fields:["traceId","addonId"],ignoreNulls:[]}},primaryKey:{fields:["addonId"],ignoreNulls:[]}},data_trace_meta:{autoIncrement:!1,defaults:{foregroundTimestampMs:a.cast([0,0]),initTimestampMs:a.cast([0,0]),shouldFlush:!1,traceType:a.cast([0,0])},id:153,indexes:{shouldFlushInitTimestampMsTraceId:{fields:["shouldFlush","initTimestampMs","traceId"],ignoreNulls:[]}},primaryKey:{fields:["traceId"],ignoreNulls:[]}},device_metadata:{autoIncrement:!0,defaults:{},id:185,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},discoverable_chat_participants:{autoIncrement:!1,defaults:{source:a.cast([0,0])},id:248,indexes:{},primaryKey:{fields:["threadId","contactId","source"],ignoreNulls:[]}},discoverable_chat_participants_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:249,indexes:{},primaryKey:{fields:["threadId","source","minName"],ignoreNulls:[]}},discoverable_chats_personal_inbox_info:{autoIncrement:!1,defaults:{},id:326,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},e2ee_composer_draft_link_preview:{autoIncrement:!1,defaults:{},id:329,indexes:{},primaryKey:{fields:["draftId"],ignoreNulls:[]}},e2ee_dummy_table_for_sync:{autoIncrement:!1,defaults:{},id:171,indexes:{},primaryKey:{fields:["placeholder"],ignoreNulls:[]}},edit_message_history:{autoIncrement:!0,defaults:{sendStatus:a.cast([0,0])},id:322,indexes:{originalMsgPkEditTs:{fields:["originalMessagePk","serverAdjustedEditTsMs"],ignoreNulls:[]}},primaryKey:{fields:["pk"],ignoreNulls:[]}},emoji_sets:{autoIncrement:!1,defaults:{},id:151,indexes:{},primaryKey:{fields:["categoryIdx","emojiIdx","type_"],ignoreNulls:[]}},encrypted_backup_restore_task_payload_context:{autoIncrement:!1,defaults:{},id:190,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},encrypted_backups:{autoIncrement:!0,defaults:{authorityLevel:a.cast([0,0]),hasOtcEligibleDevices:!1},id:172,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_client_restore_status:{autoIncrement:!1,defaults:{},id:231,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},encrypted_backups_debug_metadata:{autoIncrement:!1,defaults:{},id:206,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},encrypted_backups_debug_metadata_v2:{autoIncrement:!1,defaults:{},id:217,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},encrypted_backups_dyi_backup_restore_status:{autoIncrement:!0,defaults:{},id:208,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_epoch_debug_metadata:{autoIncrement:!1,defaults:{},id:207,indexes:{},primaryKey:{fields:["epochId"],ignoreNulls:[]}},encrypted_backups_epoch_debug_metadata_v2:{autoIncrement:!1,defaults:{},id:218,indexes:{},primaryKey:{fields:["epochId"],ignoreNulls:[]}},encrypted_backups_message_backup_status:{autoIncrement:!1,defaults:{},id:213,indexes:{},primaryKey:{fields:["messagePk"],ignoreNulls:[]}},encrypted_backups_metadata:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:196,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},encrypted_backups_otc_devices:{autoIncrement:!1,defaults:{},id:261,indexes:{},primaryKey:{fields:["deviceId"],ignoreNulls:[]}},encrypted_backups_otc_notification_sending_status:{autoIncrement:!0,defaults:{},id:285,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_status_trigger:{autoIncrement:!0,defaults:{},id:195,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_virtual_devices:{autoIncrement:!0,defaults:{removalStatus:a.cast([0,1]),requiresHsmMigration:!1,virtualDeviceType:a.cast([0,1])},id:184,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},epd_cookie_settings:{autoIncrement:!1,defaults:{},id:163,indexes:{},primaryKey:{fields:[],ignoreNulls:[]}},experiences_shared_state:{autoIncrement:!1,defaults:{},id:282,indexes:{},primaryKey:{fields:["stateKey"],ignoreNulls:[]}},fb_events:{autoIncrement:!1,defaults:{},id:200,indexes:{},primaryKey:{fields:["eventId"],ignoreNulls:[]}},fb_transport_contacts:{autoIncrement:!0,defaults:{},id:240,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},feature_limits:{autoIncrement:!1,defaults:{},id:150,indexes:{},primaryKey:{fields:["type_"],ignoreNulls:[]}},filtered_messages_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:211,indexes:{},primaryKey:{fields:["threadKey","mailboxType","minTimestampMs","minMessageId","messageRangeFilter"],ignoreNulls:[]}},filtered_threads_ranges_v3__generated:{autoIncrement:!1,defaults:{folderName:"inbox",hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxLastActivityTimestampMs:a.cast([0,0]),maxThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0]),secondaryThreadRangeFilter:a.cast([0,0]),threadRangeFilterValue:""},id:247,indexes:{},primaryKey:{fields:["parentThreadKey","minThreadKey","minLastActivityTimestampMs","threadRangeFilter","folderName","secondaryThreadRangeFilter","threadRangeFilterValue"],ignoreNulls:[]}},focus_mode_ctas:{autoIncrement:!1,defaults:{},id:30,indexes:{},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}},folder_metadata:{autoIncrement:!1,defaults:{},id:35,indexes:{},primaryKey:{fields:["parentThreadKey"],ignoreNulls:[]}},forward_content:{autoIncrement:!1,defaults:{},id:129,indexes:{},primaryKey:{fields:["value","type_"],ignoreNulls:[]}},gdpr_settings:{autoIncrement:!1,defaults:{},id:75,indexes:{},primaryKey:{fields:["userid"],ignoreNulls:[]}},gradient_colors:{autoIncrement:!1,defaults:{},id:117,indexes:{},primaryKey:{fields:["themeFbid","gradientIndex"],ignoreNulls:[]}},group_invitations_pending:{autoIncrement:!1,defaults:{communityJoinRequestStatus:a.cast([0,0]),communityParticipationControlRequestStatus:a.cast([0,0]),communityParticipationControlSetting:a.cast([0,0])},id:235,indexes:{},primaryKey:{fields:["linkHash"],ignoreNulls:[]}},group_invites:{autoIncrement:!1,defaults:{},id:197,indexes:{},primaryKey:{fields:["threadKey","inviterId","inviteeId"],ignoreNulls:[]}},group_membership_approval_requests:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:26,indexes:{},primaryKey:{fields:["threadKey","contactId"],ignoreNulls:[]}},horizon_contact_info:{autoIncrement:!1,defaults:{},id:323,indexes:{},primaryKey:{fields:["contactId"],ignoreNulls:[]}},ig_contact_info:{autoIncrement:!1,defaults:{e2eeEligibility:a.cast([0,0])},id:176,indexes:{},primaryKey:{fields:["contactId"],ignoreNulls:[]}},ig_thread_info:{autoIncrement:!1,defaults:{igDmSettingsMode:a.cast([0,0]),igDmSettingsTtlSec:a.cast([-1,4294967295])},id:194,indexes:{igThreadID:{fields:["igThreadId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},ig_thread_labels:{autoIncrement:!1,defaults:{labelTimestampMs:a.cast([0,0])},id:318,indexes:{},primaryKey:{fields:["threadKey","labelType"],ignoreNulls:[]}},igd_xma_receiver_fetch:{autoIncrement:!1,defaults:{},id:316,indexes:{},primaryKey:{fields:["messageId"],ignoreNulls:[]}},in_thread_banner:{autoIncrement:!1,defaults:{},id:118,indexes:{},primaryKey:{fields:["threadKey","bannerId"],ignoreNulls:[]}},in_thread_banner_ctas:{autoIncrement:!1,defaults:{},id:119,indexes:{},primaryKey:{fields:["bannerId","ctaId"],ignoreNulls:[]}},in_thread_banner_overflow_menu:{autoIncrement:!1,defaults:{},id:120,indexes:{},primaryKey:{fields:["threadKey","bannerId"],ignoreNulls:[]}},inbox_threads_ranges:{autoIncrement:!1,defaults:{hasMoreBefore:!1,isLoadingBefore:!1,minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0])},id:198,indexes:{},primaryKey:{fields:["syncGroup"],ignoreNulls:[]}},inbox_view_state:{autoIncrement:!1,defaults:{value:""},id:277,indexes:{},primaryKey:{fields:["interface_","configName"],ignoreNulls:[]}},inbox_view_state_v2:{autoIncrement:!1,defaults:{value:""},id:281,indexes:{},primaryKey:{fields:["configName"],ignoreNulls:[]}},lightspeed_task_context:{autoIncrement:!1,defaults:{requiresAuthentication:!1},id:306,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},linked_groups:{autoIncrement:!1,defaults:{},id:130,indexes:{threadKey:{fields:["threadKey"],ignoreNulls:[]}},primaryKey:{fields:["id"],ignoreNulls:[]}},live_location_sharers:{autoIncrement:!1,defaults:{},id:149,indexes:{},primaryKey:{fields:["threadKey","userId"],ignoreNulls:[]}},local_message_persistence_store:{autoIncrement:!0,defaults:{},id:301,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},local_message_persistence_store_deleted_messages:{autoIncrement:!0,defaults:{},id:303,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},local_message_persistence_store_supplemental:{autoIncrement:!0,defaults:{},id:302,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},local_message_persistence_store_tag_index:{autoIncrement:!0,defaults:{},id:304,indexes:{offlineThreadingId:{fields:["offlineThreadingId","threadId"],ignoreNulls:[]}},primaryKey:{fields:["pk"],ignoreNulls:[]}},m_suggestions:{autoIncrement:!1,defaults:{},id:21,indexes:{},primaryKey:{fields:["threadKey","timestampMs","suggestionId"],ignoreNulls:[]}},mailbox_metadata:{autoIncrement:!1,defaults:{},id:25,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},mailbox_task_completion_api_tasks:{autoIncrement:!1,defaults:{},id:233,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},mailbox_task_completion_notification_context:{autoIncrement:!1,defaults:{},id:232,indexes:{},primaryKey:{fields:["notificationScopeKey"],ignoreNulls:[]}},media_send_jobs:{autoIncrement:!1,defaults:{},id:51,indexes:{},primaryKey:{fields:["offlineAttachmentId"],ignoreNulls:[]}},media_staging:{autoIncrement:!1,defaults:{progress:0},id:161,indexes:{},primaryKey:{fields:["offlineAttachmentId"],ignoreNulls:[]}},message_requests:{autoIncrement:!1,defaults:{},id:34,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},message_search_queries:{autoIncrement:!1,defaults:{},id:70,indexes:{},primaryKey:{fields:["type_","query","threadKeyV2"],ignoreNulls:[]}},message_search_results:{autoIncrement:!1,defaults:{},id:69,indexes:{},primaryKey:{fields:["type_","query","threadKey","globalIndex"],ignoreNulls:[]}},messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}},messages_optimistic_context:{autoIncrement:!1,defaults:{},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},messages_ranges_v2__generated:{autoIncrement:!1,defaults:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1},id:13,indexes:{},primaryKey:{fields:["threadKey","minTimestampMs","minMessageId"],ignoreNulls:[]}},messages_status:{autoIncrement:!1,defaults:{timestampMs:a.cast([0,0])},id:33,indexes:{},primaryKey:{fields:["messageId","threadKey","timestampMs","threadKeyFromParticipants","contactId","type_"],ignoreNulls:[]}},messaging_privacy_settings:{autoIncrement:!1,defaults:{e2eeXmaPreviewsDisabled:!1,readReceiptsDisabled:a.cast([0,0])},id:288,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},messaging_settings:{autoIncrement:!1,defaults:{},id:83,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},mi_act_mapping_table:{autoIncrement:!1,defaults:{},id:173,indexes:{chat_id:{fields:["clientThreadPk"],ignoreNulls:[]},fk_threads:{fields:["serverThreadKey"],ignoreNulls:[]},jid:{fields:["jid"],ignoreNulls:[]}},primaryKey:{fields:["serverThreadKey","clientThreadPk","jid"],ignoreNulls:[]}},msg_pinned_messages_v2:{autoIncrement:!1,defaults:{},id:205,indexes:{pinnedMessageDisplayOrder:{fields:["threadKey","pinnedTimestampMs","messageId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","pinnedTimestampMs"],ignoreNulls:[]}},msgr_quiet_time:{autoIncrement:!1,defaults:{},id:317,indexes:{quietTimeId:{fields:["quietTimeId"],ignoreNulls:[]}},primaryKey:{fields:["quietTimeId"],ignoreNulls:[]}},mwb_safety_interventions:{autoIncrement:!1,defaults:{},id:327,indexes:{},primaryKey:{fields:["interventionId","interventionEntId"],ignoreNulls:[]}},network_requests:{autoIncrement:!1,defaults:{},id:3,indexes:{},primaryKey:{fields:["taskQueueName","syncDatabaseId"],ignoreNulls:[]}},new_payment_credential_option:{autoIncrement:!1,defaults:{},id:90,indexes:{},primaryKey:{fields:["credentialType"],ignoreNulls:[]}},notification_settings:{autoIncrement:!1,defaults:{includeInSwitchAccountBadges:!1,mutePageAccountMessageReminder:!1},id:175,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},occamadillo_most_recent_message_per_thread:{autoIncrement:!1,defaults:{},id:292,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},offline_queue_thread_status:{autoIncrement:!1,defaults:{},id:295,indexes:{},primaryKey:{fields:["threadJid"],ignoreNulls:[]}},ohai_gateway_key_configs:{autoIncrement:!1,defaults:{},id:313,indexes:{},primaryKey:{fields:["keyId"],ignoreNulls:[]}},p2m_charge:{autoIncrement:!1,defaults:{},id:97,indexes:{},primaryKey:{fields:["orderId"],ignoreNulls:[]}},p2m_invoice:{autoIncrement:!1,defaults:{},id:94,indexes:{},primaryKey:{fields:["orderId"],ignoreNulls:[]}},p2m_invoice_attachment:{autoIncrement:!1,defaults:{},id:95,indexes:{},primaryKey:{fields:["orderId","productItemId"],ignoreNulls:[]}},p2p_request_v2:{autoIncrement:!1,defaults:{},id:100,indexes:{optimistic:{fields:["optimisticTransactionId"],ignoreNulls:[]}},primaryKey:{fields:["timestampMs","transactionId"],ignoreNulls:[]}},p2p_transfer_v2:{autoIncrement:!1,defaults:{},id:101,indexes:{optimistic:{fields:["optimisticTransactionId"],ignoreNulls:[]}},primaryKey:{fields:["timestampMs","transactionId"],ignoreNulls:[]}},pake_messages:{autoIncrement:!1,defaults:{},id:258,indexes:{},primaryKey:{fields:["sessionId"],ignoreNulls:[]}},participant_list_queries:{autoIncrement:!1,defaults:{},id:219,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},participant_search_queries:{autoIncrement:!1,defaults:{},id:214,indexes:{},primaryKey:{fields:["query","threadKey"],ignoreNulls:[]}},participants:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),deliveredWatermarkTimestampMs:a.cast([0,0]),groupParticipantJoinState:a.cast([0,0]),readActionTimestampMs:a.cast([0,0]),readWatermarkTimestampMs:a.cast([0,0]),threadRoles:a.cast([0,0])},id:14,indexes:{contactIdThreadKey:{fields:["contactId","threadKey"],ignoreNulls:[]},threadKeyDeliveredWatermarkTimestampMs:{fields:["threadKey","deliveredWatermarkTimestampMs","contactId"],ignoreNulls:[]},threadKeyReadWatermarkTimestampMs:{fields:["threadKey","readWatermarkTimestampMs","contactId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","contactId"],ignoreNulls:[]}},payment_auth_request_results:{autoIncrement:!1,defaults:{},id:108,indexes:{},primaryKey:{fields:["requestId"],ignoreNulls:[]}},payment_client_auth_token:{autoIncrement:!1,defaults:{},id:107,indexes:{},primaryKey:{fields:["userId","deviceId","appId"],ignoreNulls:[]}},payment_method:{autoIncrement:!1,defaults:{},id:89,indexes:{},primaryKey:{fields:["paymentMethodId"],ignoreNulls:[]}},payment_p2p_risk_verification:{autoIncrement:!1,defaults:{},id:98,indexes:{},primaryKey:{fields:["requestId","transactionId"],ignoreNulls:[]}},payment_pin_verification_results:{autoIncrement:!1,defaults:{},id:113,indexes:{},primaryKey:{fields:["requestId"],ignoreNulls:[]}},payment_price_list_item:{autoIncrement:!1,defaults:{},id:96,indexes:{},primaryKey:{fields:["orderId","id"],ignoreNulls:[]}},payment_server_request_results:{autoIncrement:!1,defaults:{},id:109,indexes:{},primaryKey:{fields:["requestId"],ignoreNulls:[]}},payment_transaction_v2:{autoIncrement:!1,defaults:{},id:99,indexes:{optimistic:{fields:["optimisticTransactionId"],ignoreNulls:[]}},primaryKey:{fields:["timestampMs","transactionId"],ignoreNulls:[]}},payment_type_bank_v2:{autoIncrement:!1,defaults:{},id:88,indexes:{},primaryKey:{fields:["paymentMethodId"],ignoreNulls:[]}},payment_type_card:{autoIncrement:!1,defaults:{},id:86,indexes:{},primaryKey:{fields:["paymentCredentialId"],ignoreNulls:[]}},payment_type_paypal:{autoIncrement:!1,defaults:{},id:85,indexes:{},primaryKey:{fields:["paymentCredentialId"],ignoreNulls:[]}},payment_user_auth:{autoIncrement:!1,defaults:{},id:106,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},payments_eligibility:{autoIncrement:!1,defaults:{},id:92,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},payments_ofac_blacklisted_countries:{autoIncrement:!1,defaults:{},id:93,indexes:{},primaryKey:{fields:["isoCountryCode"],ignoreNulls:[]}},payments_transaction_details_core:{autoIncrement:!1,defaults:{},id:103,indexes:{},primaryKey:{fields:["transactionId"],ignoreNulls:[]}},payments_transaction_details_ctas:{autoIncrement:!1,defaults:{},id:104,indexes:{},primaryKey:{fields:["transactionId","ctaId"],ignoreNulls:[]}},payments_transaction_details_rows:{autoIncrement:!1,defaults:{},id:105,indexes:{},primaryKey:{fields:["transactionId","rowOrder"],ignoreNulls:[]}},paypal_funding_options:{autoIncrement:!1,defaults:{},id:91,indexes:{},primaryKey:{fields:["optionId"],ignoreNulls:[]}},pending_backups_context_v2:{autoIncrement:!0,defaults:{isInstamadillo:!1},id:177,indexes:{fk_pending_tasks:{fields:["pendingBackupTaskId"],ignoreNulls:[]}},primaryKey:{fields:["pk"],ignoreNulls:[]}},pending_fire_and_forget_tasks:{autoIncrement:!0,defaults:{enqueueTimestampMs:a.cast([0,0]),priority:a.cast([0,0])},id:5,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},pending_protobuf_backups_context:{autoIncrement:!0,defaults:{},id:305,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},pending_tasks:{autoIncrement:!0,defaults:{enqueueTimestampMs:a.cast([0,0]),failureCount:a.cast([0,0]),firstExecutedTimestampMs:a.cast([0,0]),minTimeToSyncTimestampMs:a.cast([0,0]),pluginType:a.cast([0,0]),priority:a.cast([0,0]),taskDispatchPriority:a.cast([0,0])},id:2,indexes:{queueNameTaskId:{fields:["queueName","taskId"],ignoreNulls:[]}},primaryKey:{fields:["taskId"],ignoreNulls:[]}},persistent_menu_ctas:{autoIncrement:!1,defaults:{ctaType:"fallback"},id:251,indexes:{},primaryKey:{fields:["threadKey","ctaId"],ignoreNulls:[]}},persistent_menu_items:{autoIncrement:!1,defaults:{},id:77,indexes:{},primaryKey:{fields:["threadKey","ctaId"],ignoreNulls:[]}},pinned_messages_v2:{autoIncrement:!1,defaults:{},id:155,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},pinned_threads:{autoIncrement:!1,defaults:{},id:82,indexes:{pinnedTimestamp:{fields:["pinnedTimestamp","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},poll_options_v2:{autoIncrement:!1,defaults:{sortKeyCreationTimestamp:a.cast([0,0]),sortKeyVotingTimestamp:a.cast([0,0]),voteCount:a.cast([0,0])},id:39,indexes:{},primaryKey:{fields:["pollId","optionId"],ignoreNulls:[]}},poll_votes_v2:{autoIncrement:!1,defaults:{},id:40,indexes:{},primaryKey:{fields:["pollId","optionId","contactId"],ignoreNulls:[]}},polls:{autoIncrement:!1,defaults:{pollType:a.cast([0,0])},id:38,indexes:{},primaryKey:{fields:["pollId"],ignoreNulls:[]}},presence_settings:{autoIncrement:!1,defaults:{hasConvertedToViewSideSettings:!1,isActiveStatusViewable:!1,isActiveStatusViewableOnFb:!1,isActiveStatusViewableOnMessenger:!1},id:187,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},presence_states:{autoIncrement:!1,defaults:{},id:186,indexes:{statusContactId:{fields:["status","contactId"],ignoreNulls:[]}},primaryKey:{fields:["contactId"],ignoreNulls:[]}},profile_sheet_information:{autoIncrement:!1,defaults:{},id:256,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},quick_reply_ctas:{autoIncrement:!1,defaults:{},id:20,indexes:{},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}},ranking_requests:{autoIncrement:!1,defaults:{},id:135,indexes:{},primaryKey:{fields:["scoreType"],ignoreNulls:[]}},ranking_scores:{autoIncrement:!1,defaults:{score:0,scoreIndex:a.cast([0,0])},id:134,indexes:{scoreTypeContactId:{fields:["scoreType","contactId"],ignoreNulls:[]}},primaryKey:{fields:["contactId","scoreType"],ignoreNulls:[]}},reachability_settings:{autoIncrement:!1,defaults:{},id:148,indexes:{},primaryKey:{fields:["audience"],ignoreNulls:[]}},reaction_v2_types:{autoIncrement:!1,defaults:{},id:229,indexes:{},primaryKey:{fields:["reactionFbid"],ignoreNulls:[]}},reactions:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),reactionCreationTimestampMs:a.cast([0,0]),timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:8,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","actorId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","actorId"],ignoreNulls:[]}},reactions_v2:{autoIncrement:!1,defaults:{lastUpdatedTimestampMs:a.cast([0,0]),viewerReactionTimestampMs:a.cast([0,0])},id:226,indexes:{optimistic:{fields:["threadKey","messageId","reactionFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","reactionFbid","messageTimestamp"],ignoreNulls:[]}},reactions_v2_details:{autoIncrement:!1,defaults:{},id:239,indexes:{},primaryKey:{fields:["threadId","messageId","reactorId","reactionFbid"],ignoreNulls:[]}},reactions_v2_details_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:243,indexes:{},primaryKey:{fields:["threadId","messageId","reactionFbid","minTimestampMs"],ignoreNulls:[]}},reactions_v2_details_users:{autoIncrement:!1,defaults:{},id:227,indexes:{},primaryKey:{fields:["reactorId","reactionFbid"],ignoreNulls:[]}},reactions_v2_details_users_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:228,indexes:{},primaryKey:{fields:["reactorId","reactionFbid","minTimestampMs"],ignoreNulls:[]}},roll_call_contributions_v2:{autoIncrement:!1,defaults:{contributionSource:a.cast([0,0]),contributorId:a.cast([0,0])},id:255,indexes:{optimistic:{fields:["rollCallContributionId","rollCallId","messageId","messageTimestampMs"],ignoreNulls:[]}},primaryKey:{fields:["rollCallContributionId","rollCallId","messageId","messageTimestampMs","threadKey"],ignoreNulls:[]}},roll_calls:{autoIncrement:!1,defaults:{canViewWithoutContributing:!1,isBlurred:!1,viewerCanEditPrompt:!1,viewerHasContributed:!1},id:250,indexes:{},primaryKey:{fields:["rollCallId","threadKey"],ignoreNulls:[]}},room_participants:{autoIncrement:!1,defaults:{},id:64,indexes:{optimistic:{fields:["roomId","participantId"],ignoreNulls:[]}},primaryKey:{fields:["roomId","participantId","type_"],ignoreNulls:[]}},rooms:{autoIncrement:!1,defaults:{notificationMutedUntilMs:a.cast([0,0])},id:63,indexes:{optimistic:{fields:["optimisticClientToken"],ignoreNulls:[]}},primaryKey:{fields:["roomId"],ignoreNulls:[]}},rtc_call_events:{autoIncrement:!0,defaults:{isProcessed:!1},id:245,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},rtc_multiway_call_initiation_conference_names:{autoIncrement:!1,defaults:{},id:24,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},rtc_ongoing_calls_on_threads_v2:{autoIncrement:!1,defaults:{},id:23,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},rtc_rooms_on_threads:{autoIncrement:!1,defaults:{},id:181,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},rtc_signals:{autoIncrement:!1,defaults:{},id:22,indexes:{},primaryKey:{fields:["timestampMs","type_"],ignoreNulls:[]}},saved_messages:{autoIncrement:!1,defaults:{},id:165,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},screen_time:{autoIncrement:!0,defaults:{},id:321,indexes:{},primaryKey:{fields:["recordId"],ignoreNulls:[]}},search_queries:{autoIncrement:!1,defaults:{surfaceType:a.cast([0,1])},id:67,indexes:{},primaryKey:{fields:["query","surfaceType"],ignoreNulls:[]}},secure_acs_blinded_tokens:{autoIncrement:!0,defaults:{},id:308,indexes:{},primaryKey:{fields:["tokenId"],ignoreNulls:[]}},secure_acs_configurations:{autoIncrement:!1,defaults:{},id:307,indexes:{},primaryKey:{fields:["configId"],ignoreNulls:[]}},secure_acs_tokens:{autoIncrement:!1,defaults:{},id:309,indexes:{},primaryKey:{fields:["tokenId"],ignoreNulls:[]}},secure_encrypted_backups_client_state:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),encryptionVersion:a.cast([0,0]),revisionVersion:a.cast([0,0])},id:168,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},secure_encrypted_backups_device_supported_versions:{autoIncrement:!1,defaults:{},id:192,indexes:{fk_secure_encrypted_backups_device_supported_versions_device_id:{fields:["deviceId","supportedVersion"],ignoreNulls:[]}},primaryKey:{fields:["deviceId","supportedVersion"],ignoreNulls:[]}},secure_encrypted_backups_devices:{autoIncrement:!1,defaults:{},id:191,indexes:{},primaryKey:{fields:["deviceId"],ignoreNulls:[]}},secure_encrypted_backups_epochs:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:169,indexes:{fk_secure_encrypted_backups_client_state:{fields:["backupId","epochId"],ignoreNulls:[]}},primaryKey:{fields:["epochId"],ignoreNulls:[]}},secure_encrypted_backups_generated_recovery_code:{autoIncrement:!1,defaults:{virtualDeviceType:a.cast([0,1])},id:174,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},secure_encrypted_backups_message_thread_id_context:{autoIncrement:!1,defaults:{},id:180,indexes:{fk_pending_tasks:{fields:["taskId"],ignoreNulls:[]}},primaryKey:{fields:["taskId","listId"],ignoreNulls:[]}},secure_encrypted_backups_recovery_code_status:{autoIncrement:!1,defaults:{},id:178,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},secure_get_secrets_context:{autoIncrement:!1,defaults:{},id:259,indexes:{},primaryKey:{fields:["deviceRegistrationId"],ignoreNulls:[]}},secure_recovery_code_data:{autoIncrement:!1,defaults:{},id:179,indexes:{fk_pending_tasks:{fields:["taskId"],ignoreNulls:[]}},primaryKey:{fields:["taskId"],ignoreNulls:[]}},self_profile:{autoIncrement:!1,defaults:{},id:81,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},server_search_results:{autoIncrement:!1,defaults:{},id:65,indexes:{},primaryKey:{fields:["query","resultId","globalIndex"],ignoreNulls:[]}},server_search_sections:{autoIncrement:!1,defaults:{},id:66,indexes:{},primaryKey:{fields:["query","globalIndex"],ignoreNulls:[]}},shared_album_contributions:{autoIncrement:!1,defaults:{creationTimestampMs:a.cast([0,0]),creatorId:a.cast([0,0])},id:280,indexes:{},primaryKey:{fields:["sharedAlbumId","sharedAlbumContributionId","threadKey","messageId"],ignoreNulls:[]}},shared_albums:{autoIncrement:!1,defaults:{contributionCount:a.cast([0,0]),lastActivityTimestampMs:a.cast([0,0])},id:279,indexes:{},primaryKey:{fields:["sharedAlbumId","threadKey"],ignoreNulls:[]}},shared_albums_multimedia_upload_jobs:{autoIncrement:!1,defaults:{},id:283,indexes:{},primaryKey:{fields:["offlineThreadingId"],ignoreNulls:[]}},shared_albums_multimedia_upload_subjobs_status:{autoIncrement:!1,defaults:{},id:284,indexes:{},primaryKey:{fields:["offlineThreadingId","jobId"],ignoreNulls:[]}},status:{autoIncrement:!1,defaults:{},id:62,indexes:{optimistic:{fields:["optimisticClientId"],ignoreNulls:[]}},primaryKey:{fields:["statusId"],ignoreNulls:[]}},sticker_pack_details:{autoIncrement:!1,defaults:{},id:127,indexes:{},primaryKey:{fields:["packId"],ignoreNulls:[]}},sticker_packs:{autoIncrement:!1,defaults:{},id:122,indexes:{},primaryKey:{fields:["packId"],ignoreNulls:[]}},sticker_search_featured_tags:{autoIncrement:!1,defaults:{},id:125,indexes:{},primaryKey:{fields:["tagIndex"],ignoreNulls:[]}},sticker_search_queries:{autoIncrement:!1,defaults:{},id:124,indexes:{},primaryKey:{fields:["query"],ignoreNulls:[]}},sticker_search_results:{autoIncrement:!1,defaults:{},id:123,indexes:{},primaryKey:{fields:["resultIndex","query","type_"],ignoreNulls:[]}},sticker_store_pack_indices:{autoIncrement:!1,defaults:{},id:128,indexes:{},primaryKey:{fields:["packId"],ignoreNulls:[]}},sticker_to_collection:{autoIncrement:!1,defaults:{},id:126,indexes:{},primaryKey:{fields:["stickerId","collectionId"],ignoreNulls:[]}},stickers:{autoIncrement:!1,defaults:{},id:121,indexes:{stickerPackId:{fields:["stickerPackId","stickerId"],ignoreNulls:[]}},primaryKey:{fields:["stickerId"],ignoreNulls:[]}},stories:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:54,indexes:{optimistic:{fields:["optimisticClientId"],ignoreNulls:[]}},primaryKey:{fields:["storyId"],ignoreNulls:[]}},story_ad_card:{autoIncrement:!1,defaults:{},id:58,indexes:{},primaryKey:{fields:["adPosition","clientToken","cardId"],ignoreNulls:[]}},story_ad_ctas:{autoIncrement:!1,defaults:{},id:59,indexes:{},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},story_ad_unit:{autoIncrement:!1,defaults:{shouldShowAdChoice:!1},id:57,indexes:{},primaryKey:{fields:["adPosition","clientToken"],ignoreNulls:[]}},story_buckets:{autoIncrement:!1,defaults:{pageNum:a.cast([0,0]),readState:a.cast([0,0])},id:53,indexes:{optimistic:{fields:["ownerId","bucketType"],ignoreNulls:[]}},primaryKey:{fields:["bucketId"],ignoreNulls:[]}},story_buckets_paginated_queries:{autoIncrement:!1,defaults:{},id:61,indexes:{},primaryKey:{fields:["queryId"],ignoreNulls:[]}},story_overlays:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:60,indexes:{},primaryKey:{fields:["storyId","storyOverlayId"],ignoreNulls:[]}},story_reactions:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:56,indexes:{optimistic:{fields:["optimisticClientId"],ignoreNulls:[]}},primaryKey:{fields:["reactionId"],ignoreNulls:[]}},story_viewers:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),interactionType:a.cast([0,1])},id:55,indexes:{},primaryKey:{fields:["storyId","viewerContactId","interactionType"],ignoreNulls:[]}},supervision_edge:{autoIncrement:!1,defaults:{},id:319,indexes:{},primaryKey:{fields:["edgeId"],ignoreNulls:[]}},supervision_metadata:{autoIncrement:!1,defaults:{},id:320,indexes:{},primaryKey:{fields:["supervisionMetadataId"],ignoreNulls:[]}},support_translations:{autoIncrement:!1,defaults:{},id:300,indexes:{},primaryKey:{fields:["messageId","targetLocale"],ignoreNulls:[]}},sync_group_threads_ranges:{autoIncrement:!1,defaults:{hasMoreBefore:!1,isLoadingBefore:!1,minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0])},id:220,indexes:{},primaryKey:{fields:["syncGroup","parentThreadKey"],ignoreNulls:[]}},sync_groups:{autoIncrement:!1,defaults:{canIgnoreTimestamp:!1,lastSyncCompletedTimestampMs:a.cast([0,0]),lastSyncRequestTimestampMs:a.cast([0,0]),minTimeToSyncTimestampMs:a.cast([0,0]),priority:a.cast([0,0]),sendSyncParams:!1,syncChannel:a.cast([0,1]),syncStatus:a.cast([0,0])},id:1,indexes:{},primaryKey:{fields:["groupId"],ignoreNulls:[]}},taken_down_threads:{autoIncrement:!1,defaults:{},id:212,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},third_party_id_store:{autoIncrement:!1,defaults:{},id:242,indexes:{},primaryKey:{fields:["platform"],ignoreNulls:[]}},thread_bans:{autoIncrement:!1,defaults:{},id:297,indexes:{},primaryKey:{fields:["threadKey","contactId"],ignoreNulls:[]}},thread_creation_status:{autoIncrement:!1,defaults:{},id:278,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},thread_label_mappings:{autoIncrement:!1,defaults:{sortKey:a.cast([0,0])},id:237,indexes:{},primaryKey:{fields:["threadKey","labelId"],ignoreNulls:[]}},thread_labels:{autoIncrement:!1,defaults:{},id:215,indexes:{},primaryKey:{fields:["labelId"],ignoreNulls:[]}},thread_limits:{autoIncrement:!1,defaults:{},id:287,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_nullstate:{autoIncrement:!1,defaults:{ctaType:a.cast([0,0]),privacyTextCtaType:a.cast([0,0])},id:28,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_nullstate_ctas:{autoIncrement:!1,defaults:{},id:29,indexes:{threadKeyCtaId:{fields:["threadKey","ctaId"],ignoreNulls:[]}},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},thread_point_query_ttrc:{autoIncrement:!1,defaults:{},id:286,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_proactive_warning_settings:{autoIncrement:!1,defaults:{},id:183,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_seen_heads_queries:{autoIncrement:!1,defaults:{},id:325,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_themes:{autoIncrement:!1,defaults:{backgroundUrl:"",iconUrl:"",iconUrlFallback:"",isDeprecated:!1},id:116,indexes:{},primaryKey:{fields:["fbid"],ignoreNulls:[]}},threads:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),capabilities4:a.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),ongoingCallState:a.cast([0,0]),readReceiptsDisabledV2:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),unreadDisappearingMessageCount:a.cast([0,0]),unsendLimitMs:a.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},threads_optimistic_context:{autoIncrement:!1,defaults:{},id:32,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},threads_optimistic_metadata:{autoIncrement:!1,defaults:{},id:312,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},threads_ranges_v2__generated:{autoIncrement:!1,defaults:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxLastActivityTimestampMs:a.cast([0,0]),maxThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0])},id:10,indexes:{},primaryKey:{fields:["parentThreadKey","minThreadKey","minLastActivityTimestampMs"],ignoreNulls:[]}},transaction_history:{autoIncrement:!1,defaults:{timestampMs:a.cast([0,0])},id:102,indexes:{},primaryKey:{fields:["transactionId"],ignoreNulls:[]}},typing_indicator:{autoIncrement:!1,defaults:{},id:52,indexes:{},primaryKey:{fields:["threadKey","senderId"],ignoreNulls:[]}},universal_search_recent_searches:{autoIncrement:!1,defaults:{lastAccessedTimestampMs:a.cast([0,0])},id:68,indexes:{},primaryKey:{fields:["resultId"],ignoreNulls:[]}},user_visible_errors:{autoIncrement:!0,defaults:{},id:6,indexes:{},primaryKey:{fields:["errorId"],ignoreNulls:[]}},user_visible_network_connectivity_error:{autoIncrement:!0,defaults:{},id:115,indexes:{},primaryKey:{fields:["statusId"],ignoreNulls:[]}},value_model_features:{autoIncrement:!1,defaults:{},id:137,indexes:{},primaryKey:{fields:["feature"],ignoreNulls:[]}},value_model_output:{autoIncrement:!1,defaults:{},id:138,indexes:{},primaryKey:{fields:["product","contactId"],ignoreNulls:[]}},value_model_rules:{autoIncrement:!1,defaults:{},id:136,indexes:{},primaryKey:{fields:["product","ruleIndex"],ignoreNulls:[]}},video_chat_links_attempted_joiners:{autoIncrement:!1,defaults:{},id:79,indexes:{},primaryKey:{fields:["userId","url"],ignoreNulls:[]}},video_chat_links_joining:{autoIncrement:!1,defaults:{canAnonymousUsersJoin:!1},id:78,indexes:{optimistic:{fields:["optimisticClientToken"],ignoreNulls:[]}},primaryKey:{fields:["url","optimisticClientToken"],ignoreNulls:[]}},work_contact_info:{autoIncrement:!1,defaults:{},id:210,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},work_genai:{autoIncrement:!1,defaults:{},id:293,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},workroom_creation_requests:{autoIncrement:!1,defaults:{},id:252,indexes:{},primaryKey:{fields:["creationId"],ignoreNulls:[]}},workroom_invites:{autoIncrement:!1,defaults:{},id:257,indexes:{},primaryKey:{fields:["inviteId"],ignoreNulls:[]}},workrooms_co_presence_states:{autoIncrement:!1,defaults:{},id:246,indexes:{userCoPresence:{fields:["userId","coPresenceObjectId"],ignoreNulls:[]}},primaryKey:{fields:["userId"],ignoreNulls:[]}}});var h=Object.freeze(babelHelpers["extends"]({},c,{e2ee_composer_draft_link_preview:{autoIncrement:!1,defaults:{},id:329,indexes:{},primaryKey:{fields:["draftId"],ignoreNulls:[]}}})),i=Object.freeze(babelHelpers["extends"]({},h,{occamadillo_most_recent_message_per_thread:{autoIncrement:!1,defaults:{},id:292,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),j=Object.freeze(babelHelpers["extends"]({},i,{occamadillo_most_recent_message_per_thread:{autoIncrement:!1,defaults:{},id:292,indexes:{fetchTimestamp:{fields:["fetchTimestampMs"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),k=Object.freeze(babelHelpers["extends"]({},j,{messages_optimistic_context:{autoIncrement:!1,defaults:{},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),l=Object.freeze(babelHelpers["extends"]({},k,{auto_restore_opt_out:{autoIncrement:!1,defaults:{},id:330,indexes:{},primaryKey:{fields:["optOutKey"],ignoreNulls:[]}}})),m=Object.freeze(babelHelpers["extends"]({},l,{messages_optimistic_context:{autoIncrement:!1,defaults:{transportKey:"FBBroker"},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),n=Object.freeze(babelHelpers["extends"]({},m,{messenger_fts_threads:{autoIncrement:!1,defaults:{nextMessageTimestamp:a.cast([-1,4294967295]),status:a.cast([0,0])},id:331,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},messenger_fts_threads_queries:{autoIncrement:!1,defaults:{sessionId:""},id:332,indexes:{},primaryKey:{fields:["queryId"],ignoreNulls:[]}}})),o=Object.freeze(babelHelpers["extends"]({},n,{messenger_fts_threads:{autoIncrement:!1,defaults:{nextMessageTimestamp:a.cast([-1,4294967295]),status:a.cast([0,0]),threadType:a.cast([0,0])},id:331,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}}})),p=Object.freeze(babelHelpers["extends"]({},o,{filtered_threads_ranges_v3__generated:{autoIncrement:!1,defaults:{folderName:"inbox",hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxLastActivityTimestampMs:a.cast([0,0]),maxThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0]),secondaryThreadRangeFilter:a.cast([0,0]),syncGroup:a.cast([0,1]),threadRangeFilterValue:""},id:247,indexes:{},primaryKey:{fields:["parentThreadKey","minThreadKey","minLastActivityTimestampMs","threadRangeFilter","folderName","secondaryThreadRangeFilter","threadRangeFilterValue"],ignoreNulls:[]}}})),q=Object.freeze(babelHelpers["extends"]({},p,{messages_optimistic_context:{autoIncrement:!1,defaults:{transportKey:"FBBroker"},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),r=Object.freeze(babelHelpers["extends"]({},q,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),s=Object.freeze(babelHelpers["extends"]({},r,{media_receiver_fetch_transport_mappings:{autoIncrement:!1,defaults:{},id:333,indexes:{},primaryKey:{fields:["receiverFetchId"],ignoreNulls:[]}}})),t=Object.freeze(babelHelpers["extends"]({},s,{threads:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),capabilities4:a.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),ongoingCallState:a.cast([0,0]),readReceiptsDisabledV2:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),unreadDisappearingMessageCount:a.cast([0,0]),unsendLimitMs:a.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),u=Object.freeze(babelHelpers["extends"]({},t,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),v=Object.freeze(babelHelpers["extends"]({},u,{attachment_items:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0])},id:18,indexes:{fk_attachments:{fields:["threadKey","messageId","attachmentFbid","attachmentIndex"],ignoreNulls:[]}},primaryKey:{fields:["attachmentFbid","attachmentIndex"],ignoreNulls:[]}},attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),w=Object.freeze(babelHelpers["extends"]({},v,{client_thread_proactive_warning_settings:{autoIncrement:!1,defaults:{},id:241,indexes:{},primaryKey:{fields:["threadPk"],ignoreNulls:[]}}}));e=Object.freeze({afterUpgrade:d("LSDbV1.upgrade").afterUpgrade,revision:16,tables:w,upgrade:{1:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(h),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),2:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(i),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),3:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(j),c=b.defaults;b=b.tableData;yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1)});function c(b){return a.apply(this,arguments)}return c}(),4:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(k),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),5:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(l),c=b.defaults;b=b.tableData;yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),6:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(m),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),7:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(n),c=b.defaults;b=b.tableData;yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),8:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(o),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),9:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(p),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),10:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(q),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),11:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(r),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),12:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(s),c=b.defaults;b=b.tableData;yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),13:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(t),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),14:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(u),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),15:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(v),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),16:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(w),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}()}});g["default"]=e}),98);
__d("ReStoreDbVersion",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a}function b(a){return a}function d(a,b){if(b in a)return a[b];throw c("FBLogger")("restore_db_migrations").mustfixThrow("Cannot find version: %s",b)}g.cast=a;g.uncast=b;g.castVersion=d}),98);
__d("LSDb",["LSDbV1","ReStoreDbVersion","justknobx"],(function(a,b,c,d,e,f,g){"use strict";a=Object.freeze({V1:d("ReStoreDbVersion").cast("V1")});e={targetVersion:d("ReStoreDbVersion").castVersion(a,"V"+((b=c("justknobx")._("2392"))!=null?b:0)),versions:{V1:c("LSDbV1")},legacyVersions:{},versionOrder:["V1"]};g["default"]=e;g.LSDbVersion=a}),98);
__d("ReStoreVersionedSchemaProvider",["FBLogger","Promise","ReStoreDefaultValueMigration","ReStoreIndicesMigration","ReStoreMigrateUtil","ReStorePersistedMetadata","ReStoreVersionedSchemaProviderUtil","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b,c){this.defaults={};this.$1="";this.$1=a;this.$2=b;a=b.versions[b.targetVersion];b=d("ReStoreVersionedSchemaProviderUtil").getTableData(a.tables,c);a=b.defaults;c=b.tableData;this.tableNames=c.tableNames;this.tableIds=c.tableIds;this.defaults=a}var e=a.prototype;e.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c,e;(c=b.loggers.logHistory)==null?void 0:c.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating from scratch...");(c=b.loggers.userFlow)==null?void 0:c.addPoint(this.$1+"_migration_versioned_from_scratch");c={tableIds:this.tableIds,tableNames:this.tableNames};yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(b.transaction,c,a,this.defaults);(e=b.loggers.logHistory)==null?void 0:e.debug("migration default values finished");yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(b,c,this.defaults,a);(e=b.loggers.logHistory)==null?void 0:e.debug("migration indices finished");return a?d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA:d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE});function c(b,c){return a.apply(this,arguments)}return c}();e.$4=function(a){var d=this,e=this.$2.versionOrder.indexOf(a);if(e===-1)throw c("FBLogger")("ReStoreVersionedSchemaProvider").mustfixThrow("[%s][ReStoreVersionedSchemaProvider] Cannot resolve version %s",this.$1,a);return(h||(h=b("Promise"))).all(this.$2.versionOrder.slice(e,this.$2.versionOrder.indexOf(this.$2.targetVersion)+1).map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a in d.$2.versions)return{meta:d.$2.versions[a],version:a};else if(a in d.$2.legacyVersions)return{meta:yield d.$2.legacyVersions[a].load(),version:a};else throw c("FBLogger")("ReStoreVersionedSchemaProvider").mustfixThrow("[%s][ReStoreVersionedSchemaProvider] Cannot find version %s in either versions or legacyVersions",d.$1,a)});return function(b){return a.apply(this,arguments)}}()))};e.$5=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f,g=this.$2.targetVersion,h=this.$2.versions[g].revision;(f=e.loggers)==null?void 0:(f=f.logHistory)==null?void 0:f.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] currentVersion: "+a+"R"+b+", targetVersion: "+g+"R"+h);if(g===a&&h===b){(f=e.loggers)==null?void 0:(f=f.logHistory)==null?void 0:f.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] DB already up to date, skipping migration");return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED}(f=e.loggers.logHistory)==null?void 0:f.debug("migration versioned incremental");(f=e.loggers.userFlow)==null?void 0:f.addPoint(this.$1+"_migration_versioned_incremental");f=(yield this.$4(a));if(f.length===0||b>h){c("FBLogger")("ReStoreVersionedSchemaProvider","migrate").mustfix("[%s][ReStoreVersionedSchemaProvider][DANGEROUS] Backward migration required from %sR%s to %sR%s, running #migrateFromScratch",this.$1,a,""+b,g,""+h);return this.$3(!1,e)}for(g of f){h=g.meta;f=g.version;for(var i=f===a?b+1:0;i<=h.revision;i++){var j;(j=e.loggers)==null?void 0:(j=j.logHistory)==null?void 0:j.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating to "+f+"R"+i);(j=e.loggers.userFlow)==null?void 0:j.addPoint(this.$1+"_migration_versioned_"+f+"{$revision}_start");yield h.upgrade[i]==null?void 0:h.upgrade[i](e);yield h.afterUpgrade[i]==null?void 0:h.afterUpgrade[i](e.transaction);(j=e.loggers.userFlow)==null?void 0:j.addPoint(this.$1+"_migration_versioned_"+f+"{$revision}_end")}}return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE});function e(b,c,d){return a.apply(this,arguments)}return e}();e.$6=function(a,c,e,f,g){var i;(i=g.loggers.userFlow)==null?void 0:i.addPoint(this.$1+"_migration_versioned_hash_start");if(c===e&&a===f){(i=g.loggers.userFlow)==null?void 0:i.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(this.$1,{string:{fromHashSchemaProvider:"no_changes"}}));(c=g.loggers)==null?void 0:(e=c.logHistory)==null?void 0:e.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating from Hash schema provider, no changes are detected");return(h||(h=b("Promise"))).resolve(d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA)}else{(a=g.loggers.userFlow)==null?void 0:a.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(this.$1,{string:{fromHashSchemaProvider:"changes"}}));(f=g.loggers)==null?void 0:(i=f.logHistory)==null?void 0:i.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating from Hash schema provider, changed detected, calling #migrateFromScratch");return this.$3(!1,g)}};e.migrate=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,c,e;(b=a.loggers.logHistory)==null?void 0:b.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Start migration");(b=a.loggers.userFlow)==null?void 0:b.addPoint(this.$1+"_migration_versioned_start");b=d("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion.hash(this.defaults);var f=d("ReStorePersistedMetadata").ReStorePersistedSchemaVersion.hash({tableIds:this.tableIds,tableNames:this.tableNames}),g=new(d("ReStorePersistedMetadata").ReStorePersistedSchemaVersion)(this.$1),h=new(d("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion)(this.$1),i=(yield g.read(a.storeTx));c=(c=(yield h.read(a.storeTx)))==null?void 0:c.defaultValuesVersion;var j=this.$2.versions[this.$2.targetVersion];(e=a.loggers.userFlow)==null?void 0:e.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(this.$1,{"int":{defaultValuesVersion:b,schemaVersion:f,storeDefaultValuesVersion:c,storeRevision:i==null?void 0:i.revision,storeSchemaVersion:i==null?void 0:i.schemaVersion,targetRevision:j.revision},string:{schemaProviderType:"versioned",storeVersion:i==null?void 0:i.version,targetVersion:this.$2.targetVersion}}));(e=a.loggers.logHistory)==null?void 0:e.debug("storeSchemaVersion: "+((e=i==null?void 0:i.schemaVersion)!=null?e:"null"));(e=a.loggers.logHistory)==null?void 0:e.debug("storeDefaultValuesVersion: "+((e=c)!=null?e:"null"));e=(yield i!=null&&i.revision!=null&&i.version!=null?this.$5(i.version,i.revision,a):(i==null?void 0:i.schemaVersion)!=null?this.$6(c,i.schemaVersion,f,b,a):this.$3(!0,a));if(e!==d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED){g.write(a.storeTx,{revision:j.revision,schemaVersion:f,version:this.$2.targetVersion});h.write(a.storeTx,{defaultValuesVersion:b});(c=a.loggers.logHistory)==null?void 0:c.debug("version is written")}(i=a.loggers.logHistory)==null?void 0:i.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] End Migration. Result: "+e+", SchemaVersion: "+f+", Version: "+this.$2.targetVersion+", Revision: "+j.revision);(g=a.loggers.userFlow)==null?void 0:g.addPoint(this.$1+"_migration_versioned_end");return e});function c(b){return a.apply(this,arguments)}return c}();return a}();g["default"]=a}),98);
__d("LSVersionedSchemaProvider",["LSConstants","LSDb","LSDbForeignKeys","ReStoreVersionedSchemaProvider"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("ReStoreVersionedSchemaProvider"))(d("LSConstants").LS_SCHEMA_NAME,c("LSDb"),c("LSDbForeignKeys"));g.schemaProvider=a}),98);
__d("MemoriesCometStoryPickerContainerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7337034979740975"}),null);/*FB_PKG_DELIM*/
__d("baseTextWithEntitiesApplyRenderers",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=i.Fragment;function a(a,b,c,d,e,f,g,h,k){var l=a.__typename;h=Object.prototype.hasOwnProperty.call(h,l)?h[l].concat(k):k;return i.jsx(j,{children:h&&h.length>0?h.reduce(function(d,f){return f(d,a,c,e,b)},f):d},g)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("baseTextWithEntitiesApplyTextTransforms",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b!=null?b.reduce(function(a,b){return b(a)},a):a}a.displayName=a.name+" [from "+e.id+"]";f["default"]=a}),66);
__d("baseTextWithEntitiesProcessRange",["UnicodeUtils","baseTextWithEntitiesApplyRenderers","baseTextWithEntitiesApplyTextTransforms","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=j.Fragment;function a(a,b,e,f,g,h,l,m,n,o,p,q){a=(i||(i=d("UnicodeUtils"))).substr(a,b,e-b);e=n.length;a.length>0&&m.push(j.jsx(k,{children:c("baseTextWithEntitiesApplyTextTransforms")(a,o)},"c"+b+"_"+e+"_"+q));o=n.pop();n[n.length-1].subElements.push(c("baseTextWithEntitiesApplyRenderers")(f,g,h,m,a,m,b+"_"+e+"_"+q,l,p));return o}g["default"]=a}),98);
__d("baseTextWithEntitiesSortRanges",[],(function(a,b,c,d,e,f){"use strict";function a(a){return Array.from(a).sort(function(a,b){return a.offset-b.offset||b.length-a.length})}f["default"]=a}),66);
__d("BaseCometTextWithEntitiesBase.react",["UnicodeUtils","baseTextWithEntitiesApplyRenderers","baseTextWithEntitiesApplyTextTransforms","baseTextWithEntitiesProcessRange","baseTextWithEntitiesSortRanges","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=j.Fragment;function a(a){var b,e=a.ranges;e=e===void 0?[]:e;var f=a.renderers,g=a.transforms;g=g===void 0?[]:g;var h=a.text;a=a.disableRangeSort;a=a===void 0?!1:a;f=(f=f)!=null?f:{};var l=0;b=(b=Object.prototype.hasOwnProperty.call(f,"*")?f["*"]:[])!=null?b:[];a=a?e:c("baseTextWithEntitiesSortRanges")(e);e=[{entity:{__typename:""},entity_is_weak_reference:!1,entityType:"",length:h.length,offset:0,subElements:[]}];for(var m=0;m<a.length;++m){var n=a[m],o=n.entity,p=n.entity_is_weak_reference,q=n.entity_type,r=n.length;n=n.offset;if(l>=h.length||n>h.length)break;var s=e[e.length-1],t=s.entity,u=s.entity_is_weak_reference,v=s.entityType,w=s.length,x=s.offset;s=s.subElements;var y=x+w;while(y<=n&&e.length>1){c("baseTextWithEntitiesProcessRange")(h,l,y,t,u,v,f,s,e,g,b,m);l=y;var z=e[e.length-1];t=z.entity;u=z.entity_is_weak_reference;v=z.entityType;w=z.length;x=z.offset;s=z.subElements;y=x+w}l<n&&(e[e.length-1].subElements.push(j.jsx(k,{children:c("baseTextWithEntitiesApplyTextTransforms")((i||(i=d("UnicodeUtils"))).substr(h,l,n-l),g)},"c"+l+"_"+e.length)),l=n);if(x<=n&&y>=n+r){e.push({entity:o,entity_is_weak_reference:(z=p)!=null?z:null,entityType:(y=q)!=null?y:null,length:r,offset:n,subElements:[]})}else{z=(i||(i=d("UnicodeUtils"))).substr(h,n,r);y=c("baseTextWithEntitiesApplyTextTransforms")(z,g);e[e.length-1].subElements.push(c("baseTextWithEntitiesApplyRenderers")(o,(o=p)!=null?o:null,(p=q)!=null?p:null,z,z,y,l+"_"+e.length,f,b));l=n+r}}while(e.length>1){o=e[e.length-1];var t=o.entity,u=o.entity_is_weak_reference,v=o.entityType,w=o.length,x=o.offset;s=o.subElements;q=x+w;c("baseTextWithEntitiesProcessRange")(h,l,q,t,u,v,f,s,e,g,b,e.length);l=q}if(l<h.length){p=e[e.length-1].subElements;p.push(j.jsx(k,{children:c("baseTextWithEntitiesApplyTextTransforms")((i||(i=d("UnicodeUtils"))).substr(h,l),g)},"c"+l))}return j.jsx(j.Fragment,{children:e[e.length-1].subElements})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometSeeMoreExpandingUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){var c=b;while(c>=0){if(a.charAt(c)===" "||a.charAt(c)==="\n")break;c-=1}a.charAt(b)!=="\n"?c+=1:c=b+1;b=a.substring(c);a=/\s/;b=b.search(a)+c-1;return{truncatedEntityEndIndex:b,truncatedEntityOffset:c}}function h(a,b,c){var d=[];b=g(b,c);c=b.truncatedEntityEndIndex;b=b.truncatedEntityOffset;b=b;var e=!1;for(var a=a,f=Array.isArray(a),h=0,a=f?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(f){if(h>=a.length)break;i=a[h++]}else{h=a.next();if(h.done)break;i=h.value}i=i;var j=i.entity,k=i.entity_type,l=i.length;i=i.offset;i!=null&&l!=null&&j!=null&&j.__typename!=null&&(d.push({entity:j,entity_type:k,length:l,offset:i}),!e&&i+l>=c&&b>=i&&(b=i,e=!0))}e||d.push({entity:{__typename:"SeeMoreTruncation"},entity_type:"SEE_MORE_ANCHOR",length:0,offset:b});return{newEntityRanges:d,newTruncatedEntityOffset:b}}function i(a,b){var c=[],d=[];if(b!=null)for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;var h=g.entity,i=g.entity_type,j=g.length;g=g.offset;g!=null&&j!=null&&h!=null&&h.__typename!=null&&(g<b?(c.push({entity:h,entity_type:i,length:j,offset:g}),g+j>b&&d.push({entity:h,entity_type:i,length:g+j-b,offset:0})):d.push({entity:h,entity_type:i,length:j,offset:g-b}))}return{entitiesBeforeTruncatedOffset:c,entitiesFromTruncatedOffset:d}}function j(a,b,c){a=h(a,b,c);b=a.newEntityRanges;c=a.newTruncatedEntityOffset;a=i(b,c);b=a.entitiesBeforeTruncatedOffset;a=a.entitiesFromTruncatedOffset;return{entitiesBeforeTruncatedOffset:b,entitiesFromTruncatedOffset:a,newTruncatedEntityOffset:c}}function a(a,b,c){var d=[],e=[],f=-1,g=-1,h=-1;if(!a)return{filteredEntitiesBeforeTruncatedPosition:d,filteredEntitiesFromTruncatedPosition:e,hiddenContentOffset:f,truncatedLineIndex:g,truncatedParagraphIndex:h};a=0;var i;for(var k=0;k<b.length;k++){var l=b[k];if(Array.isArray(l)&&c!=null&&c.current!=null){var m=c.current;for(var n=0;n<l.length;n++){var o=l[n].ranges,p=l[n].text,q=p.length;i=m-a;a+=q;if(h<0&&i>=0&&a>=m){h=k;g=n;i=j(o,p,m-a+q);o=i.entitiesBeforeTruncatedOffset;p=i.entitiesFromTruncatedOffset;q=i.newTruncatedEntityOffset;d=o;e=p;f=q;break}}}if(h>=0&&g>=0)break}return{filteredEntitiesBeforeTruncatedPosition:d,filteredEntitiesFromTruncatedPosition:e,hiddenContentOffset:f,truncatedLineIndex:g,truncatedParagraphIndex:h}}f.getTruncatedEntityRangesAfterExpandingSeeMore=h;f.splitEntityRangesIntoRegularAndHiddenParts=i;f.getEntityRangesWithTruncatedEntityAndSplitIntoTwoParts=j;f.filterParagraphsGetTruncatedLinesEntityRangesAndIndex=a}),66);
__d("CometSplitPointForText",["EmojiRendererData","UnicodeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,c,e){c===void 0&&(c=8);e===void 0&&(e=0);var f=null,g=a.split("\n"),h=(i||(i=d("UnicodeUtils"))).strlen(a);h>b&&h-b>e&&(f=b);if(g.length>c){e=g.slice(0,c).join("\n").length;f!==null?f=Math.min(e,f):f=e}if(f==null)return f;else{b=f+j(a,f);return b<h?b:null}}function j(a,b){var e=b>0&&(h||(h=c("EmojiRendererData"))).isZWJ((i||(i=d("UnicodeUtils"))).charAt(a,b-1).codePointAt(0));return k(a,e?b-1:b)}function k(a,b){var e=(i||(i=d("UnicodeUtils"))).charAt(a,b);if(e!==""){e=e.codePointAt(0);if((h||(h=c("EmojiRendererData"))).isEmojiModifier(e)||(h||(h=c("EmojiRendererData"))).isEmojiVariationSelector(e)||(h||(h=c("EmojiRendererData"))).isTextVariationSelector(e))return 1+k(a,b+1);else if((h||(h=c("EmojiRendererData"))).isZWJ(e)){e=(i||(i=d("UnicodeUtils"))).charAt(a,b+1);if((h||(h=c("EmojiRendererData"))).isEmojiModifierBase(e.codePointAt(0)))return 2+k(a,b+2)}}return 0}g.findSplitPointForText=a}),98);
__d("baseTextWithEntitiesAdjustRanges",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return a.map(function(a){return babelHelpers["extends"]({},a,{offset:a.offset-b})}).filter(function(a){return a.offset>=0&&a.offset<c})}f["default"]=a}),66);
__d("baseTextWithEntitiesFilterRanges",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=[];for(var c=0;c<a.length;c++){var d=a[c];if(d!=null&&d.offset!=null&&d.length!=null&&d.entity!=null&&d.entity.__typename!=null){var e;b.push({entity:d.entity,entity_is_weak_reference:(e=d.entity_is_weak_reference)!=null?e:null,length:d.length,offset:d.offset})}}return b}f["default"]=a}),66);
__d("baseTextWithEntitiesSplitRangesAndTextIntoParagraphs",["UnicodeUtils","baseTextWithEntitiesAdjustRanges"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b=a.ranges;a=a.text;var e=0;return a.split("\n").map(function(a){var f=c("baseTextWithEntitiesAdjustRanges")(b,e,(h||(h=d("UnicodeUtils"))).strlen(a));e+=h.strlen(a)+1;return{ranges:f,text:a}}).filter(function(a){return a.text.trim()!==""})}function a(a,b){var e=a.ranges;a=a.text;var f=0;return a.split(/(?=\n\s*\n)/).map(function(a){var g,j;g=(g=a.match(/(^\n\s*\n)?([^]*$)/))!=null?g:[];j=(j=g[1])!=null?j:"";g=(g=g[2])!=null?g:a;j=c("baseTextWithEntitiesAdjustRanges")(e,f+j.length,(h||(h=d("UnicodeUtils"))).strlen(g));f+=h.strlen(a);return b?i({ranges:j,text:g}):{ranges:j,text:g}})}g["default"]=a}),98);
__d("BaseCometTextWithEntities.react",["BaseCometTextWithEntitiesBase.react","CometSeeMoreExpandingUtils","CometSplitPointForText","CometTrackingNodeProvider.react","FocusRegion.react","UnicodeUtils","baseTextWithEntitiesAdjustRanges","baseTextWithEntitiesFilterRanges","baseTextWithEntitiesSplitRangesAndTextIntoParagraphs","focusScopeQueries","getTextDirectionAttribute","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));b=i;var l=b.useCallback,m=b.useRef,n=b.useState,o=.6,p=20,q={paragraph:{marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",wordWrap:"x1vvkbs",$$css:!0},paragraphSpaced:{marginTop:"xtlvy1s",$$css:!0},preserveWhiteSpace:{whiteSpace:"x126k92a",$$css:!0}},r={auto:{textAlign:"start"},center:{textAlign:"center"},ltr:{textAlign:"left"},rtl:{textAlign:"right"}};function a(a){var b=a.maxLength;b=b===void 0?800:b;var e=a.maxLines;e=e===void 0?8:e;var f=a.ranges;f=f===void 0?[]:f;var g=a.text,i=a.truncationFactor_DEPRECATED;i=i===void 0?o:i;var s=a.truncationStyle;s=s===void 0?"none":s;var t=a.truncationThreshold;t=t===void 0?p:t;var u=a.withLineBreaks;u=u===void 0?!1:u;var v=a.withParagraphs;v=v===void 0?!1:v;var w=a.onToggleExpanded,x=a.seeMoreFragment,y=a.expanded,z=a.preserveWhiteSpace,A=z===void 0?!1:z,B=a.align;z=a.maintainExpansionState;var C=z===void 0?!1:z;z=a.suffix;var D=babelHelpers.objectWithoutPropertiesLoose(a,["maxLength","maxLines","ranges","text","truncationFactor_DEPRECATED","truncationStyle","truncationThreshold","withLineBreaks","withParagraphs","onToggleExpanded","seeMoreFragment","expanded","preserveWhiteSpace","align","maintainExpansionState","suffix"]);a=n((a=y)!=null?a:!1);var E=a[0],F=a[1],G=y!=null?y:E,H=m(-1);a=l(function(){C||F(function(a){return!a}),w!=null&&w()},[w,C]);y=c("baseTextWithEntitiesFilterRanges")(f);E=g;if(s!=="none"&&!G){f=d("CometSplitPointForText").findSplitPointForText(g,b*i,e,t);f!=null&&(E=(j||(j=d("UnicodeUtils"))).substring(g,0,f),y=c("baseTextWithEntitiesAdjustRanges")(y,0,j.strlen(E)),H.current=f)}var I=x!=null?k.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:44,children:x(G,H.current,a)}):null;if(!v)return k.jsxs(k.Fragment,{children:[k.jsx(c("BaseCometTextWithEntitiesBase.react"),babelHelpers["extends"]({ranges:y,text:E},D)),I]});var J=c("baseTextWithEntitiesSplitRangesAndTextIntoParagraphs")({ranges:y,text:E},u);J=J.filter(function(a){return!Array.isArray(a)||a.length>0});s=d("CometSeeMoreExpandingUtils").filterParagraphsGetTruncatedLinesEntityRangesAndIndex(G,J,H);var K=s.filteredEntitiesBeforeTruncatedPosition,L=s.filteredEntitiesFromTruncatedPosition,M=s.hiddenContentOffset,N=s.truncatedLineIndex,O=s.truncatedParagraphIndex,P=z!=null?k.jsx(k.Fragment,{children:z}):null;return k.jsx(k.Fragment,{children:J.map(function(a,b){return k.jsx("div",{className:(h||(h=c("stylex")))(q.paragraph,b!==0&&q.paragraphSpaced,A&&q.preserveWhiteSpace),children:Array.isArray(a)?a.map(function(e,f){var g=e.ranges;e=e.text;var h=B==="center"?B:c("getTextDirectionAttribute")(e);return k.jsxs("div",{dir:h,style:r[h],children:[G&&O===b&&N===f?k.jsxs(k.Fragment,{children:[k.jsx(c("BaseCometTextWithEntitiesBase.react"),babelHelpers["extends"]({ranges:K,text:e.substring(0,M)},D)),k.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").focusableScopeQuery,children:k.jsx(c("BaseCometTextWithEntitiesBase.react"),babelHelpers["extends"]({ranges:L,text:e.substring(M)},D))}),P]}):k.jsxs(k.Fragment,{children:[k.jsx(c("BaseCometTextWithEntitiesBase.react"),babelHelpers["extends"]({ranges:g,text:e},D)),H.current===-1&&P]}),b===J.length-1&&f===a.length-1?I:null]},f)}):k.jsxs(k.Fragment,{children:[k.jsx(c("BaseCometTextWithEntitiesBase.react"),babelHelpers["extends"]({ranges:a.ranges,text:a.text},D)),H.current===-1&&P,b===J.length-1?I:null]})},b)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseCometTextWithExpansionEntities.react",["fbt","BaseCometTextWithEntities.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useCallback;function a(a){var b=a.LinkRenderer,e=a.seeLessLinkProps,f=a.seeMoreLinkProps,g=a.truncationStyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["LinkRenderer","seeLessLinkProps","seeMoreLinkProps","truncationStyle"]);var i=k(function(a,c,i){if(a){if(g==="see-more-and-less")return j.jsxs(j.Fragment,{children:[" ",j.jsx(b,babelHelpers["extends"]({onClick:i,role:"button",testid:void 0},e,{children:h._("__JHASH__HOgvcwAgZf9__JHASH__")}))]},"seeless")}else{if(g==="none")return null;if(c!=null&&c!==-1)switch(g){case"ellipsis-only":return j.jsx(j.Fragment,{children:h._("__JHASH__7lNkK2cLc2S__JHASH__")},"seemore");case"see-more":case"see-more-and-less":case"see-more-with-attachments":return j.jsxs(j.Fragment,{children:[h._("__JHASH__7lNkK2cLc2S__JHASH__")," ",j.jsx(b,babelHelpers["extends"]({onClick:i,role:"button",testid:void 0},f,{children:h._("__JHASH__JO3lyYgE_aY__JHASH__")}))]},"seemore")}else if(g==="see-more-with-attachments")return j.jsx(d("react-strict-dom").html.div,{children:j.jsx(b,babelHelpers["extends"]({onClick:i,role:"button",testid:void 0},f,{children:h._("__JHASH__JO3lyYgE_aY__JHASH__")}))},"seemore")}},[b,e,f,g]);return j.jsx(c("BaseCometTextWithEntities.react"),babelHelpers["extends"]({truncationStyle:g},a,{seeMoreFragment:i}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("Comet2K2ELink.react",["CometLink.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("CometLink.react"),babelHelpers["extends"]({dir:"auto"},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometBoldedEntityRenderer",["react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={bold:{fontWeight:"x1s688f",$$css:!0}};function a(a,b){return i.jsx(d("react-strict-dom").html.strong,{style:j.bold,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFutureOfFeedStoryContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({aspectRatioUpdate:-1,shouldOverlayHeaderOverAttachment:!1,shouldPutBodyTextBelowAttachment:!1,webReshareVariant:"normal"});g["default"]=b}),98);
__d("CometHovercardEntityRenderer_actor.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"CometHovercardEntityRenderer_actor",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Actor",abstractKey:"__isActor"};e.exports=a}),null);
__d("canRenderHovercardForGraphQLEntityType",[],(function(a,b,c,d,e,f){"use strict";function a(a){return["Event","Page","Group","GroupAnonAuthorProfile","GeneralGroupContextualProfile","User","Game","Application","Comment","XFBWorkroomsUser"].includes(a)}f["default"]=a}),66);
__d("CometHovercardEntityRenderer",["Actor","ActorHovercard.react","CometHovercardEntityRenderer_actor.graphql","canRenderHovercardForGraphQLEntityType","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");h!==void 0?h:h=b("CometHovercardEntityRenderer_actor.graphql");function k(a){var b=a.entity,e=a.node;a=d("Actor").useActor();a=a[0];if(a==null||a==="0")return e;if(c("canRenderHovercardForGraphQLEntityType")(b.__typename)===!1)return e;if(b.id==null)return e;a=b.id;var f=c("gkx")("943")?{"data-actor-id":a}:void 0;return j.jsx(c("ActorHovercard.react"),{actorID:a,display:"inline",children:function(a){return j.jsx("span",babelHelpers["extends"]({ref:a},f,{children:e}))}})}k.displayName=k.name+" [from "+f.id+"]";function a(a,b){return j.jsx(k,{entity:b,node:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometLinkedEntityRenderer_entity.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"CometLinkedEntityRenderer_entity",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{kind:"InlineFragment",selections:[{args:null,documentName:"CometLinkedEntityRenderer_entity",fragmentName:"GroupsCometHashtagsStoryMessageHashtagLink_hashtag",fragmentPropName:"hashtag",kind:"ModuleImport"}],type:"GroupHashtag",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometLinkedEntityRenderer_entity",fragmentName:"PagesCometPageLink_page",fragmentPropName:"page",kind:"ModuleImport"}],type:"Page",abstractKey:null},{args:null,kind:"FragmentSpread",name:"ProfileCometProfileLink_actor"},{kind:"InlineFragment",selections:[{args:null,documentName:"CometLinkedEntityRenderer_entity",fragmentName:"ProfileGeminiWeakReferenceLink_user",fragmentPropName:"user",kind:"ModuleImport"}],type:"User",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"};e.exports=a}),null);
__d("GroupsCometGroupRuleEntityDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="25954528687524635"}),null);
__d("GroupsCometGroupRuleEntityDialogQuery$Parameters",["GroupsCometGroupRuleEntityDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometGroupRuleEntityDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometGroupRuleEntityDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometGroupRuleEntityDialog.entrypoint",["GroupsCometGroupRuleEntityDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.groupRuleID;return{queries:{groupRuleEntityDialogQueryReference:{parameters:c("GroupsCometGroupRuleEntityDialogQuery$Parameters"),variables:{groupRuleID:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("GroupsCometGroupRuleEntityDialog.react").__setRef("GroupsCometGroupRuleEntityDialog.entrypoint")};b=a;g["default"]=b}),98);
__d("GroupsCometGroupRuleLink.react",["CometEntryPointDialogTrigger.react","CometPressable.react","GroupsCometGroupRuleEntityDialog.entrypoint","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={link:{fontWeight:"x1s688f",":hover_textDecoration":"xt0b8zv",$$css:!0}};b=i.forwardRef(a);function a(a,b){var d=a.children;a=a.groupRuleID;return a==null?null:i.jsx(c("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:c("GroupsCometGroupRuleEntityDialog.entrypoint"),otherProps:{surface:"rules_tag"},preloadParams:{groupRuleID:a},preloadTrigger:"button",children:function(a){return i.jsx(c("CometPressable.react"),{hideFocusOverlay:!0,hideHoverOverlay:!0,onPress:a,ref:b,xstyle:j.link,children:d})}})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("ProfileCometProfileLink_actor.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileCometProfileLink_actor",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"answer_agent_group_id",storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"profile_url",args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"Actor",abstractKey:"__isActor"};e.exports=a}),null);
__d("GroupsCometAnswerAgentEducationModalQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7895715970512586"}),null);
__d("GroupsCometAnswerAgentEducationModalQuery$Parameters",["GroupsCometAnswerAgentEducationModalQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometAnswerAgentEducationModalQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAnswerAgentEducationModalQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometAnswerAgentEducationModal.entrypoint",["GroupsCometAnswerAgentEducationModalQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.groupID;return{queries:{queryRef:{parameters:b("GroupsCometAnswerAgentEducationModalQuery$Parameters"),variables:{groupID:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("GroupsCometAnswerAgentEducationModal.react").__setRef("GroupsCometAnswerAgentEducationModal.entrypoint")};g["default"]=a}),98);
__d("useGroupsCometOpenAnswerAgentEducationModal",["GroupsCometAnswerAgentEducationModal.entrypoint","react","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(a){var b=i(4),d;b[0]!==a?(d={groupID:a},b[0]=a,b[1]=d):d=b[1];a=c("useCometEntryPointDialog")(c("GroupsCometAnswerAgentEducationModal.entrypoint"),d);var e=a[0];b[2]!==e?(d=function(){e({})},b[2]=e,b[3]=d):d=b[3];return d}g["default"]=a}),98);
__d("ProfileCometProfileLink.react",["CometDangerouslySuppressInteractiveElementsContext","CometHovercardLinkContext","CometLink.react","CometRelay","ProfileCometLinkContext","ProfileCometProfileLink_actor.graphql","cr:1408565","react","recoverableViolation","useGroupsCometOpenAnswerAgentEducationModal","useShowHovercardsOnClick"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext;e=j.forwardRef(a);function a(a,e){var f=a.actor,g=a.children,i=a.navigationSource,m=a.traceParams;a=babelHelpers.objectWithoutPropertiesLoose(a,["actor","children","navigationSource","traceParams"]);f=d("CometRelay").useFragment(h!==void 0?h:h=b("ProfileCometProfileLink_actor.graphql"),f);var n=c("useShowHovercardsOnClick")(),o=k(c("CometHovercardLinkContext"));o=o.isRenderedInHovercard;var p=k(c("ProfileCometLinkContext"));p=p.groupID;if(f.id==null)return c("recoverableViolation")("Missing id for actor","comet_ui");p=p!=null&&b("cr:1408565")?b("cr:1408565").buildURL({group_idorvanity:p,member_id:f.id}):f.profile_url;return j.jsx(c("CometDangerouslySuppressInteractiveElementsContext").Provider,{value:o===!1&&n,children:f.answer_agent_group_id==null?j.jsx(c("CometLink.react"),babelHelpers["extends"]({href:p,ref:e,traceParams:babelHelpers["extends"]({},m,{navigation_source:i})},a,{children:g})):j.jsx(l,babelHelpers["extends"]({children:g,groupID:f.answer_agent_group_id,navigationSource:i},a))})}a.displayName=a.name+" [from "+f.id+"]";a=e;function l(a){var b=a.children,d=a.groupID,e=a.navigationSource,f=a.traceParams;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","groupID","navigationSource","traceParams"]);d=c("useGroupsCometOpenAnswerAgentEducationModal")(d);return j.jsx(c("CometLink.react"),babelHelpers["extends"]({onClick:d,traceParams:babelHelpers["extends"]({},f,{navigation_source:e})},a,{children:b}))}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XCometVideoHomeHashtagControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/watch/hashtag/{?hashtag}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("isValidURL",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b===void 0&&(b=!1);var c=/^(([\w-]+\.)+(xn--[\w-]+|\w+)|\[([\da-f]{0,4}:)*(?:[\da-f]{1,4}|(?:(?:\d{1,3}\.){3}\d{1,3}))\])(:[0-9]+)?([/\?].*)?$/,d=/^http(s)?:\/\/(([\w-]+\.)+(xn--[\w-]+|\w+)|\[([\da-f]{0,4}:)*(?:[\da-f]{1,4}|(?:(?:\d{1,3}\.){3}\d{1,3}))\])(:[0-9]+)?([/\?].*)?$/;return b?a.match(d)!==null:a.match(c)!==null||a.match(d)!==null}f["default"]=a}),66);
__d("useRenderLinkedEntity",["ix","$InternalEnum","FDSIcon.react","FDSTextContext","MetaConfig","fbicon","isValidURL","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={iconContainer:{bottom:"x1c7jfne",display:"x3nfvp2",marginEnd:"xw3qccf",position:"x1n2onr6",verticalAlign:"xxymvpz",$$css:!0}},l=b("$InternalEnum").Mirrored(["PRODUCT_ITEM","WEAK_REFERENCE","NOT_MEMBER_OF_GROUP","STORE_FRONT","HIGHLIGHT_LINK","PRODUCT_LINK","INSTAGRAM_USER"]);function m(a,b){var e=d("FDSTextContext").useFDSTextContext();if(a==null)return null;switch(a){case l.NOT_MEMBER_OF_GROUP:return{colorProp:{color_DEPRECATED:"secondary"},icon:j.jsx(d("react-strict-dom").html.span,{style:k.iconContainer,children:j.jsx(c("FDSIcon.react"),{color:"secondary",icon:(e==null?void 0:e.type)==="body1"?d("fbicon")._(h("491223"),20):d("fbicon")._(h("491221"),12)})})};case l.WEAK_REFERENCE:return{colorProp:{color_DEPRECATED:"secondary"},icon:j.jsx(d("react-strict-dom").html.span,{style:k.iconContainer,children:j.jsx(c("FDSIcon.react"),{color:"secondary",icon:(e==null?void 0:e.type)==="body1"?d("fbicon")._(h("648669"),20):d("fbicon")._(h("648667"),12)})})};case l.STORE_FRONT:return{colorProp:{color_DEPRECATED:"secondary"},target:"_blank"};case l.PRODUCT_LINK:case l.PRODUCT_ITEM:return b!=null&&c("isValidURL")(b)?{colorProp:{color_DEPRECATED:"highlight"},weight_DEPRECATED:"normal"}:{colorProp:{color_DEPRECATED:"highlight"},weight_DEPRECATED:"normal"};case l.HIGHLIGHT_LINK:return{colorProp:{color_DEPRECATED:"highlight"},target:"_blank"};case l.INSTAGRAM_USER:return{colorProp:{color_DEPRECATED:"primary"},icon:c("MetaConfig")._("89")?j.jsx(d("react-strict-dom").html.span,{style:k.iconContainer,children:j.jsx(c("FDSIcon.react"),{color:"primary",icon:(e==null?void 0:e.type)==="body1"?d("fbicon")._(h("547775"),20):d("fbicon")._(h("547774"),16)})}):void 0}}}function a(a){a=a===!0?l.WEAK_REFERENCE:null;return m(a)}g.EntityRenderType=l;g.useRenderLinkedEntity=m;g.useRenderWeakReferenceEntity=a}),98);
__d("CometLinkedEntityRenderer",["Comet2K2ELink.react","CometDangerouslySuppressInteractiveElementsContext","CometHovercardLinkContext","CometLink.react","CometLinkedEntityRenderer_entity.graphql","CometRelay","GroupsCometGroupRuleLink.react","ProfileCometProfileLink.react","XCometVideoHomeHashtagControllerRouteBuilder","gkx","react","useCurrentRouteBuilder","useRenderLinkedEntity","useShowHovercardsOnClick"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext;h!==void 0?h:h=b("CometLinkedEntityRenderer_entity.graphql");function l(a){var b,e=a.entity,f=a.entityIsWeakReference,g=a.node;a=a.originalText;var h=function(){if(f===!0)return d("useRenderLinkedEntity").EntityRenderType.WEAK_REFERENCE;if(e.__typename==="ProductItem")return d("useRenderLinkedEntity").EntityRenderType.PRODUCT_ITEM;if(e.__typename==="ExternalUrl"&&e.url!=null&&e.url.includes("/shop/?"))return d("useRenderLinkedEntity").EntityRenderType.STORE_FRONT;if(e.__typename==="ShareURLObject")return d("useRenderLinkedEntity").EntityRenderType.HIGHLIGHT_LINK;return e.__typename==="InstagramUserV2"?d("useRenderLinkedEntity").EntityRenderType.INSTAGRAM_USER:null},i=c("useShowHovercardsOnClick")(),l=k(c("CometHovercardLinkContext"));l=l.isRenderedInHovercard;h=d("useRenderLinkedEntity").useRenderLinkedEntity(h(),a);var m=h==null?void 0:h.colorProp,n=h==null?void 0:h.icon;b=(b=h==null?void 0:h.prefix)!=null?b:null;var o=h==null?void 0:h.target;h=h==null?void 0:h.weight_DEPRECATED;var p=c("useCurrentRouteBuilder")();p=p==null?void 0:p.buildURL().toString();if(e.url==null)return g;if(e.__typename==="User"&&f===!0&&c("gkx")("24281")){var q;q=j.jsx(c("CometDangerouslySuppressInteractiveElementsContext").Provider,{value:l===!1&&i,children:j.jsxs(c("CometLink.react"),{color_DEPRECATED:m==null?void 0:m.color_DEPRECATED,href:e.url,preserveQueryInShim:c("gkx")("24282"),target:o,testid:void 0,weight_DEPRECATED:h,children:[(q=n)!=null?q:null,g]})});return j.jsx(d("CometRelay").MatchContainer,{fallback:q,match:e,props:{children:g,navigationSource:"linked_entity",originalText:a}})}if(e.__typename==="User"||e.__typename==="XFBWorkroomsUser"){return j.jsxs(c("ProfileCometProfileLink.react"),babelHelpers["extends"]({actor:e,navigationSource:"linked_entity",ref:null},m,{children:[(q=n)!=null?q:null,g]}))}else if(e.__typename==="GroupRule"&&e.id!=null)return j.jsx(c("GroupsCometGroupRuleLink.react"),{groupRuleID:e.id,children:g});a=((p==null?void 0:p.includes("/watch"))||(p==null?void 0:p.includes("/videos/"))||(p==null?void 0:p.includes("/reel")))&&e.__typename==="Hashtag";q=a===!0?(q=e.url)==null?void 0:(p=q.split("/"))==null?void 0:p.pop():null;p=q!=null?c("XCometVideoHomeHashtagControllerRouteBuilder").buildURL({hashtag:q}).toString():null;q=e.__typename==="ExternalUrl"?c("Comet2K2ELink.react"):c("CometLink.react");i=j.jsx(c("CometDangerouslySuppressInteractiveElementsContext").Provider,{value:l===!1&&i,children:j.jsxs(q,{color_DEPRECATED:m==null?void 0:m.color_DEPRECATED,href:a===!0?p:e.url,preserveQueryInShim:c("gkx")("24282"),target:o,testid:void 0,weight_DEPRECATED:h,children:[(l=n)!=null?l:null,g]})});switch(e.__typename){case"GroupHashtag":case"Page":return j.jsx(d("CometRelay").MatchContainer,{fallback:i,match:e,props:{children:g}});default:return j.jsxs(j.Fragment,{children:[b,i]})}}l.displayName=l.name+" [from "+f.id+"]";a=function(a,b,c,d,e){return j.jsx(l,{entity:b,entityIsWeakReference:(c=e)!=null?c:null,node:a,originalText:d})};g["default"]=a}),98);
__d("CometTextWithEntities.react",["BaseCometTextWithExpansionEntities.react","CometLink.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(i.Fragment,{children:i.jsx(c("BaseCometTextWithExpansionEntities.react"),babelHelpers["extends"]({LinkRenderer:c("CometLink.react")},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTextWithEntitiesRelay_entity.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},c={kind:"Variable",name:"scale",variableName:"scale"},d={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"CometTextWithEntitiesRelay_entity",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{alias:"mobileUrl",args:[{kind:"Literal",name:"site",value:"mobile"}],kind:"ScalarField",name:"url",storageKey:'url(site:"mobile")'},{kind:"InlineFragment",selections:[a],type:"Actor",abstractKey:"__isActor"},{kind:"InlineFragment",selections:[{args:null,documentName:"CometTextWithEntitiesRelay_entity",fragmentName:"GroupsCometHashtagsStoryMessageHashtagLink_hashtag",fragmentPropName:"hashtag",kind:"ModuleImport"}],type:"GroupHashtag",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometTextWithEntitiesRelay_entity",fragmentName:"PagesCometPageLink_page",fragmentPropName:"page",kind:"ModuleImport"},{alias:null,args:null,kind:"ScalarField",name:"category_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometPageVerificationBadge_page"}],type:"Page",abstractKey:null},{args:null,kind:"FragmentSpread",name:"ProfileCometProfileLink_actor"},{kind:"InlineFragment",selections:[{args:null,documentName:"CometTextWithEntitiesRelay_entity",fragmentName:"ProfileGeminiWeakReferenceLink_user",fragmentPropName:"user",kind:"ModuleImport"},b,{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},a],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"external_url",storageKey:null}],type:"ExternalUrl",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"time_index",storageKey:null}],type:"VideoTimeIndex",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"web_link",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"fbclid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lynx_mode",storageKey:null}],type:"ExternalWebLink",abstractKey:null}],storageKey:null}],type:"WebLinkable",abstractKey:"__isWebLinkable"},{kind:"InlineFragment",selections:[b,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"imageScaledForFeed",args:[c,{kind:"Literal",name:"width",value:680}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[d,e,f],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null}],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:[g,{alias:null,args:[{kind:"Literal",name:"height",value:64},{kind:"Literal",name:"media_type",value:"image/png"},c,{kind:"Literal",name:"width",value:64}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[e],storageKey:null}],type:"XFBWorkCustomEmoji",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerRelay_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerCometFeedThumbnail_video"},f,d],type:"Video",abstractKey:null},{args:null,kind:"FragmentSpread",name:"CometTitleSentenceGroupJoinButtonRenderer_entity"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"deep_link_number",storageKey:null}],type:"PageWhatsAppNumber",abstractKey:null},{kind:"InlineFragment",selections:[g,{alias:null,args:null,kind:"ScalarField",name:"ticker_symbol",storageKey:null}],type:"KGTickerNode",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"snapshot_url",storageKey:null},{args:null,kind:"FragmentSpread",name:"truncateComposedTextWithUnidash_entity"}],type:"XFBProdQuartzVizirSnapshot",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}}();e.exports=a}),null);
__d("CometTextWithEntitiesRelay_textWithEntities.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e=[{kind:"Literal",name:"delight_surface",value:"COMMENT"}],f=[c],g={kind:"Variable",name:"scale",variableName:"scale"},h={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},l=[c,k],m={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometTextWithEntitiesRelay_textWithEntities",selections:[{alias:null,args:null,concreteType:"DelightAtRange",kind:"LinkedField",name:"delight_ranges",plural:!0,selections:[a,b,{alias:null,args:null,concreteType:"TextDelightCampaign",kind:"LinkedField",name:"campaign",plural:!1,selections:[c,d,{alias:null,args:e,concreteType:"TextDelightStylePair",kind:"LinkedField",name:"delight_styles",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:'delight_styles(delight_surface:"COMMENT")'},{alias:null,args:e,concreteType:"DelightsAnimation",kind:"LinkedField",name:"delight_asset",plural:!1,selections:f,storageKey:'delight_asset(delight_surface:"COMMENT")'},{alias:null,args:null,kind:"ScalarField",name:"text_enrichment_url",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[a,b,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[{alias:null,args:[g],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},i,j],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[a,b,{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedEntitiesAtRange",kind:"LinkedField",name:"aggregated_ranges",plural:!0,selections:[a,b,{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"sample_entities",plural:!0,selections:[d,{kind:"InlineFragment",selections:l,type:"User",abstractKey:null},{kind:"InlineFragment",selections:l,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[c,{alias:"name",args:null,kind:"ScalarField",name:"username",storageKey:null}],type:"InstagramUserV2",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[d,{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{alias:"mobileUrl",args:[{kind:"Literal",name:"site",value:"mobile"}],kind:"ScalarField",name:"url",storageKey:'url(site:"mobile")'},{kind:"InlineFragment",selections:f,type:"Actor",abstractKey:"__isActor"},{kind:"InlineFragment",selections:[{args:null,documentName:"CometTextWithEntitiesRelay_textWithEntities",fragmentName:"GroupsCometHashtagsStoryMessageHashtagLink_hashtag",fragmentPropName:"hashtag",kind:"ModuleImport"}],type:"GroupHashtag",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometTextWithEntitiesRelay_textWithEntities",fragmentName:"PagesCometPageLink_page",fragmentPropName:"page",kind:"ModuleImport"},{alias:null,args:null,kind:"ScalarField",name:"category_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometPageVerificationBadge_page"}],type:"Page",abstractKey:null},{args:null,kind:"FragmentSpread",name:"ProfileCometProfileLink_actor"},{kind:"InlineFragment",selections:[{args:null,documentName:"CometTextWithEntitiesRelay_textWithEntities",fragmentName:"ProfileGeminiWeakReferenceLink_user",fragmentPropName:"user",kind:"ModuleImport"},m,{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},c],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"external_url",storageKey:null}],type:"ExternalUrl",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"time_index",storageKey:null}],type:"VideoTimeIndex",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"web_link",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"fbclid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lynx_mode",storageKey:null}],type:"ExternalWebLink",abstractKey:null}],storageKey:null}],type:"WebLinkable",abstractKey:"__isWebLinkable"},{kind:"InlineFragment",selections:[m,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"imageScaledForFeed",args:[g,{kind:"Literal",name:"width",value:680}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[h,i,j],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null}],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:[k,{alias:null,args:[{kind:"Literal",name:"height",value:64},{kind:"Literal",name:"media_type",value:"image/png"},g,{kind:"Literal",name:"width",value:64}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[i],storageKey:null}],type:"XFBWorkCustomEmoji",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerRelay_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerCometFeedThumbnail_video"},j,h],type:"Video",abstractKey:null},{args:null,kind:"FragmentSpread",name:"CometTitleSentenceGroupJoinButtonRenderer_entity"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"deep_link_number",storageKey:null}],type:"PageWhatsAppNumber",abstractKey:null},{kind:"InlineFragment",selections:[k,{alias:null,args:null,kind:"ScalarField",name:"ticker_symbol",storageKey:null}],type:"KGTickerNode",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"snapshot_url",storageKey:null},{args:null,kind:"FragmentSpread",name:"truncateComposedTextWithUnidash_entity"}],type:"XFBProdQuartzVizirSnapshot",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entity_is_weak_reference",storageKey:null},a,b],storageKey:null},{alias:null,args:null,concreteType:"ColorAtRange",kind:"LinkedField",name:"color_ranges",plural:!0,selections:[a,b,{alias:null,args:null,kind:"ScalarField",name:"hex_rgb_color_with_pound_key",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextWithEntities",abstractKey:null}}();e.exports=a}),null);
__d("cometNormalizeTextEntityRanges",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a==null?[]:a.map(function(a){var c=a.length,d=a.offset;a=babelHelpers.objectWithoutPropertiesLoose(a,["length","offset"]);return{entity:babelHelpers["extends"]({},a,{__typename:b}),length:c,offset:d}})}f["default"]=a}),66);
__d("CometTextWithEntitiesRelay.react",["CometRelay","CometTextWithEntities.react","CometTextWithEntitiesRelay_entity.graphql","CometTextWithEntitiesRelay_textWithEntities.graphql","cometNormalizeTextEntityRanges","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");h!==void 0?h:h=b("CometTextWithEntitiesRelay_entity.graphql");function a(a){var e=a.textWithEntities;a=babelHelpers.objectWithoutPropertiesLoose(a,["textWithEntities"]);e=d("CometRelay").useFragment(i!==void 0?i:i=b("CometTextWithEntitiesRelay_textWithEntities.graphql"),e);if(e==null){c("recoverableViolation")("received null text with entities, this it to be expected by design, it's very possible mutators/updaters eliminate this field, but this shouldn't be the norm, please investigate if you're seeing \"high\" error rates","comet_ui");return null}var f=e.aggregated_ranges,g=e.color_ranges,h=e.delight_ranges,j=e.image_ranges,l=e.inline_style_ranges,m=e.ranges;e=e.text;if(e==null)return null;m=[].concat(m,c("cometNormalizeTextEntityRanges")(f,"Aggregate"),c("cometNormalizeTextEntityRanges")(l,"Inline"),c("cometNormalizeTextEntityRanges")(j,"Image"),c("cometNormalizeTextEntityRanges")(g,"Color"),c("cometNormalizeTextEntityRanges")(h,"TextDelightCampaign"));return k.jsx(c("CometTextWithEntities.react"),babelHelpers["extends"]({},a,{ranges:m,text:e}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSTextWithBadge.react",["FDSTextWithIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.badgeAfter,d=a.badgeBefore,e=a.badgeOverrideVerticalStyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["badgeAfter","badgeBefore","badgeOverrideVerticalStyle"]);return i.jsx(c("FDSTextWithIcon.react"),babelHelpers["extends"]({},a,{iconAfter:b,iconBefore:d,iconOverrideVerticalStyle:e,observeDirectionality:!0}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GraphQLGender",["GenderConst","IntlVariations"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.toIntlVariationsEnum=function(){var a=this.$1;if(a==null)return c("IntlVariations").GENDER_UNKNOWN;switch(a){case"MALE":return c("IntlVariations").GENDER_MALE;case"FEMALE":return c("IntlVariations").GENDER_FEMALE;default:return c("IntlVariations").GENDER_UNKNOWN}};b.toGenderConstEnum=function(){var a=this.$1,b=this.$2||{},d=b.isPlural||!1;b=b.isGuess||!1;switch(a){case"MALE":return d?c("GenderConst").MALE_PLURAL:b?c("GenderConst").MALE_SINGULAR_GUESS:c("GenderConst").MALE_SINGULAR;case"FEMALE":return d?c("GenderConst").FEMALE_PLURAL:b?c("GenderConst").FEMALE_SINGULAR_GUESS:c("GenderConst").FEMALE_SINGULAR;case"NEUTER":return d?c("GenderConst").NEUTER_PLURAL:c("GenderConst").NEUTER_SINGULAR;default:return d?c("GenderConst").UNKNOWN_PLURAL:c("GenderConst").UNKNOWN_SINGULAR}};a.fromGenderConstEnum=function(b){switch(b){case c("GenderConst").FEMALE_SINGULAR:return new a("FEMALE");case c("GenderConst").MALE_SINGULAR:return new a("MALE");case c("GenderConst").FEMALE_SINGULAR_GUESS:return new a("FEMALE",{isGuess:!0});case c("GenderConst").MALE_SINGULAR_GUESS:return new a("MALE",{isGuess:!0});case c("GenderConst").NEUTER_SINGULAR:return new a("NEUTER");case c("GenderConst").UNKNOWN_SINGULAR:return new a("UNKNOWN");case c("GenderConst").FEMALE_PLURAL:return new a("FEMALE",{isPlural:!0});case c("GenderConst").MALE_PLURAL:return new a("MALE",{isPlural:!0});case c("GenderConst").NEUTER_PLURAL:return new a("NEUTER",{isPlural:!0});case c("GenderConst").UNKNOWN_PLURAL:return new a("UNKNOWN",{isPlural:!0});default:return new a("UNKNOWN")}};return a}();g["default"]=a}),98);
__d("XLoginControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/login/",Object.freeze({first_attempt:!1,signed_next:!1,one_time_password:!1,ig_cp_login:!1,pl_dbl:!1,is_up:!1,dyiRequest:!1,deact_messaging:!1,user_wants_http:!1,fbconnect:!1,canvas:!1,offline_access:!1,skip_api_login:!1,no_next_msg:!1,_fb_noscript:!1,nothacked:!1,isprivate:!1,fw2x:!1,uc_qa:!1,fl:!1,show_profileshare_nativebanner:!1,crst:!1,from_contact_claiming:!1,kid_directed_site:!1,chat_plugin_upgrade:!1,re_engagement_opt_in:!1,hide_upsell:!1,hide_language_selector:!1,hide_registration:!1,shbl:!1,lara_cancel:!1,is_two_steps_login:!1,one_step_redir:!1,login_from_aymh:!1}),new Set(["first_attempt","fbconnect","canvas","offline_access","no_next_msg","_fb_noscript","uc_qa","fl","show_profileshare_nativebanner"]));b=a;g["default"]=b}),98);
__d("useCometLoggedOutPopupCTA",["JSResourceForInteraction","XLoginControllerRouteBuilder","react","useCometLazyDialog","useCometRouterDispatcher","useCurrentRoute"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));var i=h.useCallback,j=c("JSResourceForInteraction")("CometLoggedOutPopupCTA.react").__setRef("useCometLoggedOutPopupCTA");function a(a){var b=a.onClose,d=babelHelpers.objectWithoutPropertiesLoose(a,["onClose"]),e=c("useCurrentRoute")();a=(e==null?void 0:(a=e.rootView)==null?void 0:(a=a.props)==null?void 0:a.shouldRedirectInsteadOfLoginPopupExperiment)===!0;var f=c("useCometRouterDispatcher")(),g=i(function(){var a;a=c("XLoginControllerRouteBuilder").buildUri({next:e==null?void 0:(a=e.url)==null?void 0:a.toString()}).toString();var b={replace:!0};f==null?void 0:f.go(a,b)},[e,f]),h=c("useCometLazyDialog")(j),k=h[0];h=i(function(){k(d,b)},[k,d,b]);return a?g:h}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("$",["fb-error-lite"],(function(a,b,c,d,e,f,g){function a(a){return h(a,typeof a==="string"?document.getElementById(a):a)}function b(a){return h(a,typeof a==="string"?document.getElementById(a):a)}function h(a,b){if(!b){a=c("fb-error-lite").err('Tried to get element with id of "%s" but it is not present on the page',String(a));a.taalOpcodes=a.taalOpcodes||[];a.taalOpcodes=[c("fb-error-lite").TAALOpcode.PREVIOUS_FILE];throw a}return b}a.fromIDOrElement=b;g["default"]=a}),98);
__d("CSS",["$","CSSCore"],(function(a,b,c,d,e,f,g){var h=typeof window!="undefined"?window.CSS:null,i="hidden_elem";h=h&&h.supports.bind(h);function a(a,b){c("$").fromIDOrElement(a).className=b||"";return a}function j(a,b){return a instanceof Document||a instanceof Text?!1:d("CSSCore").hasClass(c("$").fromIDOrElement(a),b)}function b(a,b){return a instanceof Document||a instanceof Text?!1:d("CSSCore").matchesSelector(c("$").fromIDOrElement(a),b)}function k(a,b){return d("CSSCore").addClass(c("$").fromIDOrElement(a),b)}function l(a,b){return d("CSSCore").removeClass(c("$").fromIDOrElement(a),b)}function m(a,b,e){return d("CSSCore").conditionClass(c("$").fromIDOrElement(a),b,!!e)}function n(a,b){return m(a,b,!j(a,b))}function e(a){return!j(a,i)}function f(a){return k(a,i)}function o(a){return l(a,i)}function p(a){return n(a,i)}function q(a,b){return m(a,i,!b)}g.supports=h;g.setClass=a;g.hasClass=j;g.matchesSelector=b;g.addClass=k;g.removeClass=l;g.conditionClass=m;g.toggleClass=n;g.shown=e;g.hide=f;g.show=o;g.toggle=p;g.conditionShow=q}),98);
__d("DebugOwl",["cr:1801726"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){return void 0};c=(a=b("cr:1801726"))!=null?a:{burrow:h,flap:h,fly:h,hoot:h,listen:function(){return h},nest:h,peck:h,perch:h,swoop:h};d=c;g["default"]=d}),98);
__d("cometGHLContentDisplayCheck",["cr:1824699"],(function(a,b,c,d,e,f,g){"use strict";var h=!0,i=!1;function a(a){if(j(a))return h;var c=document.body;c=c==null||!c.contains(a);b("cr:1824699")&&b("cr:1824699").flap(a,{notMounted:c});if(c)return h;c=a.offsetHeight===0;b("cr:1824699")&&b("cr:1824699").flap(a,{zeroHeight:c});if(c)return i;c=Array.from(a.getElementsByTagName("img"));var d=c.length===0;b("cr:1824699")&&b("cr:1824699").flap(a,{noImages:d});if(c.length===0)return h;d=c.find(k)!=null;b("cr:1824699")&&b("cr:1824699").flap(a,{hasImageWithSize:d});if(d)return h;c=Array.from(a.getElementsByTagName("svg"));if(c.find(l)!=null)return h;d=Array.from(a.getElementsByTagName("i"));if(d.find(l)!=null)return h;b("cr:1824699")&&b("cr:1824699").flap(a,{noSuccessfulChecks:!0});return i}var j=function(a){for(var b=a.children,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(((e=e.dataset)==null?void 0:e.virtualized)==="true")return!Boolean(a.style.display)}return!1},k=function(a){return a.offsetHeight+a.offsetWidth>0},l=function(a){a=a.getBoundingClientRect();return a.height*a.width>0};g["default"]=a}),98);
__d("CometGHLDisplayMonitor",["DebugOwl","GHLGating","clearTimeout","cometGHLContentDisplayCheck","recoverableViolation","setTimeoutCometLoggingPri"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=1e3,j=null,k=!1,l=new Set();a=function(a,b){h.has(a)||h.set(a,new Set());var d=h.get(a);if(d==null){c("recoverableViolation")("Expected Set to be declared for container","GHL");return{dispose:function(){}}}d.add(b);j===null&&m();return{dispose:function(){d["delete"](b),d.size===0&&(h["delete"](a),h.size===0&&(c("clearTimeout")(j),j=null))}}};var m=function a(){h.forEach(function(a,b){b=b.current;if(b==null||o(b)||!c("cometGHLContentDisplayCheck")(b))return;a.forEach(function(a,b){a=b.onLogBlockCallback;var d=b.startTime;b=b.targetRef;b=b.current;c("DebugOwl").hoot(b);if(b==null)return;var e=o(b)!=null;c("DebugOwl").flap(b,{hiddenByFB:e});if(e)return;e=c("cometGHLContentDisplayCheck")(b);if(!e){b=Date.now()-d;a(b);n()}})}),j=c("setTimeoutCometLoggingPri")(a,i)};b=function(a){l.add(a);k&&a();return{dispose:function(){l["delete"](a)}}};var n=function(){if(k===!0)return;k=!0;l.forEach(function(a){return a()})},o=function(a){return a.closest==null||a.closest(p)},p=function(){return"."+"x1s85apg".split(" ").pop()+(d("GHLGating").getCometGhlContentVisibility()?",."+"xdps06".split(" ").pop():"")}();g.m=a;g.subscribeAny=b}),98);
__d("CometGHLTracker",["DebugOwl","GHLBox"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set();function a(a){c("DebugOwl").swoop(a),h.add(a),h.size>d("GHLBox").MinimumHiddenAdsToUpdateLocalStorage&&d("GHLBox").s(Date.now())}function b(a){return h.has(a)}function e(a){return h["delete"](a)}function f(){return h.size>0}function i(){return h.size}g.m=a;g.c=b;g.d=e;g.b=f;g.s=i}),98);
__d("CometMetricsChannel2ViewabilityFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1960868");b=d("FalcoLoggerInternal").create("comet_metrics_channel2_viewability",a);e=b;g["default"]=e}),98);
__d("CometMetricsViewableImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1900896");b=d("FalcoLoggerInternal").create("comet_metrics_viewable_impression",a);e=b;g["default"]=e}),98);
__d("DOMEvent",["invariant"],(function(a,b,c,d,e,f,g,h){a=function(){function a(a){this.event=a||window.event,typeof this.event.srcElement!=="unknown"||h(0,5798),this.target=this.event.target||this.event.srcElement}var b=a.prototype;b.preventDefault=function(){var a=this.event;a.preventDefault?(a.preventDefault(),"defaultPrevented"in a||(a.defaultPrevented=!0)):a.returnValue=!1;return this};b.isDefaultPrevented=function(){var a=this.event;return"defaultPrevented"in a?a.defaultPrevented:a.returnValue===!1};b.stopPropagation=function(){var a=this.event;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;return this};b.kill=function(){this.stopPropagation().preventDefault();return this};a.killThenCall=function(b){return function(c){new a(c).kill();return b()}};return a}();g["default"]=a}),98);
__d("dedupString",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;return Object.keys((b={},b[a]=0,b))[0]}f["default"]=a}),66);
__d("wrapFunction",[],(function(a,b,c,d,e,f){var g={};function a(a,b,c){var d=b in g?g[b](a,c):a;return function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return d.apply(this,b)}}a.setWrapper=function(a,b){g[b]=a};f["default"]=a}),66);
__d("DOMEventListener",["invariant","dedupString","emptyFunction","passiveEventListenerUtil","wrapFunction"],(function(a,b,c,d,e,f,g){var h=b("passiveEventListenerUtil").isPassiveEventListenerSupported,i,j;window.addEventListener?(i=function(a,c,d,e){e===void 0&&(e=!1),d.wrapper=b("wrapFunction")(d,"entry",b("dedupString")("DOMEventListener.add "+c)),a.addEventListener(c,d.wrapper,h?e:!1)},j=function(a,b,c,d){d===void 0&&(d=!1),a.removeEventListener(b,c.wrapper,h?d:!1)}):window.attachEvent?(i=function(a,c,d,e){e===void 0,d.wrapper=b("wrapFunction")(d,"entry","DOMEventListener.add "+c),a.attachEvent||g(0,2798),a.attachEvent("on"+c,d.wrapper)},j=function(a,b,c,d){d===void 0,a.detachEvent||g(0,2799),a.detachEvent("on"+b,c.wrapper)}):j=i=b("emptyFunction");a={add:function(a,b,c,d){d===void 0&&(d=!1);i(a,b,c,d);return{remove:function(){j(a,b,c,d)}}},remove:j};e.exports=a}),null);
__d("isTextNode",["isNode"],(function(a,b,c,d,e,f,g){function a(a){return c("isNode")(a)&&a.nodeType==3}g["default"]=a}),98);
__d("containsNode",["isTextNode"],(function(a,b,c,d,e,f,g){function h(a,b){if(!a||!b)return!1;else if(a===b)return!0;else if(c("isTextNode")(a))return!1;else if(c("isTextNode")(b))return h(a,b.parentNode);else if("contains"in a)return a.contains(b);else if(a.compareDocumentPosition)return!!(a.compareDocumentPosition(b)&16);else return!1}g["default"]=h}),98);
__d("createArrayFromMixed",["invariant"],(function(a,b,c,d,e,f,g,h){function i(a){var b=a.length;!Array.isArray(a)&&(typeof a==="object"||typeof a==="function")||h(0,3914);typeof b==="number"||h(0,3915);b===0||b-1 in a||h(0,3916);typeof a.callee!=="function"||h(0,3917);if(a.hasOwnProperty)try{return Array.prototype.slice.call(a)}catch(a){}var c=Array(b);for(var d=0;d<b;d++)c[d]=a[d];return c}function j(a){return!!a&&(typeof a==="object"||typeof a==="function")&&"length"in a&&!("setInterval"in a)&&typeof a.nodeType!=="number"&&(Array.isArray(a)||"callee"in a||"item"in a)}function a(a){if(!j(a))return[a];else if(Array.isArray(a))return a.slice();else return i(a)}g["default"]=a}),98);
__d("createObjectFrom",[],(function(a,b,c,d,e,f){function g(a,b){if(b===void 0)return g(a,!0);var c={};if(Array.isArray(b))for(var d=a.length-1;d>=0;d--)c[a[d]]=b[d];else for(d=a.length-1;d>=0;d--)c[a[d]]=b;return c}f["default"]=g}),66);
__d("isElementNode",["isNode"],(function(a,b,c,d,e,f){function a(a){return b("isNode")(a)&&a.nodeType==1}e.exports=a}),null);
__d("DOMQuery",["CSS","FBLogger","containsNode","createArrayFromMixed","createObjectFrom","ge","ifRequired","isElementNode","isNode"],(function(a,b,c,d,e,f,g){var h=/^\.-?[_a-zA-Z]+[\w-]*$/;function i(a,b){return a.hasAttribute?a.hasAttribute(b):a.getAttribute(b)!==null}function a(a,b){a=j(a,b);return a[0]}function b(a,b,c){b=j(a,b);a=j(a,c);b.length===1&&a.length===1&&b[0]===a[0]?c=b:c=b.concat(a);return c[0]}function j(a,b){if(!a||!a.getElementsByTagName)return[];b=b.split(" ");var e=[a];for(var f=0;f<b.length;f++){if(e.length===0)break;if(b[f]==="")continue;var g=b[f],j=b[f],k=[],l=!1;if(g.charAt(0)=="^")if(f===0)l=!0,g=g.slice(1);else return[];g=g.replace(/\[(?:[^=\]]*=(?:\"[^\"]*\"|\'[^\']*\'))?|[.#]/g," $&");g=g.split(" ");var m=g[0]||"*",n=m=="*",o=g[1]&&g[1].charAt(0)=="#";if(o){o=c("ge")(g[1].slice(1),a,m);if(o&&(n||o.tagName.toLowerCase()==m))for(var p=0;p<e.length;p++)if(l&&c("containsNode")(o,e[p])){k=[o];break}else if(document==e[p]||c("containsNode")(e[p],o)&&e[p]!==o){k=[o];break}}else{o=[];p=e.length;var q,r=!l&&j.indexOf("[")<0&&document.querySelectorAll;for(var s=0;s<p;s++){if(l){q=[];var t=e[s].parentNode;while(c("isElementNode")(t))(n||t.tagName.toLowerCase()==m)&&q.push(t),t=t.parentNode}else r?h.test(j)?q=e[s].getElementsByClassName(j.substring(1)):q=e[s].querySelectorAll(j):q=e[s].getElementsByTagName(m);t=q.length;for(var u=0;u<t;u++)o.push(q[u])}if(!r)for(q=1;q<g.length;q++){t=g[q];u=t.charAt(0)==".";n=t.substring(1);for(s=0;s<o.length;s++){p=o[s];if(!p||p.nodeType!==1)continue;if(u){d("CSS").hasClass(p,n)||delete o[s];continue}else{j=t.slice(1,t.length-1);m=j.indexOf("=");if(m<0){if(!i(p,j)){delete o[s];continue}}else{r=j.substr(0,m);j=j.substr(m+1);j=j.slice(1,j.length-1);if(p.getAttribute(r)!=j){delete o[s];continue}}}}}for(s=0;s<o.length;s++)if(o[s]){k.push(o[s]);if(l)break}}e=k}return e}function e(){var a=window.getSelection;if(a)return a()+"";else{a=document.selection;if(a)return a.createRange().text}return null}function f(a,b){(typeof a==="string"||typeof b==="string")&&c("FBLogger")("dom_query").info("Support for node IDs is deprecated. Use containsNode(ge(<id1>), ge(<id2>)) instead");return c("containsNode")(c("ge")(a),c("ge")(b))}function k(){var a=c("ifRequired")("Quickling",function(a){return a.isActive()?c("ge")("content"):null});return a||document.body}function l(a,b){b=c("createArrayFromMixed")(b).join("|").toUpperCase().split("|");b=c("createObjectFrom")(b);return c("isNode")(a)&&a.nodeName in b}function m(a){return l(a,["input","textarea"])||a.contentEditable==="true"}g.find=a;g.findPushSafe=b;g.scry=j;g.getSelection=e;g.contains=f;g.getRootElement=k;g.isNodeOfType=l;g.isInputNode=m}),98);
__d("EventProfiler",["cr:708886"],(function(a,b,c,d,e,f,g){g["default"]=b("cr:708886")}),98);
__d("Scroll",[],(function(a,b,c,d,e,f){function g(a,b){return!!b&&(a===b.documentElement||a===b.body)}function a(a){var b;if(a==null)return 0;var c=a.ownerDocument;return g(a,c)?(c==null?void 0:(b=c.body)==null?void 0:b.scrollTop)||(c==null?void 0:(b=c.documentElement)==null?void 0:b.scrollTop)||0:a.scrollTop||0}function b(a,b){if(a==null)return;var c=a.ownerDocument;g(a,c)?((c==null?void 0:c.body)&&(c.body.scrollTop=b||0),(c==null?void 0:c.documentElement)&&(c.documentElement.scrollTop=b||0)):a.scrollTop=b||0}function c(a){var b,c=a.ownerDocument;return g(a,c)?(c==null?void 0:(b=c.body)==null?void 0:b.scrollLeft)||(c==null?void 0:(b=c.documentElement)==null?void 0:b.scrollLeft)||0:a.scrollLeft||0}function d(a,b){var c=a.ownerDocument;g(a,c)?((c==null?void 0:c.body)&&(c.body.scrollLeft=b||0),(c==null?void 0:c.documentElement)&&(c.documentElement.scrollLeft=b||0)):a.scrollLeft=b||0}f.getTop=a;f.setTop=b;f.getLeft=c;f.setLeft=d}),66);
__d("FlowMigrationUtilsForLegacyFiles",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h="flow_typing_for_legacy_code";function a(a){c("FBLogger")(h).blameToPreviousFile().event(h+".bad_call").mustfix(a);return new Error("["+h+"] "+a)}g.invariantViolation=a}),98);
__d("getDocumentScrollElement",["FlowMigrationUtilsForLegacyFiles"],(function(a,b,c,d,e,f,g){"use strict";var h=typeof navigator!=="undefined"&&navigator.userAgent.indexOf("AppleWebKit")>-1;function a(a){a=a||document;if(a.scrollingElement)return a.scrollingElement;a=!h&&a.compatMode==="CSS1Compat"?a.documentElement:a.body;a||d("FlowMigrationUtilsForLegacyFiles").invariantViolation("null result in getDocumentScrollElement");return a}g["default"]=a}),98);
__d("getObjectValues",[],(function(a,b,c,d,e,f){function a(a){var b=[];for(var c in a)b.push(a[c]);return b}f["default"]=a}),66);
__d("Event",["$","Arbiter","DOMEvent","DOMEventListener","DOMQuery","DataStore","ErrorGuard","EventProfiler","ExecutionEnvironment","FBLogger","Parent","Scroll","TimeSlice","UserAgent","dedupString","fb-error","getDocumentScrollElement","getObjectValues"],(function(a,b,c,d,e,f){var g,h,i=b("fb-error").TAAL,j="Event.listeners";Event.prototype||(Event.prototype={});function k(a){(a.type==="click"||a.type==="mouseover"||a.type==="keydown")&&b("Arbiter").inform("Event/stop",{event:a})}var l=function(){"use strict";function a(a,b,c){this.cancelBubble=!1,this.target=a,this.type=b,this.data=c}var c=a.prototype;c.getData=function(){this.data=this.data||{};return this.data};c.stop=function(){return Event.stop(this)};c.prevent=function(){return Event.prevent(this)};c.isDefaultPrevented=function(){return Event.isDefaultPrevented(this)};c.kill=function(){return Event.kill(this)};c.getTarget=function(){return new(b("DOMEvent"))(this).target||null};return a}();function m(a){if(a instanceof l)return a;a||(!window.addEventListener&&document.createEventObject?a=window.event?document.createEventObject(window.event):{}:a={});if(!a._inherits_from_prototype)for(var b in Event.prototype)try{a[b]=Event.prototype[b]}catch(a){}return a}Object.assign(Event.prototype,{_inherits_from_prototype:!0,getRelatedTarget:function(){var a=this.relatedTarget||(this.fromElement===this.srcElement?this.toElement:this.fromElement);return a&&a.nodeType?a:null},getModifiers:function(){var a={control:!!this.ctrlKey,shift:!!this.shiftKey,alt:!!this.altKey,meta:!!this.metaKey};a.access=b("UserAgent").isPlatform("Mac OS X")?a.control:a.alt;a.any=a.control||a.shift||a.alt||a.meta;return a},isRightClick:function(){return this.which?this.which===3:this.button&&this.button===2},isMiddleClick:function(){return this.which?this.which===2:this.button&&this.button===4},isDefaultRequested:function(){return this.getModifiers().any||this.isMiddleClick()||this.isRightClick()}},l.prototype);c={listen:function(a,c,d,e,f){typeof d==="function"&&(d=b("TimeSlice").guard(d,b("dedupString")("Event.js "+c+" handler")));!f||typeof f==="boolean"?f={passive:!1}:f={passive:f.passive||!1};if(!(g||(g=b("ExecutionEnvironment"))).canUseDOM)return new u(a,d,null,c,e,null,f);typeof a==="string"&&(a=b("$")(a));typeof e==="undefined"&&(e=Event.Priority.NORMAL);if(typeof c==="object"){var h={};for(var k in c)h[k]=Event.listen(a,k,c[k],e,f);return h}if(c.match(/^on/i))throw new TypeError("Bad event name `"+c+"': use `click', not `onclick'.");if(!a){k=i.blameToPreviousFrame(new Error("Cannot listen to an undefined element."));b("FBLogger")("event").catching(k).mustfix("Tried to listen to element of type %s",c);throw k}if(a.nodeName=="LABEL"&&c=="click"){h=a.getElementsByTagName("input");a=h.length==1?h[0]:a}else if(a===window&&c==="scroll"){k=b("getDocumentScrollElement")();k!==document.documentElement&&k!==document.body&&(a=k)}h=b("DataStore").get(a,j,{});k=o[c];k&&(c=k.base,k.wrap&&(d=k.wrap(d)));q(a,h,c,f);k=h[c];e in k||(k[e]=[]);var l=k[e].length;d=new u(a,d,h,c,e,l,f);k[e][l]=d;k.numHandlers++;f.passive||(k.numNonPassiveHandlers++,p(a,h[c],c));return d},stop:function(a){var c=new(b("DOMEvent"))(a).stopPropagation();k(c.event);return a},prevent:function(a){new(b("DOMEvent"))(a).preventDefault();return a},isDefaultPrevented:function(a){return new(b("DOMEvent"))(a).isDefaultPrevented(a)},kill:function(a){a=new(b("DOMEvent"))(a).kill();k(a.event);return!1},getKeyCode:function(a){a=new(b("DOMEvent"))(a).event;if(!a)return!1;switch(a.keyCode){case 63232:return 38;case 63233:return 40;case 63234:return 37;case 63235:return 39;case 63272:case 63273:case 63275:return null;case 63276:return 33;case 63277:return 34}if(a.shiftKey)switch(a.keyCode){case 33:case 34:case 37:case 38:case 39:case 40:return null}return a.keyCode},getPriorities:function(){if(!n){var a=b("getObjectValues")(Event.Priority);a.sort(function(a,b){return a-b});n=a}return n},fire:function(a,b,c){c=new l(a,b,c);var d;do{var e=Event.__getHandler(a,b);e&&(d=e(c));a=a.parentNode}while(a&&d!==!1&&!c.cancelBubble);return d!==!1},__fire:function(a,b,c){a=Event.__getHandler(a,b);if(a)return a(m(c))},__getHandler:function(a,c){var d=b("DataStore").get(a,j);return d&&d[c]?d[c].domHandler:a["on"+c]},getPosition:function(a){a=new(b("DOMEvent"))(a).event;var c=b("getDocumentScrollElement")(),d=a.clientX+b("Scroll").getLeft(c);a=a.clientY+b("Scroll").getTop(c);return{x:d,y:a}}};Object.assign(Event,c);var n=null;d=function(a){return function(c){if(!b("DOMQuery").contains(this,c.getRelatedTarget()))return a.call(this,c)}};var o;!window.navigator.msPointerEnabled?o={mouseenter:{base:"mouseover",wrap:d},mouseleave:{base:"mouseout",wrap:d}}:o={mousedown:{base:"MSPointerDown"},mousemove:{base:"MSPointerMove"},mouseup:{base:"MSPointerUp"},mouseover:{base:"MSPointerOver"},mouseout:{base:"MSPointerOut"},mouseenter:{base:"MSPointerOver",wrap:d},mouseleave:{base:"MSPointerOut",wrap:d}};if(b("UserAgent").isBrowser("Firefox < 52")){f=function(a,b){b=m(b);var c=b.getTarget();while(c)Event.__fire(c,a,b),c=c.parentNode};document.documentElement.addEventListener("focus",f.bind(null,"focusin"),!0);document.documentElement.addEventListener("blur",f.bind(null,"focusout"),!0)}var p=function(a,c,d){var e=c.numNonPassiveHandlers==0;e!=c.options.passive&&(c.domHandlerRemover.remove(),c.options.passive=e,c.domHandlerRemover=b("DOMEventListener").add(a,d,c.domHandler,{passive:e}))},q=function(a,c,d,e){if(d in c)return;var f=b("TimeSlice").guard(t.bind(a,d),b("dedupString")("Event listenHandler "+d));c[d]={numHandlers:0,numNonPassiveHandlers:0,domHandlerRemover:b("DOMEventListener").add(a,d,f,e),domHandler:f,options:e};c="on"+d;if(a[c]){f=a===document.documentElement?Event.Priority._BUBBLE:Event.Priority.TRADITIONAL;var g=a[c];a[c]=null;Event.listen(a,d,g,f,e)}};function r(a){return!a.href.endsWith("#")?!1:a.href===document.location.href||a.href===document.location.href+"#"}function s(a,b){return a.nodeName==="INPUT"&&a.type===b}var t=b("EventProfiler").__wrapEventListenHandler(function(a,c){c=m(c);if(!b("DataStore").get(this,j))throw new Error("Bad listenHandler context.");var d=b("DataStore").get(this,j)[a];if(!d)throw new Error("No registered handlers for `"+a+"'.");if(a=="click"||a=="contextmenu"||a=="mousedown"&&c.which==2){a=c.getTarget();var e=b("Parent").byTag(a,"a");e instanceof HTMLAnchorElement&&e.href&&r(e)&&!s(a,"file")&&!s(a,"submit")&&c.prevent()}e=Event.getPriorities();for(a=0;a<e.length;a++){var f=e[a];if(f in d){f=d[f];for(var g=0;g<f.length;g++){if(!f[g])continue;var h=f[g].fire(this,c);if(h===!1)return c.kill();else c.cancelBubble&&c.stop()}}}return c.returnValue});Event.Priority={URGENT:-20,TRADITIONAL:-10,NORMAL:0,_BUBBLE:1e3};var u=function(){"use strict";function a(a,b,c,d,e,f,g){this.$1=a,this.$2=b,this.$3=c,this.$7=d,this.$6=e,this.$4=f,this.$5=g}var c=a.prototype;c.isRemoved=function(){return!this.$3};c.remove=function(){if((g||(g=b("ExecutionEnvironment"))).canUseDOM){if(this.isRemoved()){b("FBLogger")("Event").warn("Event handler has already been removed");return}var a=this.$3[this.$7];a.numHandlers<=1?(a.domHandlerRemover.remove(),delete this.$3[this.$7]):(delete a[this.$6][this.$4],a.numHandlers--,this.$5.passive||(a.numNonPassiveHandlers--,p(this.$1,this.$3[this.$7],this.$7)));this.$3=null}};c.fire=function(a,c){return(g||(g=b("ExecutionEnvironment"))).canUseDOM?(h||(h=b("ErrorGuard"))).applyWithGuard(this.$2,a,[c],{name:"eventhandler:"+c.type+":"+(typeof a.name=="string"?a.name:a.id)}):!0};return a}();a.$E=Event.$E=m;e.exports=Event}),null);
__d("EventProfilerSham",[],(function(a,b,c,d,e,f){a={__wrapEventListenHandler:function(a){return a},tagCurrentActiveInteractionsAs:function(a){},setCurrentAdAccountId:function(a){},setAdsConfig:function(a){}};b=a;f["default"]=b}),66);
__d("SecurePostMessage",["invariant"],(function(a,b,c,d,e,f,g){"use strict";var h="*";a={sendMessageToSpecificOrigin:function(a,b,c,d){c!==h||g(0,21157),a.postMessage(b,c,d)},sendMessageForCurrentOrigin:function(a,b){a.postMessage(b)},sendMessageAllowAnyOrigin_UNSAFE:function(a,b,c){a.postMessage(b,h,c)}};e.exports=a}),null);
__d("SecureMessageListener",["SecurePostMessage","URI"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var b=this;this.$3=null;this.$4=!1;this.$1=a;this.$5=function(a){b.run(a)}}var b=a.prototype;b.setEventHandler=function(a){this.$2=a;return this};b.setSupportedOrigins=function(a){this.$3=a;return this};b.skipOriginCheck_UNSAFE=function(){this.$4=!0;return this};b.beginListening=function(){this.$1.addEventListener("message",this.$5);return this};b.stopListening=function(){this.$1.removeEventListener("message",this.$5);return this};b.run=function(a){if(this.$3==null||this.$3.length===0){if(!this.$4&&a.origin!==this.$1.location.origin)return}else if(!this.isSupportedOrigin(this.$3,a.origin))return;if(this.$2){var b=function(b){d("SecurePostMessage").sendMessageToSpecificOrigin(a.source,b,a.origin)};this.$2(a,b)}};b.isSupportedOrigin=function(a,b){if(!new RegExp("^https://").test(b))return!1;var d=new(h||(h=c("URI")))(b);return a.some(function(a){return d.isSubdomainOfDomain(a)})};return a}();g["default"]=a}),98);
__d("ParallizerHelper",["ConstUriUtils","FBLogger","SecureMessageListener"],(function(a,b,c,d,e,f,g){"use strict";var h="ParallelReporting",i=["facebook.com"];function j(a){if(a===null||typeof a!=="object"){c("FBLogger")("parallel-reporting").warn("Failed to validate the event data: invalid data");return null}if(a.requestMsgType==null||a.requestMsgType!==h){c("FBLogger")("parallel-reporting").warn("Failed to validate the event data: not for parallel reporting");return null}a=a.requestUrl;if(typeof a!=="string"||!d("ConstUriUtils").isValidUri(a)){c("FBLogger")("parallel-reporting").warn("Failed to validate the event data: request URL not a valid URL");return null}return a}function a(){var a=new(c("SecureMessageListener"))(window);function b(a){a=a.data;a=j(a);if(a==null){c("FBLogger")("parallel-reporting").warn("Failed to send request: request url invalid");return}if(window==null||window.navigator==null){c("FBLogger")("parallel-reporting").warn("Failed to send request: navigator is null");return}window.fetch(a,{mode:"no-cors"})["catch"](function(a){c("FBLogger")("parallel-reporting").warn("Failed to send request: fetch api failed",a)});c("FBLogger")("parallel-reporting").info("Successfully sent request")}a.setEventHandler(b).setSupportedOrigins(i);a.beginListening()}g.requestMsgType=h;g.init=a}),98);
__d("XFBSbxParallelReportingPageControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/parallel_analytics/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("ParallelReportingIframeContainer.react",["CookieConsentIFrameConfig","FBLogger","ParallizerHelper","SecurePostMessage","XFBSbxParallelReportingPageControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";function h(){return"www.fbsbx.com"}function i(){var a,b=h();return(a=c("XFBSbxParallelReportingPageControllerRouteBuilder").buildUri({__cci:(a=c("CookieConsentIFrameConfig").consent_param)!=null?a:""}).setProtocol("https"))==null?void 0:(a=a.setDomain(b))==null?void 0:a.toString()}function a(){try{var a;a=(a=window.frames["parallel-reporting-iframe"])!=null?a:null;if(a!=null)return;a=i();if(a==null){c("FBLogger")("parallel-reporting").warn("Failed to create Iframe: cannot get FBSbx URI");return}var b=document.createElement("iframe");b.style.display="none";b.className="ParallelReportingIframe";b.id="parallel-reporting-iframe";b.src=a;(a=document.body)==null?void 0:a.appendChild(b)}catch(a){c("FBLogger")("parallel-reporting").warn("Failed to create iframe: %s",a.message)}}function b(a){var b;if(a==null){c("FBLogger")("parallel-reporting").warn("Failed to send request to analytics webiste upon click: cannot get analytics link");return}b=(b=window.frames["parallel-reporting-iframe"])!=null?b:null;if(b==null){c("FBLogger")("parallel-reporting").warn("Failed to send request to analytics webiste upon click: cannot get iframe");return}var e=b.src;if(e==null){c("FBLogger")("parallel-reporting").warn("Failed to send request to analytics webiste upon click: cannot get FBSbx URI");return}a=a;c("SecurePostMessage").sendMessageToSpecificOrigin(b.contentWindow,{requestMsgType:d("ParallizerHelper").requestMsgType,requestUrl:a},e)}g.createParallelReportingIframeContainerIfNotExist=a;g.parallelReportingUponClick=b}),98);
__d("getCentralImpressionScrollSpeed",["cr:5662"],(function(a,b,c,d,e,f){"use strict";var g=0,h=Date.now(),i=null,j=null;function a(a){b("cr:5662").listen(window,"scroll",function(){j&&clearTimeout(j),j=setTimeout(function(){return a()},100)},b("cr:5662").Priority.NORMAL,{passive:!0})}function k(){var a=window.scrollY,b=Date.now();if(i!=null&&b!==h){var c=a-i;g=c/(b-h)*1e3}i=a;h=b}a(function(){g=0,i=null});b("cr:5662").listen(window,"scroll",function(){return k()},b("cr:5662").Priority.NORMAL,{passive:!0});e.exports=function(){return g}}),null);
__d("getCentralImpressionTimeAfterRefresh",[],(function(a,b,c,d,e,f){"use strict";var g=null;window.addEventListener("load",function(){g=Date.now()},{passive:!0});function a(){return g!=null?Date.now()-g:0}f["default"]=a}),66);
__d("registerSourceForView",["DTSG","DTSGUtils","SprinkleConfig","XCometPrivacySandboxRegisterSourceControllerRouteBuilder","isAttributionReportingAPIEnabled","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(!c("isAttributionReportingAPIEnabled")())return;if(!c("justknobx")._("1464"))return;var e={eventSourceEligible:!0,triggerEligible:!1},f={},g=c("XCometPrivacySandboxRegisterSourceControllerRouteBuilder").buildUri({});a!=null&&a.length>0?f.eid=a:b!=null&&b.length>0&&(f.xt=b);a=d("DTSG").getToken();a!=null&&a.length>0&&(f.fb_dtsg=a,c("SprinkleConfig").param_name.length>0&&(f[c("SprinkleConfig").param_name]=c("DTSGUtils").getNumericValue(a)));b=Object.keys(f).map(function(a){return[encodeURIComponent(a),encodeURIComponent(f[a])].join("=")}).join("&");window.fetch(g,{attributionReporting:e,body:b,headers:{"Content-Type":"application/x-www-form-urlencoded"},keepalive:!0,method:"POST"})}g["default"]=a}),98);
__d("sendImpressionEnterActionValidationData",["CometMetricsChannel2ViewabilityFalcoEvent","CometTimeSpentNavigation","WebSession","getCentralImpressionScrollSpeed","getCentralImpressionTimeAfterRefresh","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){var g=b.impressedAt,h=c("CometTimeSpentNavigation").getPathInfo(),i=c("uuidv4")(),j=c("getCentralImpressionScrollSpeed")(),k=d("WebSession").getId(),l={intersect_rect:b.intersectionRect,root:b.rootBounds,target_rect:b.boundingClientRect};c("CometMetricsChannel2ViewabilityFalcoEvent").logImmediately(function(){return{csp:f.csp!=null?String(f.csp):"",cts:g.toString(),eid:f.eid!=null?String(f.eid):"",event_trace_id:i,framework:a,me:h?h.name:null,pre_rs:e?e.invisibleReason:null,rects:l,scroll_speed:j.toString(),sk:k,time_from_load:c("getCentralImpressionTimeAfterRefresh")().toString(),vp:b.visiblePercentage.toString(),xt:f.xt!=null?String(f.xt):""}})}g["default"]=a}),98);
__d("sendImpressionExitActionValidationData",["CometMetricsChannel2ViewabilityFalcoEvent","CometTimeSpentNavigation","WebSession","getCentralImpressionScrollSpeed","getCentralImpressionTimeAfterRefresh","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){var g=b.impressedAt,h=c("CometTimeSpentNavigation").getPathInfo(),i=c("uuidv4")(),j=g?Date.now()-g:null,k={intersect_rect:b.intersectionRect,root:b.rootBounds,target_rect:b.boundingClientRect};c("CometMetricsChannel2ViewabilityFalcoEvent").logImmediately(function(){return{csp:f.csp!=null?String(f.csp):"",cts:String(g),duration:j!=null?String(j):null,eid:f.eid!=null?String(f.eid):"",event_trace_id:i,exit_rs:b.invisibleReason,framework:a,me:h?h.name:null,pre_rs:Object.prototype.hasOwnProperty.call(f,"pre_rs")?String(f.pre_rs):"",pre_vp:e?String(e.visiblePercentage):null,rects:k,scroll_speed:c("getCentralImpressionScrollSpeed")().toString(),sk:d("WebSession").getId(),time_from_load:c("getCentralImpressionTimeAfterRefresh")().toString(),vp:b.visiblePercentage.toString(),xt:f.xt!=null?String(f.xt):""}})}g["default"]=a}),98);
__d("useCometGHLDisplayMonitor",["CometGHLDisplayMonitor","GHLSurfaceContainerContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect,k=b.useRef;function a(a,b){var e=k(null),f=i(c("GHLSurfaceContainerContext"));j(function(){var c=null,g=Date.now();if(f===null)return;if(!a)return;c=d("CometGHLDisplayMonitor").m(f,{onLogBlockCallback:b,startTime:g,targetRef:e});return function(){c&&c.dispose()}},[f,a,b]);return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BaseTypeaheadBaseStaticDataSource",["BaseTypeaheadDataCacheProvider","BaseTypeaheadInMemoryMapDataCache","baseTypeaheadStartsWithMatchBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.entries,d=a.keyBuilder;a=a.matchBuilder;a=a===void 0?c("baseTypeaheadStartsWithMatchBuilder"):a;this.$1=new(c("BaseTypeaheadDataCacheProvider"))({cache:new(c("BaseTypeaheadInMemoryMapDataCache"))(),keyBuilder:d,matchBuilder:a});this.$1.add(b)}var b=a.prototype;b.fetchCache=function(a){var b=a.query;return{entries:this.$1.match(b),params:a}};return a}();g["default"]=a}),98);
__d("CometTypeaheadViewList.react",["CometCompositeStructureContext","getItemRoleFromCompositeRole","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.c;function a(a){var b=j(16),d,e,f,g,h;b[0]!==a?(e=a.ariaProps,g=a.children,f=a.entries,d=a.highlightedEntry,h=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","children","entries","highlightedEntry"]),b[0]=a,b[1]=d,b[2]=e,b[3]=f,b[4]=g,b[5]=h):(d=b[1],e=b[2],f=b[3],g=b[4],h=b[5]);var k=d!=null?d.key:null;a=e.role;b[6]!==a?(d=babelHelpers["extends"]({},a!=null?{role:a}:{}),b[6]=a,b[7]=d):d=b[7];d=d;d=d;var l;if(b[8]!==a||b[9]!==f||b[10]!==k||b[11]!==g||b[12]!==d||b[13]!==e||b[14]!==h){var m=c("getItemRoleFromCompositeRole")(a);l=f!=null&&f.length>0?i.jsx("ul",babelHelpers["extends"]({},e,{className:"x78zum5 xdt5ytf x1iyjqo2","data-testid":void 0,children:i.jsx(c("CometCompositeStructureContext").Provider,{value:d,children:f.map(function(a,b){var c=k===a.key;return g({entry:a,index:b,isActive:c,itemRole:m})})})})):null;b[8]=a;b[9]=f;b[10]=k;b[11]=g;b[12]=d;b[13]=e;b[14]=h;b[15]=l}else l=b[15];return l}g["default"]=a}),98);
__d("CometTypeaheadViewListStrategy.react",["CometTypeaheadViewList.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(14),d,e;if(b[0]!==a){var f=a.ariaProps,g=a.entries;a.extraViewProps;var h=a.highlightedEntry;a.isLoading;a.onAbandonTypeahead_DO_NOT_USE;var k=a.viewItemStrategyRenderer,l=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE","viewItemStrategyRenderer"]);f=f;g=g;h=h;d=k;e=l;b[0]=a;b[1]=d;b[2]=e;b[3]=f;b[4]=g;b[5]=h}else d=b[1],e=b[2],f=b[3],g=b[4],h=b[5];b[6]!==d||b[7]!==e?(k=function(a){var b=a.entry,c=a.isActive;a=a.itemRole;return j.createElement(d,babelHelpers["extends"]({},e,{entry:b,isActive:c,key:b.key,role:a}))},b[6]=d,b[7]=e,b[8]=k):k=b[8];b[9]!==f||b[10]!==g||b[11]!==h||b[12]!==k?(l=j.jsx(c("CometTypeaheadViewList.react"),{ariaProps:f,entries:g,highlightedEntry:h,testid:void 0,children:k}),b[9]=f,b[10]=g,b[11]=h,b[12]=k,b[13]=l):l=b[13];return l}g["default"]=a}),98);
__d("MAWThreadId",["LSMessagingThreadTypeUtil","ReQL","asyncToGeneratorRuntime","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a){c("recoverableViolation")("Checking if a threadKey is a secure thread key in Occamadillo. We should be\n      checking the thread's thread type instead","maw_message_core");return!1}function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b)));if(a==null)return;return a.threadType});return i.apply(this,arguments)}function e(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield h(a,b));return a==null?!1:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a)});return j.apply(this,arguments)}function f(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b))}g.isThreadId=a;g.isSecureThreadId=e;g.getThreadFromJid=f}),98);
__d("URLMatcherConfig",[],(function(a,b,c,d,e,f){e.exports={tlds:"(?:\\.(com|\ud55c\uad6d|\uc0bc\uc131|\ub2f7\ucef4|\ub2f7\ub137|\u9999\u6e2f|\u9999\u683c\u91cc\u62c9|\u9910\u5385|\u98df\u54c1|\u98de\u5229\u6d66|\u96fb\u8a0a\u76c8\u79d1|\u96c6\u56e2|\u901a\u8ca9|\u8d2d\u7269|\u8c37\u6b4c|\u8bfa\u57fa\u4e9a|\u8054\u901a|\u7f51\u7edc|\u7f51\u7ad9|\u7f51\u5e97|\u7f51\u5740|\u7ec4\u7ec7\u673a\u6784|\u79fb\u52a8|\u73e0\u5b9d|\u70b9\u770b|\u6fb3\u9580|\u6e38\u620f|\u6de1\u9a6c\u9521|\u673a\u6784|\u66f8\u7c4d|\u65f6\u5c1a|\u65b0\u95fb|\u65b0\u52a0\u5761|\u653f\u5e9c|\u653f\u52a1|\u624b\u8868|\u624b\u673a|\u6211\u7231\u4f60|\u6148\u5584|\u5fae\u535a|\u5e7f\u4e1c|\u5de5\u884c|\u5bb6\u96fb|\u5a31\u4e50|\u5929\u4e3b\u6559|\u5927\u62ff|\u5927\u4f17\u6c7d\u8f66|\u5728\u7ebf|\u5609\u91cc\u5927\u9152\u5e97|\u5609\u91cc|\u5546\u6807|\u5546\u5e97|\u5546\u57ce|\u53f0\u7063|\u53f0\u6e7e|\u516c\u76ca|\u516c\u53f8|\u516b\u5366|\u5065\u5eb7|\u4fe1\u606f|\u4f5b\u5c71|\u4f01\u4e1a|\u4e2d\u6587\u7f51|\u4e2d\u570b|\u4e2d\u56fd|\u4e2d\u4fe1|\u4e16\u754c|\u30dd\u30a4\u30f3\u30c8|\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3|\u30bb\u30fc\u30eb|\u30b9\u30c8\u30a2|\u30b3\u30e0|\u30b0\u30fc\u30b0\u30eb|\u30af\u30e9\u30a6\u30c9|\u307f\u3093\u306a|\u10d2\u10d4|\u0e44\u0e17\u0e22|\u0e04\u0e2d\u0e21|\u0dbd\u0d82\u0d9a\u0dcf|\u0d2d\u0d3e\u0d30\u0d24\u0d02|\u0cad\u0cbe\u0cb0\u0ca4|\u0c2d\u0c3e\u0c30\u0c24\u0c4d|\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd|\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8|\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe|\u0b2d\u0b3e\u0b30\u0b24|\u0aad\u0abe\u0ab0\u0aa4|\u0a2d\u0a3e\u0a30\u0a24|\u09ad\u09be\u09f0\u09a4|\u09ad\u09be\u09b0\u09a4|\u09ac\u09be\u0982\u09b2\u09be|\u0938\u0902\u0917\u0920\u0928|\u092d\u093e\u0930\u094b\u0924|\u092d\u093e\u0930\u0924\u092e\u094d|\u092d\u093e\u0930\u0924|\u0928\u0947\u091f|\u0915\u0949\u092e|\u0680\u0627\u0631\u062a|\u067e\u0627\u06a9\u0633\u062a\u0627\u0646|\u0647\u0645\u0631\u0627\u0647|\u0645\u0648\u0642\u0639|\u0645\u0648\u0628\u0627\u064a\u0644\u064a|\u0645\u0644\u064a\u0633\u064a\u0627|\u0645\u0635\u0631|\u0643\u0648\u0645|\u0643\u0627\u062b\u0648\u0644\u064a\u0643|\u0642\u0637\u0631|\u0641\u0644\u0633\u0637\u064a\u0646|\u0639\u0645\u0627\u0646|\u0639\u0631\u0628|\u0639\u0631\u0627\u0642|\u0634\u0628\u0643\u0629|\u0633\u0648\u0631\u064a\u0629|\u0633\u0648\u062f\u0627\u0646|\u062a\u0648\u0646\u0633|\u0628\u06be\u0627\u0631\u062a|\u0628\u064a\u062a\u0643|\u0628\u0627\u0632\u0627\u0631|\u0628\u0627\u0631\u062a|\u0627\u06cc\u0631\u0627\u0646|\u0627\u0645\u0627\u0631\u0627\u062a|\u0627\u0644\u0645\u063a\u0631\u0628|\u0627\u0644\u0639\u0644\u064a\u0627\u0646|\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629|\u0627\u0644\u062c\u0632\u0627\u0626\u0631|\u0627\u0644\u0627\u0631\u062f\u0646|\u0627\u0631\u0627\u0645\u0643\u0648|\u0627\u062a\u0635\u0627\u0644\u0627\u062a|\u0627\u0628\u0648\u0638\u0628\u064a|\u05e7\u05d5\u05dd|\u0570\u0561\u0575|\u049b\u0430\u0437|\u0443\u043a\u0440|\u0441\u0440\u0431|\u0441\u0430\u0439\u0442|\u0440\u0444|\u0440\u0443\u0441|\u043e\u0440\u0433|\u043e\u043d\u043b\u0430\u0439\u043d|\u043c\u043e\u0441\u043a\u0432\u0430|\u043c\u043e\u043d|\u043c\u043a\u0434|\u043a\u043e\u043c|\u043a\u0430\u0442\u043e\u043b\u0438\u043a|\u0435\u044e|\u0434\u0435\u0442\u0438|\u0431\u0435\u043b|\u0431\u0433|\u03b5\u03bb|zw|zuerich|zone|zm|zippo|zip|zero|zara|zappos|za|yun|yt|youtube|you|yokohama|yoga|yodobashi|ye|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xn--zfr164b|xn--ygbi2ammx|xn--yfro4i67o|xn--y9a3aq|xn--xkc2dl3a5ee0h|xn--xkc2al3hye2a|xn--xhq521b|xn--wgbl6a|xn--wgbh1c|xn--w4rs40l|xn--w4r85el8fhu5dnra|xn--vuq861b|xn--vhquv|xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--unup4y|xn--tiq49xqyj|xn--tckwe|xn--t60b56a|xn--ses554g|xn--s9brj9c|xn--rvc1e0am3e|xn--rovu88b|xn--rhqv96g|xn--qxam|xn--qcka1pmc|xn--q9jyb4c|xn--pssy2u|xn--pgbs0dh|xn--pbt977c|xn--p1ai|xn--p1acf|xn--ogbpf8fl|xn--o3cw4h|xn--nyqy26a|xn--nqv7fs00ema|xn--nqv7f|xn--node|xn--ngbrx|xn--ngbe9e0a|xn--ngbc5azd|xn--mxtq1m|xn--mk1bu44c|xn--mix891f|xn--mgbx4cd0ab|xn--mgbtx2b|xn--mgbt3dhd|xn--mgbpl2fh|xn--mgbi4ecexp|xn--mgbgu82a|xn--mgberp4a5d4ar|xn--mgbca7dzdo|xn--mgbc0a9azcg|xn--mgbbh1a71e|xn--mgbbh1a|xn--mgbb9fbpob|xn--mgbayh7gpa|xn--mgbai9azgqp6j|xn--mgbab2bd|xn--mgbaam7a8h|xn--mgbaakc7dvf|xn--mgba7c0bbn0a|xn--mgba3a4f16a|xn--mgba3a3ejt|xn--mgb9awbf|xn--lgbbat1ad8j|xn--l1acc|xn--kput3i|xn--kpu716f|xn--kpry57d|xn--kprw13d|xn--kcrx77d1x4a|xn--jvr189m|xn--jlq61u9w7b|xn--j6w193g|xn--j1amh|xn--j1aef|xn--io0a7i|xn--imr513n|xn--i1b6b1a6a2e|xn--hxt814e|xn--h2brj9c8c|xn--h2brj9c|xn--h2breg3eve|xn--gk3at1e|xn--gecrj9c|xn--gckr3f0f|xn--g2xx48c|xn--fzys8d69uvgm|xn--fzc2c9e2c|xn--fpcrj9c3d|xn--flw351e|xn--fjq720a|xn--fiqz9s|xn--fiqs8s|xn--fiq64b|xn--fiq228c5hs|xn--fhbei|xn--fct429k|xn--estv75g|xn--efvy88h|xn--eckvdtc9d|xn--e1a4c|xn--d1alf|xn--d1acj3b|xn--czru2d|xn--czrs0t|xn--czr694b|xn--clchc0ea0b2g2a9gcd|xn--cg4bki|xn--cck2b3b|xn--c2br7g|xn--c1avg|xn--bck1b9a5dre4c|xn--b4w605ferd|xn--9krt00a|xn--9et52u|xn--9dbq2a|xn--90ais|xn--90ae|xn--90a3ac|xn--8y0a063a|xn--80aswg|xn--80asehdb|xn--80aqecdr1a|xn--80ao21a|xn--80adxhks|xn--6qq986b3xl|xn--6frz82g|xn--5tzm5g|xn--5su34j936bgsg|xn--55qx5d|xn--55qw42g|xn--54b7fta0cc|xn--4gbrim|xn--45q11c|xn--45brj9c|xn--45br5cyl|xn--42c2d9a|xn--3pxu8k|xn--3oq18vl8pn36a|xn--3hcrj9c|xn--3e0b707e|xn--3ds443g|xn--3bst00m|xn--30rr7y|xn--2scrj9c|xn--1qqw23a|xn--1ck2e1b|xn--11b4c3d|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|ws|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|wf|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|walmart|wales|vuelos|vu|voyage|voto|voting|vote|volvo|volkswagen|vodka|vn|vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vi|vg|vet|versicherung|verm\xf6gensberatung|verm\xf6gensberater|verisign|ventures|vegas|ve|vc|vanguard|vana|vacations|va|uz|uy|us|ups|uol|uno|university|unicom|uk|ug|uconnect|ubs|ubank|ua|tz|tw|tvs|tv|tushu|tunes|tui|tube|tt|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|tr|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|to|tn|tmall|tm|tl|tkmaxx|tk|tjx|tjmaxx|tj|tirol|tires|tips|tiffany|tienda|tickets|tiaa|theatre|theater|thd|th|tg|tf|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|td|tci|tc|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|sz|systems|symantec|sydney|sy|sx|swiss|swiftcover|swatch|sv|suzuki|surgery|surf|support|supply|supplies|sucks|su|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|stada|st|srt|srl|sr|spreadbetting|spot|sport|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|so|sncf|sn|smile|smart|sm|sling|sl|skype|sky|skin|ski|sk|sj|site|singles|sina|silk|si|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sh|sg|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|secure|seat|search|se|sd|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sc|sbs|sbi|sb|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|sa|ryukyu|rwe|rw|run|ruhr|rugby|ru|rsvp|rs|room|rogers|rodeo|rocks|rocher|ro|rmit|rip|rio|ril|rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|re|raid|radio|racing|qvc|quest|quebec|qpon|qa|py|pwc|pw|pub|pt|ps|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|pr|post|porn|politie|poker|pohl|pnc|pn|pm|plus|plumbing|playstation|play|place|pl|pk|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|phone|philips|phd|pharmacy|ph|pg|pfizer|pf|pet|pe|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|page|pa|ovh|ott|otsuka|osaka|origins|organic|org|orange|oracle|open|ooo|onyourside|online|onl|onion|ong|one|omega|om|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|obi|nz|nyc|nu|ntt|nrw|nra|nr|np|nowtv|nowruz|now|norton|northwesternmutual|nokia|no|nl|nissay|nissan|ninja|nikon|nike|nico|ni|nhk|ngo|ng|nfl|nf|nexus|nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|net|nec|ne|nc|nba|navy|natura|nationwide|name|nagoya|nadex|nab|na|mz|my|mx|mw|mv|mutual|museum|mu|mtr|mtn|mt|msd|ms|mr|mq|mp|movistar|movie|mov|motorcycles|moto|moscow|mortgage|mormon|mopar|monster|money|monash|mom|moi|moe|moda|mobily|mobile|mobi|mo|mn|mma|mm|mls|mlb|ml|mk|mitsubishi|mit|mint|mini|mil|microsoft|miami|mh|mg|metlife|merckmsd|meo|menu|men|memorial|meme|melbourne|meet|media|med|me|md|mckinsey|mc|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|map|mango|management|man|makeup|maison|maif|madrid|macys|ma|ly|lv|luxury|luxe|lupin|lundbeck|lu|ltda|ltd|lt|ls|lr|lplfinancial|lpl|love|lotto|lotte|london|lol|loft|locus|locker|loans|loan|lk|llc|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|li|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lc|lb|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|la|kz|kyoto|ky|kw|kuokgroup|kred|krd|kr|kpn|kpmg|kp|kosher|komatsu|koeln|kn|km|kiwi|kitchen|kindle|kinder|kim|kia|ki|kh|kg|kfh|kerryproperties|kerrylogistics|kerryhotels|ke|kddi|kaufen|juniper|juegos|jprs|jpmorgan|jp|joy|jot|joburg|jobs|jo|jnj|jmp|jm|jll|jlc|jio|jewelry|jetzt|jeep|je|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|it|istanbul|ist|ismaili|iselect|is|irish|ir|iq|ipiranga|io|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|industries|inc|in|immobilien|immo|imdb|imamat|im|il|ikano|ifm|ieee|ie|id|icu|ice|icbc|ibm|hyundai|hyatt|hughes|hu|ht|hsbc|hr|how|house|hotmail|hotels|hoteles|hot|hosting|host|hospital|horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hn|hm|hkt|hk|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|gy|gw|guru|guitars|guide|guge|gucci|guardian|gu|gt|gs|group|grocery|gripe|green|gratis|graphics|grainger|gr|gq|gp|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gn|gmx|gmo|gmbh|gmail|gm|globo|global|gle|glass|glade|gl|giving|gives|gifts|gift|gi|gh|ggee|gg|gf|george|genting|gent|gea|ge|gdn|gd|gbiz|gb|gay|garden|gap|games|game|gallup|gallo|gallery|gal|ga|fyi|futbol|furniture|fund|fun|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|free|fr|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|food|foo|fo|fm|fly|flowers|florist|flir|flights|flickr|fk|fj|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fiat|fi|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|eu|etisalat|et|esurance|estate|esq|es|erni|ericsson|er|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|eg|ee|education|edu|edeka|eco|ec|eat|earth|dz|dvr|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|domains|doha|dog|dodge|doctor|docs|do|dnp|dm|dk|dj|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|de|dds|dclk|day|datsun|dating|date|data|dance|dad|dabur|cz|cyou|cymru|cy|cx|cw|cv|cuisinella|cu|csc|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|cr|cpa|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|co|cn|cm|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cl|ck|cityeats|city|citic|citi|citadel|cisco|circle|cipriani|ci|church|chrysler|chrome|christmas|chintai|cheap|chat|chase|channel|chanel|ch|cg|cfd|cfa|cf|cern|ceo|center|ceb|cd|cc|cbs|cbre|cbn|cba|catholic|catering|cat|casino|cash|caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|ca|bzh|bz|by|bw|bv|buzz|buy|business|builders|build|bugatti|budapest|bt|bs|brussels|brother|broker|broadway|bridgestone|bradesco|br|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|boats|bo|bnpparibas|bnl|bn|bmw|bms|bm|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|bj|biz|bio|bingo|bing|bike|bid|bible|bi|bharti|bh|bg|bf|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|be|bd|bcn|bcg|bbva|bbt|bbc|bb|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|ba|azure|az|axa|ax|aws|aw|avianca|autos|auto|author|auspost|audio|audible|audi|auction|au|attorney|athleta|at|associates|asia|asda|as|arte|art|arpa|army|archi|aramco|arab|ar|aquarelle|aq|apple|app|apartments|aol|ao|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|am|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|alfaromeo|al|akdn|airtel|airforce|airbus|aigo|aig|ai|agency|agakhan|ag|africa|afl|afamilycompany|af|aetna|aero|aeg|ae|adult|ads|adac|ad|actor|active|aco|accountants|accountant|accenture|academy|ac|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa))"}}),null);
__d("URLMatcher",["URLMatcherConfig"],(function(a,b,c,d,e,f){d="!\"#%&'()*,-./:;<>?@[\\]^_`{|}";f="\u2000-\u206f\xab\xbb\uff08\uff09";var g="(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])",h="(?:https?)://";g="(?:(?:"+g+"[.]){3}"+g+")";var i="\\[(?:(?:[A-Fa-f0-9]{1,4}::?){1,7}[A-Fa-f0-9]{1,4})\\]",j="(?:\\b)www\\d{0,3}[.]";d="[^\\s"+d+f+"]";f="(?:(?:(?:[.:\\-_%@]|"+d+")*"+d+")|"+i+")";d="(?::\\d+){0,1}";var k="(?=[/?#])";b=b("URLMatcherConfig").tlds;var l="(?:(?:"+h+f+d+")|(?:"+g+d+")|(?:"+i+d+")|(?:"+j+f+b+d+")|(?:"+f+b+d+k+"))";k="(?:(?:"+h+f+d+")|(?:"+g+d+")|(?:"+i+d+")|(?:"+j+f+b+d+")|(?:"+f+b+d+"))";g="[/#?]";i="\\([^\\s()<>]+\\)";var m="[^\\s()<>?#]+",n=new RegExp(l,"im"),o="^\\[[0-9]{1,4}:[0-9]{1,4}:[A-Fa-f0-9]{1,4}\\]",p=new RegExp(o,"im"),q="(?:(?:"+g+")(?:(?:"+i+"|"+m+")*)*)*",r=new RegExp("((?:"+k+")(?:"+q+"))","im");function a(){r.compile()}var s=new RegExp("((?:"+h+f+d+")|(?:"+j+f+b+d+"))"),t=/[\s\'\";]/,u=new RegExp(g,"im"),v=new RegExp("[\\s!\"#%&'()*,./:;<>?@[\\]^`{|}\xab\xbb\u2000-\u206f\uff08\uff09]","im"),w=new RegExp("[\\s()<>?#]","im"),x=new RegExp("\\s()<>"),y=function(a){if(a!=null&&a.indexOf("@")!=-1)return s.exec(a)?a:null;else return a},z=function(a){return new RegExp("((?:"+l+")(?:"+q+"))",a)};function c(){return r.source}o=function(a){return A(a,z("im"))};i=function(a){return B(a,z("igm"))};m=function(a){return A(a,r)};var A=function(a,b){b=b.exec(a);return b==null||b.length===0?null:y(b[1]||null)},B=function(a,b){a=a.match(b);return a==null?[]:a.filter(Boolean)||[]};k=function(a){return n.exec(a)};h=function(a){return!t.test(a.charAt(a.length-1))};j=function(a){a=a;var b=!1;do{var c=n.exec(a);if(!c)return null;b=!1;if(c[0][0]==="["&&c.index>0&&a[c.index-1]==="@"){var d=p.exec(c[0]);d&&(b=!0,a=a.substr(c.index+d[0].length))}}while(b);if(!c)return null;d=a.substr(c.index+c[0].length);if(d.length===0||!u.test(d[0]))return y(c[0]);b=0;a=0;var e=1,f=["(","["],g=[")","]"],h=0,i=a;for(var j=1;j<d.length;j++){var k=d[j];if(i===a){if(f.includes(k))h+=1,i=e;else if(u.test(k)||!v.test(k))b=j;else if(w.test(k))break}else if(f.includes(k))h+=1;else if(g.includes(k))h-=1,h===0&&(i=a,b=j);else if(x.test(k))break}return y(c[0]+d.substring(0,b+1))};f={compilePermissiveHostPathMatcher:a,permissiveHostPathMatch:m,permissiveMatch:o,permissiveMultiMatch:i,matchToPattern:A,multiMatchToPattern:B,matchHost:k,trigger:h,match:j,getPermissiveHostPathMatcherSource:c};e.exports=f}),null);
__d("useCometTypeaheadViewListStrategy",["CometTypeaheadProgressGlimmer.react","CometTypeaheadViewListStrategy.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.c;function a(a){var b=k(8),d=a.emptyStateContent,e=a.extraViewProps,f=a.loadingState,g=a.nullstateContent,i=a.viewItemStrategyRenderer,l=a.viewListStrategyRenderer,m=a.viewXStyle,n=l===void 0?c("CometTypeaheadViewListStrategy.react"):l;b[0]!==g||b[1]!==d||b[2]!==m||b[3]!==n||b[4]!==e||b[5]!==i||b[6]!==f?(a=function(a){var b=a.entries,k=a.isLoading,l=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entries","isLoading","queryString"]);if(l.length===0&&g!=null)return g;return!k&&b.length===0&&d!=null?d:j.jsxs("div",{className:(h||(h=c("stylex")))([m]),children:[j.jsx(n,babelHelpers["extends"]({},a,{entries:b,extraViewProps:e,isLoading:!1,queryString:l,viewItemStrategyRenderer:i})),k&&((a=f)!=null?a:j.jsx(c("CometTypeaheadProgressGlimmer.react"),{}))]})},b[0]=g,b[1]=d,b[2]=m,b[3]=n,b[4]=e,b[5]=i,b[6]=f,b[7]=a):a=b[7];return a}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CrossFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs("g",{fillRule:"nonzero",children:[i.jsx("path",{d:"m98.095 917.155 7.75 7.75a.75.75 0 0 0 1.06-1.06l-7.75-7.75a.75.75 0 0 0-1.06 1.06z",transform:"translate(353.5 159)"}),i.jsx("path",{d:"m105.845 916.095-7.75 7.75a.75.75 0 1 0 1.06 1.06l7.75-7.75a.75.75 0 0 0-1.06-1.06z",transform:"translate(353.5 159)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("LSFeatureLimitsType",[],(function(a,b,c,d,e,f){a=Object.freeze({READ_ONLY:1,GENERIC_READ_ONLY_BLOCK:2,MESSAGE_SEND:4,MESSENGER_ONLY_ACCOUNTS_READ_ONLY_BLOCK:8,MESSAGE_SEND_PRIVATE:16,MESSAGE_SEND_PUBLIC:32,MESSAGE_SEND_FROM_PAGE:64,COMMERCE_MESSAGE_SEND:128,PAGE_MESSAGING:256});f["default"]=a}),66);
__d("LSGetIfViewerIsWorkplaceUser",["gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,b=a[a.length-1],d=[];return d[0]=c("gkx")("26374"),b.resolve(d)}a.__sproc_name__="LSCoreGetIfViewerIsWorkplaceUserStoredProcedure";b=a;g["default"]=b}),98);
__d("LSGetThreadParticipantDisplayName",["LSGetIfViewerIsWorkplaceUser"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return c.storedProcedure(b("LSGetIfViewerIsWorkplaceUser")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return d[0]?c.sequence([function(b){return c.filter(c.db.table(7).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.id,a[1])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(a,b){var e=a.done;a=a.value;return e?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2352696798]),void 0).then(function(a){return d[4]=a})},function(a){return d[2]=d[4]}]):(b=a.item,d[2]=b.name)})},function(a){return d[1]=d[2]}]):c.sequence([function(b){return c.filter(c.db.table(14).fetch([[[a[0],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[1])}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=void 0:(b=a.item,d[2]=b.nickname)})},function(b){return c.filter(c.db.table(7).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.id,a[1])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(a,b){var e=a.done;a=a.value;return e?c.sequence([function(a){return d[6]=c.i64.cast([-1,4294967295]),c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[7]=a})},function(a){return d[4]=d[7]}]):(b=a.item,d[4]=b.firstName==null?b.name:b.firstName)})},function(a){return d[1]=d[2]==null?d[4]:d[2]}])},function(a){return e[0]=d[1]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxGetThreadParticipantDisplayNameStoredProcedure";e.exports=a}),null);
__d("LSGetLocalizedReplySnippet",["LSGetThreadParticipantDisplayName","LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(e){return c.i64.eq(a[3],c.i64.cast([0,1]))?c.sequence([function(e){return c.i64.eq(a[1],d[0])?c.sequence([function(e){return c.i64.eq(a[2],d[0])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2421884758]),void 0).then(function(a){return d[4]=a})},function(a){return d[3]=d[4]}]):c.sequence([function(e){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[4]=a[0],a})},function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[4]),d[5]),c.localizeV2Async(c.i64.cast([0,2676961947]),d[5]).then(function(a){return d[6]=a})},function(a){return d[3]=d[6]}])},function(a){return d[2]=d[3]}]):c.sequence([function(e){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),a[0],a[1]).then(function(a){return a=a,d[3]=a[0],a})},function(e){return c.i64.eq(a[2],d[0])?c.sequence([function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[3]),d[5]),c.localizeV2Async(c.i64.cast([0,3298086032]),d[5]).then(function(a){return d[6]=a})},function(a){return d[4]=d[6]}]):c.sequence([function(e){return c.i64.eq(a[1],a[2])?c.sequence([function(a){return d[6]=c.createArray(),d[8]=(d[6].push(d[3]),d[6]),c.localizeV2Async(c.i64.cast([0,3873263038]),d[6]).then(function(a){return d[7]=a})},function(a){return d[5]=d[7]}]):c.sequence([function(e){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[6]=a[0],a})},function(a){return d[7]=c.createArray(),d[9]=(d[7].push(d[3]),d[7]),d[9]=(d[7].push(d[6]),d[7]),c.localizeV2Async(c.i64.cast([0,2616853333]),d[7]).then(function(a){return d[8]=a})},function(a){return d[5]=d[8]}])},function(a){return d[4]=d[5]}])},function(a){return d[2]=d[4]}])},function(a){return d[1]=d[2]}]):c.sequence([function(e){return c.i64.eq(a[1],d[0])?c.sequence([function(e){return c.i64.eq(a[2],d[0])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,4002265907]),void 0).then(function(a){return d[4]=a})},function(a){return d[3]=d[4]}]):c.sequence([function(e){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[4]=a[0],a})},function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[4]),d[5]),c.localizeV2Async(c.i64.cast([0,2663996736]),d[5]).then(function(a){return d[6]=a})},function(a){return d[3]=d[6]}])},function(a){return d[2]=d[3]}]):c.sequence([function(e){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),a[0],a[1]).then(function(a){return a=a,d[3]=a[0],a})},function(e){return c.i64.eq(a[2],d[0])?c.sequence([function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[3]),d[5]),c.localizeV2Async(c.i64.cast([0,2868699317]),d[5]).then(function(a){return d[6]=a})},function(a){return d[4]=d[6]}]):c.sequence([function(e){return c.i64.eq(a[1],a[2])?c.sequence([function(a){return d[6]=c.createArray(),d[8]=(d[6].push(d[3]),d[6]),c.localizeV2Async(c.i64.cast([0,2688620547]),d[6]).then(function(a){return d[7]=a})},function(a){return d[5]=d[7]}]):c.sequence([function(e){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[6]=a[0],a})},function(a){return d[7]=c.createArray(),d[9]=(d[7].push(d[3]),d[7]),d[9]=(d[7].push(d[6]),d[7]),c.localizeV2Async(c.i64.cast([0,3544071775]),d[7]).then(function(a){return d[8]=a})},function(a){return d[5]=d[8]}])},function(a){return d[4]=d[5]}])},function(a){return d[2]=d[4]}])},function(a){return d[1]=d[2]}])},function(a){return e[0]=d[1]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxGetLocalizedReplySnippetStoredProcedure";e.exports=a}),null);
__d("LSSetMessageDisplayedContentTypes",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(d){return b.db.table(16).fetch([[[a[0],a[1]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0,void 0],c[0]=d[0],c[1]=d[1],d):(b=a.item,d=[b.attachmentType,b.xmaLayoutType],c[0]=d[0],c[1]=d[1],d)})},function(d){return b.filter(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[b.i64.cast([0,0]),void 0,void 0],c[3]=e[0],c[4]=e[1],c[5]=e[2],e):(d=a.item,e=[d.replySourceTypeV2,d.replySourceId,d.text],c[3]=e[0],c[4]=e[1],c[5]=e[2],e)})},function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[7]=void 0:(b=a.item,c[7]=b.customEmoji)})},function(d){return b.i64.eq(c[0],b.i64.cast([0,6]))?c[9]=b.i64.cast([0,64]):(b.i64.eq(c[0],b.i64.cast([0,5]))?c[15]=b.i64.cast([0,4]):(b.i64.eq(c[0],b.i64.cast([0,3]))?c[16]=b.i64.cast([0,16384]):(b.i64.eq(c[0],b.i64.cast([0,2]))?c[17]=b.i64.cast([0,2]):(b.i64.eq(c[0],b.i64.cast([0,4]))?c[18]=b.i64.cast([0,2]):c[18]=a[5]?b.i64.cast([0,4096]):b.i64.cast([0,0]),c[17]=c[18]),c[16]=c[17]),c[15]=c[16]),c[9]=c[15]),c[10]=c[5]!==void 0&&c[5]!==""&&c[5]!==c[7]?b.i64.or_(c[9],b.i64.cast([0,1])):c[9],c[11]=c[7]!==void 0&&c[7]===c[5]?b.i64.or_(c[10],b.i64.cast([0,128])):c[10],c[12]=b.i64.eq(c[0],b.i64.cast([0,7]))?b.i64.or_(c[11],b.i64.cast([0,8])):c[11],c[13]=b.i64.eq(c[1],b.i64.cast([0,0]))?b.i64.or_(c[12],b.i64.cast([0,1024])):b.i64.eq(c[1],b.i64.cast([0,1]))?b.i64.or_(c[12],b.i64.cast([0,2048])):c[12],c[14]=b.i64.eq(c[3],b.i64.cast([0,2]))&&c[4]!==void 0?b.i64.or_(c[13],b.i64.cast([0,512])):c[13],b.forEach(b.filter(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}),function(d){var e=d.update;d.item;return e({displayedContentTypes:a[4]?b.i64.cast([0,32]):b.i64.eq(c[3],b.i64.cast([0,3]))?b.i64.or_(c[14],b.i64.cast([0,8192])):c[14]})})}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxSetMessageDisplayedContentTypesStoredProcedure";e.exports=a}),null);
__d("LSSetMessageViewFlags",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(d){return b.filter(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[b.i64.cast([0,0]),b.i64.cast([0,0]),b.i64.cast([0,0]),!1,"nonexistent",b.i64.cast([0,20]),void 0,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[0]=e[0],c[1]=e[1],c[2]=e[2],c[3]=e[3],c[4]=e[4],c[5]=e[5],c[6]=e[6],c[7]=e[7],c[8]=e[8],e):(d=a.item,e=[d.timestampMs,d.senderId,d.viewFlags,d.isAdminMessage,d.messageId,d.authorityLevel,d.stickerId,d.primarySortKey,d.secondarySortKey==null?b.i64.cast([-1,4294967295]):d.secondarySortKey],c[0]=e[0],c[1]=e[1],c[2]=e[2],c[3]=e[3],c[4]=e[4],c[5]=e[5],c[6]=e[6],c[7]=e[7],c[8]=e[8],e)})},function(d){return b.sortBy(b.filter(b.db.table(12).fetch([[[a[0],{gt:c[7]}],[a[0],c[7]]],"messageDisplayOrder"]),function(d){return b.i64.eq(d.threadKey,a[0])&&d.messageId!==a[1]&&(b.i64.gt(d.primarySortKey,c[7])||b.i64.eq(d.primarySortKey,c[7])&&b.i64.ge(d.secondarySortKey==null?b.i64.cast([-1,4294967295]):d.secondarySortKey,c[8]))}),[["timestampMs","ASC"]],["primarySortKey","secondarySortKey"]).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[b.i64.cast([0,0]),b.i64.cast([0,0]),b.i64.cast([0,0]),!1,"nonexistent",b.i64.cast([0,20]),void 0,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[10]=e[0],c[11]=e[1],c[12]=e[2],c[13]=e[3],c[14]=e[4],c[15]=e[5],c[16]=e[6],c[17]=e[7],c[18]=e[8],e):(d=a.item,e=[d.timestampMs,d.senderId,d.viewFlags,d.isAdminMessage,d.messageId,d.authorityLevel,d.stickerId,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[10]=e[0],c[11]=e[1],c[12]=e[2],c[13]=e[3],c[14]=e[4],c[15]=e[5],c[16]=e[6],c[17]=e[7],c[18]=e[8],e)})},function(d){return b.sortBy(b.filter(b.db.table(12).fetchDesc([[[a[0],{lt:c[7]}],[a[0],c[7]]],"messageDisplayOrder"]),function(d){return b.i64.eq(d.threadKey,a[0])&&d.messageId!==a[1]&&(b.i64.lt(d.primarySortKey,c[7])||b.i64.eq(d.primarySortKey,c[7])&&b.i64.le(d.secondarySortKey==null?b.i64.cast([-1,4294967295]):d.secondarySortKey,c[8]))}),[["timestampMs","DESC"]],["primarySortKey","secondarySortKey"]).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[b.i64.cast([0,0]),b.i64.cast([0,0]),b.i64.cast([0,0]),!1,"nonexistent",b.i64.cast([0,20]),void 0,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[20]=e[0],c[21]=e[1],c[22]=e[2],c[23]=e[3],c[24]=e[4],c[25]=e[5],c[26]=e[6],c[27]=e[7],c[28]=e[8],e):(d=a.item,e=[d.timestampMs,d.senderId,d.viewFlags,d.isAdminMessage,d.messageId,d.authorityLevel,d.stickerId,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[20]=e[0],c[21]=e[1],c[22]=e[2],c[23]=e[3],c[24]=e[4],c[25]=e[5],c[26]=e[6],c[27]=e[7],c[28]=e[8],e)})},function(d){return c[32]=b.i64.or_(b.i64.cast([0,2]),b.i64.or_(!c[3]&&!a[3]?b.i64.cast([0,4]):b.i64.cast([0,0]),b.i64.or_(c[3]?b.i64.cast([0,0]):b.i64.cast([0,1]),b.i64.or_(b.i64.eq(c[5],b.i64.cast([0,60]))||b.i64.eq(c[5],b.i64.cast([0,80]))?b.i64.cast([0,1048576]):b.i64.cast([0,0]),b.i64.neq(c[6],b.i64.cast([85970,924785702]))&&b.i64.neq(c[6],b.i64.cast([85970,1004785694]))&&b.i64.neq(c[6],b.i64.cast([85970,1044785690]))?b.i64.cast([0,0]):b.i64.cast([0,2097152]))))),c[14]!=="nonexistent"?b.sequence([function(d){return c[35]=b.i64.or_(b.i64.and_(c[12],b.i64.cast([-1,4294967280])),b.i64.or_(b.i64.gt(b.i64.sub(c[10],c[0]),b.i64.cast([0,6e5]))?b.i64.cast([0,2]):b.i64.cast([0,0]),b.i64.or_(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),b.i64.cast([0,6e5]))?b.i64.cast([0,8]):b.i64.cast([0,0]),b.i64.or_(!a[3]&&!c[13]&&!(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),b.i64.cast([0,6e5])))?b.i64.cast([0,4]):b.i64.cast([0,0]),b.i64.and_(c[12],b.i64.cast([0,1])))))),c[33]=b.i64.eq(b.i64.and_(c[35],b.i64.cast([0,8])),b.i64.cast([0,8])),c[34]=c[33]?b.i64.or_(c[32],b.i64.cast([0,16])):c[32],b.forEach(b.filter(b.db.table(12).fetch([[[a[0],c[10],c[14]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(d.timestampMs,c[10])&&d.messageId===c[14]}),function(a){var b=a.update;a.item;return b({viewFlags:c[35]})})},function(a){return c[30]=c[33]?b.i64.and_(c[34],b.i64.cast([-1,4294967294])):c[34]}]):b.resolve(c[30]=c[32])},function(d){return c[24]!=="nonexistent"?b.sequence([function(d){return c[35]=b.i64.or_(b.i64.and_(c[30],b.i64.cast([-1,4294967280])),b.i64.or_(b.i64.gt(b.i64.sub(c[0],c[20]),b.i64.cast([0,6e5]))?b.i64.cast([0,2]):b.i64.cast([0,0]),b.i64.or_(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),b.i64.cast([0,6e5]))?b.i64.cast([0,8]):b.i64.cast([0,0]),b.i64.or_(!a[3]&&!c[3]&&!(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),b.i64.cast([0,6e5])))?b.i64.cast([0,4]):b.i64.cast([0,0]),b.i64.and_(c[30],b.i64.cast([0,1])))))),c[33]=b.i64.eq(b.i64.and_(c[35],b.i64.cast([0,8])),b.i64.cast([0,8])),c[34]=c[33]?b.i64.or_(c[22],b.i64.cast([0,16])):c[22],b.forEach(b.filter(b.db.table(12).fetch([[[a[0],c[20],c[24]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(d.timestampMs,c[20])&&d.messageId===c[24]}),function(a){var d=a.update;a.item;return d({viewFlags:c[33]?b.i64.and_(c[34],b.i64.cast([-1,4294967294])):c[34]})})},function(a){return c[31]=c[35]}]):b.resolve(c[31]=c[30])},function(d){return b.forEach(b.filter(b.db.table(12).fetch([[[a[0],c[0],c[4]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(d.timestampMs,c[0])&&d.messageId===c[4]}),function(a){var b=a.update;a.item;return b({viewFlags:c[31]})})}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxSetMessageViewFlagsStoredProcedure";e.exports=a}),null);
__d("LSLocalApplyOptimisticMessage",["LSCreateOfflineThreadingID","LSGetLocalizedReplySnippet","LSIssueNewError","LSSetMessageDisplayedContentTypes","LSSetMessageViewFlags"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),void 0!==void 0?c.resolve(d[1]=void 0):c.sequence([function(a){return c.storedProcedure(b("LSCreateOfflineThreadingID"),d[0]).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[1]=c.i64.to_string(d[9])}])},function(e){return d[8]=a[4]==null?a[3]:a[4],c.sequence([function(a){return c.islc(c.db.table(9).fetchDesc([[[]],"lastActivityTimestampMs"]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?d[9]=c.i64.cast([-1,4294967295]):(b=a.item,d[9]=b.lastActivityTimestampMs)})},function(e){return d[11]=c.i64.add(d[9],c.i64.cast([0,1])),d[13]=c.i64.gt(d[0],d[11])?d[0]:d[11],c.db.table(9).fetch([[[a[1]]]]).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(b){return function(a){c.logger(a).info(a)}("localApplyOptimisticMessage insert optimistic thread"),c.forEach(c.filter(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.lt(b.authorityLevel,c.i64.cast([0,40]))}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[1],mailboxType:c.i64.cast([0,0]),threadType:a[2],clientThreadKey:a[1],folderName:"inbox",parentThreadKey:c.i64.cast([0,0]),lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],ongoingCallState:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,40])})},function(b){return c.i64.eq(a[2],c.i64.cast([0,13]))||c.i64.eq(a[2],c.i64.cast([0,7]))||c.i64.eq(a[2],c.i64.cast([0,1]))?c.sequence([function(b){return c.forEach(c.filter(c.db.table(14).fetch([[[a[1],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[1])&&c.i64.lt(b.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[1],contactId:a[1],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),isModerator:!1})}]):c.resolve()},function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[14]=!1:(b=a.item,d[14]=b.errorShouldBeShown)})},function(a){return d[14]===!0?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[16]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[17]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[16],d[17],void 0,void 0)}]):c.resolve()}]):(e.item,c.forEach(c.filter(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(b.threadType,a[2])}),function(b){var c=b.update;b.item;return c({lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],snippetText:void 0,snippetStringHash:void 0,snippetStringArgument1:void 0,snippetAttribution:void 0,snippetAttributionStringHash:void 0,additionalThreadContext:void 0})}))})}])},function(e){return c.sequence([function(b){return c.islc(c.filter(c.db.table(12).fetchDesc([[[a[1]]],"messageDisplayOrder"]),function(b){return c.i64.eq(b.threadKey,a[1])&&(c.i64.eq(b.authorityLevel,c.i64.cast([0,80]))||c.i64.eq(b.authorityLevel,c.i64.cast([0,60]))||c.i64.eq(b.authorityLevel,c.i64.cast([0,40])))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[33]=c.i64.of_float(Date.now()),d[9]=d[33]):(b=a.item,d[9]=b.primarySortKey)})},function(e){return a[8]!==void 0&&(c.i64.eq(a[9],c.i64.cast([0,1]))||c.i64.eq(a[10],c.i64.cast([0,1])))?c.sequence([function(e){return c.filter(c.db.table(12).fetch([[[a[8]==null?"":a[8]]],"messageId"]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===(a[8]==null?"":a[8])}).next().then(function(e,f){var g=e.done;e=e.value;return g?(g=[a[8],void 0,void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],d[33]=g[0],d[34]=g[1],d[35]=g[2],d[36]=g[3],d[37]=g[4],d[38]=g[5],d[39]=g[6],d[40]=g[7],d[41]=g[8],d[42]=g[9],d[43]=g[10],d[44]=g[11],d[45]=g[12],d[46]=g[13],d[47]=g[14],d[48]=g[15],g):(f=e.item,c.sequence([function(e){return d[54]=f.senderId,d[53]=f.stickerId,c.i64.neq(d[53],void 0)?(e=[d[53],c.i64.cast([0,4])],d[56]=e[0],d[57]=e[1],e):(e=[void 0,void 0],d[56]=e[0],d[57]=e[1],e),e=[d[56],d[57]],d[50]=e[0],d[51]=e[1],e,d[55]=f.replyType==null?c.i64.cast([0,0]):f.replyType,c.sequence([function(e){return c.storedProcedure(b("LSGetLocalizedReplySnippet"),a[1],a[0],d[54],d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(b){return d[52]=c.i64.eq(a[10],c.i64.cast([0,1]))?d[56]:""}])},function(b){return b=[a[8],a[9],a[10],c.i64.cast([0,1]),d[52],d[54],f.text,d[50],d[51],void 0,void 0,void 0,void 0,void 0,void 0,d[55]],d[33]=b[0],d[34]=b[1],d[35]=b[2],d[36]=b[3],d[37]=b[4],d[38]=b[5],d[39]=b[6],d[40]=b[7],d[41]=b[8],d[42]=b[9],d[43]=b[10],d[44]=b[11],d[45]=b[12],d[46]=b[13],d[47]=b[14],d[48]=b[15],b}]))})},function(a){return a=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4],d[16]=a[5],d[17]=a[6],d[18]=a[7],d[19]=a[8],d[20]=a[9],d[21]=a[10],d[22]=a[11],d[23]=a[12],d[24]=a[13],d[25]=a[14],d[26]=a[15],a}]):c.resolve((a[8]===void 0||c.i64.eq(a[9],c.i64.cast([0,0]))||c.i64.eq(a[10],c.i64.cast([0,0]))?(e=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e):(e=[a[8],a[9],a[10],c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e),e=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=e[0],d[12]=e[1],d[13]=e[2],d[14]=e[3],d[15]=e[4],d[16]=e[5],d[17]=e[6],d[18]=e[7],d[19]=e[8],d[20]=e[9],d[21]=e[10],d[22]=e[11],d[23]=e[12],d[24]=e[13],d[25]=e[14],d[26]=e[15],e))},function(b){return a[13]?d[27]=!1:d[27]=!0,d[27]?(b=[void 0,void 0,void 0,void 0],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b):(d[33]=a[13].get("mention_offsets"),a[13],d[34]=a[13].get("mention_lengths"),a[13],d[35]=a[13].get("mention_ids"),a[13],d[36]=a[13].get("mention_types"),a[13],b=[d[33],d[34],d[35],d[36]],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b),a[11]?d[32]=c.i64.cast([0,3]):d[32]=d[13],c.i64.eq(c.i64.cast([0,20]),c.i64.cast([0,20]))?c.db.table(12).add({threadKey:a[1],messageId:d[1],timestampMs:d[0],offlineThreadingId:d[1],primarySortKey:d[9],secondarySortKey:d[0],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:c.i64.cast([0,1]),sendStatusV2:c.i64.cast([0,1]),authorityLevel:c.i64.cast([0,20]),replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]}):c.sequence([function(a){return c.db.table(12).fetch([[[d[1]]],"optimistic"]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[d[9],d[0],void 0],d[33]=c[0],d[34]=c[1],d[35]=c[2],c):(b=a.item,c=[b.primarySortKey,b.secondarySortKey,b.localDataId],d[33]=c[0],d[34]=c[1],d[35]=c[2],c)})},function(a){return c.forEach(c.filter(c.db.table(12).fetch([[[d[1]]],"optimistic"]),function(a){return a.offlineThreadingId===d[1]&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(12).add({threadKey:a[1],messageId:d[1],timestampMs:d[0],offlineThreadingId:d[1],primarySortKey:d[33],secondarySortKey:d[34],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:c.i64.cast([0,1]),sendStatusV2:c.i64.cast([0,1]),authorityLevel:c.i64.cast([0,20]),localDataId:d[35],replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]})}])}])},function(e){return d[2]=c.createArray(),d[3]=(d[2].push("LSMailboxLocalApplyOptimisticMessageStoredProcedure"),d[2]),d[4]=(d[2].push("localApplyOptimisticMessage"),d[2]),d[5]=(d[2].push(a[1]),d[2]),d[6]=(d[2].push(d[1]),d[2]),d[7]=c.toJSON(d[2]),function(a){c.logger(a).info(a)}(d[7]),a[14]?c.sequence([function(e){return c.storedProcedure(b("LSSetMessageViewFlags"),a[1],d[1],d[0],c.i64.eq(a[2],c.i64.cast([0,1])))},function(e){return c.storedProcedure(b("LSSetMessageDisplayedContentTypes"),a[1],d[1],d[0],a[3],!1,c.i64.neq(a[6],void 0))}]):c.resolve()},function(a){return a=[d[1],d[0]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxLocalApplyOptimisticMessageStoredProcedure";e.exports=a}),null);
__d("LSMediaUrlAttachment",["I64","LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.previewUrlFallback:a.previewUrl}function b(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.previewUrlFallback:a.previewUrlLarge}function c(a){var b=a.playableUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.playableUrlFallback:a.playableUrl}function e(a){var b=a.imageUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.imageUrlFallback:a.imageUrl}function f(a){var b=a.faviconUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.faviconUrlFallback:a.faviconUrl}function i(a){try{var b=a.listItemContactUrlExpirationTimestampList1;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?a.listItemContactUrlFallbackList1:a.listItemContactUrlList1}catch(b){return a.listItemContactUrlList1}}function j(a){try{var b=a.listItemContactUrlExpirationTimestampList2;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?a.listItemContactUrlFallbackList2:a.listItemContactUrlList2}catch(b){return a.listItemContactUrlList2}}function k(a){try{var b=a.listItemContactUrlExpirationTimestampList3;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?a.listItemContactUrlFallbackList3:a.listItemContactUrlList3}catch(b){return a.listItemContactUrlList3}}function l(a){var b=a.headerImageUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.headerImageUrlFallback:a.headerImageUrl}function m(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp1;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b)))return a.listItemProfilePictureUrlFallback1;else return a.listItemProfilePictureUrl1}catch(b){return a.listItemProfilePictureUrl1}}function n(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp2;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?a.listItemProfilePictureUrlFallback2:a.listItemProfilePictureUrl2}catch(b){return a.listItemProfilePictureUrl2}}function o(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp3;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?a.listItemProfilePictureUrlFallback3:a.listItemProfilePictureUrl3}catch(b){return a.listItemProfilePictureUrl3}}g.previewUrl=a;g.previewUrlLarge=b;g.playableUrl=c;g.imageUrl=e;g.faviconUrl=f;g.listItemContactUrlList1=i;g.listItemContactUrlList2=j;g.listItemContactUrlList3=k;g.headerImageUrl=l;g.listItemProfilePictureUrl1=m;g.listItemProfilePictureUrl2=n;g.listItemProfilePictureUrl3=o}),98);
__d("MDSSvgIcon.react",["CometSVGIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.color,e=a.dataTestId;e=a.inline;e=e===void 0?!1:e;var f=a.size;f=f===void 0?24:f;a=a.viewBox;a=a===void 0?"0 0 36 36":a;return i.jsx(c("CometSVGIcon.react"),{color:d,"data-testid":void 0,inline:e,size:f,viewBox:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWBlockingProtectionContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;d=e.createContext;var j=e.useContext,k=e.useMemo,l=e.useState,m=d({addMessageId:c("emptyFunction"),findMessageId:c("emptyFunction").thatReturnsFalse});function a(a){a=a.children;var b=l([]),c=b[0],d=b[1];b=k(function(){return{addMessageId:function(a){d([a].concat(c))},findMessageId:function(a){return c.find(function(b){return b===a})!=null}}},[c,d]);return i.jsx(m.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(m)}e={Provider:a,useHook:b};g["default"]=e}),98);
__d("MessagingCommunityType",[],(function(a,b,c,d,e,f){a=Object.freeze({FB_COMMUNITY:0,STANDALONE_COMMUNITY:1});f["default"]=a}),66);
__d("MWCMisStandAloneCommunity",["I64","LSIntEnum","MessagingCommunityType"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingCommunityType").STANDALONE_COMMUNITY))}g["default"]=a}),98);
__d("MWPContactContext.react",["react","shallowEqualI64"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useContext,k=e.useMemo,l=e.useRef,m=i.createContext({authorName:void 0,contact:void 0,nickname:void 0}),n=i.createContext({authorName:void 0,contact:void 0,nickname:void 0});function a(){return j(m)}function b(){return j(n)}function c(a){var b=a.children,c=a.contact,d=a.nickname,e=function(){var a;if(d!=null)a=d;else if(c!=null){var b=c.firstName;a=b!=null?b:c.name}else a=void 0;return a}();a=k(function(){return{authorName:e,contact:c,nickname:d}},[d,e,c]);var f=o(c),g=k(function(){return{authorName:e,contact:f,nickname:d}},[d,e,f]);return i.jsx(m.Provider,{value:a,children:i.jsx(n.Provider,{value:g,children:b})})}c.displayName=c.name+" [from "+f.id+"]";function o(a){var b=l();a=a?{blockedByViewerStatus:a.blockedByViewerStatus,capabilities:a.capabilities,capabilities2:a.capabilities2,contactTypeExact:a.contactTypeExact,name:a.name,profilePictureFallbackUrl:a.profilePictureFallbackUrl,profilePictureUrl:a.profilePictureUrl,profilePictureUrlExpirationTimestampMs:a.profilePictureUrlExpirationTimestampMs,secondaryName:a.secondaryName}:void 0;d("shallowEqualI64").shallowEqualI64(b.current,a)||(b.current=a);return b.current}g.useMWPContactFullContext=a;g.useMWPContactStableContext=b;g.MWPContactContextProvider=c}),98);
__d("MWGroupBlockingProtectionUtils",["fbt","I64","LSContactBlockedByViewerStatus","LSIntEnum","MWBlockingProtectionContext.react","MWPContactContext.react","ReQL","ReQLSuspense","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;function l(a){var b=(k||(k=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.tables.threads,["threadType"]).getKeyRange(a).map(function(a){return a.threadType})},[b,a],f.id+":32");return e==null?!1:(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(2))||(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(16))||(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(18))}function a(a){a=l(a);var b=d("MWPContactContext.react").useMWPContactStableContext();b=b.contact;return a&&b?!(i||(i=d("I64"))).equal(b.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1}function m(a,b){var e=(k||(k=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(a):d("ReQL").empty()},[e,a],f.id+":71");b=l(b);return b&&g?!(i||(i=d("I64"))).equal(g.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1}function b(a){var b=m(a.senderId,a.threadKey),d=c("MWBlockingProtectionContext.react").useHook();d=d.findMessageId;var e=l(a.threadKey);return e&&b&&!d(a.messageId)}function e(a,b){var e,g=(k||(k=c("useReStore")))(),l=(e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(g.tables.messages).getKeyRange(a)},[g,a],f.id+":110"))==null?void 0:e.senderId;e=d("ReQLSuspense").useFirst(function(){return l!=null?d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(l):d("ReQL").empty()},[g,l],f.id+":114");var m=e==null?!1:!(i||(i=d("I64"))).equal(e.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED));b=(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(2))||(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(16))||(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(18));if(!(b&&m))return null;m=(b=e==null?void 0:e.firstName)!=null?b:e==null?void 0:e.name;if(m==null){c("recoverableViolation")("Empty first name for blocked contact","messenger_web_wellbeing");return null}return h._("__JHASH__rZMtLmsbvnM__JHASH__",[h._param("blocked contact's name",m)]).toString()}g.useShouldEnableBlockingProtection=l;g.useMWGetSnippetForBlockingProtection=e;g.useMWIsContactBlocked=a;g.useMWIsMessageSentByBlockedContact=m;g.useMWShouldHideReply=b}),226);
__d("MWInboxPersistedUIState",["FBLogger","WebStorage","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useCallback,k=b.useRef,l=b.useSyncExternalStore,m=new Map(),n=new Map();function o(a){(a=m.get(a))==null?void 0:a.forEach(function(a){return a()})}function a(a,b){var d=k(a).current,e=k({parsed:d,stringified:void 0});a=j(function(a){var c=m.get(b),d=c!=null?c:new Set();d.add(a);m.set(b,d);return function(){d["delete"](a)}},[b]);var f=j(function(){var a=(h||(h=c("WebStorage"))).getLocalStorageForRead();a=a==null?n.get(b):a.getItem(b);if(a==null)return d;if(a===e.current.stringified)return e.current.parsed;try{var f=JSON.parse(a);e.current={parsed:f,stringified:a};return f}catch(a){return d}},[d,b]);a=l(a,f);f=j(function(a){a=a instanceof Function?a(e.current.parsed):a;var d=(h||(h=c("WebStorage"))).getLocalStorage();a=JSON.stringify(a);if(d!=null)if(a==null)d.removeItem(b);else try{d.setItem(b,a)}catch(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("Failed to setItem")}else n.set(b,a);o(b)},[b]);return[a,f]}g.usePersistedUIState=a}),98);
__d("MWLSThread",["FBLogger","Promise","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(a){return a};function a(a,b){b===void 0&&(b=j);var e=(i||(i=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(a).map(function(a){return b(a)}):d("ReQL").empty()},[e,a],f.id+":29")}function e(a,b){b===void 0&&(b=j);var e=(i||(i=c("useReStore")))();return d("ReQLSuspense").useFirstExn(function(){return d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(a).map(function(a){var c;return(c=b==null?void 0:b(a))!=null?c:a})},[e,a],f.id+":48")}function k(a,b,e){e===void 0&&(e=j);a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b),f.id+":65");if(!a)throw c("FBLogger")("messenger_web").mustfixThrow("thread is null/undefined");return e(a)}function l(a,c,e){e===void 0&&(e=j);return c!=null?d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(c)).then(function(a){return a?e(a):void 0}):(h||(h=b("Promise"))).resolve(void 0)}g.useThread=a;g.useThreadExn=e;g.getThreadExn=k;g.getThreadAsync=l}),98);
__d("MWPFeatureLimitedData",["I64","Int64Hooks","LSFeatureLimitsType","LSIntEnum","LSMessagingThreadTypeUtil","ReQL","ReQLSuspense","ServerTime","gkx","useReStore","useServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=[(i||(i=d("LSIntEnum"))).ofNumber(c("LSFeatureLimitsType").READ_ONLY),i.ofNumber(c("LSFeatureLimitsType").GENERIC_READ_ONLY_BLOCK),i.ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND)];function l(a){for(var b=0;b<k.length;b++){var c=k[b];if((j||(j=d("I64"))).equal(c,a.type_))return!0}return!1}function m(a,b){return(j||(j=d("I64"))).equal((i||(i=d("LSIntEnum"))).ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND_PUBLIC),a.type_)&&d("LSMessagingThreadTypeUtil").isPublicCMThread(b)&&c("gkx")("26351")}function n(a,b){return(j||(j=d("I64"))).equal((i||(i=d("LSIntEnum"))).ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND_PRIVATE),a.type_)&&d("LSMessagingThreadTypeUtil").isPrivateThread(b)&&c("gkx")("26352")}var o=function(a){var b=(j||(j=d("I64"))).of_float(d("ServerTime").getMillis()/1e3);return d("ReQL").fromTableAscending(a.tables.feature_limits).filter(function(a){return l(a)&&(j||(j=d("I64"))).gt(a.expirationTimestampSeconds,b)})};function p(a,b){var e=(j||(j=d("I64"))).of_float(c("useServerTime")().valueOf()/1e3);return d("Int64Hooks").useMemoInt64(function(){return d("ReQL").fromTableAscending(a.tables.feature_limits).filter(function(a){return(b!=null?l(a)||m(a,b)||n(a,b):l(a))&&(j||(j=d("I64"))).gt(a.expirationTimestampSeconds,e)})},[e,a,b])}function a(){var a=(h||(h=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return o(a)},[a],f.id+":122")}function b(a){var b=(h||(h=c("useReStore")))(),e=p(b,a);return d("ReQLSuspense").useFirst(function(){return e},[e],f.id+":131")}g.readonlyFeatureLimitQuery=o;g.useReadOnlyFeatureLimitData=a;g.useReadOnlyFeatureLimitDataWithThreadType=b}),98);
__d("MWResponsiveLayoutConstants",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({THREAD_LIST_PANEL:0,MESSAGE_LIST_PANEL:1,INFO_PANEL:2});c=[a.MESSAGE_LIST_PANEL,a.INFO_PANEL];d=a.THREAD_LIST_PANEL;e=a.MESSAGE_LIST_PANEL;b=3;f.MWLayoutPanel=a;f.MWInboxMainContentPanels=c;f.DEFAULT_ONE_CARD_INDEX=d;f.DEFAULT_TWO_CARDS_INDEX=e;f.DEFAULT_MAX_CARDS_VISIBLE=b}),66);
__d("MWResponsiveLayoutContext.react",["MWResponsiveLayoutConstants","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({_mountCard:c("emptyFunction"),_unmountCard:c("emptyFunction"),cardsVisible:d("MWResponsiveLayoutConstants").DEFAULT_MAX_CARDS_VISIBLE,maxCardsVisible:d("MWResponsiveLayoutConstants").DEFAULT_MAX_CARDS_VISIBLE,popCard:c("emptyFunction"),primaryCardIndex:d("MWResponsiveLayoutConstants").DEFAULT_TWO_CARDS_INDEX,pushCard:c("emptyFunction"),secondaryCardIndex:null});e=b;g["default"]=e}),98);
__d("MWXIcon.react",["cr:2058","cr:6570","getMDSIconColorCometFallback","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");c=i.forwardRef(a);function a(a,c){a=babelHelpers["extends"]({},a);var e=a.backgroundEnabled,f=a.color;a=babelHelpers.objectWithoutPropertiesLoose(a,["backgroundEnabled","color"]);if(b("cr:6570")!=null)return i.jsx(b("cr:6570"),babelHelpers["extends"]({color:d("getMDSIconColorCometFallback").getMDSIconColorCometFallback(f),ref:c},a));return b("cr:2058")!=null?i.jsx(b("cr:2058"),babelHelpers["extends"]({backgroundEnabled:e,color:f,ref:c},a)):null}a.displayName=a.name+" [from "+f.id+"]";e=c;g["default"]=e}),98);
__d("MWXIconCautionTriangle",["MWXSvgIcon","SVGIcon","cr:9078","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9078")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconCross",["MWXSvgIcon","SVGIcon","cr:9110","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9110")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXMenu.react",["cr:6941","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");g["default"]=b("cr:6941")}),98);
__d("MWXMenuItem.react",["BaseTheme.react","FDSTextWebUtils","MWXSvgIcon","MWXThreadThemeColor","MessengerWebUXLogger","cr:2466","cr:4318","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useCallback,k=e.useMemo;e=i.forwardRef(a);function a(a,e){a=babelHelpers["extends"]({},a);var f=a.icon,g=a.iconColor,h=a.loggingEvent,k=a.onClick,m=a.primaryColor,n=a.secondaryColor;a=babelHelpers.objectWithoutPropertiesLoose(a,["icon","iconColor","loggingEvent","onClick","primaryColor","secondaryColor"]);var o=g instanceof d("MWXThreadThemeColor").MWXThreadThemeColor?"primary":g,p=c("MessengerWebUXLogger").useInteractionLogger(),q=j(function(a){k==null?void 0:k(a),h&&(p==null?void 0:p(h))},[p,h,k]);if(b("cr:4318")!=null)return i.jsx(l,{iconColor:g,children:i.jsx(b("cr:4318"),babelHelpers["extends"]({icon:f,iconColor:o,onClick:q},a,{ref:e}))});return b("cr:2466")!=null?i.jsx(l,{iconColor:g,children:i.jsx(b("cr:2466"),babelHelpers["extends"]({icon:f instanceof d("MWXSvgIcon").MWXSvgMenuItemIcon?f.component:f,iconColor:o,onClick:q,primaryColor:d("FDSTextWebUtils").getFDSHeadlineColor(m),secondaryColor:d("FDSTextWebUtils").getFDSMetaColor(n)},a,{ref:e}))}):null}a.displayName=a.name+" [from "+f.id+"]";a=e;function l(a){var b=a.children,e=a.iconColor;a=k(function(){return e instanceof d("MWXThreadThemeColor").MWXThreadThemeColor?{dark:{"primary-icon":e.color},light:{"primary-icon":e.color},type:"VARIABLES"}:void 0},[e]);return a==null?b:i.jsx(c("BaseTheme.react"),{config:a,children:b})}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXSpinner.react",["cr:5023","cr:5028","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=a.color;a=a.size;if(b("cr:5023")!=null)return i.jsx(b("cr:5023"),{color:c,size:a});return b("cr:5028")!=null?i.jsx(b("cr:5028"),{color:c==="blue"?"blue":"grey",size:a<=12?12:a<32?24:32}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXTooltip.react",["cr:8602","cr:998","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){return a.label!==void 0}function a(a){var c=j(a)?a.label:a.tooltip;a.label;a=babelHelpers.objectWithoutPropertiesLoose(a,["label"]);if(b("cr:998")!=null)return i.jsx(b("cr:998"),babelHelpers["extends"]({label:c},a));return b("cr:8602")!=null?i.jsx(b("cr:8602"),babelHelpers["extends"]({},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("logMessengerWebFalcoEvent",["I64","LSMessagingThreadTypeUtil","MessengerWebEventsFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,f){var g=a.threadKey;a=a.threadType;if(e!=null){var i=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a),j=d("LSMessagingThreadTypeUtil").isGroup(a),k=(h||(h=d("I64"))).to_string(g);g=(a=f)!=null?a:{};var l=g.hasMissingMessage,m=babelHelpers.objectWithoutPropertiesLoose(g,["hasMissingMessage"]);g=(a=f)!=null?a:{};var n=g.MAW_vs_EB_numOfMissingInReference,o=g.MAW_vs_EB_numOfMissingInTarget,p=g.UI_vs_EB_numOfMissingInReference,q=g.UI_vs_EB_numOfMissingInTarget,r=g.UI_vs_MAW_numOfMissingInReference,s=g.UI_vs_MAW_numOfMissingInTarget,t=g.pageSize;c("MessengerWebEventsFalcoEvent").log(function(){return{client_timestamp:Date.now().toString(),entry_point:e,event_name:b,extra_data:m,has_message_missing:l,is_secured:i,missing_messages_maw_vs_eb_missing_in_reference_count:n,missing_messages_maw_vs_eb_missing_in_target_count:o,missing_messages_page_size:t,missing_messages_ui_vs_eb_missing_in_reference_count:p,missing_messages_ui_vs_eb_missing_in_target_count:q,missing_messages_ui_vs_maw_missing_in_reference_count:r,missing_messages_ui_vs_maw_missing_in_target_count:s,other_user_fbid:j||i?void 0:k,thread_fbid:k}})}}g["default"]=a}),98);
__d("useIsChatPreviewsEnabled",["MWCMisStandAloneCommunity","MWLSThread","ReQL","ReQLSuspense","gkx","isUnjoinedCMThread","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=(h||(h=c("useReStore")))(),e=d("MWLSThread").useThread(a,function(a){return a.parentThreadKey}),g=d("ReQLSuspense").useFirst(function(){return e?d("ReQL").fromTableAscending(b.tables.community_folders).getKeyRange(e):d("ReQL").empty()},[b,e],f.id+":28");return(a=d("MWLSThread").useThread(a,function(a){return i(a,g==null?void 0:g.communityType)}))!=null?a:!1}function i(a,b){var e=c("gkx")("5940");if(a.needsAdminApprovalForNewParticipant===!0)return!1;return!d("isUnjoinedCMThread").isUnjoinedCMThread(a.threadType)?!1:c("MWCMisStandAloneCommunity")(b)&&!e}g.useIsChatPreviewsEnabled=a;g.isChatPreviewsEnabled=i}),98);
__d("useMWXPushErrorToast",["MWXIconCautionTriangle","react","useMWXPushToast"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWXPushToast")();return i(function(b){a(babelHelpers["extends"]({},b,{_isWarning_DO_NOT_USE:!0,assertive:!0,icon:c("MWXIconCautionTriangle")}))},[a])}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometBadgeSection_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"renderLocation"}],kind:"Fragment",metadata:null,name:"CometBadgeSection_story",selections:[{alias:null,args:[{kind:"Variable",name:"location",variableName:"renderLocation"}],concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"11RbGN"}],concreteType:null,kind:"LinkedField",name:"badge",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometBadgeSection_story",fragmentName:"CometFeedUserVerifiedBadgeStrategy_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometFeedUserVerifiedBadgeStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometBadgeSection_story",fragmentName:"CometFeedPageVerifiedBadgeStrategy_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometFeedPageVerifiedBadgeStrategy",abstractKey:null}],storageKey:'badge(supported:"11RbGN")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("CometBadgeSection.react",["CometBadgeSection_story.graphql","CometFeedMatchRenderer.react","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e,f=a.shouldBeWhite;a=a.story;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometBadgeSection_story.graphql"),a);e=a==null?void 0:(e=a.comet_sections)==null?void 0:e.badge;return j.jsx(c("CometFeedMatchRenderer.react"),{match:e,props:{shouldBeWhite:f},section:"badge",trackingData:a==null?void 0:a.encrypted_tracking})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedStoryAboveMessageMatchRenderer_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"renderLocation"}],kind:"Fragment",metadata:null,name:"CometFeedStoryAboveMessageMatchRenderer_story",selections:[{alias:null,args:[{kind:"Variable",name:"location",variableName:"renderLocation"}],concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"2q4aYF"}],concreteType:null,kind:"LinkedField",name:"above_message",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAboveMessageMatchRenderer_story",fragmentName:"CometFeedStoryAboveMessageFunFactsRenderingStrategy_aboveMessage",fragmentPropName:"aboveMessage",kind:"ModuleImport"}],type:"CometFeedStoryAboveMessageFunFactsRenderingStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAboveMessageMatchRenderer_story",fragmentName:"WorkFeedStoryAboveMessageMajorEventRenderingStrategy_aboveMessage",fragmentPropName:"aboveMessage",kind:"ModuleImport"}],type:"WorkFeedStoryAboveMessageMajorEventRenderingStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAboveMessageMatchRenderer_story",fragmentName:"CometFeedStoryAboveMessageCommunityQARenderingStrategy_aboveMessage",fragmentPropName:"aboveMessage",kind:"ModuleImport"}],type:"CometFeedStoryAboveMessageCommunityQARenderingStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAboveMessageMatchRenderer_story",fragmentName:"GeminiFeedStoryAboveMessageCoAuthorConfirmationRenderingStrategy_aboveMessage",fragmentPropName:"aboveMessage",kind:"ModuleImport"}],type:"GeminiFeedStoryAboveMessageCoAuthorConfirmationRenderingStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAboveMessageMatchRenderer_story",fragmentName:"GeminiFeedStoryAboveMessageCoAuthorPendingPublishRenderingStrategy_aboveMessage",fragmentPropName:"aboveMessage",kind:"ModuleImport"}],type:"GeminiFeedStoryAboveMessageCoAuthorPendingPublishRenderingStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAboveMessageMatchRenderer_story",fragmentName:"GeminiFeedStoryAboveMessageVideoReadyStateRenderingStrategy_aboveMessage",fragmentPropName:"aboveMessage",kind:"ModuleImport"}],type:"GeminiFeedStoryAboveMessageVideoReadyStateRenderingStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAboveMessageMatchRenderer_story",fragmentName:"GeminiFeedStoryAboveMessageGeneratingAutoSuggestedVideoChaptersStateRenderingStrategy_aboveMessage",fragmentPropName:"aboveMessage",kind:"ModuleImport"}],type:"GeminiFeedStoryAboveMessageGeneratingAutoSuggestedVideoChaptersStateRenderingStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAboveMessageMatchRenderer_story",fragmentName:"GeminiFeedStoryAboveMessageShareablePostRenderingStrategy_aboveMessage",fragmentPropName:"aboveMessage",kind:"ModuleImport"}],type:"GeminiFeedStoryAboveMessageShareablePostRenderingStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAboveMessageMatchRenderer_story",fragmentName:"GeminiFeedStoryPostSummarizationStateRenderingStrategy_aboveMessage",fragmentPropName:"aboveMessage",kind:"ModuleImport"}],type:"GeminiFeedStoryPostSummarizationStateRenderingStrategy",abstractKey:null}],storageKey:'above_message(supported:"2q4aYF")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("CometFeedStoryAboveMessageMatchRenderer.react",["CometFeedMatchRenderer.react","CometFeedStoryAboveMessageMatchRenderer_story.graphql","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e,f=a.story;a=a.variables;f=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedStoryAboveMessageMatchRenderer_story.graphql"),f);return j.jsx(c("CometFeedMatchRenderer.react"),{match:f==null?void 0:(e=f.comet_sections)==null?void 0:e.above_message,props:{variables:a},section:"above_message",trackingData:f==null?void 0:f.encrypted_tracking})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedStoryAboveMessageSection_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedStoryAboveMessageSection_story",selections:[{args:null,kind:"FragmentSpread",name:"CometFeedStoryAboveMessageMatchRenderer_story"}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("CometFeedStoryAboveMessageSection.react",["CometFeedStoryAboveMessageMatchRenderer.react","CometFeedStoryAboveMessageSection_story.graphql","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=a.story;a=a.variables;e=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedStoryAboveMessageSection_story.graphql"),e);return j.jsx(c("CometFeedStoryAboveMessageMatchRenderer.react"),{story:e,variables:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedStoryFollowButtonSection_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"renderLocation"}],kind:"Fragment",metadata:null,name:"CometFeedStoryFollowButtonSection_story",selections:[{alias:null,args:[{kind:"Variable",name:"location",variableName:"renderLocation"}],concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"7FSt"}],concreteType:null,kind:"LinkedField",name:"follow_button",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFollowButtonSection_story",fragmentName:"CometFeedStoryFollowButtonStrategy_followButton",fragmentPropName:"followButton",kind:"ModuleImport"}],type:"CometFeedStoryFollowButtonStrategy",abstractKey:null}],storageKey:'follow_button(supported:"7FSt")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("CometFeedStoryFollowButtonSection.react",["CometFeedMatchRenderer.react","CometFeedStoryFollowButtonSection_story.graphql","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e;a=a.story;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedStoryFollowButtonSection_story.graphql"),a);return j.jsx(c("CometFeedMatchRenderer.react"),{match:(e=a.comet_sections)==null?void 0:e.follow_button,section:"follow_button",trackingData:a==null?void 0:a.encrypted_tracking})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometStoryAggregatedUsersTitleDialogQuery$Parameters",["CometStoryAggregatedUsersTitleDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometStoryAggregatedUsersTitleDialogQuery_facebookRelayOperation"),metadata:{},name:"CometStoryAggregatedUsersTitleDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometStoryAggregatedUsersTitleDialog.entrypoint",["CometStoryAggregatedUsersTitleDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c=a.storyID;a=a.storyRenderLocation;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:b("CometStoryAggregatedUsersTitleDialogQuery$Parameters"),variables:{id:c,renderLocation:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometStoryAggregatedUsersTitleDialog.react").__setRef("CometStoryAggregatedUsersTitleDialog.entrypoint")};g["default"]=a}),98);
__d("CometFeedStoryTitleAggregatedUsersRenderer",["CometEntryPointDialogTrigger.react","CometLink.react","CometStoryAggregatedUsersTitleDialog.entrypoint","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");a=function(a,b){return function(d){if(a==null){c("recoverableViolation")("story ID was null when rendering aggregated users link in story title","comet_ui");return d}if(b==null){c("recoverableViolation")("render location was null when rendering aggregated users link in story title","comet_ui");return d}return i.jsx(c("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:c("CometStoryAggregatedUsersTitleDialog.entrypoint"),otherProps:{},preloadParams:{storyID:a,storyRenderLocation:b},children:function(a){return i.jsx(c("CometLink.react"),{onClick:a,children:d})}})}};g["default"]=a}),98);
__d("CometFeedStoryTitleWithActorStrategy_contextTitle.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"renderLocation"}],kind:"Fragment",metadata:null,name:"CometFeedStoryTitleWithActorStrategy_contextTitle",selections:[{args:null,kind:"FragmentSpread",name:"useCometFeedStoryMatchDebugger_iCometStorySection"},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},a],storageKey:null},{alias:null,args:[{kind:"Variable",name:"location",variableName:"renderLocation"}],concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],storageKey:null},{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedStoryActorLink_story"},{args:null,kind:"FragmentSpread",name:"CometBadgeSection_story"},{args:null,kind:"FragmentSpread",name:"CometFeedStoryFollowButtonSection_story"}],storageKey:null}],type:"CometFeedStoryTitleWithActorStrategy",abstractKey:null}}();e.exports=a}),null);
__d("CometTitleSentenceGroupJoinButtonRenderer_entity.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometTitleSentenceGroupJoinButtonRenderer_entity",selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"target_group",plural:!1,selections:[{args:null,documentName:"CometTitleSentenceGroupJoinButtonRenderer_entity",fragmentName:"CometFeedStoryCommunityAttributionTitleJoinButton_group",fragmentPropName:"group",kind:"ModuleImport"}],storageKey:null}],type:"TitleSentenceGroupJoinButton",abstractKey:null};e.exports=a}),null);
__d("CometTitleSentenceGroupJoinButtonRenderer",["CometRelay","CometTitleSentenceGroupJoinButtonRenderer_entity.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=h!==void 0?h:h=b("CometTitleSentenceGroupJoinButtonRenderer_entity.graphql");function l(a){a=a.entity;a=d("CometRelay").useFragment(k,a);return a.target_group==null?null:j.jsx(d("CometRelay").MatchContainer,{match:a.target_group,props:{group$key:a.target_group}})}l.displayName=l.name+" [from "+f.id+"]";a=function(a,b){return j.jsx(l,{entity:b})};g["default"]=a}),98);
__d("GroupsCometAnonAuthorProfileEntityRenderer",["CometLink.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b){return i.jsx(c("CometLink.react"),{children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("UserCometVerifiedBadgeRenderer_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"UserCometVerifiedBadgeRenderer_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"User",abstractKey:null};e.exports=a}),null);
__d("UserCometVerifiedBadgeRenderer",["CometProfileVerificationBadge.react","UserCometVerifiedBadgeRenderer_user.graphql","XPlatReactEnvironment","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={verifiedIconContainer:{paddingStart:"x1t2a60a",position:"x1n2onr6",$$css:!0}};h!==void 0?h:h=b("UserCometVerifiedBadgeRenderer_user.graphql");function a(a){var b=new Set(a==null?void 0:a.map(function(a){a=a.id;return a}).filter(Boolean));return function(a,e){var f=e.id;e=e.is_verified;return e==null||e===!1||f==null||!b.has(f)?a:j.jsxs(j.Fragment,{children:[a,d("XPlatReactEnvironment").isWeb()?j.jsx(d("react-strict-dom").html.span,{style:k.verifiedIconContainer,children:j.jsx(c("CometProfileVerificationBadge.react"),{profileID:f,size:"small"})}):j.jsx(d("react-strict-dom").html.div,{style:k.verifiedIconContainer,children:j.jsx(c("CometProfileVerificationBadge.react"),{profileID:f,size:"small"})})]})}}g["default"]=a}),98);
__d("WorkCometDeactivatedAccountRenderer_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"WorkCometDeactivatedAccountRenderer_user",selections:[{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null}],type:"User",abstractKey:null};e.exports=a}),null);
__d("WorkCometDeactivatedAccountRenderer",["fbt","ix","FDSIcon.react","WorkCometDeactivatedAccountRenderer_user.graphql","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||d("react");j!==void 0?j:j=b("WorkCometDeactivatedAccountRenderer_user.graphql");function a(a,b){return((b=b.work_info)==null?void 0:b.is_active_account)===!1?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"xi81zsa",children:a}),l.jsx("span",{className:"x3nfvp2 x1t2a60a x1n2onr6 x11njtxf",children:l.jsx(c("FDSIcon.react"),{alt:h._("__JHASH__wDpdyviNKZn__JHASH__"),color:"secondary",icon:d("fbicon")._(i("648667"),12)})})]}):a}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useCalloutOnHover",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useRef,j=b.useState,k=200,l=100;function a(){var a=j(!1),b=a[0],c=a[1],d=i(),e=i(),f=i(!1),g=function(){[d,e].forEach(function(a){a.current!=null&&window.clearTimeout(a.current)})};a=function(){g(),c(!0)};var h=function(){g(),c(!0)},m=function(){g(),c(!1)},n=function(){g(),e.current=window.setTimeout(function(){c(!0)},k)},o=function(){g(),d.current=window.setTimeout(function(){if(f.current)return;c(!1)},l)},p=function(){g(),f.current=!0,c(!0)},q=function(){g(),f.current=!1,c(!1)};return{isCalloutVisible:b,onBadgePress:a,onBadgeMouseEnter:n,onBadgeMouseLeave:o,onCalloutMouseEnter:p,onCalloutMouseLeave:q,onBadgeFocusIn:h,onBadgeFocusOut:m}}g["default"]=a}),98);
__d("GroupsGeminiGuestBadgePopover.react",["fbt","ix","ARIA_LABEL_PLACEHOLDER_FIXME","CometCard.react","CometPressable.react","CometRow.react","CometRowItem.react","FDSIcon.react","FDSText.react","fbicon","react","useCalloutOnHover","useFDSCallout"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={guestCallout:{maxWidth:"x1cj0jgk",$$css:!0},tooltipSection:{marginTop:"x1anpbxc",$$css:!0},textcell:{width:"xtd2538",$$css:!0},pressable:{borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",$$css:!0}};function a(a){var b=a.children,e=a.isGuestGroup;e=e===void 0?!1:e;var f=a.testid;f=a.xstyle;a=c("useCalloutOnHover")();var g=a.isCalloutVisible,j=a.onBadgeFocusIn,m=a.onBadgeFocusOut,n=a.onBadgeMouseEnter,o=a.onBadgeMouseLeave,p=a.onBadgePress,q=a.onCalloutMouseEnter;a=a.onCalloutMouseLeave;q=k.jsx(c("FDSText.react"),{type:"body4",children:k.jsxs("div",{onMouseEnter:q,onMouseLeave:a,children:[k.jsx(c("FDSText.react"),{type:"bodyLink1",children:h._("__JHASH__PtvjotES6dC__JHASH__")}),e&&k.jsx(c("CometCard.react"),{background:"base-wash",xstyle:l.tooltipSection,children:k.jsx(c("CometRow.react"),{paddingVertical:8,children:k.jsx(c("CometRowItem.react"),{children:k.jsx(c("FDSText.react"),{type:"bodyLink3",children:h._("__JHASH__w73Lm2JjxYg__JHASH__")})})})}),k.jsxs(c("CometCard.react"),{background:"base-wash",xstyle:l.tooltipSection,children:[k.jsxs(c("CometRow.react"),{paddingTop:12,spacingHorizontal:12,spacingVertical:12,children:[k.jsx(c("CometRowItem.react"),{verticalAlign:"center",children:k.jsx(c("FDSIcon.react"),{color:"black",disabled:!1,icon:d("fbicon")._(i("497897"),16)})}),k.jsx(c("CometRowItem.react"),{xstyle:l.textcell,children:h._("__JHASH__mwQ_edjDtpq__JHASH__")})]}),k.jsxs(c("CometRow.react"),{paddingVertical:12,spacingHorizontal:12,spacingVertical:12,children:[k.jsx(c("CometRowItem.react"),{verticalAlign:"center",children:k.jsx(c("FDSIcon.react"),{color:"black",disabled:!1,icon:d("fbicon")._(i("859827"),16)})}),k.jsx(c("CometRowItem.react"),{xstyle:l.textcell,children:h._("__JHASH__eb6tbD2tGQ2__JHASH__")})]}),k.jsxs(c("CometRow.react"),{paddingVertical:12,spacingHorizontal:12,spacingVertical:12,children:[k.jsx(c("CometRowItem.react"),{verticalAlign:"center",children:k.jsx(c("FDSIcon.react"),{color:"black",disabled:!1,icon:d("fbicon")._(i("492713"),16)})}),k.jsx(c("CometRowItem.react"),{xstyle:l.textcell,children:h._("__JHASH__P4TviQAb5B2__JHASH__")})]})]})]})});a=c("useFDSCallout")({"aria-label":c("ARIA_LABEL_PLACEHOLDER_FIXME"),arrowStyle:"inset",content:q,type:"default",position:"below",xstyle:l.guestCallout,disableOutsideClick:!0},g);e=a.anchorRef;return k.jsx(c("CometPressable.react"),{onFocusIn:j,onFocusOut:m,onHoverIn:n,onHoverOut:o,onPress:p,ref:e,testid:void 0,xstyle:[l.pressable,f],children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("GroupsGeminiGuestBadge.react",["fbt","FDSText.react","GroupsGeminiGuestBadgePopover.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.testid;b=a.xstyle;return j.jsx(c("GroupsGeminiGuestBadgePopover.react"),{isGuestGroup:!1,testid:void 0,xstyle:b,children:j.jsx("div",{className:"x6s0dn4 x3nfvp2 x1qx5ct2 x16hj40l xsyo7zv x1qhmfi1 xhk9q7s x1otrzb0 x1i1ezom x1o6z2jb",children:j.jsx(c("FDSText.react"),{color:"primary",type:"bodyLink4",children:j.jsx("span",{className:"x1rg5ohu",children:h._("__JHASH__NS64OuiNRD2__JHASH__")})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("GroupsGeminiMCGExternalMemberBadgePopover.react",["fbt","ix","ARIA_LABEL_PLACEHOLDER_FIXME","CometCard.react","CometPressable.react","CometRow.react","CometRowItem.react","FDSIcon.react","FDSText.react","fbicon","react","useCalloutOnHover","useFDSCallout"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={externalMemberCallout:{maxWidth:"x1cj0jgk",$$css:!0},tooltipSection:{marginTop:"x1anpbxc",$$css:!0},textcell:{width:"xtd2538",$$css:!0},pressable:{borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",$$css:!0}};function a(a){var b=a.children,e=a.testid;e=a.xstyle;a=c("useCalloutOnHover")();var f=a.isCalloutVisible,g=a.onBadgeFocusIn,j=a.onBadgeFocusOut,m=a.onBadgeMouseEnter,n=a.onBadgeMouseLeave,o=a.onBadgePress,p=a.onCalloutMouseEnter;a=a.onCalloutMouseLeave;a=k.jsx(c("FDSText.react"),{type:"body4",children:k.jsxs("div",{onMouseEnter:p,onMouseLeave:a,children:[k.jsx(c("FDSText.react"),{type:"bodyLink1",children:h._("__JHASH__O_zYDKypEFR__JHASH__")}),k.jsxs(c("CometCard.react"),{background:"base-wash",xstyle:l.tooltipSection,children:[k.jsxs(c("CometRow.react"),{paddingTop:12,spacingHorizontal:12,spacingVertical:12,children:[k.jsx(p=c("CometRowItem.react"),{verticalAlign:"center",children:k.jsx(c("FDSIcon.react"),{color:"black",disabled:!1,icon:d("fbicon")._(i("497897"),16)})}),k.jsx(p,{xstyle:l.textcell,children:h._("__JHASH__g8LAqdWFe4q__JHASH__")})]}),k.jsxs(c("CometRow.react"),{paddingVertical:12,spacingHorizontal:12,spacingVertical:12,children:[k.jsx(p,{verticalAlign:"center",children:k.jsx(c("FDSIcon.react"),{color:"black",disabled:!1,icon:d("fbicon")._(i("859827"),16)})}),k.jsx(p,{xstyle:l.textcell,children:h._("__JHASH__eb6tbD2tGQ2__JHASH__")})]})]})]})});p=c("useFDSCallout")({"aria-label":c("ARIA_LABEL_PLACEHOLDER_FIXME"),arrowStyle:"inset",content:a,type:"default",position:"below",xstyle:l.externalMemberCallout,disableOutsideClick:!0},f);a=p.anchorRef;return k.jsx(c("CometPressable.react"),{onFocusIn:g,onFocusOut:j,onHoverIn:m,onHoverOut:n,onPress:o,ref:a,testid:void 0,xstyle:[l.pressable,e],children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("GroupsGeminiMCGExternalMemberBadge.react",["fbt","FDSText.react","GroupsGeminiMCGExternalMemberBadgePopover.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a.testid;a=a.xstyle;return j.jsx(c("GroupsGeminiMCGExternalMemberBadgePopover.react"),{xstyle:a,children:j.jsx("div",{className:"x6s0dn4 x3nfvp2 x1qx5ct2 x16hj40l xsyo7zv x1qhmfi1 xhk9q7s x1otrzb0 x1i1ezom x1o6z2jb",children:j.jsx(c("FDSText.react"),{color:"primary",type:"bodyLink4",children:j.jsx("span",{className:"x1rg5ohu",children:h._("__JHASH__1XjVfKIg1QI__JHASH__")})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WorkCometMulticompanyEntityRenderer_entity.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"WorkCometMulticompanyEntityRenderer_entity",selections:[{kind:"InlineFragment",selections:[a],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}}();e.exports=a}),null);
__d("WorkCometMulticompanyEntityRenderer",["fbt","ix","GroupsGeminiGuestBadge.react","GroupsGeminiMCGExternalMemberBadge.react","TetraIcon.react","WorkCometMulticompanyEntityRenderer_entity.graphql","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||d("react"),m={mcgIcon:{verticalAlign:"x11njtxf",$$css:!0}};j!==void 0?j:j=b("WorkCometMulticompanyEntityRenderer_entity.graphql");function n(a){var b=a.__typename==="Group",e=a.is_multi_company_group===!0;if(b&&!e)return null;b=a.__typename==="User";if(b)switch((e=a.work_foreign_entity_info)==null?void 0:e.type){case"LIMITED":return l.jsx(c("GroupsGeminiGuestBadge.react"),{});case"FOREIGN":return l.jsx(c("GroupsGeminiMCGExternalMemberBadge.react"),{})}switch((b=a.work_foreign_entity_info)==null?void 0:b.type){case"LIMITED":return l.jsx(c("GroupsGeminiGuestBadge.react"),{});case"FOREIGN":return l.jsx(c("TetraIcon.react"),{alt:h._("__JHASH__U217aVJMGxG__JHASH__"),color:"primary",icon:d("fbicon")._(i("785426"),12),xstyle:m.mcgIcon});default:return null}}function a(a,b){b=n(b);return l.jsxs(l.Fragment,{children:[a,b&&l.jsx("span",{className:"x1rg5ohu x1n2onr6 x11njtxf xsgj6o6",children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("GeminiOfficialGroupBage.react",["fbt","ix","ImageIconSource","TetraIcon.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){a=a.size;a=a===12?new(c("ImageIconSource"))(i("20314"),12,12):new(c("ImageIconSource"))(i("20323"),16,16);return k.jsx(c("TetraIcon.react"),{alt:h._("__JHASH__46jaBVPfTVx__JHASH__"),icon:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WorkCometOfficialEntityRenderer_entity.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"WorkCometOfficialEntityRenderer_entity",selections:[{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group",abstractKey:null};e.exports=a}),null);
__d("WorkCometOfficialEntityRenderer",["GeminiOfficialGroupBage.react","WorkCometOfficialEntityRenderer_entity.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");h!==void 0?h:h=b("WorkCometOfficialEntityRenderer_entity.graphql");function a(a,b){return b.work_official_status!=="OFFICIAL"?a:j.jsxs(j.Fragment,{children:[a,j.jsx("span",{className:"x3nfvp2 x1t2a60a x1n2onr6 x11njtxf",children:j.jsx(c("GeminiOfficialGroupBage.react"),{size:12})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedStoryTitleWithActorStrategy.react",["CometAggregatedEntitiesTooltipRenderer","CometBadgeSection.react","CometBoldedEntityRenderer","CometEmojiTransform","CometEmoticonTransform","CometFeedStoryActorLink.react","CometFeedStoryFollowButtonSection.react","CometFeedStoryTitleAggregatedUsersRenderer","CometFeedStoryTitleWithActorStrategy_contextTitle.graphql","CometHovercardEntityRenderer","CometImageEntityRenderer","CometLineClamp.react","CometLinkedEntityRenderer","CometRelay","CometStoryRenderLocationContext.react","CometTextWithEntitiesRelay.react","CometTitleSentenceGroupJoinButtonRenderer","CometTrackingNodeProvider.react","CometTrackingNodeRenderer","FDSText.react","GroupsCometAnonAuthorProfileEntityRenderer","ODS","UserCometVerifiedBadgeRenderer","WorkCometDeactivatedAccountRenderer","WorkCometMulticompanyEntityRenderer","WorkCometOfficialEntityRenderer","gkx","react","unrecoverableViolation","useCometFeedStoryMatchDebugger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;var l=e.useContext,m=e.useMemo,n=[c("CometEmoticonTransform")(),c("CometEmojiTransform")()];function a(a){var e,f=a.contextTitle;a=a.lineLimit;f=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedStoryTitleWithActorStrategy_contextTitle.graphql"),f);c("useCometFeedStoryMatchDebugger")(f);var g=f.story,i=g==null?void 0:g.id,o=g==null?void 0:g.actors,p=l(c("CometStoryRenderLocationContext.react")),q=c("gkx")("23039");f=(f=c("gkx")("316"))!=null?f:!1;var r=m(function(){var a,b,d;b={"*":[c("CometBoldedEntityRenderer")],Aggregate:[c("CometAggregatedEntitiesTooltipRenderer"),c("CometFeedStoryTitleAggregatedUsersRenderer")(i,p)],Album:[a=c("CometLinkedEntityRenderer"),b=c("CometTrackingNodeRenderer")],Application:[a,b],CoronavirusHub:[a],Crisis:[a],Event:[d=c("CometHovercardEntityRenderer"),a,b],ExternalUrl:[a],Game:[d,a],GeneralGroupContextualProfile:[d,a],Group:[d,c("WorkCometMulticompanyEntityRenderer"),c("WorkCometOfficialEntityRenderer"),a,b],GroupAnonAuthorProfile:[d,c("GroupsCometAnonAuthorProfileEntityRenderer")],GroupPost:[a],HealthGroupContextualProfile:[d,a],Image:[c("CometImageEntityRenderer")()],InstagramUserV2:q?[c("CometLinkedEntityRenderer")]:[],Page:[c("CometHovercardEntityRenderer"),c("CometLinkedEntityRenderer"),c("CometTrackingNodeRenderer")],Story:[c("CometLinkedEntityRenderer"),c("CometTrackingNodeRenderer")],SyntheticActor:[c("CometLinkedEntityRenderer"),c("CometTrackingNodeRenderer")],TitleSentenceGroupJoinButton:[c("CometTitleSentenceGroupJoinButtonRenderer")],TitleSentenceLink:[c("CometHovercardEntityRenderer"),c("CometLinkedEntityRenderer")],User:[c("CometHovercardEntityRenderer"),c("WorkCometMulticompanyEntityRenderer"),c("WorkCometDeactivatedAccountRenderer"),c("CometLinkedEntityRenderer"),c("CometTrackingNodeRenderer"),c("UserCometVerifiedBadgeRenderer")(o)]};return b},[o,q,i,p]);if(g==null)throw c("unrecoverableViolation")("Cannot have null story in feed story title with actors","comet_feed");e=(e=g.actors)==null?void 0:e[0];if(e==null)throw c("unrecoverableViolation")("Cannot have null actor in feed story title with actors","comet_feed");var s=c("gkx")("3744"),t=function(){var a;s&&((a=g.sponsored_data)==null?void 0:a.ad_id)!=null&&(j||(j=d("ODS"))).bumpEntityKey(3478,"obc.www.all","comet_feed_header_to_profile_click-title")},u=g.title;u=u!=null?k.jsxs(c("FDSText.react"),{color:"secondary",type:"body3",children:[k.jsx(c("CometTextWithEntitiesRelay.react"),{renderers:r,textWithEntities:u,transforms:n}),f&&k.jsx(c("CometFeedStoryFollowButtonSection.react"),{story:g})]}):k.jsxs(c("CometTrackingNodeProvider.react"),{trackingNode:304,children:[k.jsx(c("CometFeedStoryActorLink.react"),{onClick:t,renderers:r,story:g,children:e.name}),k.jsx(c("CometBadgeSection.react"),{shouldBeWhite:!1,story:g}),k.jsx(c("CometFeedStoryFollowButtonSection.react"),{story:g})]});f=a!=null?k.jsx(c("CometLineClamp.react"),{lines:a,children:u}):u;return f}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedStoryTitleWithActorStrategy_contextTitle$normalization.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},e=[{kind:"Variable",name:"location",variableName:"renderLocation"}];return{kind:"SplitOperation",metadata:{},name:"CometFeedStoryTitleWithActorStrategy_contextTitle$normalization",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},a,{kind:"TypeDiscriminator",abstractKey:"__isActor"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"category_type",storageKey:null}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[d,{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[d,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],storageKey:null},{alias:null,args:e,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}],storageKey:null},{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}],storageKey:null},{alias:null,args:e,concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"2rhVpW"}],concreteType:null,kind:"LinkedField",name:"action_link",plural:!1,selections:[c,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorLink_story",fragmentName:"CometFeedStoryTitleGroupSellerActor_actionLink",fragmentPropName:"actionLink",kind:"ModuleImport"}],type:"GroupSellerProfileActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorLink_story",fragmentName:"CometFeedStoryTitleGroupMemberActor_groupMemberProfileActionLink",fragmentPropName:"groupMemberProfileActionLink",kind:"ModuleImport"}],type:"GroupMemberProfileActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorLink_story",fragmentName:"CometFeedStoryTitleGroupAnonProfileActor_actionLink",fragmentPropName:"actionLink",kind:"ModuleImport"}],type:"GroupMemberAnonProfileActionLink",abstractKey:null}],storageKey:'action_link(supported:"2rhVpW")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"11RbGN"}],concreteType:null,kind:"LinkedField",name:"badge",plural:!1,selections:[c,{kind:"InlineFragment",selections:[{args:null,documentName:"CometBadgeSection_story",fragmentName:"CometFeedUserVerifiedBadgeStrategy_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometFeedUserVerifiedBadgeStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometBadgeSection_story",fragmentName:"CometFeedPageVerifiedBadgeStrategy_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometFeedPageVerifiedBadgeStrategy",abstractKey:null}],storageKey:'badge(supported:"11RbGN")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"7FSt"}],concreteType:null,kind:"LinkedField",name:"follow_button",plural:!1,selections:[c,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFollowButtonSection_story",fragmentName:"CometFeedStoryFollowButtonStrategy_followButton",fragmentPropName:"followButton",kind:"ModuleImport"}],type:"CometFeedStoryFollowButtonStrategy",abstractKey:null}],storageKey:'follow_button(supported:"7FSt")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[c,{alias:null,args:null,kind:"ScalarField",name:"is_prod_eligible",storageKey:null}],type:"ICometStorySection",abstractKey:"__isICometStorySection"}]}}();e.exports=a}),null);
__d("CometStoryAttachmentFooter.react",["BaseRow.react","BaseRowItem.react","CometEmojiTransform","CometPressable.react","CometTextWithEntities.react","FDSText.react","FDSTextPairing.react","FDSTextWithBadge.react","qex","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useMemo,l={body:{marginBottom:"x4vbgl9",marginTop:"x1rdy4ex",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},container:{marginEnd:"xykv574",marginStart:"xbmpl8g",paddingBottom:"xsag5q8",paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",paddingTop:"xz9dl7a",$$css:!0},hasBody:{boxSizing:"x9f619",fontSize:"x1lkfr7t",marginBottom:"x4vbgl9",marginTop:"x1rdy4ex",paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},hasBodyLineLimit1:{maxHeight:"xd183bf",$$css:!0},item:{paddingEnd:"xsyo7zv",paddingStart:"x16hj40l",$$css:!0},pressable:{display:"x1lliihq",$$css:!0},root:{backgroundColor:"xmjcpbm",position:"x1n2onr6",":hover_textDecoration":"x1lku1pv",$$css:!0},rootDivider:{borderBottomColor:"x80vd3b",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0}},m=(b=c("qex")._("864"))!=null?b:!1,n=[c("CometEmojiTransform")({size:18})],o=[c("CometEmojiTransform")()];function a(a){var b=a.addOn,d=a.body,e=a.bodyLineLimit;e=e===void 0?1:e;var f=a.centerAlignAddOn,g=a.cta,i=a.headline,p=a.headlineBadge,q=a.headlineLineLimit,r=a.href,s=a.meta,t=a.metaColor,u=a.onPress,v=a.passthroughProps;a=a.xstyle;var w=k(function(){return{passthroughProps:v,url:r}},[r,v]),x=d!=null?d.toString().trim():null;s=s!=null?s.toString():null;f=j.jsx("div",{className:(h||(h=c("stylex")))(l.root,a,!m&&l.rootDivider),children:j.jsxs(c("BaseRow.react"),{verticalAlign:"center",xstyle:l.container,children:[b!=null?j.jsx(c("BaseRowItem.react"),{verticalAlign:f!=null?"center":"top",xstyle:l.item,children:b}):null,j.jsxs(c("BaseRowItem.react"),{expanding:!0,useDeprecatedStyles:!0,xstyle:l.item,children:[s!=null&&s.length>0?j.jsx("div",{className:"x1e56ztr xtvhhri","data-testid":void 0,children:j.jsx(c("FDSText.react"),{color:t,numberOfLines:1,type:"meta3",children:s})}):null,j.jsx("div",{className:h(l.body,d!=null&&l.hasBody,d!=null&&e===1&&l.hasBodyLineLimit1),children:j.jsx(c("FDSTextPairing.react"),{body:x!=null&&x.length>0?j.jsx("span",{"data-testid":void 0,children:j.jsx(c("CometTextWithEntities.react"),{text:x,transforms:o})}):null,bodyColor:"secondary",bodyLineLimit:e,headline:j.jsx(c("FDSTextWithBadge.react"),{badgeAfter:p,children:j.jsx(c("CometTextWithEntities.react"),{text:i.toString(),transforms:n})}),headlineLineLimit:(a=q)!=null?a:2,level:3})})]}),g!=null?j.jsx(c("BaseRowItem.react"),{xstyle:l.item,children:g}):null]})});return r!=null?j.jsx(c("CometPressable.react"),{display:"block",label:i,linkProps:w,onPress:u,overlayDisabled:!0,testid:void 0,xstyle:l.pressable,children:f}):f}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoryAttachmentContext_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryAttachmentContext_story",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:a,storageKey:null}],type:"Story",abstractKey:null}}();e.exports=a}),null);
__d("StoryAttachmentContext",["CometRelay","StoryAttachmentContext_story.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useContext,l=e.useMemo,m=j.createContext({storyActor:null,storyMessage:null});function a(a){var c=a.children;a=a.story;var e=d("CometRelay").useFragment(h!==void 0?h:h=b("StoryAttachmentContext_story.graphql"),a);a=l(function(){var a;return{storyActor:(a=e==null?void 0:(a=e.actors)==null?void 0:a[0])!=null?a:null,storyMessage:(a=e==null?void 0:e.message)!=null?a:null}},[e]);return j.jsx(m.Provider,{value:a,children:c})}a.displayName=a.name+" [from "+f.id+"]";function c(){return k(m)}g.StoryAttachmentContextProvider=a;g.useStoryAttachmentContext=c}),98);
__d("react-relay/relay-hooks/legacy/useFragmentNode",["react","react-relay/relay-hooks/legacy/FragmentResource","react-relay/relay-hooks/useRelayEnvironment","react-relay/relay-hooks/useUnsafeRef_DEPRECATED","relay-runtime","warning"],(function(a,b,c,d,e,f){"use strict";var g,h=b("react-relay/relay-hooks/legacy/FragmentResource").getFragmentResourceForEnvironment;c=g||(g=b("react"));var i=c.useEffect,j=c.useState,k=b("relay-runtime").RelayFeatureFlags,l=b("relay-runtime").getFragmentIdentifier;function a(a,c,d){var e=b("react-relay/relay-hooks/useRelayEnvironment")(),f=h(e),g=b("react-relay/relay-hooks/useUnsafeRef_DEPRECATED")(!1),m=j(0),n=m[1];m=l(a,c);var o=f.readWithIdentifier(a,c,m,d),p=b("react-relay/relay-hooks/useUnsafeRef_DEPRECATED")(!0);function q(){p.current=!0;var a=f.checkMissedUpdates(o)[0];a&&s()}function r(){p.current=!1}function s(){if(g.current===!1||p.current===!1)return;n(function(a){return a+1})}i(function(){g.current=!0;var a=f.subscribe(o,s);return function(){g.current=!1,a.dispose()}},[e,m]);(k.LOG_MISSING_RECORDS_IN_PROD||0)&&(c!=null&&(o.data===void 0||Array.isArray(o.data)&&o.data.length>0&&o.data.every(function(a){return a===void 0}))&&b("warning")(!1,"Relay: Expected to have been able to read non-null data for fragment `%s` declared in `%s`, since fragment reference was non-null. Make sure that that `%s`'s parent isn't holding on to and/or passing a fragment reference for data that has been deleted.",a.name,d,d));return{data:o.data,disableStoreUpdates:r,enableStoreUpdates:q}}e.exports=a}),null);
__d("react-relay/relay-hooks/legacy/useRefetchableFragmentNode",["invariant","react","react-relay/relay-hooks/ProfilerContext","react-relay/relay-hooks/QueryResource","react-relay/relay-hooks/legacy/FragmentResource","react-relay/relay-hooks/legacy/useFragmentNode","react-relay/relay-hooks/useIsMountedRef","react-relay/relay-hooks/useQueryLoader","react-relay/relay-hooks/useRelayEnvironment","relay-runtime","warning"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("react-relay/relay-hooks/QueryResource").getQueryResourceForEnvironment,j=b("react-relay/relay-hooks/legacy/FragmentResource").getFragmentResourceForEnvironment;c=h||(h=b("react"));var k=c.useCallback,l=c.useContext,m=c.useReducer,n=b("relay-runtime").__internal.fetchQuery,o=b("relay-runtime").createOperationDescriptor,p=b("relay-runtime").getFragmentIdentifier,q=b("relay-runtime").getRefetchMetadata,r=b("relay-runtime").getSelector,s=b("relay-runtime").getValueAtPath;function t(a,b){switch(b.type){case"refetch":var c;return babelHelpers["extends"]({},a,{fetchPolicy:b.fetchPolicy,mirroredEnvironment:(c=b.refetchEnvironment)!=null?c:a.mirroredEnvironment,onComplete:b.onComplete,refetchEnvironment:b.refetchEnvironment,refetchQuery:b.refetchQuery,renderPolicy:b.renderPolicy});case"reset":return{fetchPolicy:void 0,mirroredEnvironment:b.environment,mirroredFragmentIdentifier:b.fragmentIdentifier,onComplete:void 0,refetchQuery:null,renderPolicy:void 0};default:b.type;throw new Error("useRefetchableFragmentNode: Unexpected action type")}}function a(a,c,d){var e=b("react-relay/relay-hooks/useRelayEnvironment")(),f=q(a,d),h=f.refetchableRequest;f=f.fragmentRefPathInResponse;var k=p(a,c),o=m(t,{fetchPolicy:void 0,mirroredEnvironment:e,mirroredFragmentIdentifier:k,onComplete:void 0,refetchEnvironment:null,refetchQuery:null,renderPolicy:void 0}),r=o[0];o=o[1];var v=r.fetchPolicy,w=r.mirroredEnvironment,x=r.mirroredFragmentIdentifier,y=r.onComplete,z=r.refetchEnvironment,A=r.refetchQuery,B=r.renderPolicy;z=(r=z)!=null?r:e;var C=i(z);r=j(z);var D=l(b("react-relay/relay-hooks/ProfilerContext"));e=z!==w||k!==x;w=b("react-relay/relay-hooks/useQueryLoader")(h);var E=w[0];x=w[1];w=w[2];var F=c,G=q(a,d);G=G.identifierInfo;if(e)o({type:"reset",environment:z,fragmentIdentifier:k}),w();else if(A!=null&&E!=null){var H,I=function(a){y&&y((a=a)!=null?a:null)},J=E.source!=null?E.source:n(z,A);e=D.wrapPrepareQueryResource(function(){return C.prepare(A,J,v,B,{error:I,complete:function(){I()}},E.fetchKey,D)});z=r.read(e.fragmentNode,e.fragmentRef,d).data;z!=null||g(0,13942);r=s(z,f);F=r}e=b("react-relay/relay-hooks/legacy/useFragmentNode")(a,F,d);z=e.data;r=e.disableStoreUpdates;e=e.enableStoreUpdates;d=u(d,o,w,z,k,a,f,G,x,c,h);return{fragmentData:z,fragmentRef:F,refetch:d,disableStoreUpdates:r,enableStoreUpdates:e}}function u(a,c,d,e,f,g,h,i,j,l,m){var n=b("react-relay/relay-hooks/useIsMountedRef")(),p=(i==null?void 0:i.identifierField)!=null&&e!=null&&typeof e==="object"?e[i.identifierField]:null;return k(function(e,f){if(n.current!==!0){b("warning")(!1,"Relay: Unexpected call to `refetch` on unmounted component for fragment `%s` in `%s`. It looks like some instances of your component are still trying to fetch data but they already unmounted. Please make sure you clear all timers, intervals, async calls, etc that may trigger a fetch.",g.name,a);return{dispose:function(){}}}l==null&&b("warning")(!1,"Relay: Unexpected call to `refetch` while using a null fragment ref for fragment `%s` in `%s`. When calling `refetch`, we expect initial fragment data to be non-null. Please make sure you're passing a valid fragment ref to `%s` before calling `refetch`, or make sure you pass all required variables to `refetch`.",g.name,a,a);var h=f==null?void 0:f.__environment,k=f==null?void 0:f.fetchPolicy,q=f==null?void 0:f.UNSTABLE_renderPolicy;f=f==null?void 0:f.onComplete;var s=r(g,l),t,u;if(s==null)t={},u={};else if(s.kind==="PluralReaderSelector"){var v;t=(v=(v=s.selectors[0])==null?void 0:v.owner.variables)!=null?v:{};u=(v=(v=s.selectors[0])==null?void 0:v.variables)!=null?v:{}}else t=s.owner.variables,u=s.variables;v=babelHelpers["extends"]({},t,u,e);i!=null&&!Object.prototype.hasOwnProperty.call(e,i.identifierQueryVariableName)&&(typeof p!=="string"&&b("warning")(!1,"Relay: Expected result to have a string  `%s` in order to refetch, got `%s`.",i.identifierField,p),v[i.identifierQueryVariableName]=p);s=o(m,v,{force:!0});j(s.request.variables,{fetchPolicy:k,__environment:h,__nameForWarning:"refetch"});c({type:"refetch",fetchPolicy:k,onComplete:f,refetchEnvironment:h,refetchQuery:s,renderPolicy:q});return{dispose:d}},[f,c,d,p,j])}var v;e.exports=a}),null);
__d("useCometFeedStoryAttachmentMatchDebugger_storyAttachmentStyleRendererUnion.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometFeedStoryAttachmentMatchDebugger_storyAttachmentStyleRendererUnion",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_prod_eligible",storageKey:null}],type:"StoryAttachmentStyleRendererUnion",abstractKey:"__isStoryAttachmentStyleRendererUnion"};e.exports=a}),null);
__d("useCometFeedStoryAttachmentMatchDebugger",["CometFeedStoryMatchDebuggerDispatcherContext","CometRelay","react","useCometFeedStoryAttachmentMatchDebugger_storyAttachmentStyleRendererUnion.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useContext,k=e.useEffect;function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useCometFeedStoryAttachmentMatchDebugger_storyAttachmentStyleRendererUnion.graphql"),a);var e=a==null?void 0:a.__typename,f=a==null?void 0:a.is_prod_eligible,g=j(c("CometFeedStoryMatchDebuggerDispatcherContext"));k(function(){if(e!=null&&f===!1){g.add(e);return function(){g.remove(e)}}},[g,f,e])}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometHeroFailTrigger.react",["react","useHeroFailTrigger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){var b=a.description,d=a.error,e=a.fail,f=c("useHeroFailTrigger")();i(function(){e&&f({description:b,error:d})},[b,d,e,f])}g["default"]=a}),98);
__d("MAWClientConsistencyRefresh",["ClientConsistencyEventEmitter","CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(c("CurrentUser").getAppID()){case 772021112871879:c("ClientConsistencyEventEmitter").emit("hardRefresh",a);break;default:c("ClientConsistencyEventEmitter").emit("softRefresh",a)}}g["default"]=a}),98);
__d("MAWCrossWorkerPortal",["FBLogger","WACrossWorkerPortal","pageID"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,f){if(h!=null)return h;h=d("WACrossWorkerPortal").attachPortal(a,b,e,c("pageID"),f);return h}function b(){if(h==null){c("FBLogger")("messenger_e2ee_web").warn("Trying to kill portal before its setup");return}d("WACrossWorkerPortal").killPortalAndSendPendingToBridge(h)}g.getOrCreateCrossWorkerPortal=a;g.killPortalWhenWorkerTerminating=b}),98);
__d("waitForMAWWorkerCreated",["WAResolvable"],(function(a,b,c,d,e,f,g){"use strict";a=new(d("WAResolvable").Resolvable)();b=a.promise;g.resolvable=a;g.promise=b}),98);
__d("MAWSetupWorker",["CurrentUser","Deferred","IGDWebUtils","MAWClientConsistencyRefresh","MAWCommonSetupWorker","MAWCrossWorkerPortal","MAWInit","MAWLoggerUtils","MAWMICSafe","MAWWebWorkerInstance","MAWWebWorkerSingleton","MAWWorkerWatchdog","SharedWorkerBundleResource","WATagsLogger","asyncToGeneratorRuntime","cr:6600","cr:9793","err","pageID","promiseDone","shouldUseMAWSharedWorker","waitForMAWWorkerCreated"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Shared worker responded to termination request: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["worker terminating: for ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["worker doesn't exist, no need to terminate"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["worker setting up"]);k=function(){return a};return a}var l=d("WATagsLogger").TAGS([d("MAWLoggerUtils").Tag.WorkerSetup,d("MAWLoggerUtils").Tag.MAWInit]),m=d("IGDWebUtils").isInstagramWebSupportedApp(Number(c("CurrentUser").getAppID())),n=m?"IGDAWMainWorker":"MAWMainWorker",o=null,p=!1;function q(a){switch(a){case"mawInit":return!0;case"mawReinitSetupMutex":case"mawReinitReregDevice":case"watchdogRestart":case"workerUpgraded":return!1}}function r(e,f,g,h,i,j){var m;j===void 0&&(j=null);d("MAWMICSafe").markEvent("maw_worker_init_start");if(p)throw c("err")("Worker is permanently killed.");var q=function(){return r(e,f,g,h,"workerUpgraded")};d("MAWInit").MAWInit.logPoint("create_worker_start");(m=j)==null?void 0:m.sharedWorkerRestartAddPoint("create_worker_instance_start");d("MAWWebWorkerSingleton").setOnCloseForWorkerInstance(function(){s("createWorkerIfNone:onClose"),d("MAWInit").MAWInit.addBoolAnnotation("workerUpgraded",!0),c("promiseDone")(q())});m=d("MAWWebWorkerSingleton").createWorkerIfNone(i);var t=new(c("Deferred"))();o=t.getPromise();a=m;return a.then(function(a){var h;d("waitForMAWWorkerCreated").resolvable.resolve();d("MAWInit").MAWInit.logPoint("create_worker_end");(h=j)==null?void 0:h.sharedWorkerRestartAddPoint("create_worker_instance_end");if(a===null)throw c("err")("Client is starting bridge without a worker.");l.LOG(k());d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()&&a.addEventListener("message",function(a){var b;typeof a.data==="object"&&((b=a.data)==null?void 0:b.type)==="sw-shutdown"&&typeof a.data.response==="object"&&((b=a.data.response)==null?void 0:b.reason)==="maw-request-refresh"&&(d("MAWWorkerWatchdog").terminateWatchdog(),c("MAWClientConsistencyRefresh")("ls_forced_refresh"))});var i=new(d("MAWCommonSetupWorker").BridgeAdapter)(a,n);t.resolve(i);f(i);return d("MAWInit").MAWInit.measurePerformance("maw_init_worker",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=function(){return d("MAWCommonSetupWorker").initWorker(i,e,q,g)};a=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()?yield a():yield i.fullyConnected.then(a);d("MAWMICSafe").markEvent("maw_worker_init_end");b("cr:9793")!=null&&b("cr:9793").prewarmMediaWasmWorker("mp4CheckAndRepair");return a}))})}function e(a,b,e,f,g,h){h===void 0&&(h=null);if(o!=null)return o;h=r(a,b,e,f,g,h);q(g)&&d("MAWWorkerWatchdog").startWatchdog({initPageID:c("pageID"),onConnectToExistingWorker:e,onTerminateWorker:f,onWorkerConnect:b,vaultMaterials:a});return h}function f(){return o}function s(a,b){b===void 0&&(b=!1);if(!o){l.LOG(j());return!1}l.LOG(i(),a);c("promiseDone")(o.then(function(a){return a==null?void 0:a.close()}));o=null;d("MAWCrossWorkerPortal").killPortalWhenWorkerTerminating();d("MAWWebWorkerInstance").destroyWorkerInstance();b&&d("MAWWorkerWatchdog").terminateWatchdog();return!0}function t(){s("terminateWorkerPermanently",!0),p=!0}function u(a){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("SharedWorkerBundleResource").terminateSharedWorker(b("cr:6600"),null,a?"maw-request-refresh":void 0)});return v.apply(this,arguments)}function w(a){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();if(b){b=(yield u(!1).then(function(){return!0},function(){return!1}));l.LOG(h(),b);(b=(yield o))==null?void 0:b.close();o=null;d("MAWCrossWorkerPortal").killPortalWhenWorkerTerminating();d("MAWWebWorkerInstance").destroyWorkerInstance()}else s(a,!0)});return x.apply(this,arguments)}g.getOrSetupWorker=e;g.waitForWorkerSetup=f;g.terminateDedicatedWorker=s;g.terminateWorkerPermanently=t;g.killSharedWorker=u;g.terminateWorker=w}),98);
__d("MAWSharedWorkerReboot",["MAWSetupWorker","MAWWaitForBackendSetup","ODS","Promise","WALogger","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["shared worker reconnection failed - ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Clear the shared worker reference in MAWSharedWorkerReboot"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["starting reconnection to shared worker"]);l=function(){return a};return a}function m(a){(i||(i=d("ODS"))).bumpEntityKey(3185,"armadillo_shared_worker_reboot","shared_worker_reboot_"+a)}function a(a,b,c,d,e){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,i){d("WALogger").LOG(l());m("start");i.startSharedWorkerRestart();d("WALogger").LOG(k());c("gkx")("2496")?yield d("MAWSetupWorker").terminateWorker("MAWSharedWorkerReboot"):d("MAWSetupWorker").terminateDedicatedWorker("Clear the shared worker reference in MAWSharedWorkerReboot");d("MAWWaitForBackendSetup").withKnobs(function(){return d("MAWWaitForBackendSetup").resetBackendSetup()});return new(h||(h=b("Promise")))(function(b,c){return d("MAWSetupWorker").getOrSetupWorker(a,e,f,g,"watchdogRestart").then(function(a){m("success"),i.endSuccessSharedWorkerRestart(),e(a),d("MAWWaitForBackendSetup").withKnobs(function(){return d("MAWWaitForBackendSetup").resolveBackendSetup()}),b()})["catch"](function(a){d("WALogger").ERROR(j(),a.message),m("fail"),i.endFailureSharedWorkerRestart(a.message),d("MAWWaitForBackendSetup").withKnobs(function(){return d("MAWWaitForBackendSetup").rejectBackendSetup(a)}),c(a)})})});return n.apply(this,arguments)}g.rebootSharedWorker=a}),98);
__d("MAWWorkerBadStateRecovery",["HiddenTabDataUtils","QPLUserFlow","performanceNow","qpl","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("qpl")._(1056840252,"808"),j=0;function a(){var a=j++,b;function e(e,f){var g=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();b=(h||(h=c("performanceNow")))();var j=d("HiddenTabDataUtils").getHiddenTabDataForTimeInterval(0,b);c("QPLUserFlow").start(i,{annotations:{bool:{isSharedWorker:g,wasHiddenBefore:j.wasHidden(),wasHiddenOnStart:j.isHidden()},"int":{lastTimeHiddenBefore:j.lastTimeHidden(),successfulHeartbeatsBefore:f,totalHiddenTimeBefore:j.totalHiddenTime()},string:{trigger:"heartbeat_timeout",workerInitPageID:e}},instanceKey:a});g||c("QPLUserFlow").endFailure(i,"recovery_not_supported",{instanceKey:a})}function f(d){if(b==null)return;var e=p(b);c("QPLUserFlow").addPoint(i,"shared_worker_restart_"+d,{instanceKey:a});c("QPLUserFlow").addAnnotations(i,e,{instanceKey:a})}function g(){f("start")}function k(){f("success")}function l(d){if(b==null)return;var e=p(b);f("fail");c("QPLUserFlow").addAnnotations(i,babelHelpers["extends"]({},e,{string:{sharedWorkerRestartFailureReason:d}}),{instanceKey:a})}function m(d){if(b==null)return;var e=p(b);c("QPLUserFlow").addPoint(i,"heartbeat_still_fails",{instanceKey:a});c("QPLUserFlow").addAnnotations(i,babelHelpers["extends"]({},e,{string:{recentHeartbeatFailureReason:d}}),{instanceKey:a})}function n(d){if(b==null)return;var e=p(b);c("QPLUserFlow").endFailure(i,d,{annotations:e,instanceKey:a})}function o(){if(b==null)return;var d=p(b);c("QPLUserFlow").endSuccess(i,{annotations:d,instanceKey:a})}function p(a){a=d("HiddenTabDataUtils").getHiddenTabDataForTimeInterval(a,(h||(h=c("performanceNow")))());return{bool:{wasHiddenDuringRecovery:a.wasHidden(),wasHiddenOnRecoveryEnd:a.isHidden()},"int":{lastTimeHiddenDuringRecovery:a.lastTimeHidden(),totalHiddenTimeDuringRecovery:a.totalHiddenTime()}}}return{endFailure:n,endFailureSharedWorkerRestart:l,endSuccess:o,endSuccessSharedWorkerRestart:k,postRestartHeartbeatsFailed:m,sharedWorkerRestartAddPoint:f,start:e,startSharedWorkerRestart:g}}g.buildWorkerBadStateRecoveryQPLLogger=a}),98);
__d("MAWWorkerWatchdog",["CurrentUser","MAWBridgeLoggingUtils","MAWBridgeSendAndReceive","MAWIssueNewUserVisibleErrors","MAWSharedWorkerReboot","MAWWaitForBackendSetup","MAWWorkerBadStateRecovery","Promise","WAShiftTimer","clearInterval","clearTimeout","err","gkx","justknobx","promiseDone","setInterval","setTimeout","shouldUseMAWSharedWorker","vc-tracker"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("gkx")("24001"),j=c("justknobx")._("1008"),k=c("justknobx")._("1369"),l=k/2,m=!1,n=!1,o=function(){},p=0;function a(){return n}function q(){if(!n||!i)return;o();n=!1}function r(a,b){m=!1;return d("MAWSharedWorkerReboot").rebootSharedWorker(a.vaultMaterials,a.onWorkerConnect,a.onConnectToExistingWorker,a.onTerminateWorker,b)}function s(a){var b;(b=d("MAWIssueNewUserVisibleErrors")).issueError(b.MAWGeneralErrorMsgBody,b.MAWGeneralErrorMsgTitle,b.MAWUserVisibleErrorPresentationType.BANNER);return c("err")("Cannot recover the worker: "+a)}function t(){return(h||(h=b("Promise"))).race([d("MAWBridgeSendAndReceive").sendAndReceive("backend",d("MAWBridgeLoggingUtils").HEARTBEAT_ROUTE),new h(function(a,b){c("setTimeout")(function(){b(c("err")("Armadillo web worker heartbeat timed out."))},l)})]).then(function(a){return a===!0},function(a){return!1})}function u(){var a=null;return new(h||(h=b("Promise")))(function(b,e){var f=new(d("WAShiftTimer").ShiftTimer)(function(){c("promiseDone")(d("MAWBridgeSendAndReceive").sendAndReceive("backend",d("MAWBridgeLoggingUtils").HEARTBEAT_ROUTE).then(function(d){d?(f.cancel(),c("clearTimeout")(g),b()):(f.onOrAfter(l),a="Wrong heartbeat result: "+d.toString())},function(b){f.onOrAfter(l),a="Heartbeat failure: "+b.message}))});f.forceRunNow();var g=c("setTimeout")(function(){var b;f.cancel();e(c("err")((b=a)!=null?b:"Did not get heartbeat response on time"))},j)})}function v(a,e){return new(h||(h=b("Promise")))(function(b,f){var g=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();g||f(s("Worker recovery is supported for shared worker only."));c("CurrentUser").isLoggedInNow()||f(s("User is not logged in, aborting recovery"));return r(a,e).then(function(){return u()},function(a){e.endFailureSharedWorkerRestart(a.message),f(s(a.message))}).then(function(){return b()},function(a){e.postRestartHeartbeatsFailed(a.message),f(s(a.message))})})}function w(){var a=c("vc-tracker").performanceNow();return c("vc-tracker").VisibilityState.wasHidden(a-1,a)}function e(a){if(n||!i)return;var b=c("setInterval")(function(){if(!m||w())return;c("promiseDone")(t(),function(b){if(!b){d("MAWBridgeLoggingUtils").logRecentBridgeEvents();var e=d("MAWWorkerBadStateRecovery").buildWorkerBadStateRecoveryQPLLogger();e.start(a.initPageID,p);c("promiseDone")(v(a,e),function(){e.endSuccess(),m=!0},function(a){e.endFailure(a.message),q()})}else p++})},k);d("MAWWaitForBackendSetup").runAfterBackendSetup(function(){m=!0},d("MAWBridgeLoggingUtils").HEARTBEAT_ROUTE);o=function(){a.onTerminateWorker(),c("clearInterval")(b)};n=!0}g.isWatchdogRunning=a;g.terminateWatchdog=q;g.startWatchdog=e}),98);
__d("MAWGetDBVersionForTest",["gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(){if(!c("justknobx")._("1495"))return;var a=new URL(document.location.href);a=a.searchParams.get("db_version");if(a==null)return;if(a==="current"||a==="latest")return a;a=parseInt(a,10);if(Number.isInteger(a))return Number(a)}function b(){if(!c("gkx")("1159"))return;var a=new URL(document.location.href);a=a.searchParams.get("db_migration_state");if(a!=null&&(a==="dexie"||a==="restore"))return a}g.getDbVersionForTest=a;g.getDbMigrationState=b}),98);
__d("WADevToolMessageChannel",[],(function(a,b,c,d,e,f){"use strict";var g=new MessageChannel(),h;a=function(){g=new MessageChannel();h(g);return g};b=function(){return g};c=function(a){h=a,h(g)};f.createNewChannel=a;f.getMostRecentChannel=b;f.onCreateNewChannel=c}),66);
__d("MAWCommonSetupWorker",["Deferred","MAWCurrentUser","MAWGetDBVersionForTest","MAWInit","MAWMICSafe","MAWSetupWorker","MessengerWebInitData","WADevToolMessageChannel","WALogger","WorkerClient","WorkerMessagePort","err","gkx","pageID"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Terminating worker and rebooting..."]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["worker receive invalid message: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["no setup hash for worker"]);j=function(){return a};return a}b=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var e;e=a.call(this,b,c)||this;e.onmessage=null;e.$BridgeAdapter$p_1=b;d("WorkerClient").init(babelHelpers.assertThisInitialized(e));e.onUnhandledMessage.add(function(a){e.onmessage&&e.onmessage({data:a})});return e}var c=b.prototype;c.getBridgePort=function(){return this};return b}(d("WorkerMessagePort").WorkerSyncedMessagePort);function a(a,b,e,f){var g=new(c("Deferred"))();a.addMessageListener("worker-setup",function(b){if(b.setupHash!==c("pageID")){d("WALogger").WARN(j());return}if(b==null||b.type!=="worker-setup"){d("WALogger").WARN(i(),b);return}if(b.status==="success")g.resolve(a.getBridgePort());else if(b.status==="failure"){var k;g.reject(c("err")((k=b.msg)!=null?k:"Error setting up worker"))}else if(b.status==="already-setup")if(b.action==="no-action"){g.resolve(a.getBridgePort());f();return}else if(b.action==="reboot-required"&&b.setupHash===c("pageID")){d("WALogger").DEV(h());d("MAWSetupWorker").terminateDedicatedWorker("reboot required");d("MAWInit").MAWInit.addBoolAnnotation("workerRebootRequired",!0);return e().then(function(a){return g.resolve(a)})["catch"](function(a){return g.reject(a)})}else throw c("err")("Iinvalid action for worker-setup:already-setup: "+b.action);else throw c("err")("Invalid message for worker")});a.addMessageListener("worker-setup-ack",function(a){if(a.setupHash!==c("pageID"))return;d("MAWInit").MAWInit.logPoint("maw_init_worker_ack");d("MAWMICSafe").markEvent("maw_worker_init_setup_ack")});d("MAWMICSafe").markEvent("maw_worker_init_message");if(c("gkx")("3282")){var k=d("WADevToolMessageChannel").createNewChannel();a.postMessage({content:{devToolMessageChannelPort2:k.port2,fbId:d("MAWCurrentUser").getID(),sessionId:c("MessengerWebInitData").sessionId,testDbMigrationState:d("MAWGetDBVersionForTest").getDbMigrationState(),testDbVersion:d("MAWGetDBVersionForTest").getDbVersionForTest(),userKeyBase:c("MessengerWebInitData").userKeyBase,vaultMaterials:b},setupHash:c("pageID"),type:"worker-setup"},[k.port2])}else a.postMessage({content:{fbId:d("MAWCurrentUser").getID(),sessionId:c("MessengerWebInitData").sessionId,testDbMigrationState:d("MAWGetDBVersionForTest").getDbMigrationState(),testDbVersion:d("MAWGetDBVersionForTest").getDbVersionForTest(),userKeyBase:c("MessengerWebInitData").userKeyBase,vaultMaterials:b},setupHash:c("pageID"),type:"worker-setup"});return g.getPromise()}g.BridgeAdapter=b;g.initWorker=a}),98);
__d("MAWEARDecryptionError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.name="MawEARError";c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f["default"]=a}),66);
__d("MWDeleteAllDBs",["MAWEncyptionIndexedDbV2","MAWIndexedDBDeletion","MWEBUseLocalStorage","MWEncryptedBackupsLocalStorageEntryEnum","asyncToGeneratorRuntime","cr:4434","cr:6883"],(function(a,b,c,d,e,f,g){"use strict";function h(){d("MWEBUseLocalStorage").mwEBCreateLocalStorageEntry(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE,"full_due_to_ear")}function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){b("cr:6883")&&(yield b("cr:6883").deleteIndexedDB(a)),b("cr:4434")&&(yield b("cr:4434").deleteEBIDB()),yield d("MAWIndexedDBDeletion").deleteMAWPersistence(),yield d("MAWEncyptionIndexedDbV2").deleteEncryptionDB(),h()});return i.apply(this,arguments)}g["default"]=a}),98);
__d("MAWEncryptionErrorHandler",["FBLogger","LSPlatformErrorChannel","MAWEARDecryptionError","MAWSetupWorker","MWDeleteAllDBs","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(){c("promiseDone")(c("MWDeleteAllDBs")("bridge"),function(a){},function(a){c("FBLogger")("maw_ear").catching(a).mustfix("fail to delete dbs")})}function a(a){c("promiseDone")(d("MAWSetupWorker").terminateWorker("EARDecryptionError"),function(a){h()},function(a){c("FBLogger")("maw_ear").catching(a).mustfix("[EARDecryptionError] fail to stop worker"),h()}),c("LSPlatformErrorChannel").emit(new(c("MAWEARDecryptionError"))("MAW DB Decryption Error in "+a+" table"))}function e(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{yield d("MAWSetupWorker").terminateWorker("MAWEARKeychainDecryptionError")}catch(a){c("FBLogger")("maw_ear").catching(a).mustfix("[MAWEARKeychainDecryptionError] fail to stop worker")}return c("MWDeleteAllDBs")("error")});return i.apply(this,arguments)}g.deleteAllDbs=a;g.deleteAllDbsWhenCorruptedEAR=e}),98);
__d("MWChatSettingsQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5248437728509060"}),null);
__d("MWChatSettingsQuery.graphql",["MWChatSettingsQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_tabs_turned_off",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_sounds_on",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatSettingsQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatSettingsQuery",selections:a},params:{id:b("MWChatSettingsQuery_facebookRelayOperation"),metadata:{},name:"MWChatSettingsQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatSettingsQuery",["CometRelay","CometRelayEnvironment","MWChatSettingsQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){var b=d("CometRelay").fetchQuery(c("CometRelayEnvironment"),j,{},{fetchPolicy:"store-or-network"}).toPromise().then(function(b){var c;c=b==null?void 0:(c=b.viewer)==null?void 0:c.chat_tabs_turned_off;b=b==null?void 0:(b=b.viewer)==null?void 0:b.chat_sounds_on;a(c,b);return});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatSettingsQuery.graphql");a=function(a){i(function(b,c){return a(b)})};e=function(a){i(function(b,c){return a(c!=null&&c)})};g.areChatTabsTurnedOff=a;g.areChatTabsSoundsOn=e}),98);
__d("MessageSendsClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1271");b=d("FalcoLoggerInternal").create("message_sends_client",a);e=b;g["default"]=e}),98);
__d("MWLogSend",["ErrorGuard","FBLogger","I64","LSMessagingThreadTypeUtil","LSPlatformLsInitLog","MessageSendsClientFalcoEvent","MultipleTabsLogger","Promise","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=[];function l(a){return function(){while(k.length>0)(j||(j=c("ErrorGuard"))).applyWithGuard(o,null,[a,k.shift(),!0])}}var m=!1;function n(a,b){k.push(b),m||(d("LSPlatformLsInitLog").onCompleteOrFail(l(a)),m=!0)}function o(a,e,f){e._mentionedJids;var g=e.actor,j=e.additionalTags,k=e.attachmentFbids,l=e.attachmentType,m=e.backend,o=e.ephemeralDurationInSec,p=e.hasReply,q=e.igdTargetType,r=e.initatingSource,s=e.isInstamadilloTTLC,t=e.messagingThreadId,u=e.msgTtl,v=e.offlineThreadingId,w=e.sendType,x=e.source,y=e.threadKey,z=e.threadType;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield (i||(i=b("Promise"))).all([d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(y).filter(function(a){return!(h||(h=d("I64"))).equal(a.contactId,g)})),d("MultipleTabsLogger").hasMultipleTabs()]).then(function(b){var i=b[0];b=b[1];if(i==null){var A=d("LSPlatformLsInitLog").isPending();if(A&&f!==!0){n(a,e);return}f===!0&&c("FBLogger")("meteora").warn("LS_INIT completed but participants table is still empty.")}var B=i.map(function(a){return(h||(h=d("I64"))).to_string(a.contactId)});A=d("LSMessagingThreadTypeUtil").isOneToOne(z)&&(i==null?void 0:i.length)===0;A&&B.push((h||(h=d("I64"))).to_string(g));var C=t!=null?t:(h||(h=d("I64"))).to_string(y),D=u!=null?(h||(h=d("I64"))).to_string((h||(h=d("I64"))).of_float(u)):void 0,E=[b===!0?19:null,o!=null?15:null,s===!0?37:null].filter(Boolean);c("MessageSendsClientFalcoEvent").log(function(){return{additional_tags:j,backend:m,event_type:w,feature_tags:E,group_thread_subtype:void 0,igd_action:void 0,igd_target_type:q,igd_verb:void 0,initiating_app_id:void 0,initiating_source:r,is_reply:p,message_attachment_fbids:k.map(String),message_id:void 0,message_type:l,messaging_thread_fbid:C,messaging_thread_type:(h||(h=d("I64"))).to_int32(z),msg_ttl:D,nav_chain:void 0,nonce:void 0,offline_threading_id:v,recipient_fbids:B,send_attribution:h.to_int32(x),send_attribution_raw:void 0,view_mode:void 0}})})})())}g.log=o}),98);
__d("MessengerMQTTPresence",["FBMqttChannel","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h,i="/orca_presence",j="mqtt_web.presence",k="/send_additional_contacts",l=!1;function a(a){if(l)return;l=!0;c("FBMqttChannel").subscribe(i,function(b){b=JSON.parse(b);b&&b.list&&(b.list_type&&b.list_type==="full"&&a.reset(),a.setMultiFromMQTT(b.list),(h||(h=d("ODS"))).bumpEntityKey(3303,j,"buddylist.event"),h.bumpEntityKey(3303,j,"buddylist.active_buddies",b.list.length))})}function b(){l=!1,c("FBMqttChannel").unsubscribeAll(i)}var m=new Map(),n=1e3*60*3;function e(a){if(m.has(a)){var b=m.get(a);if(b!=null&&b>Date.now())return;m["delete"](a)}m.set(a,Date.now()+n);c("FBMqttChannel").publish(k,JSON.stringify({additional_contacts:[a]}))}f={sendAdditionalBuddyRequest:e,subscribe:a,unsubscribe:b};g["default"]=f}),98);
__d("mwEBCheckIfEBKeysExistInDisk",["FBLogger","MAWCurrentUser","MAWIndexedDbMetadata","MWChatEncryptedBackupsQPLEvents","Promise","QPLUserFlow","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("gkx")("415");function a(a){return new(h||(h=b("Promise")))(function(b,e){if(!i||a==="true")return b(null);var f,g;try{var h=d("MAWCurrentUser").getID();g=d("MAWIndexedDbMetadata").ebLSDBName(h);f=indexedDB.open(g)}catch(a){h="[labyrinth_web] Failed to open DB due to: "+a;c("FBLogger")("labyrinth_web").warn(h);c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{has_eb_keys_on_disk:"failed_to_start_open_db"}});return e(null)}f.onerror=function(){c("FBLogger")("labyrinth_web").warn("[labyrinth_web] Failed to open DB: "+g);c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{has_eb_keys_on_disk:"failed_to_open_db"}});return e(null)};f.onsuccess=function(a){var f="secure_encrypted_backups_client_state";a=a.target.result;if(!a.objectStoreNames.contains(f)){c("FBLogger")("labyrinth_web").warn("[labyrinth_web] client state not present in IDB");c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{has_eb_keys_on_disk:"table_not_present"}});return e(null)}var g;try{a=a.transaction(f);a=a.objectStore(f);g=a.count()}catch(a){c("FBLogger")("labyrinth_web").warn("[labyrinth_web] Failed to get count of rows in table: "+f+" error: "+a);c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{has_eb_keys_on_disk:"failed_to_get_count_of_rows"}});return e(null)}g.onsuccess=function(a){a=a.target.result;a=a>0;c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{has_eb_keys_on_disk:a.toString()}});b(null)};g.onerror=function(){c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{has_eb_keys_on_disk:"get_rows_failed"}});return e(null)}}})}g["default"]=a}),98);